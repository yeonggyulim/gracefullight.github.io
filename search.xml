<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>One true layout 만들기</title>
      <link href="/2020/03/15/One-true-layout/"/>
      <url>/2020/03/15/One-true-layout/</url>
      
        <content type="html"><![CDATA[<h1 id="one-true-layout"><a class="markdownIt-Anchor" href="#one-true-layout"></a> One true layout</h1><p>Header, Navigation, Aside, Section, Footer 로 이루어진 레이아웃을 만들 시에<br><code>float</code> 을 사용해서 구성할 경우 틀어짐을 잡는 방법에 대한 내용이다.</p><p><a href="http://www.positioniseverything.net/articles/onetruelayout/equalheight" target="_blank" rel="external nofollow noopener noreferrer">원문</a>으로 보이는 링크에서는 <strong>진정한 하나의 레이아웃</strong>을 찾는 과정 중 하나이며 <strong>Eqaul Height Columns - revisited</strong>로 소개되고 있다.</p><h2 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h2><p>아래와 같은 레이아웃에는 <code>footer</code> 영역이 섹션에 붙어 올라온다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123; <span class="attribute">width</span>: <span class="number">1000px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#aside</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">200px</span>; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#section</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">800px</span>; &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"nav"</span>&gt;</span>nav<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aside"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sed sollicitudin mauris.</span><br><span class="line">      Aliquam faucibus facilisis vulputate. Curabitur condimentum placerat mattis.</span><br><span class="line">      Duis at metus at tellus volutpat ultrices. Cras lorem eros, cursus et risus sit amet, gravida feugiat libero.</span><br><span class="line">      Nullam id faucibus ipsum. Nulla a leo sed eros mattis bibendum. Nullam et sapien in orci tempus elementum eu sed augue.</span><br><span class="line">      Pellentesque eu vestibulum arcu. Pellentesque vel finibus libero. Nulla facilisi.</span><br><span class="line">      Quisque dolor enim, ornare eget elit ac, pharetra porta ex. Vivamus eleifend eu arcu nec consequat.</span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nam pulvinar dictum nibh id ullamcorper. Suspendisse justo eros, tempor vel faucibus in, pellentesque congue enim.</span><br><span class="line">      Proin non eleifend turpis, vel commodo purus. Fusce vitae nisl dapibus, tincidunt elit at, cursus lacus.</span><br><span class="line">      Maecenas varius imperdiet sollicitudin. Nunc pharetra fringilla enim ut facilisis.</span><br><span class="line">      Curabitur maximus nibh non rhoncus semper. Duis porta, purus ut tincidunt convallis, sem purus pharetra erat, eu vestibulum tellus mi id eros.</span><br><span class="line">      Fusce congue, erat at blandit mollis, tellus ex semper velit, dapibus commodo ante turpis a neque.</span><br><span class="line">      Fusce vel ex id sem auctor accumsan. Maecenas finibus nunc sem, ut gravida felis efficitur at.</span><br><span class="line">      Pellentesque lobortis dui non ligula condimentum, at auctor dui blandit.</span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="해결방안"><a class="markdownIt-Anchor" href="#해결방안"></a> 해결방안</h2><h3 id="overflow-hidden"><a class="markdownIt-Anchor" href="#overflow-hidden"></a> overflow: hidden</h3><p>래퍼에 이 속성을 넣는 것으로 해결 된다.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">width</span>: <span class="number">1000px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; &#125;</span><br><span class="line"><span class="selector-id">#aside</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">200px</span>; &#125;</span><br><span class="line"><span class="selector-id">#section</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">800px</span>; &#125;</span><br><span class="line"><span class="selector-id">#wrap</span> &#123; <span class="attribute">overflow</span>: hidden; &#125;</span><br></pre></td></tr></table></figure><h3 id="clear-both"><a class="markdownIt-Anchor" href="#clear-both"></a> clear: both</h3><p>또는 래퍼를 삭제하고 구획을 나누는 부분에 <code>sibling</code> 노드로 <code>clear: both</code> 속성을 주면 된다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123; <span class="attribute">width</span>: <span class="number">1000px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.clear</span> &#123; <span class="attribute">clear</span>: both; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-id">#aside</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">200px</span>; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#section</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">800px</span>; &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"nav"</span>&gt;</span>nav<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aside"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sed sollicitudin mauris.</span><br><span class="line">      Aliquam faucibus facilisis vulputate. Curabitur condimentum placerat mattis.</span><br><span class="line">      Duis at metus at tellus volutpat ultrices. Cras lorem eros, cursus et risus sit amet, gravida feugiat libero.</span><br><span class="line">      Nullam id faucibus ipsum. Nulla a leo sed eros mattis bibendum. Nullam et sapien in orci tempus elementum eu sed augue.</span><br><span class="line">      Pellentesque eu vestibulum arcu. Pellentesque vel finibus libero. Nulla facilisi.</span><br><span class="line">      Quisque dolor enim, ornare eget elit ac, pharetra porta ex. Vivamus eleifend eu arcu nec consequat.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      Nam pulvinar dictum nibh id ullamcorper. Suspendisse justo eros, tempor vel faucibus in, pellentesque congue enim.</span><br><span class="line">      Proin non eleifend turpis, vel commodo purus. Fusce vitae nisl dapibus, tincidunt elit at, cursus lacus.</span><br><span class="line">      Maecenas varius imperdiet sollicitudin. Nunc pharetra fringilla enim ut facilisis.</span><br><span class="line">      Curabitur maximus nibh non rhoncus semper. Duis porta, purus ut tincidunt convallis, sem purus pharetra erat, eu vestibulum tellus mi id eros.</span><br><span class="line">      Fusce congue, erat at blandit mollis, tellus ex semper velit, dapibus commodo ante turpis a neque.</span><br><span class="line">      Fusce vel ex id sem auctor accumsan. Maecenas finibus nunc sem, ut gravida felis efficitur at.</span><br><span class="line">      Pellentesque lobortis dui non ligula condimentum, at auctor dui blandit.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- clear:both 노드 추가 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clear"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> layout </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 레이아웃</title>
      <link href="/2020/03/01/css3-layout/"/>
      <url>/2020/03/01/css3-layout/</url>
      
        <content type="html"><![CDATA[<h1 id="css3"><a class="markdownIt-Anchor" href="#css3"></a> CSS3</h1><p>사용할 수 없는 브라우저에서 신규 문법은 무시된다.</p><h2 id="bfc"><a class="markdownIt-Anchor" href="#bfc"></a> BFC</h2><p><strong>Block Formatting Context</strong>이며 아래 조건에서 생성된다.</p><ul><li>루트 요소</li><li><code>float: right, left</code></li><li><code>position: absolute</code></li><li><code>display: inline-block</code></li><li><code>overflow</code> 값이 <code>visable</code> 외에 다른 값일 때</li><li>flex item</li><li>grid item</li><li>table cell</li></ul><h1 id="layout"><a class="markdownIt-Anchor" href="#layout"></a> layout</h1><h2 id="float"><a class="markdownIt-Anchor" href="#float"></a> float</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.box</span> &#123; <span class="attribute">float</span>: left; &#125;</span></span><br><span class="line"><span class="css">  <span class="comment">/* 다음 세 가지 방법으로 container 안에 box 를 넣어줄 수 있다. */</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123; <span class="attribute">overflow</span>: hidden; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123; <span class="attribute">float</span>: left; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123; <span class="attribute">display</span>: flow-root; &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>플로팅<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>overflow: hidden</code> 으로 플로팅 요소를 잡는 것은 <code>box-shadow</code>가 잘리는 등의 문제가 있다.</li><li><code>display: flow-root</code>는 모던 브라우저에서만 지원한다.</li></ul><h2 id="position"><a class="markdownIt-Anchor" href="#position"></a> position</h2><ul><li><code>static</code>: 기본 값이다. 코드상 노출된 순서대로 표시된다.</li><li><code>relative</code>: 오프셋(top, left…)와 함께 사용된다.<ul><li>새로운 <em>컨테이너 블록</em>이 되며 하위 <code>absolute</code> 를 가둘 수 있다 .</li></ul></li><li><code>absolute</code>: 흐름에서 벗어나며 자신이 포함된 <em>컨테이너 블록</em>의 가장자리를 기준으로 오프셋만큼 이동한다.<ul><li>별도의 <em>컨테이너 블록</em>이 선언되지 않았을 경우, viewport가 된다.</li></ul></li><li><code>fixed</code>: viewport를 기준으로 고정된다. 스크롤해도 변하지 않는다.</li><li><code>sticky</code>: static + fixed 로 문서와 함께 스크롤 되다가 설정한 위치가 되면 고정된다.<ul><li>모던 브라우저에서만 지원한다.</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123; <span class="attribute">width</span>: <span class="number">400px</span>; <span class="attribute">height</span>: <span class="number">400px</span>; &#125;</span></span><br><span class="line"><span class="css">  <span class="comment">/* 이 박스는 맨 위(viewport)에서 10 10 씩 떨어져있다. */</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.box</span> &#123; <span class="attribute">position</span>: absolute; <span class="attribute">top</span>: <span class="number">10px</span>; <span class="attribute">right</span>: <span class="number">100px</span>; <span class="attribute">width</span>: <span class="number">200px</span>; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="comment">/* 컨테이너 블록으로 만들면 박스가 들어온다. */</span></span></span><br><span class="line"><span class="css">  <span class="comment">/* .container &#123; position: relative; width: 400px; height: 400px; &#125; */</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>absolute<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="multi-column"><a class="markdownIt-Anchor" href="#multi-column"></a> multi-column</h2><p><code>column-count</code>, <code>column-width</code>로 단 효과를 낼 수 있다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.columes</span> &#123;</span></span><br><span class="line">    column-width: 200px;</span><br><span class="line">    column-count: 2;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"columns"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>첫 번째 단<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>두 번째 단<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="axis"><a class="markdownIt-Anchor" href="#axis"></a> axis</h2><ul><li><strong>주축</strong>과 <strong>교차축</strong>이 있다.<ul><li>기본은 <code>flex-direction: row</code>이며 교차축은 수직이다.</li><li><code>flex-direction: column</code>이면 교차축은 수평이다.</li></ul></li><li>아이템의 배치는 항상 <code>교차축(cross axis)</code>에서 이뤄진다.</li><li><code>교차축 === 블럭축(block axis)</code> 이다.</li><li>그리드에서는 <code>컬럼 축(column axis)</code>이라고도 한다.</li></ul><h2 id="flexbox"><a class="markdownIt-Anchor" href="#flexbox"></a> flexbox</h2><blockquote><p>1차원 레이아웃</p></blockquote><ul><li><code>display: flex</code> 설정시 자식은 flex item이 된다.</li><li>flex item은 <code>min-content</code>로 설정한 너비보다 작아질 수 없으므로 컨테이너를 벗어난다.<ul><li><code>min-content</code>는 아이템 내부 단어 중 가장 긴 것을 기준으로 설정된다.</li></ul></li><li><code>flex-wrap: wrap;</code> 속성 설정 시 여러 줄에 걸쳐 표현된다.</li><li>줄이 넘어가면 넘어간 줄이 <em>flex container</em> 가 된다.</li></ul><h3 id="플렉스-아이템-배치"><a class="markdownIt-Anchor" href="#플렉스-아이템-배치"></a> 플렉스 아이템 배치</h3><ul><li><code>align-items</code><ul><li><code>stretch</code>: 기본값으로 늘어난다.</li><li><code>flex-start</code>: 요소가 컨테이너 상단에 붙는다.</li><li><code>flex-end</code>: 바닥에 붙는다.</li><li><code>center</code>: 중앙에 배치된다.</li></ul></li><li><code>align-self</code>: flex item 에서 위 속성을 덮는다.</li></ul><h3 id="플렉스-아이템-정렬"><a class="markdownIt-Anchor" href="#플렉스-아이템-정렬"></a> 플렉스 아이템 정렬</h3><ul><li><code>justify-content</code><ul><li><code>flex-direction: row</code>면 가로줄, <code>column</code>이면 세로줄에서 동작한다.</li><li><code>flex-start</code>: 기본값</li><li><code>flex-end</code>: 플렉스 컨테이너 끝에서부터 추가된다.</li><li><code>space-between</code>: 아이템 사이의 공간을 똑같은 간격으로 설정한다.</li><li><code>space-around</code> 모든 아이템 양쪽에 똑같은 간격의 <em>마진</em>을 설정한다.</li><li><code>space-evenly</code> 모든 공백을 똑같이 설정한다.<ul><li>아이템-아이템 간 컨테이너-아이템 간의 간격이 똑같다.</li></ul></li><li><code>center</code>: 가운데 설정한다.</li></ul></li><li><code>align-content</code><ul><li><strong>교차축 위에서 동작</strong>한다.</li><li><code>flex-wrap: wrap</code>이고 아이템 배치 공간보다 컨테이너가 길 때 사용할 수 있다.</li><li>초기값은 start이다.</li><li>나머지 동작은 justify-content와 같다.</li></ul></li><li><code>margin-left: auto;</code> 를 사용하면 원하는 아이템을 반대방향에 배치할 수 있다.</li></ul><h3 id="반응형-플렉스박스"><a class="markdownIt-Anchor" href="#반응형-플렉스박스"></a> 반응형 플렉스박스</h3><ul><li><code>flex-grow</code>: flex-basis에 설정한 값보다 커질 수 있는지 설정한다.</li><li><code>flex-shrink</code>: flex-basis에 설정한 값보다 작아질 수 있는지 설정한다.<ul><li>500px 컨테이너에 200px 플렉스 아이템이 3개 있다면 활성화시 영역 안에 들어올 것이다.</li></ul></li><li><code>flex-basis</code>: flex-direction 에 따라 너비나 높이의 기본값을 지정한다.<ul><li><code>flex-basis: content</code>: 주축의 컨텐츠 크기로 설정된다.</li><li><code>flex-basis: auto</code>: 플렉스 아이템에 <code>width</code> 속성이 있다면 그 값을 flex-basis 로 사용한다. 특별한 경우가 아니라면 auto가 권장된다.</li></ul></li><li>보통 세 속성을 합쳐서 <code>flex: 0 0 200px;</code> 처럼 적는다.</li></ul><h3 id="플렉스박스-방향"><a class="markdownIt-Anchor" href="#플렉스박스-방향"></a> 플렉스박스 방향</h3><blockquote><p>플렉스박스와 그리드는 <code>dir=ltr</code> <code>dir=rtl</code> 속성에 좌,우 영향을 받는다.</p></blockquote><ul><li><code>flex-direction: row-reverse</code></li><li><code>flex-direction: column-reverse</code></li></ul><h2 id="grid"><a class="markdownIt-Anchor" href="#grid"></a> grid</h2><blockquote><p>2차원 레이아웃</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123;</span></span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line"><span class="css">    <span class="comment">/* grid-column-gap, grid-row-gap 축약 */</span></span></span><br><span class="line">    grid-gap: 20px;</span><br><span class="line"><span class="css">    <span class="comment">/* 가장 최근 명세에서는 `grid-` prefix 가 빠졌다 */</span></span></span><br><span class="line">    gap: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 3<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 4<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 5<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>grid 6<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="fr"><a class="markdownIt-Anchor" href="#fr"></a> fr</h3><ul><li><em>fraction</em></li><li>유연한 너비를 나타내는 단위이다.</li></ul><h3 id="그리드-트랙"><a class="markdownIt-Anchor" href="#그리드-트랙"></a> 그리드 트랙</h3><ul><li>그리드의 열과 행을 나타낸다.</li></ul><h3 id="그리드-배치"><a class="markdownIt-Anchor" href="#그리드-배치"></a> 그리드 배치</h3><blockquote><p>프로그래머의 수는 0부터 시작이지만 그리드 배치에서는 1부터여야한다.</p></blockquote><ul><li>LTR 의 경우는 왼쪽 끝이 1 이다.</li><li>RTL 의 경우는 오른쪽 끝이 1 이다.</li><li>반대편 끝은 -1 이다.</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">  <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item1</span> &#123; <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>; <span class="attribute">grid-row</span>: <span class="number">1</span>; &#125;</span><br><span class="line"><span class="selector-class">.item2</span> &#123; <span class="attribute">grid-column</span>: <span class="number">3</span>; <span class="attribute">grid-row</span>: <span class="number">1</span>; &#125;</span><br><span class="line"><span class="selector-class">.item3</span> &#123; <span class="attribute">grid-column</span>: <span class="number">1</span>; <span class="attribute">grid-row</span>: <span class="number">2</span> / <span class="number">4</span>; &#125;</span><br><span class="line"><span class="selector-class">.item4</span> &#123; <span class="attribute">grid-column</span>: <span class="number">2</span> / <span class="number">4</span>; <span class="attribute">grid-row</span>: <span class="number">2</span>; &#125;</span><br><span class="line"><span class="selector-class">.item5</span> &#123; <span class="attribute">grid-column</span>: <span class="number">2</span> / <span class="number">4</span>; <span class="attribute">grid-row</span>: <span class="number">3</span>; &#125;</span><br></pre></td></tr></table></figure><p><code>grid-column: auto / span 2;</code> 처럼 시작 위치를 auto로 잡고 끝 위치를 span 2로 잡으면 자동 배치 기능에 의해 그리드 아이템 위치는 자동으로 정해지고 너비는 항상 컬럼 두 개만큼 확장한다.</p><h3 id="그리드-정렬"><a class="markdownIt-Anchor" href="#그리드-정렬"></a> 그리드 정렬</h3><ul><li><code>justify-items</code>로 설정하며 각 영역 안에서 정렬된다.</li><li>초기값은 <code>stretch</code>이다.</li></ul><h3 id="named-area"><a class="markdownIt-Anchor" href="#named-area"></a> named area</h3><ul><li>그리드에 이름을 직접 지정할 수도 있다.</li><li><code>.</code>은 공백을 나타낸다.</li><li>영역은 반드시 사각형이여야한다.</li><li><code>align-items</code>, <code>justify-items</code> 속성 변경시 반복이 무시된다. (stretch가 아니므로)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">  <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">grid-template-areas</span>:</span><br><span class="line">    <span class="string">"a a b"</span></span><br><span class="line">    <span class="string">". d d"</span></span><br><span class="line">    <span class="string">"c e e"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item1</span> &#123; <span class="attribute">grid-area</span>: a; &#125;</span><br><span class="line"><span class="selector-class">.item2</span> &#123; <span class="attribute">grid-area</span>: b; &#125;</span><br><span class="line"><span class="selector-class">.item3</span> &#123; <span class="attribute">grid-area</span>: c; &#125;</span><br><span class="line"><span class="selector-class">.item4</span> &#123; <span class="attribute">grid-area</span>: d; &#125;</span><br><span class="line"><span class="selector-class">.item5</span> &#123; <span class="attribute">grid-area</span>: e; &#125;</span><br></pre></td></tr></table></figure><h3 id="반응형-그리드"><a class="markdownIt-Anchor" href="#반응형-그리드"></a> 반응형 그리드</h3><ul><li><code>auto-fill</code>: 너비가 허용하는만큼 최대한 많이, 다만 아이템 갯수가 부족하면 빈 공간을 남긴다.</li><li><code>auto-fit</code>: 아이템 갯수가 부족하면 남은 공간은 균등하게 분배된다.</li><li><code>minmax</code>: 너비의 최소, 최대크기를 지정할 수 있다.<ul><li>아래 예시라면 200px 의 컬럼이 몇 개 들어가는지 계산한 뒤, 남은 공간을 컬럼에 균등하게 분배된다.</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, minmax(<span class="number">200px</span>, <span class="number">1</span>fr));</span><br><span class="line">  <span class="comment">/* 컨텐츠에 따라 그리드가 길어진다. */</span></span><br><span class="line">  <span class="attribute">grid-auto-rows</span>: <span class="built_in">minmax</span>(<span class="number">150px</span>, auto);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="그리드-흐름"><a class="markdownIt-Anchor" href="#그리드-흐름"></a> 그리드 흐름</h3><ul><li><code>grid-auto-flow</code> 속성으로 조절한다.<ul><li><code>row</code>: 기본값이며 왼쪽 위부터 오른쪽으로 칸을 채워나간다.</li><li><code>column</code>: 줄을 채우고 다음 컬럼을 채운다.</li><li><code>dense</code>: 빈 공간에 채워넣는다.</li><li><code>sparse</code>: 기본값이며 빈 공간을 내버려둔다.</li></ul></li></ul><p>이 외에 <code>order</code> 속성으로 직접 순서 제어가 가능하다.<br>다만 <code>dense</code>나 <code>order</code>는 탭 순서까지 변경해주지 않아 접근성을 벗어난다.</p><h1 id="supports"><a class="markdownIt-Anchor" href="#supports"></a> supports</h1><p>구 브라우져와의 호환을 위해 <code>@supports (display: grid)</code> 처럼 서포트 피쳐쿼리를 사용할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> flexbox </tag>
            
            <tag> grid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJS에서 커맨드 파싱하기</title>
      <link href="/2020/02/16/NodeJS%EC%97%90%EC%84%9C-%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%8C%EC%8B%B1%ED%95%98%EA%B8%B0/"/>
      <url>/2020/02/16/NodeJS%EC%97%90%EC%84%9C-%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%8C%EC%8B%B1%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="arg"><a class="markdownIt-Anchor" href="#arg"></a> arg</h1><p><a href="https://github.com/zeit/arg" target="_blank" rel="external nofollow noopener noreferrer">zeit/arg</a> 패키지를 이용하면 된다.</p><h2 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h2><p>arg 함수 하나로 파싱이 가능하다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arg = <span class="built_in">require</span>(<span class="string">'arg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// `options` is an optional parameter</span></span><br><span class="line"><span class="keyword">const</span> args = arg(spec, options = &#123;<span class="attr">permissive</span>: <span class="literal">false</span>, <span class="attr">argv</span>: process.argv.slice(<span class="number">2</span>)&#125;);</span><br></pre></td></tr></table></figure><p>세부적인 사용방법은 다음과 같다.</p><ol><li>타입을 정하고</li><li>옵션과 축약 옵션을 정하고</li><li>검증을 넣는다.</li></ol><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 계정정보를 받는 스크립트라면</span></span><br><span class="line"><span class="keyword">const</span> help = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`usage =&gt; ...`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> args = &#123;&#125;;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  args = arg(&#123;</span><br><span class="line">    <span class="string">"--help"</span>: <span class="built_in">Boolean</span>,</span><br><span class="line">    <span class="string">"--user"</span>: <span class="built_in">String</span>,</span><br><span class="line">    <span class="string">"--password"</span>: <span class="built_in">String</span>,</span><br><span class="line">    <span class="string">"--verbose"</span>: arg.COUNT,</span><br><span class="line">    <span class="string">"--test"</span>: <span class="built_in">Boolean</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">"-h"</span>: <span class="string">"--help"</span>,</span><br><span class="line">    <span class="string">"-u"</span>: <span class="string">"--user"</span>,</span><br><span class="line">    <span class="string">"-p"</span>: <span class="string">"--password"</span>,</span><br><span class="line">    <span class="string">"-v"</span>: <span class="string">"--verbose"</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err.code === <span class="string">"ARG_UNKNOWN_OPTION"</span>) &#123;</span><br><span class="line">    help();</span><br><span class="line">    process.exit(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!(args[<span class="string">"--user"</span>] &amp;&amp; args[<span class="string">"--password"</span>])) &#123;</span><br><span class="line">  help();</span><br><span class="line">  process.exit(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (args[<span class="string">"--test"</span>] === <span class="literal">true</span>) &#123;</span><br><span class="line">  process.env.TEST = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> arg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Workbox5 버전의 주요 변경사항</title>
      <link href="/2020/02/02/Workbox5-breaking-changes/"/>
      <url>/2020/02/02/Workbox5-breaking-changes/</url>
      
        <content type="html"><![CDATA[<h1 id="workbox5-버전"><a class="markdownIt-Anchor" href="#workbox5-버전"></a> Workbox5 버전</h1><p>잘 돌던 <code>workbox-cli</code> 가 5버전 릴리즈 후부터 돌지 않아서 확인해보았다.<br>전체 문서는 <a href="https://developers.google.com/web/tools/workbox/guides/migrations/migrate-from-v4" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인 가능하다.</p><h2 id="injectmanifest"><a class="markdownIt-Anchor" href="#injectmanifest"></a> injectManifest</h2><p><code>self.__WB_MANIFEST</code> 를 주입받는 방식으로 변경되었다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v4:</span></span><br><span class="line">precacheAndRoute([]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// v5:</span></span><br><span class="line">precacheAndRoute(self.__WB_MANIFEST);</span><br></pre></td></tr></table></figure><h2 id="navigationroute"><a class="markdownIt-Anchor" href="#navigationroute"></a> NavigationRoute</h2><p>blacklist, whitelist 에서 denylist, allowlist 로 키 명이 변경되었다.</p><h2 id="broadcastchannel"><a class="markdownIt-Anchor" href="#broadcastchannel"></a> BroadcastChannel</h2><p>broadcast-update 가 자체 API 에서 <code>postMessage()</code>로 변경되었다.<br>이벤트 리스너가 많아져 복잡해지고, 기존 API에서는 메세징의 버퍼 기능이 없었기 때문이다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v4:</span></span><br><span class="line"><span class="keyword">const</span> updatesChannel = <span class="keyword">new</span> BroadcastChannel(<span class="string">'api-updates'</span>);</span><br><span class="line">updatesChannel.addEventListener(<span class="string">'message'</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;cacheName, updatedUrl&#125; = event.data.payload;</span><br><span class="line">  <span class="comment">// ... your code here ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// v5:</span></span><br><span class="line"><span class="comment">// This listener should be added as early as possible in your page's lifespan</span></span><br><span class="line"><span class="comment">// to ensure that messages are properly buffered.</span></span><br><span class="line">navigator.serviceWorker.addEventListener(<span class="string">'message'</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="comment">// Optional: ensure the message came from workbox-broadcast-update</span></span><br><span class="line">  <span class="keyword">if</span> (event.meta === <span class="string">'workbox-broadcast-update'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123;cacheName, updatedUrl&#125; = event.data.payload;</span><br><span class="line">      <span class="comment">// ... your code here ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> pwa </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> pwa </tag>
            
            <tag> serviceworker </tag>
            
            <tag> cache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonic - 핸들링</title>
      <link href="/2020/01/27/Pythonic-handling/"/>
      <url>/2020/01/27/Pythonic-handling/</url>
      
        <content type="html"><![CDATA[<h1 id="handling"><a class="markdownIt-Anchor" href="#handling"></a> Handling</h1><h2 id="파일"><a class="markdownIt-Anchor" href="#파일"></a> 파일</h2><ul><li>File pointer 여는 법은 <code>f.open(‘test.txt’, ‘w’)</code></li><li>이 경우 f.write 후에 f.close 해줘야한다.</li><li><code>with</code> 사용시 close 를 생각하지 않아도 된다.</li><li><code>with</code> 구문에서 선언된 변수는 바깥에서 사용가능</li><li><code>f.seek(5)</code> 처럼 위치로 이동 가능하다.</li><li><code>string.Template</code> 과 함께 뷰 파일에서 사용할 수 있다.</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 예시 1</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'test.txt'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">'Test'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예시 2</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'test.txt'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="comment"># print(f.read())</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        chunk = <span class="number">2</span></span><br><span class="line">        line = f.read(chunk)</span><br><span class="line">        print(line)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> line:</span><br><span class="line">        reak</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예시 3</span></span><br><span class="line"><span class="comment"># w+ 로 열면 파일이 초기화 됨</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'test.txt'</span>, <span class="string">'w+'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(s)</span><br><span class="line">    <span class="comment"># 쓰기 후에 읽기위해 0번째로 이동</span></span><br><span class="line">    f.seek(<span class="number">0</span>)</span><br><span class="line">    print(f.read())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 예시 4</span></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'view/mail.tpl'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    t = string.Template(f.read())</span><br><span class="line"></span><br><span class="line"><span class="comment"># $name, $contents</span></span><br><span class="line">contents = t.substitute(name=<span class="string">'gracefullight'</span>, contents=<span class="string">'Thanks'</span>)</span><br><span class="line">print(contents)</span><br></pre></td></tr></table></figure><h3 id="파일-확인"><a class="markdownIt-Anchor" href="#파일-확인"></a> 파일 확인</h3><ul><li><code>os.path.exsists</code></li><li><code>os.path.isfile</code></li><li><code>os.path.isdir</code></li></ul><h3 id="파일-제어"><a class="markdownIt-Anchor" href="#파일-제어"></a> 파일 제어</h3><ul><li><code>os.rename</code></li><li><code>os.symlink</code>: 심볼릭</li><li><code>shutil.copy</code>: 복사</li><li><code>pathlib.Path('TouchFilePath').touch()</code>: 터치 파일</li></ul><h3 id="폴더-제어"><a class="markdownIt-Anchor" href="#폴더-제어"></a> 폴더 제어</h3><ul><li><code>os.mkdir</code></li><li><code>os.rmdir</code>: 빈 디렉토리만 가능</li><li><code>shutil.retree</code>: recursive</li></ul><h3 id="csv"><a class="markdownIt-Anchor" href="#csv"></a> CSV</h3><ul><li><code>csv.DictWriter</code></li><li><code>csv.DictReader</code></li></ul><h3 id="임시파일"><a class="markdownIt-Anchor" href="#임시파일"></a> 임시파일</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tempfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 삭제 됨</span></span><br><span class="line"><span class="keyword">with</span> tempfile.TemporaryFile(mode=<span class="string">'w+'</span>) <span class="keyword">as</span> t:</span><br><span class="line">    t.write(<span class="string">'hello'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 삭제 안 됨</span></span><br><span class="line"><span class="keyword">with</span> tempfile.NamedTemporaryFile(delete=<span class="literal">False</span>) <span class="keyword">as</span> t:</span><br><span class="line">    <span class="comment"># print(t.name)</span></span><br><span class="line">    <span class="keyword">with</span> open(t.name, <span class="string">'w+'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">'hello'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 삭제되는 디렉토리</span></span><br><span class="line"><span class="keyword">with</span> tempfile.TemporaryDirectory() <span class="keyword">as</span> td:</span><br><span class="line">    print(td)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 삭제 안 되는 디렉토리</span></span><br><span class="line">temp_dir = tempfile.mkdtemp()</span><br></pre></td></tr></table></figure><h2 id="압축"><a class="markdownIt-Anchor" href="#압축"></a> 압축</h2><h3 id="tar"><a class="markdownIt-Anchor" href="#tar"></a> tar</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tarfile</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tarfile.open(<span class="string">'test.tar.gz'</span>, <span class="string">'w:gz'</span>) <span class="keyword">as</span> tr:</span><br><span class="line">    tr.add(<span class="string">'dir'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tarfile.open(<span class="string">'test.tar.gz'</span>, <span class="string">'r:gz'</span>) <span class="keyword">as</span> tr:</span><br><span class="line">    tr.extractall(path=<span class="string">'dir'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> tr.extractfile(<span class="string">'tarball'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        print(f.read())</span><br></pre></td></tr></table></figure><h3 id="zip"><a class="markdownIt-Anchor" href="#zip"></a> zip</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> zipfile.ZipFile(<span class="string">'test.zip'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> z:</span><br><span class="line">    <span class="comment"># 하나의 폴더만 가능</span></span><br><span class="line">    z.write(<span class="string">'dir'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 하위 전체 압축</span></span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> glob.glob(<span class="string">'dir/**'</span>, recursive=<span class="literal">True</span>):</span><br><span class="line">        z.write(f)</span><br></pre></td></tr></table></figure><h3 id="ini"><a class="markdownIt-Anchor" href="#ini"></a> ini</h3><ul><li><code>configparser.ConfigParser()</code></li></ul><h3 id="yaml"><a class="markdownIt-Anchor" href="#yaml"></a> yaml</h3><ul><li><code>pip install pyyaml</code></li></ul><h2 id="로깅"><a class="markdownIt-Anchor" href="#로깅"></a> 로깅</h2><ul><li>logging.critical</li><li>error</li><li>warning</li><li>info</li><li>debug</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># basicConfig 에 format 을 정의 가능</span></span><br><span class="line"><span class="comment"># doc 확인</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">'test.log'</span>, level=logging.INFO)</span><br><span class="line">logging.info(<span class="string">'info %s %s'</span>, <span class="string">'test'</span>, <span class="string">'test2'</span>) <span class="comment"># === logging.info('info &#123;&#125;'.format('test')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 해당 파일에서 로그명 재정의</span></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 로그 레벨 재정의</span></span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 전체 설정 변경</span></span><br><span class="line">logging.config.fileConfig(...)</span><br><span class="line">logging.config.dictConfig(...)</span><br></pre></td></tr></table></figure><h3 id="로깅-핸들러"><a class="markdownIt-Anchor" href="#로깅-핸들러"></a> 로깅 핸들러</h3><p>여러 핸들러를 쉽게 붙힐 수 있다. <a href="https://docs.python.org/ko/3/library/logging.handlers.html" target="_blank" rel="external nofollow noopener noreferrer">문서</a></p><ul><li><code>handler = logging.FileHandler(...)</code></li><li><code>logger.addHandler(handler)</code></li></ul><h3 id="로깅-필터"><a class="markdownIt-Anchor" href="#로깅-필터"></a> 로깅 필터</h3><p>로그의 출력을 필터를 사용해 쉽게 가공 가능하다. <a href="https://docs.python.org/ko/3/howto/logging-cookbook.html" target="_blank" rel="external nofollow noopener noreferrer">문서</a></p><h2 id="메일"><a class="markdownIt-Anchor" href="#메일"></a> 메일</h2><ul><li><code>smtplib.SMTP</code> 와 <code>from email import message</code> 패키지로 가능하다.</li><li>파일 첨부는 email.mime 의 multipart와 text 패키지로 가능하다.<ul><li>파일 추가 시에는 헤더를 <code>Content-Disposition: attachment</code>로 줘야한다.</li></ul></li><li><code>logger.handelrs.SMTPHandler</code> 로 메일로 로그를 받을 수 있다.</li></ul><h1 id="쉘"><a class="markdownIt-Anchor" href="#쉘"></a> 쉘</h1><h2 id="서브프로세스"><a class="markdownIt-Anchor" href="#서브프로세스"></a> 서브프로세스</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">subprocess.run([<span class="string">'ls'</span>, <span class="string">'-al'</span>])</span><br></pre></td></tr></table></figure><h2 id="커맨드-체이닝"><a class="markdownIt-Anchor" href="#커맨드-체이닝"></a> 커맨드 체이닝</h2><p>여러 커맨드를 한 번에 실행시킬 경우 인젝션 방어를 위해 다음과 같이 처리하는 것이 좋다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">process1 = subprocess.Popen([<span class="string">'ls'</span>, <span class="string">'-al'</span>], stdout=subprocess.PIPE)</span><br><span class="line">process2 = subprocess.Popen([<span class="string">'grep'</span> , <span class="string">'test'</span>], stdin=p1.stdout, stdout=subprocess.PIPE)</span><br><span class="line">process1.stdout.close()</span><br><span class="line"></span><br><span class="line">output = process2.communicate()[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><h2 id="커맨드-파싱"><a class="markdownIt-Anchor" href="#커맨드-파싱"></a> 커맨드 파싱</h2><p><a href="https://docs.python.org/ko/3/library/argparse.html" target="_blank" rel="external nofollow noopener noreferrer">argparse</a>를 사용하자.</p><h1 id="날짜"><a class="markdownIt-Anchor" href="#날짜"></a> 날짜</h1><blockquote><p>파이썬에는 날짜를 timestamp 로 변환해 출력하는 기능은 없다.</p></blockquote><h2 id="초기화"><a class="markdownIt-Anchor" href="#초기화"></a> 초기화</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">now = datetime.datetime.now()</span><br><span class="line">print(now)</span><br><span class="line">print(now.isoformat())</span><br><span class="line">print(now.strftime(<span class="string">'%Y-%m-%d %H:%M:%S.%f'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 날짜만</span></span><br><span class="line">today = datetime.date.today()</span><br><span class="line">print(today) <span class="comment"># 2020-02-02</span></span><br><span class="line">print(today.isoformat()) <span class="comment"># 2020-02-02</span></span><br><span class="line">print(today.strftime(<span class="string">'%Y-%m-%d'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 시간만</span></span><br><span class="line">t = datetime.time(hour=<span class="number">1</span>, minute=<span class="number">10</span>, second=<span class="number">5</span>, microsecond=<span class="number">100</span>)</span><br><span class="line">print(t) <span class="comment"># 01:10:05.000100</span></span><br><span class="line">print(t.isoformat()) <span class="comment"># 01:10:05.000100</span></span><br><span class="line">print(t.strftime(<span class="string">'%H:%M:%S'</span>)) <span class="comment"># 01:10:05</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># timestamp</span></span><br><span class="line">print(time.time()) <span class="comment"># 1580617313.843047</span></span><br></pre></td></tr></table></figure><h2 id="연산"><a class="markdownIt-Anchor" href="#연산"></a> 연산</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">now = datetime.datetime.now()</span><br><span class="line">print(now)</span><br><span class="line"></span><br><span class="line">d = datetime.timedelta(weeks=<span class="number">1</span>)</span><br><span class="line">print(now - d)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>쿠버네티스 리눅스 커널 튜닝하기</title>
      <link href="/2020/01/24/k8s-linux-kernel-tuning/"/>
      <url>/2020/01/24/k8s-linux-kernel-tuning/</url>
      
        <content type="html"><![CDATA[<h1 id="변경가능한-커널-설정"><a class="markdownIt-Anchor" href="#변경가능한-커널-설정"></a> 변경가능한 커널 설정</h1><p>노드 레벨의 sysctl과 네임스페이스 sysctl과 같은 커널 파라미터를 sysctl 인터페이스로 변경할 수 있다.<br>변경 가능한 파라미터는 다음과 같다.</p><ul><li><strong>abi</strong>: 실행 도메인 특성</li><li><strong>fs</strong>: 특정 파일 시스템, 파일 핸들링, inode, dentry, 쿼터 조정</li><li><strong>kernel</strong>: 전역 커널 설정 변경</li><li><strong>net</strong>: 네트워킹</li><li><strong>sunrpc</strong>: SUN rpc 호출</li><li><strong>vm</strong>: 메모리 조정, 버퍼 및 캐시 관리</li><li><strong>user</strong>: 사용자별 네임스페이스 제한</li></ul><p><code>taint, toleration</code> 을 같이 사용해 사이드이펙을 방지하라고 권하고 있다.</p><h2 id="arp-캐시"><a class="markdownIt-Anchor" href="#arp-캐시"></a> ARP 캐시</h2><blockquote><p>neighbour: arp_cache: neighbor table overflow!</p></blockquote><p>쿠버네티스가 대량의 IP를 소비하면서 ARP 캐시 공간을 모두 사용할 경우 ARP 캐시 관련 변수 조절이 가능하다.<br>대규모 HPC 클러스터에서는 흔한 일이며 쿠버네티스의 주소 소진을 방지할 수 있다.<br>이 오류는 <code>nodes with 40+ cores</code> &amp;&amp; <code>more than 16 segments in each node</code> 정도에서 발생하는 듯 하다.</p><ul><li><strong>net.ipv4.neigh.default.gc_thresh1</strong>: gc_thresh1 represents the minimum number of entries that may be in the ARP cache. Garbage collection will not be triggered if the number of entries is below this setting.</li><li><strong>net.ipv4.neigh.default.gc_thresh2</strong>: gc_thresh2 represents the soft maximum number of entries that may be in the ARP cache. This setting is arguably the most important, as ARP garbage collection will be triggered ~5s after reaching this soft maximum.</li><li><strong>net.ipv4.neigh.default.gc_thresh3</strong>: gc_thresh3 represents the hard maximum number of entries in the ARP cache.</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.neigh.default.gc_thresh1 = 80000</span><br><span class="line">net.ipv4.neigh.default.gc_thresh2 = 90000</span><br><span class="line">net.ipv4.neigh.default.gc_thresh3 = 100000</span><br></pre></td></tr></table></figure><h1 id="예시"><a class="markdownIt-Anchor" href="#예시"></a> 예시</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">sysctl-example</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">securityContext:</span></span><br><span class="line">    <span class="attr">sysctls:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">kernel.shm_rmid_forced</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">"0"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">net.core.somaxconn</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">"10000"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">kernel.msgmax</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">"65536"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">fs.file-max</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">"2097152"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">net.ipv4.ip_local_port_range</span></span><br><span class="line">        <span class="attr">value:</span> <span class="string">"1024 65536"</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>파면 팔수록 리눅스부터 다시 정리해야되겠다는 느낌이 든다.</li></ul><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/" target="_blank" rel="external nofollow noopener noreferrer">Using sysctls in a Kubernetes Cluster</a></li><li><a href="https://meetup.toast.com/posts/54" target="_blank" rel="external nofollow noopener noreferrer">리눅스 서버의 TCP 네트워크 성능을 결정짓는 커널 파라미터 이야기 - 2편</a></li><li><a href="https://success.docker.com/article/how-to-increase-the-arp-cache-collection-threshold" target="_blank" rel="external nofollow noopener noreferrer">How to increase the ARP cache garbage collection threshold</a></li><li><a href="https://openai.com/blog/scaling-kubernetes-to-2500-nodes/" target="_blank" rel="external nofollow noopener noreferrer">Scaling Kubernetes to 2,500 nodes</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> linux </tag>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>서비스워커로 POST Request 캐싱하기</title>
      <link href="/2020/01/16/Serviceworker-cache-POST-requests/"/>
      <url>/2020/01/16/Serviceworker-cache-POST-requests/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>서비스워커로 Navigation Request 나 Static Assets 에 대한 리소스 캐시는 쉽다.<br>(<a href="/2017/12/22/PWA-ServiceWorker-Web-Caching/">이전 포스팅</a> 참조)</p><p>하지만 <code>POST Request</code> 에 대한 레퍼런스는 찾기 힘들어 결국 만들어버렸다.<br>복잡한 로직이지만 Request Body 를 SHA1로 해싱해 키로 IndexedDB 에 저장하고 그 키가 맞으면 꺼내주는 방식이다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IndexedDB 는 Promisify 되어있지 않아서 라이브러리가 필요하다.</span></span><br><span class="line">importScripts(<span class="string">"https://cdn.jsdelivr.net/npm/localforage@1.7.3/dist/localforage.min.js"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 캐시하고 싶은 POST 엔드포인트</span></span><br><span class="line"><span class="keyword">const</span> ENDPOINT = <span class="string">'https://your-domain/post-request'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bin2Hex = <span class="function"><span class="params">buffer</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> digest = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">const</span> dataView = <span class="keyword">new</span> <span class="built_in">DataView</span>(buffer);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = dataView.byteLength; i &lt; len; i += <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> value = dataView.getUint32(i);</span><br><span class="line">    <span class="comment">// hex 로 바꾸면 패딩비트 0 이 제거된다.</span></span><br><span class="line">    <span class="keyword">let</span> hex = value.toString(<span class="number">16</span>);</span><br><span class="line">    <span class="comment">// uint32 는 4bytes 로 나온다.</span></span><br><span class="line">    <span class="keyword">let</span> padding = <span class="string">'00000000'</span>;</span><br><span class="line">    <span class="comment">// 패딩을 더해서 뒤에서 잘라준다.</span></span><br><span class="line">    <span class="keyword">let</span> paddedValue = (padding + hex).slice(-padding.length);</span><br><span class="line">    digest += paddedValue;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> digest;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> postRequestFetchListener = <span class="function"><span class="params">fetchEvent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> requestUrl = fetchEvent.request.url;</span><br><span class="line">  <span class="keyword">const</span> method = fetchEvent.request.method.toUpperCase();</span><br><span class="line">  <span class="comment">// 맞는 엔드포인트인지 확인</span></span><br><span class="line">  <span class="keyword">if</span> (!(method === <span class="string">'POST'</span> &amp;&amp; requestUrl === ENDPOINT)) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fetchEvent.respondWith(</span><br><span class="line">    fetchEvent.request.clone().arrayBuffer().then(<span class="function"><span class="params">buffer</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> requestBody = <span class="built_in">String</span>.fromCharCode.apply(<span class="literal">null</span>, <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buffer));</span><br><span class="line">      <span class="comment">// request body 에 원하는 조건만 캐시처리할 수 있게 한다.</span></span><br><span class="line">      <span class="keyword">if</span> (requestBody.includes(<span class="string">'cache=1'</span>)) &#123;</span><br><span class="line">        <span class="comment">// 속도면에서 다른 해싱 알고리즘을 사용해도 무방하다.</span></span><br><span class="line">        <span class="keyword">return</span> crypto.subtle.digest(<span class="string">'SHA-1'</span>, buffer);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.reject();</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">sha1Buffer</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> sha1Hash = bin2Hex(sha1Buffer);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'SHA1 Hash =&gt; '</span>, sha1Hash);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// IndexedDB 에서 캐시된 키를 찾는다.</span></span><br><span class="line">      <span class="keyword">return</span> localforage.getItem(sha1Hash)</span><br><span class="line">        .then(<span class="function"><span class="params">cachedResponse</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (cachedResponse) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'Cached repsonse =&gt; '</span>, cachedResponse);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Response(cachedResponse, &#123;</span><br><span class="line">              <span class="comment">// 여기서 statusCode 를 304 로 내보내고 싶었으나, Body 를 반환할 수 없었다.</span></span><br><span class="line">              status: <span class="number">200</span>,</span><br><span class="line">              statusText: <span class="string">'OK'</span>,</span><br><span class="line">              headers: &#123;</span><br><span class="line">                <span class="string">'Content-Length'</span>: cachedResponse.length,</span><br><span class="line">                <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">                <span class="comment">// 그래서 커스텀 헤더를 추가했다.</span></span><br><span class="line">                <span class="string">'X-SW-Cache-Hit'</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="string">'X-SW-Cache-Type'</span>: <span class="string">'POST'</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 캐시된 데이터가 없을 경우 새로 요청한다.</span></span><br><span class="line">          <span class="keyword">return</span> fetch(fetchEvent.request).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'Fetching response =&gt; '</span>, response.clone());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 정상적일 경우만 IndexedDB 에 저장한다.</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="number">200</span> &lt;= response.status &amp;&amp; response.status &lt; <span class="number">400</span>) &#123;</span><br><span class="line">              <span class="comment">// 이 작업은 비동기지만 굳이 기다리지 않아도 된다.</span></span><br><span class="line">              response.clone().text().then(<span class="function"><span class="params">textResponse</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'Caching response =&gt; '</span>, textResponse);</span><br><span class="line">                <span class="keyword">return</span> localforage.setItem(sha1Hash, textResponse);</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> response;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> fetch(fetchEvent.request))</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 리스너를 등록해준다.</span></span><br><span class="line">self.addEventListener(<span class="string">'fetch'</span>, postRequestFetchListener);</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>WorkBox 를 사용할 수 있다면 <a href="https://developers.google.com/web/tools/workbox/modules/workbox-cacheable-response#caching_based_on_headers" target="_blank" rel="external nofollow noopener noreferrer">CacheableResponse</a>와 CacheFirst 정책으로 단번에 처리 가능할 것이다.</li><li>굳이 해시를 키로 사용하지 않아도 된다. RequestBody 의 Serialize 를 키로 써도 된다. (만들면서 crypto 라이브러리를 사용해보고 싶었을 뿐)</li></ul>]]></content>
      
      
      <categories>
          
          <category> pwa </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> pwa </tag>
            
            <tag> serviceworker </tag>
            
            <tag> cache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerfile의 모든 것</title>
      <link href="/2020/01/13/Dockerfile%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"/>
      <url>/2020/01/13/Dockerfile%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="인스트럭션"><a class="markdownIt-Anchor" href="#인스트럭션"></a> 인스트럭션</h1><ul><li><strong>FROM</strong>: 빌드하는 이미지의 기반 이미지 지정</li><li><strong>RUN</strong>: 이미지 빌드 시 컨테이너에서 실행할 명령어 정의</li><li><strong>COPY</strong>: 호스트에서 컨테이너로 파일 및 디렉토리 복사</li><li><strong>ADD</strong>: COPY + 압축 해제 + URL 다운로드<ul><li>운영 체제를 담은 기반 이미지를 만드는 경우처럼 특수한 경우에만 사용하면 된다.</li><li>안정성 보장이 되지 않으므로 COPY 를 사용하자.</li></ul></li><li><strong>CMD</strong>: 컨테이너에서 foreground로 실행할 명령어 정의</li><li><strong>ENTRYPOINT</strong>: 컨테이너를 실행 가능 파일로 사용할 때 정의하는 명령<ul><li>CMD 와 ENTRYPOINT 둘 다 사용 가능</li></ul></li><li><strong>ARG</strong>: docker image build를 실행할 때 사용하는 변수</li><li><strong>ENV</strong>: 컨테이너 안의 환경변수 정의</li><li><strong>EXPOSE</strong>: 컨테이너가 노출하는 포트</li><li><strong>VOLUME</strong>: 호스트나 다른 컨테이너에서 마운트할 수 있는 포인트 생성</li><li><strong>LABEL</strong>: 이미지에 추가하는 메타데이터</li><li><strong>STOPSIGNAL</strong>: 컨테이너에 전달되면 컨테이너를 종료하는 시스템 시그널 설정</li><li><strong>HEALTHCHECK</strong>: 컨테이너 안에서 명령을 실행 후 결과를 헬스 체크에 사용</li><li><strong>USER</strong>: 컨테이너 실행 시 컨테이너 사용자<ul><li>이미지 빌드시 USER 뒤에 나오는 RUN 인스트럭션도 해당 사용자의 권한으로 실행된다.</li></ul></li><li><strong>WORKDIR</strong>: 컨테이너의 작업 디렉토리</li><li><strong>ONBUILD</strong>: 컨테이너 안에서 실행되는 명령 정의, 이미지에서 실행되지 않는다.<ul><li>ONBUILD 를 정의한 이미지를 기반 이미지로 삼아 다른 이미지를 빌드할 때 실행된다.</li></ul></li></ul><h1 id="이미지"><a class="markdownIt-Anchor" href="#이미지"></a> 이미지</h1><h2 id="린팅"><a class="markdownIt-Anchor" href="#린팅"></a> 린팅</h2><p><a href="https://github.com/hadolint/hadolint" target="_blank" rel="external nofollow noopener noreferrer">hadolint</a> 를 설치해 <a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/" target="_blank" rel="external nofollow noopener noreferrer">Dockerfile best practices</a> 에 기반해 이미지를 생성했는지 검증하자.</p><h2 id="기반-이미지"><a class="markdownIt-Anchor" href="#기반-이미지"></a> 기반 이미지</h2><ul><li>scratch: 아무 것도 없는 이미지<ul><li>https 통신이 필요한 경우 cacert.pem 을 /etc/ssl/certs 에 추가해야한다.</li><li>디버깅도 힘들다</li></ul></li><li>busybox: 기본 유틸리티 (echo, ls 등) 이 있는 이미지<ul><li>패키지 관리자가 없다.</li><li>디버깅은 좀 낫다.</li></ul></li><li>alpine: busybox 기반으로 4MB 지만 <code>apk</code> 패키지 매니저가 있다.<ul><li><code>glibc</code> 대신 <code>musl</code>을 쓴다.</li><li><code>apk add --no-cache package</code></li><li><code>apk add --no-cache --virtual=ailas package</code> &amp;&amp; <code>apk del --no-cache ailas</code></li></ul></li></ul><h2 id="멀티스테이지-빌드"><a class="markdownIt-Anchor" href="#멀티스테이지-빌드"></a> 멀티스테이지 빌드</h2><p>golang과 같은 빌드가 필요한 이미지에서는 멀티스테이지 빌드를 이용해 빌드 환경과 프로덕션 환경을 다르게 가져갈 수 있다.</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.9</span> AS build</span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /go/src/github.com/...</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> go get gokpg.in/gorp.v1</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">cd</span> /go/src/github.com/... &amp;&amp; go build -o bin/start main.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> alpine:<span class="number">3.7</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=build /go/src/.../bin/start /usr/<span class="built_in">local</span>/bin/</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"start"</span>]</span></span><br></pre></td></tr></table></figure><h2 id="distroless-이미지"><a class="markdownIt-Anchor" href="#distroless-이미지"></a> distroless 이미지</h2><ul><li>운영체제 기능은 없이 언어에 중점을 둔 이미지이다.</li><li><a href="https://github.com/GoogleContainerTools/distroless" target="_blank" rel="external nofollow noopener noreferrer">distroless</a> 에서 확인 가능하며 주로 구글이 배포한다.</li><li><a href="http://gcr.io/distroless/base" target="_blank" rel="external nofollow noopener noreferrer">gcr.io/distroless/base</a> 이미지는 glibc 기반이며 컴파일 애플리케이션을 실행하는 데에 적합하다. (Go)</li><li>ca-certificates 및 TLS/SSL 관련 라이브러리 등 최소한의 라이브러리만 있다.</li><li>CVE 취약점도 업데이트 된다고 한다.</li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">10.17</span>.<span class="number">0</span> AS build-<span class="keyword">env</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> . /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> gcr.io/distroless/nodejs</span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=build-env /app /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"hello.js"</span>]</span></span><br></pre></td></tr></table></figure><h2 id="chucksum-검증"><a class="markdownIt-Anchor" href="#chucksum-검증"></a> chucksum 검증</h2><p><code>ADD</code> 인스트럭션으로 추가 된 파일은 해시기반 체크섬 검증을 해주는 것이 좋다.</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ADD</span><span class="bash"> library.zip .</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> library_SHA256 .</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> library_SHA256.sig .</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Import PGP public key</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> curl https://.../pgp_keys.asc | gpg --import</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 라이브러리 전자 서명 검증</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> gpg --verify library_SHA256.sig library_SHA256</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify checksum</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> cat library_SHA256 | grep linux_amd64 | sha256sum -cs</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> unzip libary.zip</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mv library /usr/<span class="built_in">local</span>/bin</span></span><br><span class="line"><span class="comment"># 실행</span></span><br></pre></td></tr></table></figure><h2 id="dockerigonore"><a class="markdownIt-Anchor" href="#dockerigonore"></a> dockerigonore</h2><ul><li>Dockerfile 빌드 시에 따라 들어가지 않게 된다.</li><li>Dockerfile 과 같은 레벨 디렉토리에 있어야한다.</li></ul><figure class="highlight"><figcaption><span>.dockerignore</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.git</span><br><span class="line">.idea</span><br><span class="line">.vscode</span><br><span class="line">.github</span><br><span class="line">*.log</span><br></pre></td></tr></table></figure><h2 id="이미지-테스트"><a class="markdownIt-Anchor" href="#이미지-테스트"></a> 이미지 테스트</h2><p>빌드 후의 이미지 내부에 상태가 적절한지 테스트하기 위해 아래 두 가지 yaml 기반의 테스트 툴을 사용할 수 있다.</p><ul><li><a href="https://github.com/GoogleContainerTools/container-structure-test" target="_blank" rel="external nofollow noopener noreferrer">container-structure-test</a></li><li><a href="https://github.com/aelsabbahy/goss" target="_blank" rel="external nofollow noopener noreferrer">goss</a></li></ul><p>이 중 <strong>goss</strong>는 실제 포트 및 서비스가 서빙 중인지 확인이 가능해 더 유용할 것으로 보인다.</p><h2 id="이미지-보안"><a class="markdownIt-Anchor" href="#이미지-보안"></a> 이미지 보안</h2><h3 id="user"><a class="markdownIt-Anchor" href="#user"></a> user</h3><p>호스트의 리소스를 컨테이너에서 공유하는 Docker는 사용자 UID도 0으로 같이 공유되므로 같은 권한을 갖게 된다.<br>이 문제를 방지하기 위해 <code>useradd</code> 로 어플리케이션 실행 유저를 만들어 주고 <code>USER</code> 인스트럭션을 사용해 실행을 해줘야한다.</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> main.go /app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> useradd gracefullight</span></span><br><span class="line"><span class="keyword">USER</span> gracefullight</span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"go"</span>, <span class="string">"RUN"</span>, <span class="string">"/app/main.go"</span>]</span></span><br></pre></td></tr></table></figure><h3 id="secret"><a class="markdownIt-Anchor" href="#secret"></a> secret</h3><ul><li><a href="https://www.vaultproject.io/docs/install/" target="_blank" rel="external nofollow noopener noreferrer">Vault</a></li></ul><h1 id="dockerd-튜닝"><a class="markdownIt-Anchor" href="#dockerd-튜닝"></a> dockerd 튜닝</h1><ul><li>max-concurrent-downloads: 기본값은 3이며, <code>docker image pull</code> 로 한 번에 다운로드 되는 이미지 스레드 수를 증가시켜준다.</li><li>max-concurrent-uploads: 기본값은 5이며, <code>docker image push</code> 시에 이미지 업로드 스레드 수를 증가시켜준다.</li><li>registry-mirrors: Docker hub의 미러 레지스트리를 만들어 트래픽 향상에 이점을 줄 수 있다.</li></ul><h1 id="private-registry"><a class="markdownIt-Anchor" href="#private-registry"></a> private registry</h1><p>빠른 이미지 푸쉬/풀과 소스 때문이라도 private registry 는 필수적이다.<br>docker 에서 제공하는 registry 이미지를 사용하면 된다.</p><p>GUI 기반으로 확인할 수 있는 툴은 아래와 같다.</p><ul><li><a href="https://github.com/goharbor/harbor" target="_blank" rel="external nofollow noopener noreferrer">Harbor</a>: 프라이빗 레포지토리를 위한 모든 기능이 다 있다. 쓰자.</li><li><a href="https://github.com/SUSE/Portus" target="_blank" rel="external nofollow noopener noreferrer">Portus</a>: 인증 포함, 하지만 루비라 소스 개선이 힘들듯</li><li><a href="https://github.com/Joxit/docker-registry-ui" target="_blank" rel="external nofollow noopener noreferrer">docker-registry-ui</a>: 20년 최근까지 개선 중</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>쿠버네티스 로그 아키텍쳐</title>
      <link href="/2020/01/01/kubernetes-log-architecture/"/>
      <url>/2020/01/01/kubernetes-log-architecture/</url>
      
        <content type="html"><![CDATA[<h1 id="관리-원칙"><a class="markdownIt-Anchor" href="#관리-원칙"></a> 관리 원칙</h1><ul><li>어플리케이션 로그는 모두 stdout 으로 출력해야한다.<ul><li>컨테이너로 운영하는 것을 전제로 한다면 파일 출력 자체가 불필요하다.</li></ul></li><li>Nginx 등의 미들웨어에서는 로그가 stdout 으로 출력되도록 이미지를 빌드한다.</li><li>stdout 으로 출력되는 로그는 모두 JSON 포맷으로 출력해 각 속성을 검색할 수 있게 한다.</li><li>쿠버네티스 환경에서는 <code>fluentd-kubernetes-daemonset</code> 을 포함하는 파드를 <code>DaemonSet</code>을 사용해 각 호스트에 배치한다.</li><li>쿠버네티스 리소스에서는 적절히 레이블을 부여해 로그를 검색할 수 있게 한다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>맥 추천 패키지</title>
      <link href="/2019/12/29/mac-recommended-packages/"/>
      <url>/2019/12/29/mac-recommended-packages/</url>
      
        <content type="html"><![CDATA[<p>여러 맥 기기의 환경을 구성하다보니 적어 놓는 게 나을 듯 싶었다.</p><h1 id="brew"><a class="markdownIt-Anchor" href="#brew"></a> brew</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><h2 id="formulae"><a class="markdownIt-Anchor" href="#formulae"></a> formulae</h2><h3 id="main-formulae"><a class="markdownIt-Anchor" href="#main-formulae"></a> main formulae</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">brew install azure-cli \</span><br><span class="line">  fzf \</span><br><span class="line">  git \</span><br><span class="line">  go \</span><br><span class="line">  java \</span><br><span class="line">  kubernetes-cli \</span><br><span class="line">  mas \</span><br><span class="line">  node \</span><br><span class="line">  python \</span><br><span class="line">  stern \</span><br><span class="line">  tree \</span><br><span class="line">  wget</span><br></pre></td></tr></table></figure><ul><li>azure-cli</li><li>fzf</li><li>git</li><li>go</li><li>java</li><li>kubernetes-cli</li><li>mas</li><li>node</li><li>python</li><li>stern</li><li>tree</li><li>wget</li></ul><h3 id="sub-formulae"><a class="markdownIt-Anchor" href="#sub-formulae"></a> sub formulae</h3><blockquote><p><a href="https://docs.docker.com/docker-for-mac/install/" target="_blank" rel="external nofollow noopener noreferrer">docker for mac</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap pivotal/tap</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">brew install anaconda \</span><br><span class="line">  dep \</span><br><span class="line">  helm \</span><br><span class="line">  kubectx \</span><br><span class="line">  springboot \</span><br><span class="line">  thefuck \</span><br><span class="line">  yarn \</span><br><span class="line">  youtube-dl \</span><br><span class="line">  zsh-autosuggestions \</span><br><span class="line">  zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><ul><li>anaconda</li><li>dep</li><li>helm</li><li>kubectx</li><li>springboot</li><li>thefuck</li><li>yarn</li><li>youtube-dl</li><li>zsh-autosuggestions</li><li>zsh-syntax-highlighting</li></ul><h2 id="cask"><a class="markdownIt-Anchor" href="#cask"></a> cask</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap homebrew/cask-fonts</span><br><span class="line">brew tap adoptopenjdk/openjdk</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">brew cask install adguard \</span><br><span class="line">  adoptopenjdk11 \</span><br><span class="line">  battle-net \</span><br><span class="line">  bitwarden \</span><br><span class="line">  cheatsheet \</span><br><span class="line">  cleanmymac \</span><br><span class="line">  firefox \</span><br><span class="line">  flux \</span><br><span class="line">  font-cascadia \</span><br><span class="line">  font-hack-nerd-font \</span><br><span class="line">  fork \</span><br><span class="line">  google-chrome \</span><br><span class="line">  haptickey \</span><br><span class="line">  hiddenbar \</span><br><span class="line">  iina \</span><br><span class="line">  iterm2 \</span><br><span class="line">  java \</span><br><span class="line">  jetbrains-toolbox \</span><br><span class="line">  keepingyouawake \</span><br><span class="line">  keka \</span><br><span class="line">  kitematic \</span><br><span class="line">  mattermost \</span><br><span class="line">  microsoft-edge \</span><br><span class="line">  pock \</span><br><span class="line">  sequel-pro \</span><br><span class="line">  slack \</span><br><span class="line">  telegram-desktop \</span><br><span class="line">  udeler \</span><br><span class="line">  yt-music</span><br></pre></td></tr></table></figure><ul><li>adguard: 💰</li><li>adoptopenjdk11: 자바</li><li>battle-net: 배틀넷</li><li>bitwarden: 비밀번호 관리</li><li>cheatsheet: ⌘ 키를 오래 누르면 해당 프로그램의 모든 단축키를 볼 수 있음</li><li>cleanmymac: 💰</li><li>firefox: 파이어폭스</li><li>flux: 블루라이트 차단</li><li>font-cascadia: Cascadis Code 폰트</li><li>font-hack-nerd-font: iTerm2 용 터미널 폰트</li><li>fork: 무료 중 최고의 git client</li><li>google-chrome: 크롬</li><li>haptickey: 터치바 반응성 추가</li><li>hiddenbar: 작업표시줄의 프로그램 숨기기</li><li>iina: 깔끔한 인터페이스의 미디어 플레이어</li><li>iterm2: 터미널</li><li>jetbrains-toolbox: jetbrains IDE 버전 관리</li><li>keepingyouawake: 잠자기 모드 제어</li><li>keka: 압축 프로그램</li><li>kitematic: 컨테이너 쇼핑</li><li>mattermost: 매터모스트</li><li>microsoft-edge: edge</li><li>pock: 터치바를 Dock으로 만들어줌</li><li>sequel-pro: MySQL GUI client</li><li>slack: 슬랙</li><li>telegram-desktop: 텔레그램</li><li>udeler: udemy 강의 다운로더</li><li>yt-music: 유튜브 뮤직 플레이어</li></ul><h1 id="app-store"><a class="markdownIt-Anchor" href="#app-store"></a> App store</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mas install 497799835 \</span><br><span class="line">  1355679052 \</span><br><span class="line">  869223134 \</span><br><span class="line">  441258766 \</span><br><span class="line">  1295203466 \</span><br><span class="line">  1274495053 \</span><br><span class="line">  1289197285 \</span><br><span class="line">  1471801525 \</span><br><span class="line">  897118787 \</span><br><span class="line">  1176895641 \</span><br><span class="line">  425424353 \</span><br><span class="line">  1475628500</span><br></pre></td></tr></table></figure><ul><li>xcode: <strong>497799835</strong></li><li>dropover: <strong>1355679052</strong> 드래그 후 흔들면 가상폴더로 저장</li><li>kakaotalk: <strong>869223134</strong> 카카오톡</li><li>magnet: 💰 <strong>441258766</strong> 창 크기 전환</li><li>microsoft remote desktop: <strong>1295203466</strong> 윈도우 원격</li><li>microsoft todo: <strong>1274495053</strong> todo 관리</li><li>mindnode: <strong>1289197285</strong> 마인드맵</li><li>polyglot: <strong>1471801525</strong> 사파리 번역기</li><li>shazam: <strong>897118787</strong> 음악 찾기</li><li>spark: <strong>1176895641</strong> 최고의 mail client</li><li>unicorn https: <strong>1475628500</strong> Encrypt DNS query</li></ul><h1 id="개선"><a class="markdownIt-Anchor" href="#개선"></a> 개선</h1><ul><li><a href="https://github.com/Homebrew/homebrew-bundle" target="_blank" rel="external nofollow noopener noreferrer">bundle</a> 처리</li></ul>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>쿠버네티스 롤링 업데이트와 배포</title>
      <link href="/2019/12/27/kubernetes-rolling-update/"/>
      <url>/2019/12/27/kubernetes-rolling-update/</url>
      
        <content type="html"><![CDATA[<h1 id="deployment"><a class="markdownIt-Anchor" href="#deployment"></a> Deployment</h1><p>Deployment 의 파드 교체 전략에는 <strong>RollingUpdate</strong> 와 <strong>Recreate</strong> 가 있다.<br>기본 값은 <strong>RollingUpdate</strong> 이며 간단한 설정이 적용된 디플로이먼트는 아래와 같을 것이다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">test-rolling-update</span></span><br><span class="line">  <span class="attr">label:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">test</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">3</span></span><br><span class="line">      <span class="attr">maxSerge:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">echo</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><p>여기서 롤링업데이트 속성을 좀 더 자세히 알아보자.</p><h2 id="rollingupdate"><a class="markdownIt-Anchor" href="#rollingupdate"></a> RollingUpdate</h2><h3 id="maxunavailable"><a class="markdownIt-Anchor" href="#maxunavailable"></a> maxUnavailable</h3><ul><li>롤링 업데이트 중 동시에 삭제할 수 있는 파드의 최대 갯수</li><li>기본 값은 replicas의 25% 이다.</li><li><code>replicas: 4</code>의 경우 1개 파드 삭제, <code>replicas: 8</code>의 경우 2개 파드 동시 삭제</li><li>퍼센트 및 직접 지정이 가능하다.</li><li>위의 예시 디플로이먼트에서 롤링업데이트 시작 시 파드 3개가 바로 죽는다.</li><li>이 값을 높게 설정하면 동시에 교체되는 파드가 늘어나므로 롤링 업데이트 시간이 줄어든다.<ul><li>하지만 롤링업데이트 중에 남아 있는 파드에 요청 수가 몰릴 수 있다.</li><li>따라서 <code>1</code>로 설정해 파드를 하나씩 교체하는 것이 안전할 수 있다.</li></ul></li></ul><h3 id="maxsurge"><a class="markdownIt-Anchor" href="#maxsurge"></a> maxSurge</h3><ul><li>롤링 업데이트 중 동시에 생성하는 파드 갯수</li><li>기본 값은 replicas의 25% 이다.</li><li><code>replicas: 4</code>면서 <code>maxSurge: 4</code>면 롤링 업데이트 시작 시 새 버전의 파드가 4개 추가로 생성된다.</li><li>이 값을 높게 설정하면 필요한 파드를 빨리 생성하므로 파드 교체 시간이 단축된다.<ul><li>하지만 필요한 시스템 자원이 급증할 수 있다.</li></ul></li></ul><h2 id="probe"><a class="markdownIt-Anchor" href="#probe"></a> Probe</h2><p>세부 설정은 <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes" target="_blank" rel="external nofollow noopener noreferrer">Docs</a>를 참조하자</p><h3 id="livenessprobe"><a class="markdownIt-Anchor" href="#livenessprobe"></a> livenessProbe</h3><ul><li>애플리케이션 헬스 체크 기능</li><li>애플리케이션이 의존하는 컨테이너 안의 파일의 존재여부 확인</li><li>Unhealthy 상태의 경우 파드 재시작</li></ul><h3 id="readinessprobe"><a class="markdownIt-Anchor" href="#readinessprobe"></a> readinessProbe</h3><ul><li>컨테이너 외부에서 HTTP 등의 트래픽을 발생시켜 처리할 수 있는 상태인지 확인</li><li><code>tcpSocket</code>으로 포트 지정도 가능하다.</li></ul><h2 id="응답-중인-파드-교체"><a class="markdownIt-Anchor" href="#응답-중인-파드-교체"></a> 응답 중인 파드 교체</h2><p>응답 중인 파드가 교체되는 경우 <code>SIGTERM</code> 신호를 보내 파드가 삭제되는데,<br><code>Graceful Shutdown</code> 상태로 만들기 위해서 종료 처리가 오래 걸리는 파드엔 <strong>terminationGracePeriodSeconds</strong> 를 설정해주는 것이 좋다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="comment"># 기본값 30</span></span><br><span class="line">  <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">40</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">maria</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">maria:latest</span></span><br></pre></td></tr></table></figure><p><em>Nginx</em>처럼 <code>SIGTERM</code> 시그널을 받고 바로 종료되는 어플리케이션이 있는 파드라면, 라이플사이클 훅을 활용해 안전하게 종료시키는 것이 중요하다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="comment"># 파드 종료 전 훅</span></span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">        <span class="attr">exec:</span></span><br><span class="line">          <span class="attr">command:</span> <span class="string">["/usr/sbin/nginx",</span> <span class="string">"-s"</span><span class="string">,</span> <span class="string">"quit"</span><span class="string">]</span></span><br></pre></td></tr></table></figure><h2 id="파드-11-교체"><a class="markdownIt-Anchor" href="#파드-11-교체"></a> 파드 1:1 교체</h2><p>그렇다면 <code>replicas: 1</code>인 파드를 1:1 교체 시에는 어떤 전략을 가져가야할까<br>답은 아래와 같다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">strategy:</span></span><br><span class="line"> <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line"> <span class="attr">rollingUpdate:</span></span><br><span class="line">   <span class="comment"># 롤링 업데이트 시 삭제 되는 파드 수</span></span><br><span class="line">   <span class="attr">maxUnavailable:</span> <span class="number">0</span></span><br><span class="line">   <span class="comment"># 롤링 업데이트 시 새로 생성되는 파드 수</span></span><br><span class="line">   <span class="attr">maxSurge:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>여기에 파드가 트래픽을 받을 수 있는지 <code>readinessProbe</code>를 추가해주면 된다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readinessProbe:</span></span><br><span class="line">  <span class="attr">httpGet:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/ping</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">initialDelaySeconds:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">successThreshold:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">timeoutSeconds:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><p>5초 후에 5초마다 <code>/ping</code> 을 보내 성공여부를 확인한다.<br>타임아웃은 3초며 3번까지 재시도한다.</p><h2 id="bluegreen"><a class="markdownIt-Anchor" href="#bluegreen"></a> Blue/Green</h2><ul><li>디플로이먼트를 2개 만들고, 서비스의 selector 값을 라벨에 따라 변경하자.</li><li>서비스메시를 연동하면 카나리아 배포 방식도 가능하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonic - 기본기</title>
      <link href="/2019/12/15/Pythonic-the-basics/"/>
      <url>/2019/12/15/Pythonic-the-basics/</url>
      
        <content type="html"><![CDATA[<h1 id="the-basics"><a class="markdownIt-Anchor" href="#the-basics"></a> The Basics</h1><h2 id="types"><a class="markdownIt-Anchor" href="#types"></a> Types</h2><ul><li>아무 것도 없는 타입은 <code>None</code></li><li>주석<ul><li><code>#</code></li><li><code>&quot;&quot;&quot; &quot;&quot;&quot;</code></li></ul></li><li>포매팅<ul><li><code>f’test {변수}'</code></li><li><code>&quot;test {}&quot;.format(변수)</code></li></ul></li><li><code>list</code>, <code>dict</code>, <code>set</code> 등은 <strong>immutable</strong> 하지 않아 <code>copy</code> 메소드를 사용해 복사 필요</li><li>스왑<ul><li>a, b = b, a 로 한 줄로 가능</li></ul></li><li>set<ul><li><code>{}</code> 으로 set 지정가능</li><li>집합연산 가능</li><li><code>set([])</code> 로 배열을 set으로 변환 가능</li></ul></li><li>enum<ul><li>튜플로 지정하면 됨</li><li>튜플은 <strong>freeze</strong> 되어 있다.</li><li><code>('a', 'b', 'c')</code></li></ul></li><li>list<ul><li>merge는 더하기로 가능 <code>[] + []</code></li></ul></li></ul><h2 id="operaters"><a class="markdownIt-Anchor" href="#operaters"></a> Operaters</h2><ul><li>if<ul><li>값 체킹에는 <code>0.0</code> <code>''</code> <code>[]</code> <code>()</code> <code>{}</code> <code>set()</code> 등 모든 빈 값이 <code>false</code> 로 떨어진다.<ul><li>따라서 <s>len(foo) &gt; 0</s> 보다 권장</li></ul></li><li><s>if foo != True</s> 보다 <code>if not foo</code> 를 권장</li><li>dict 키 검증 시에는 <code>if 'key' in d:</code> 를 권장 <s>if ‘key’ in d.keys():</s> 필요없다.</li><li><code>y=None</code> <code>x = 1 if y else 2</code> 면 x=2 라는 문법이 된다.</li></ul></li><li>is 문은 값이 None 인지 확인할 때 권장<ul><li><s>if foo == None</s> 보다 <code>if foo is None</code> 을 권장</li><li><code>if foo is not None</code></li></ul></li><li>while<ul><li><code>while else</code> 구문 가능<br>else 는 while 에 break 가 없을 경우 while 끝나고 실행</li></ul></li><li>for<ul><li><code>for in</code></li><li><code>for in else</code> 구문 가능<br>else는 for 에 break 가 없을 경우 for 끝나고 실행</li><li><code>for _ in range(10)</code> 처럼 underscore 는 index 를 안쓸때 권장</li><li><code>for i, item in enumerate(['a', 'b', 'c'])</code> 처럼 index 넣어줄 수 있음</li><li><code>for day, fruit in zip(days, fruit)</code> 처럼 패킹(zip) 함수 기본 제공</li><li><code>for k, v in d.items()</code> 로 dict 타입 반복 가능</li></ul></li><li>func<ul><li><code>def func():</code> 로 함수선언</li><li><code>def add(a: int, b: int) -&gt; int:</code> 처럼 파라미터 및 리턴 타입 정의 가능<ul><li>compile error 발생 안 함</li><li>보여주기 위한 타입 기능</li></ul></li><li>매개변수를 위치 인수로 넣을 수 있음<ul><li><code>def menu(entree, drink)</code>라면 <code>menu(drink='a', entree='b')</code> 로 호출 가능</li></ul></li><li>list 매개변수는 기본값으로 넣으면 안 됨 <code>def foo(list=[])</code> 면 리스트가 <strong>한 번만</strong> 생성됨 (함수 내부 초기화 필요)</li><li><code>def func(*args)</code> 로 동적매개변수 처리 가능 <strong>튜플로 처리됨</strong></li><li><code>def func(**kargs)</code> 로 넣으면 dict로 전달가능 <code>func(key1='val', key2='val')</code></li><li>두 구문을 같이쓸 수 있지만 <code>*args</code>는 <code>**kargs</code> 보다 <strong>먼저 와야한다.</strong></li><li>함수 내부 <code>&quot;&quot;&quot; &quot;&quot;&quot;</code> doc 주석을 넣으면 <code>help(func.__doc__), help(func)</code> 로 도움말 호출 가능</li><li>클로져로 wrapper 함수를 만들면 <strong>데코레이터</strong>로 바로 적용 가능</li><li><code>func(lists, lambda item: item.value())</code> 람다 처리가능 (value: returnValue)</li></ul></li><li><strong>비추천</strong> <code>dic = {x: y for x, y in (zip(w, f)}</code> 처럼 한 번에 for문 dictionary 선언 가능</li><li>genarator<ul><li>def + yield</li><li><code>gen = (i for i in range(10) if i % 2 == 0)</code> 처럼 한 번에 선언하면 제네레이터가 된다.</li><li><code>tuple(gen)</code> 하면 튜플로 처리된다.</li><li>for 보다 빠를 수 있다.</li></ul></li><li><code>globals()</code>, <code>locals()</code> 로 전역, 로컬변수 확인가능</li><li>excpetion<ul><li><code>try: except IndexError as ex: finally:</code></li><li><code>try: except: else: finally:</code> 가 있다면 try =&gt; else =&gt; finally 로 실행</li><li><code>raise IndexError('test error')</code> 처럼 raise 로 에러 발생 가능</li><li>기본에러는 exception hierarchy 참조</li></ul></li></ul><h2 id="package"><a class="markdownIt-Anchor" href="#package"></a> Package</h2><ul><li><code>__init__.py</code> 가 있어야한다.</li><li><s>import package.utils</s> 또는 <code>from package import utils</code> 해서 <code>utils.func</code> 롤 호출</li><li><code>from package import utils as NamedUtil</code> 처럼 as 문으로 네임스페이스 변경 가능</li><li><strong>비추천</strong> <code>from package.folder import *</code> 로 folder 레벨의 모든 python import 가 가능한데<br><code>folder.__init__.py</code> 에 <code>__all__ = ['py', 'py2']</code> 처럼 선언해줘야한다.</li><li><a href="http://setup.py" target="_blank" rel="external nofollow noopener noreferrer">setup.py</a> 를 만들어 패키지를 배포시킬 수 있다.<ul><li>PyCharm: Tools &gt; Create <a href="http://setup.py" target="_blank" rel="external nofollow noopener noreferrer">setup.py</a> &gt; run <a href="http://setup.py" target="_blank" rel="external nofollow noopener noreferrer">setup.py</a> &gt; sdist 로 출력</li><li>Cli: <code>python setup.py sdist</code></li></ul></li><li>PyPI 에 서드파티 라이브러리를 등록하면 <code>pip install termcolor</code> 처럼 설치 가능</li><li>import 라이브러리 순서는 위에서부터 <strong>표준, pip, 로컬패키지, 로컬파일</strong></li><li><code>if __name__ == '__main__': main()</code> 은 <strong>entrypoint 스크립트</strong>에서 사용되는 패턴이다.</li></ul><h2 id="class"><a class="markdownIt-Anchor" href="#class"></a> Class</h2><ul><li>생성자 <code>__init__(self):</code>, <code>Instance()</code> 로 new 없이 생성</li><li>소멸자 <code>__del__(self):</code>, <code>del instance</code> 로 삭제</li><li>class method 의 첫 인자로는 self를 받아야 this처럼 사용이 가능하다. 두 번째 부터 파라미터를 받을 수 있다.</li></ul><h3 id="protected"><a class="markdownIt-Anchor" href="#protected"></a> protected</h3><ul><li>proteced 변수는 <code>_var</code> 처럼 underscore 하나를 넣는다.</li><li><code>@property</code>, <code>@property_name.setter</code> 데코레이터를 통해 <strong>getter/setter</strong> 처리가 가능하다.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Instance</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._foo</span><br><span class="line"></span><br><span class="line"><span class="meta">    @foo.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self, bar)</span>:</span></span><br><span class="line">        self._foo = bar</span><br><span class="line"></span><br><span class="line">intance = Instance()</span><br><span class="line">instance.foo = bar</span><br></pre></td></tr></table></figure><h3 id="private"><a class="markdownIt-Anchor" href="#private"></a> private</h3><ul><li>private 변수는 <code>self.__foo</code> 로 underscore 두 개를 넣는다.</li><li>인스턴스 밖에서 접근이 불가능하다.</li></ul><h3 id="class-variable"><a class="markdownIt-Anchor" href="#class-variable"></a> class variable</h3><ul><li>클래스 변수는 모든 오브젝트 초기화시에 공유되므로 list, dict… 등을 사용하지 않아야한다.</li><li>상수처럼 쓰는게 좋을 듯</li></ul><h3 id="class-method"><a class="markdownIt-Anchor" href="#class-method"></a> class method</h3><ul><li>class 메소드는 <code>@classmethod</code> 데코레이터로 가능하다.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Instance</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="comment"># cls 로 클래스 접근가능</span></span><br><span class="line">        <span class="keyword">return</span> cls.bar</span><br><span class="line"></span><br><span class="line">Instance.foo()</span><br></pre></td></tr></table></figure><h3 id="static-method"><a class="markdownIt-Anchor" href="#static-method"></a> static method</h3><ul><li>static 메소드는 <code>@staticmethod</code> 데코레이터로 정의할 수 있으나 잘 사용되지는 않는다.</li></ul><h3 id="상속"><a class="markdownIt-Anchor" href="#상속"></a> 상속</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span><span class="params">(Parent)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().__init__</span><br></pre></td></tr></table></figure><ul><li>다중상속 하지말자</li><li><code>class Twins(Parent, Parent2)</code> 로 되지만 메소드명이 같을 경우 왼쪽에 선언된 것만 실행된다.</li></ul><h3 id="추상"><a class="markdownIt-Anchor" href="#추상"></a> 추상</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> abc</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span><span class="params">(metaclass=abc.ABCMeta)</span>:</span></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span><span class="params">(Parent)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'foo'</span>)</span><br></pre></td></tr></table></figure><h3 id="특수-메소드"><a class="markdownIt-Anchor" href="#특수-메소드"></a> 특수 메소드</h3><ul><li>많지만 <code>__str__</code> 이 제일 많이 쓴다. <code>toString()</code> 과 같다.</li><li><code>__len__</code> (len(instance))</li><li><code>__eq__</code> (instance == instance2)</li><li><code>__add__</code> (instance + instance2)</li><li>등등…</li><li>클래스 기본기능을 해치는 개인적인 느낌</li></ul><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>MSA의 시대에 살고 있는 어플리케이션 레이어의 개발자는 어쩔 수 없이 폴리글랏 프로그래머가 되기 마련이다.</li><li>하나의 언어에 능통하면 다른 언어로 넘어가는 데에는 익숙함의 문제지만,<br>그 언어를 제대로 사용하기 위해 가장 중요한 건 스타일 가이드, 린팅과 주기적인 Docs, Release Notes 확인이라고 생각한다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pep8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Carbon 으로 timestamp 파싱하기</title>
      <link href="/2019/12/13/carbon-parse-timestamp/"/>
      <url>/2019/12/13/carbon-parse-timestamp/</url>
      
        <content type="html"><![CDATA[<h1 id="timestamp"><a class="markdownIt-Anchor" href="#timestamp"></a> Timestamp</h1><p><code>Carbon</code>으로 타임스탬프를 파싱하는 데에는 <code>createFromTimestamp</code> 메소드가 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Carbon::createFromTimestamp(<span class="number">1576249805</span>)-&gt;format();</span><br></pre></td></tr></table></figure><p>하지만 더 쉽게 <code>parse</code> 메소드를 사용해 파싱할 수도 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$timestamp = <span class="number">1576249805</span>;</span><br><span class="line">Carbon::parse(<span class="string">'@'</span> . $timestamp)-&gt;format();</span><br></pre></td></tr></table></figure><p>여기서의 <code>@</code>는 오류를 무시하는 기분이 들어서 찾아보았는데 표준이였다.</p><p><strong>Example #2 DateTime::setTimestamp() alternative in PHP 5.2</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ts = <span class="number">1171502725</span>;</span><br><span class="line">$date = <span class="keyword">new</span> DateTime(<span class="string">"@$ts"</span>);</span><br><span class="line"><span class="keyword">echo</span> $date-&gt;format(<span class="string">'U = Y-m-d H:i:s'</span>) . <span class="string">"\n"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li>timestamp 는 UTC 기준이며 (1970년부터의 차이) timezone 을 정의할 수 없다.</li><li><a href="https://www.php.net/manual/en/datetime.settimestamp.php" target="_blank" rel="external nofollow noopener noreferrer">php man: datetime.settimestamp</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> carbon </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> carbon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>타입스크립트에서 json import 방법</title>
      <link href="/2019/11/26/import-json-with-typescript-ts5071/"/>
      <url>/2019/11/26/import-json-with-typescript-ts5071/</url>
      
        <content type="html"><![CDATA[<h1 id="ts5071"><a class="markdownIt-Anchor" href="#ts5071"></a> TS5071</h1><p>node 에서 즐겨쓰는 <code>package.json</code> import 방법은 아래와 같다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> packageJson <span class="keyword">from</span> <span class="string">'../package.json'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(packageJson.version);</span><br></pre></td></tr></table></figure><p>편안하게 잘 사용되는 로직인데 타입스크립트로 변경시에는 몇 가지 설정을 해줘야한다.<br>설명에 필요없는 설정은 생략했다.</p><figure class="highlight json"><figcaption><span>tsconfig.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</span><br><span class="line">    <span class="attr">"resolveJsonModule"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"esModuleInterop"</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>또는 <code>tsc</code> 실행시에 <code>--esModuleInterop</code>, <code>--resolveJsonModule</code> 옵션을 추가해 빌드해줘야한다.</p><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="https://github.com/microsoft/TypeScript/issues/26224" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/microsoft/TypeScript/issues/26224</a></li><li><a href="https://github.com/microsoft/TypeScript/pull/26825/files" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/microsoft/TypeScript/pull/26825/files</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> json </tag>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vee-validate3 모든 규칙 추가시 TS7053 오류</title>
      <link href="/2019/11/26/Vee-validate-installing-all-rules-ts7053/"/>
      <url>/2019/11/26/Vee-validate-installing-all-rules-ts7053/</url>
      
        <content type="html"><![CDATA[<h1 id="ts7053"><a class="markdownIt-Anchor" href="#ts7053"></a> TS7053</h1><p>3.0 버전이 되면서 <code>HOC</code> 기반으로 변경되며 <code>rules</code>를 상위 컴포넌트에서 확장하게 되었다.<br>문제는 <code>typescript</code> 기반에서 룰 전체 등록이 <strong>TS(7053)</strong> 에러를 발생시킨다.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ValidationProvider, ValidationObserver, extend &#125; <span class="keyword">from</span> <span class="string">"vee-validate"</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> rules <span class="keyword">from</span> <span class="string">"vee-validate/dist/rules"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(rules).forEach(<span class="function"><span class="params">rule</span> =&gt;</span> &#123;</span><br><span class="line">  extend(rule, rules[rule]); <span class="comment">// rules[rule] 에서 타입오류 발생</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type &#39;typeof import(&quot;...&#x2F;node_modules&#x2F;vee-validate&#x2F;dist&#x2F;rules&quot;)&#39;.</span><br><span class="line">No index signature with a parameter of type &#39;string&#39; was found on type &#39;typeof import(&quot;...&#x2F;node_modules&#x2F;vee-validate&#x2F;dist&#x2F;rules&quot;)&#39;.ts(7053)</span><br></pre></td></tr></table></figure><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>import, export 의 모듈명은 string index 로 쳐지지 않아 발생한다.</p><h1 id="해결방법"><a class="markdownIt-Anchor" href="#해결방법"></a> 해결방법</h1><p><code>Object.entries</code>와 <code>for of</code>를 사용해 타입에 안전하게 돌려주면 된다.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; extend &#125; <span class="keyword">from</span> <span class="string">"vee-validate"</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> rules <span class="keyword">from</span> <span class="string">"vee-validate/dist/rules"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [rule, validation] of <span class="built_in">Object</span>.entries(rules)) &#123;</span><br><span class="line">  extend(rule, &#123;</span><br><span class="line">    ...validation</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>새로운 구문 (async/await, import/export)를 사용해 돌릴 땐 먼저 <code>for of</code>를 사용하는 습관을 들여야겠다.</li><li>머지되어서 다음 사람의 삽질은 없을 듯 하다.</li></ul><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><strong>Merged</strong> <a href="https://github.com/logaretm/vee-validate/pull/2511" target="_blank" rel="external nofollow noopener noreferrer">docs: added Installing All Rules with typescript</a></li><li><a href="https://logaretm.github.io/vee-validate/guide/rules.html#installing-all-rules" target="_blank" rel="external nofollow noopener noreferrer">vee-validate#installing-all-rules</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
          <category> vee-validate </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
            <tag> vee-validate </tag>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Helm chart의 모든 것</title>
      <link href="/2019/10/27/Helm-chart%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"/>
      <url>/2019/10/27/Helm-chart%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="helm"><a class="markdownIt-Anchor" href="#helm"></a> Helm</h1><blockquote><p>Helm is a tool for manaing Kubernetes charts.<br>Charts are packages of pre-configured Kubernetes resources.</p></blockquote><ul><li>헬름은 쿠버네티스 차트를 관리하기 위한 도구</li><li>차트는 사전 구성된 쿠버네티스 리소스의 패키지</li><li>같은 어플레케이션을 여러 환경에 배포시 환경 변수, 도메인 등의 manifest 파일을 차트를 통해 관리</li><li>차트를 중심으로 하는 쿠버네티스 개발 종합 관리 도구</li></ul><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 설치</span></span><br><span class="line">brew install kubernetes-helm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 초기화</span></span><br><span class="line">helm init</span><br><span class="line"></span><br><span class="line"><span class="comment"># tiller 파드 확인</span></span><br><span class="line">kubectl -n kube-system get service,deployment,pod --selector app=helm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 버전 확인</span></span><br><span class="line">helm version</span><br></pre></td></tr></table></figure><h1 id="구성"><a class="markdownIt-Anchor" href="#구성"></a> 구성</h1><ul><li>cli와 쿠버네티스 클러스터에 설치되는 서버인 tiller(틸러)로 구성</li></ul><h2 id="chart"><a class="markdownIt-Anchor" href="#chart"></a> chart</h2><ul><li>쿠버네티스는 service, deployment, ingress 등 리소스를 생성하고 manifest 파일을 적용하는 방식으로 어플리케이션을 배포한다. 이 manifest 파일을 생성하는 템플릿을 여러 개 패키징한 것</li><li>helm repository 에 tgz 파일로 저장</li></ul><h3 id="chart-구성"><a class="markdownIt-Anchor" href="#chart-구성"></a> chart 구성</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chart-example</span><br><span class="line">├── charts <span class="comment"># 차트가 의존하는 차트 디렉토리</span></span><br><span class="line">├── templates <span class="comment"># manifest 파일 템플릿 디렉토리</span></span><br><span class="line">│   ├── NOTES.txt <span class="comment"># 차트 사용법 등 참조 문서 템플릿</span></span><br><span class="line">│   ├── _helper.tpl <span class="comment"># manifest 렌더링에 사용되는 템플릿 헬퍼</span></span><br><span class="line">│   └── example.yaml <span class="comment"># 각종 K8S 리소스의 manifest 템플릿</span></span><br><span class="line">├── Chart.yaml <span class="comment"># 차트 정보가 정의 파일</span></span><br><span class="line">└── values.yaml <span class="comment"># 차트 기본값 value 파일</span></span><br></pre></td></tr></table></figure><p>차트 설치시 <code>values.yaml</code> 에 override 할 값을 정의한 <code>yaml</code> 파일을 만들면 된다.</p><h2 id="repository"><a class="markdownIt-Anchor" href="#repository"></a> repository</h2><ul><li>local: 헬름 클라이언트가 설치된 로컬 리포, 로컬에서 생성한 패키지가 존재</li><li>stable: stable charts repo, 기본값이며 <a href="https://github.com/helm/charts/tree/master/stable" target="_blank" rel="external nofollow noopener noreferrer">helm/charts</a> 차트 사용 가능</li><li>incubator: stable 조건 미달 repo<ul><li><code>helm repo add incubator https://kubernetes-charts-incubator.storage.googleapis.com/</code></li></ul></li><li><code>helm search</code> 로 차트 검색 가능</li></ul><h1 id="명령어"><a class="markdownIt-Anchor" href="#명령어"></a> 명령어</h1><h2 id="init"><a class="markdownIt-Anchor" href="#init"></a> init</h2><p>보통은 <code>helm init</code><br>실서버에서는 <code>helm init --service-account tiller --node-selectors system --history-max 10</code><br>업그레이드는 <code>helm init --upgrade</code></p><ul><li>–service-account: 틸러가 사용할 서비스계정</li><li>–node-selectors: 틸러를 배포할 노드 레이블</li><li>–upgrade: 틸러 업그레이드</li><li>–history-max: 리소스 하나당 유지할 최대 히스토리 수</li></ul><h2 id="create"><a class="markdownIt-Anchor" href="#create"></a> create</h2><p><code>helm create 차트명</code></p><h2 id="package"><a class="markdownIt-Anchor" href="#package"></a> package</h2><p><code>helm package 차트명</code><br>차트를 압축파일로 패키징</p><ul><li>–version: 차트 버전 지정<ul><li>없을 경우 차트의 버전을 따른다.</li></ul></li></ul><h2 id="search"><a class="markdownIt-Anchor" href="#search"></a> search</h2><p><code>helm search 검색어</code></p><ul><li>-r, --regexp: 검색어를 정규표현식으로 사용</li><li>-l, --versions: 버전 목록도 출력</li></ul><h2 id="fetch"><a class="markdownIt-Anchor" href="#fetch"></a> fetch</h2><p><code>helm fetch 차트경로</code></p><ul><li>–version: 특정 버전 지정</li></ul><h2 id="serve"><a class="markdownIt-Anchor" href="#serve"></a> serve</h2><p><code>helm serve</code><br>로컬 레포지토리로 사용할 웹 서버 시작</p><ul><li>–address: 서버가 개방할 주소<ul><li>기본값은 127.0.0.1:8879</li></ul></li><li>–repo-path: 차트 레포지토리가 될 로컬 디렉토리</li></ul><h2 id="install"><a class="markdownIt-Anchor" href="#install"></a> install</h2><p><code>helm install 차트명</code><br>차트로 애플리케이션 설치</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">helm install stable/redis --name my-redis</span><br><span class="line"></span><br><span class="line">helm install stable/redis --version 3.6.0 \</span><br><span class="line">  --name my-redis \</span><br><span class="line">  --namespace gracefullight \</span><br><span class="line">  -f ./my-redis.yaml</span><br></pre></td></tr></table></figure><ul><li>–dry-run</li><li>–name: 릴리즈명</li><li>–namespace: 설치 대상 네임스페이스</li><li>-f, --values: yaml 파일 경로 (다수 가능)</li><li>–version: 차트 버전 지정</li></ul><h2 id="list"><a class="markdownIt-Anchor" href="#list"></a> list</h2><p><code>helm list</code><br><code>helm list --namespace kube-system</code></p><ul><li>–deleted: 삭제된 릴리즈 포함</li><li>–namespace: 해당 네임스페이스만 확인</li></ul><h2 id="get"><a class="markdownIt-Anchor" href="#get"></a> get</h2><p><code>helm get 릴리즈명</code><br>설치된 릴리스 상ㅇ세 정보를 yaml 으로 출력</p><ul><li>–revision: 릴리즈 리비전 확인</li></ul><h2 id="delete"><a class="markdownIt-Anchor" href="#delete"></a> delete</h2><p><code>helm delete 릴리즈명</code></p><ul><li>–purge: 릴리즈 삭제하고 릴리즈명 해제</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
            <tag> helm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>쿠버네티스 오브젝트와 클래스 오브젝트 비교</title>
      <link href="/2019/10/25/k8s-object-vs-class-object/"/>
      <url>/2019/10/25/k8s-object-vs-class-object/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>쿠버네티스를 이해하는 건 어렵다. DevOps 의 전반적인 플로우를 알아야 이 플로우도 이해가 가기 때문이라 생각한다.<br>생소한 용어들도 어렵다. <a href="/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/">한 판을 정리</a> 했지만 매번 참조해야되는 듯하다.</p><h1 id="오브젝트-비교"><a class="markdownIt-Anchor" href="#오브젝트-비교"></a> 오브젝트 비교</h1><table><thead><tr><th>개념</th><th>JAVA 클래스</th><th>쿠버네티스 오브젝트</th></tr></thead><tbody><tr><td>캡슐화</td><td>Class</td><td>Container image</td></tr><tr><td>인스턴스</td><td>Object</td><td>Container</td></tr><tr><td>재사용단위</td><td>jar</td><td>Container image</td></tr><tr><td>컴포지션</td><td>Class A Contains Class B</td><td>Sidecar pattern</td></tr><tr><td>상속</td><td>Class A extends Class B</td><td>A container’s from parent image</td></tr><tr><td>배포단위</td><td>jar, war…</td><td>Pod</td></tr><tr><td>빌드 및 런타임 아이솔레이션</td><td>Module, Package, Class</td><td>Namespace, Pod, Container</td></tr><tr><td>초기화</td><td>Consturctor</td><td>Init container</td></tr><tr><td>초기화 후 트리거</td><td>Init method</td><td>postStart</td></tr><tr><td>종료 전 트리거</td><td>Destroy</td><td>preStop</td></tr><tr><td>Cleanup</td><td>finalize(), shutdown hook</td><td><a href="https://github.com/kubernetes/community/pull/483" target="_blank" rel="external nofollow noopener noreferrer">Defer container</a></td></tr><tr><td>비동기, 병렬 실행</td><td>ThreadPoolExecutor, ForkJoinPool</td><td>Job</td></tr><tr><td>스케쥴링</td><td>Timer, ScheduledExecutorService</td><td>CronJob</td></tr><tr><td>백그라운드</td><td>Daemon thread</td><td>DaemonSet</td></tr><tr><td>설정관리</td><td>System.getenv(), Properties</td><td>ConfigMap, Secret</td></tr></tbody></table><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>개념 설정 전에 이 표를 알았더라면 훨씬 이해가 쉬웠을텐데</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Actions로 Hexo 배포 자동화하기</title>
      <link href="/2019/08/20/Deploy-Hexo-with-github-actions/"/>
      <url>/2019/08/20/Deploy-Hexo-with-github-actions/</url>
      
        <content type="html"><![CDATA[<h1 id="개념"><a class="markdownIt-Anchor" href="#개념"></a> 개념</h1><p>Docker 이미지로 생성된 후에 그 위에서 돌아간다.<br>자세한 개념은 시간날 때 추가 예정</p><h1 id="레파지토리-토큰-발급"><a class="markdownIt-Anchor" href="#레파지토리-토큰-발급"></a> 레파지토리 토큰 발급</h1><p><a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 참조해 레파지토리의 secret 으로 등록한다.</p><h1 id="서브모듈"><a class="markdownIt-Anchor" href="#서브모듈"></a> 서브모듈</h1><p>themes directory 하위의 테마들은 각각의 repo를 가지고 있다.<br>이 테마들을 CI 중에 가져오기 위해선 서브모듈로 등록해주고 초기화시켜줘야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 서브모듈 테마 추가</span></span><br><span class="line">git submodule add 테마깃경로 themes/테마명</span><br><span class="line"></span><br><span class="line"><span class="comment"># 싱크</span></span><br><span class="line">git submodule update --init --remote</span><br></pre></td></tr></table></figure><p>여기서 <code>remote</code> 옵션을 쓰지 않을 경우 최신 마스터를 pull 하지 않는다. 서브모듈을 쓰는 이유는 내가 관리하지 않기 위함이니 꼭 추가해주자.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><p>주석 없어도 하나하나가 무슨 느낌인지는 받아들여질 것 같다.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Node</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">node:</span> <span class="string">[12]</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@master</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SETUP_NODE_$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@master</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">BEFORE_INSTALL</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">i</span> <span class="string">-g</span> <span class="string">hexo</span> <span class="string">workbox-cli</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">BEFORE_SCRIPT</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">'gracefullight'</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">'eks012@gmail.com'</span></span><br><span class="line">        <span class="string">sed</span> <span class="string">-i</span> <span class="string">"s/__GITHUB_TOKEN__/$<span class="template-variable">&#123;&#123; secrets.HEXO_DEPLOY_TOKEN &#125;&#125;</span>/"</span> <span class="string">_config.yml</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">THEME_INSTALL</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">git</span> <span class="string">submodule</span> <span class="string">update</span> <span class="string">--init</span> <span class="string">--remote</span> <span class="string">--recursive</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NPM_INSTALL</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HEXO_CLEAN</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HEXO_GENERATE</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">WORKBOX_BUILD</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">workbox</span> <span class="string">injectManifest</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HEXO_DEPLOY</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure><h2 id="github_token"><a class="markdownIt-Anchor" href="#github_token"></a> GITHUB_TOKEN</h2><p><code>secrets.GITHUB_TOKEN</code> 은 예약된 토큰이다.<br>빌드 이미지에서 현재 repo를 접근하기 위한 토큰임을 알아두자.</p><h1 id="결론"><a class="markdownIt-Anchor" href="#결론"></a> 결론</h1><blockquote><p>travis-ci 안녕</p></blockquote><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="https://help.github.com/en/articles/workflow-syntax-for-github-actions" target="_blank" rel="external nofollow noopener noreferrer">Workflow syntax</a></li><li><a href="https://help.github.com/en/articles/virtual-environments-for-github-actions" target="_blank" rel="external nofollow noopener noreferrer">Virtual env</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> github </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>puppeteer 크롤링 속도 증가시키기</title>
      <link href="/2019/07/29/increase-puppeteer-crawling-speed/"/>
      <url>/2019/07/29/increase-puppeteer-crawling-speed/</url>
      
        <content type="html"><![CDATA[<p>페이지를 가져온 뒤 css, image, font를 차단하면 더 빠른 DOM 액세스가 가능하다.</p><h1 id="리소스-차단"><a class="markdownIt-Anchor" href="#리소스-차단"></a> 리소스 차단</h1><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @types/puppeteer</span></span><br><span class="line"><span class="keyword">import</span> &#123; launch, Browser, Request, Page &#125; <span class="keyword">from</span> <span class="string">'puppeteer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> browser: Browser = <span class="keyword">await</span> launch(&#123;</span><br><span class="line">  headless: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> page: Page = <span class="keyword">await</span> browser.newPage();</span><br><span class="line"><span class="keyword">await</span> page.setRequestInterception(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">page.on(<span class="string">'request'</span>, <span class="function">(<span class="params">req: Request</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> (req.resourceType()) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'stylesheet'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'font'</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'image'</span>:</span><br><span class="line">      req.abort();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      req.continue();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> page.goto(<span class="string">'URL'</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> puppeteer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> puppeteer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chrome 75 Webview에서 서비스워커의 fetch request 가 실패하는 문제</title>
      <link href="/2019/06/30/network-request-failed-in-serviceworker-on-chrome-75-webview/"/>
      <url>/2019/06/30/network-request-failed-in-serviceworker-on-chrome-75-webview/</url>
      
        <content type="html"><![CDATA[<h1 id="발단"><a class="markdownIt-Anchor" href="#발단"></a> 발단</h1><p>서비스워커는 n:m (사이트:디바이스)로 모든 클라이언트 기기에 설치된다.<br>배포 후 아무 문제 없이 동작하였으나, 190604 이후 웹뷰에서 <code>net::ERR_ABORTED</code> 페이지가 보인다는 버그가 들어오기 시작했다.<br>랜덤하게 발생되고 있어 추적이 어려웠으나 4일에 Chrome의 메이저 버전이 업데이트 되었다라는 것을 확인했고 디버깅을 시작했다.</p><h1 id="디버깅"><a class="markdownIt-Anchor" href="#디버깅"></a> 디버깅</h1><p>서비스워커가 내려오지 않은 경우 페이지가 100% 정상동작을 하였다.<br>서비스워커가 내려온 경우 랜덤하게 페이지가 로드되지 않았다.</p><p>문제는 서비스워커로 확인되었고, 세부적인 디버깅 내역은 다음과 같다.</p><ul><li>fetchListener 내부 cacheStorage 접근 예외처리: 재현</li><li>fetchListener 제거: 재현 안됨</li></ul><p>Chrome 75버전의 웹뷰에서 서비스워커의 fetching 방식이 변경되었다는 걸 확인할 수 있었다.<br>74, 75버전의 Diff를 찾을 수 있어 서비스워커 코어가 어마어마하게 변경되었다는 걸 확인할 수 있었으나 <em>이 코드를 디버깅하는 것보다 퇴사 후 행복하게 사는 게 멋질 것</em>이란 판단이 들었다.<br>다행히 구글러와 연락이 닿아 private 버그리포팅을 했고, Chrome은 오픈소스라 구글에서도 일일히 확인하기 힘들다라는 답변을 들을 수 있었다.</p><h1 id="웹뷰와-서비스워커"><a class="markdownIt-Anchor" href="#웹뷰와-서비스워커"></a> 웹뷰와 서비스워커</h1><p>웹뷰의 서비스워커와 브라우저의 서비스워커는 다른 인스턴스이므로 서로 공유되지 않는다.<br>그렇다면 웹뷰에서 재접속시에 앱 셸을 빠르게 로드하는 이점 뿐이라는 말이다. <code>=== 어드벤티지 없음</code></p><p><a href="https://developer.chrome.com/multidevice/user-agent" target="_blank" rel="external nofollow noopener noreferrer">WebView UA in Lollipop and Above</a>에 따르면 안드로이드 롤리팝 이후부터 User Agent에 wv란 값을 물고 들어온다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="예외처리"><a class="markdownIt-Anchor" href="#예외처리"></a> 예외처리</h2><p>Chrome 엔진이 업데이트 된다고 서비스워커가 제거되지 않는다.<br>따라서 <strong>UA 에 android, wv 값이 있는 경우 서비스워커를 설치하지 않을 뿐 아니라 설치된 서비스워커를 제거해주는 로직</strong>이 있어야한다.<br>아니라면 <a href="https://github.com/w3c/ServiceWorker/issues/614" target="_blank" rel="external nofollow noopener noreferrer">A way to immediately unregister a service worker</a> 기능을 브라우저 벤더들이 개발해줘야한다.</p><p>더 특정한 버전을 줘서 예외처리를 한다면 다음과 같을 것이다.</p><blockquote><p>Chrome 75.0.3770.67 ~ 75.0.3770.101 버전의 모든 안드로이드 웹뷰에서 서비스워커 설치를 차단, 이미 설치가 되어있다면 삭제</p></blockquote><h2 id="패치"><a class="markdownIt-Anchor" href="#패치"></a> 패치</h2><p>몇일 뒤에 다른 업체에서 public 하게 <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=977784" target="_blank" rel="external nofollow noopener noreferrer">버그리포팅</a>을 올렸고 버그를 찾아서 조만간 패치될 예정이다.</p><p><code>This is affecting tens of thousands of our readers</code> 로 보아 나와 같은 빡침이 느껴져서 아련했다.</p><p>패치된 코드는 <a href="https://chromium-review.googlesource.com/c/chromium/src/+/1675358" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 볼 수 있다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>브라우저에 버그 발생시 대처하는 방법은 거의 불가능하다.</li><li>실수는 여기든 저기든 다 똑같구나</li></ul>]]></content>
      
      
      <categories>
          
          <category> pwa </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> pwa </tag>
            
            <tag> servicewokrer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>맥 구글 계정 연동시 인증 실패</title>
      <link href="/2019/06/29/mac-google-internet-account-failed-to-auth/"/>
      <url>/2019/06/29/mac-google-internet-account-failed-to-auth/</url>
      
        <content type="html"><![CDATA[<p>맥에서 구글 계정 연동 중에 Google 계정 인증에 실패했다는 오류메세지가 나온다면 다음과 같이 해결하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>설정 &gt; 일반 &gt; 기본 웹브라우저</strong>를 <strong>Safari.app</strong>으로 변경한다.</p><p>구글링시 아래 기능들을 해제해보라는데 다 쓸모없다.</p><ul><li>2차 인증 해제</li><li>앱 비밀번호 사용</li><li>보안되지 않은 앱 허용</li></ul>]]></content>
      
      
      <categories>
          
          <category> mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>타임존 데이터 최신버전으로 업데이트하기</title>
      <link href="/2019/06/23/update-timezone-database-on-php/"/>
      <url>/2019/06/23/update-timezone-database-on-php/</url>
      
        <content type="html"><![CDATA[<p>타임존 데이터는 php의 버전을 따라 올라가는데, 실무에선 항상 최신버전을 사용하기 쉽지 않다.<br>그럴 때 데이터만 업데이트하는 방법을 쓸 수 있다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><blockquote><p>2019.06 현재 최신 타임존 데이터베이스는 2019a (2019.01) 버전이다.</p></blockquote><h2 id="perl"><a class="markdownIt-Anchor" href="#perl"></a> perl</h2><p>perl로 설치되는 일반적인 경우는 아래와 같이 쉽게 설치 가능하다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># perl 로 설치</span></span><br><span class="line">$ perl install timezonedb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 끝!</span></span><br></pre></td></tr></table></figure><h2 id="phpize"><a class="markdownIt-Anchor" href="#phpize"></a> phpize</h2><p>그렇지 않은 경우 라이브러리를 수동으로 빌드해줘야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 타임존 데이터 다운로드</span></span><br><span class="line">$ curl -LO https://pecl.php.net/get/timezonedb-2019.1.tgz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 압축 해제</span></span><br><span class="line">$ tar -xvzf timezonedb-2019.1.tgz</span><br><span class="line">$ <span class="built_in">cd</span> timezonedb-2019.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 빌드</span></span><br><span class="line">$ phpize</span><br><span class="line">$ ./configure --with-php-config=<span class="variable">$&#123;PHP_CONFIG_PATH&#125;</span></span><br><span class="line">$ make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 라이브러리를 extensions 폴더로 이동</span></span><br><span class="line">$ mv timezonedb.so /usr/<span class="built_in">local</span>/php/extentions</span><br><span class="line"></span><br><span class="line"><span class="comment"># 라이브러리 추가</span></span><br><span class="line">$ vi php.ini</span><br><span class="line">$ extension=timezonedb.so</span><br><span class="line"></span><br><span class="line"><span class="comment"># 아파치 재시작</span></span><br><span class="line">$ apachectl restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># 버전 확인</span></span><br><span class="line">$ /usr/bin/php -r <span class="string">"echo timezone_version_get();"</span></span><br><span class="line">2019.01</span><br></pre></td></tr></table></figure><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="http://docs.php.net/manual/en/install.pecl.phpize.php" target="_blank" rel="external nofollow noopener noreferrer">Compiling shared PECL extensions with phpize</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> phpize </tag>
            
            <tag> tzdata </tag>
            
            <tag> timezone </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chrome usb 디버깅 장치를 못 찾거나 연결이 안될 때</title>
      <link href="/2019/06/17/chrome-usb-debugging-device-not-found/"/>
      <url>/2019/06/17/chrome-usb-debugging-device-not-found/</url>
      
        <content type="html"><![CDATA[<p>usb 디버깅 승인 후 <code>chrome://inspect#devices</code> 탭에 접근하면 기기가 보이면서 디버깅이 가능해야하는데,<br>그렇지 못한 경우에 아래처럼 진행해주면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>먼저 usb 디버깅 권한을 모두 초기화하고 다시 연결한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 디버깅 서버를 죽인 후 다시 실행한다.</span></span><br><span class="line">$ adb <span class="built_in">kill</span>-server</span><br><span class="line">$ adb usb</span><br></pre></td></tr></table></figure><p>개발자도구의 <strong>More tools &gt; Remote devices</strong>의 목록에서 확인할 수 있다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>PTP 연결을 하라는데 이건 안드로이드 구버전에 대한거라 필요 없다.</li><li>웹뷰 디버깅시에는 디버깅 권한이 있는 앱이여야 가능하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> chrome </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kubernetes의 모든 것</title>
      <link href="/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"/>
      <url>/2019/06/09/kubernetes%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<p>매번 용어 찾아보는 게 귀찮아서 정리했다.<br>어떤 기능을 yaml 로 구성해야하는지 감이 오는 듯하다.</p><h1 id="노드"><a class="markdownIt-Anchor" href="#노드"></a> 노드</h1><ul><li>컨테이너가 배치되는 서버</li><li>쿠버네티스 클러스터의 관리 대상으로 등록된 <strong>도커 호스트</strong></li><li>쿠버네티스 클러스터는 마스터와 노드의 그룹으로 구성</li><li><code>kubectl get nodes</code></li></ul><h2 id="마스터-노드"><a class="markdownIt-Anchor" href="#마스터-노드"></a> 마스터 노드</h2><ul><li>스웜의 매니저노드와 비슷한 느낌이다.</li><li>kube-apiserver: 쿠버네티스 API를 노출하는 컴포넌트 kubectl로부터 리소스를 조작하라는 지시를 받음</li><li>ectd: 고가용성을 갖춘 분산 Key/Value 스토어로 쿠버네티스 클러스터의 백킹스토어로 쓰인다. (CAS)</li><li>kube-scheduler: 노드를 모니터링하고 컨테이너를 배치할 적절한 노드탐색</li><li>kube-controller-manager: 리소스를 제어하는 컨트롤러 실행</li></ul><blockquote><p>일반적인 (non-managed, GKE 등이 없는) 환경에선 마스터 노드서버가 단일 장애지점 (SPOF)가 되지 않도록 마스터를 3대 두는 것이 필수다.</p></blockquote><h1 id="네임스페이스"><a class="markdownIt-Anchor" href="#네임스페이스"></a> 네임스페이스</h1><ul><li>쿠버네티스 클러스터 안의 가상 클러스터</li><li>네임스페이스마다 권한을 줄 수 있으므로 개발팀이 클 때 유용하다.</li><li>기본으론 <code>default, docker, kube-public, kube-system</code> 네임스페이스가 있다.</li><li><code>kubectl get namespace</code></li></ul><h1 id="파드"><a class="markdownIt-Anchor" href="#파드"></a> 파드</h1><ul><li>컨테이너의 집합 중 가장 작은 단위로, 컨테이너의 실행 방법을 정의</li><li>적어도 하나 이상의 컨테이너로 이뤄져있다.<ul><li>nginx reverse proxy + application web server</li></ul></li><li>파드는 노드 안에 들어간다.</li><li>함꼐 배포해야 정합성, 일관성이 유지된다면, 같은 파드로 묶어 배포한다.</li><li>파드엔 각각 고유의 가상 IP가 할당된다.</li><li><code>kubectl get pod</code></li></ul><h1 id="레플리카세트"><a class="markdownIt-Anchor" href="#레플리카세트"></a> 레플리카세트</h1><ul><li>같은 스펙을 갖는 파드를 여러 개 생성/관리 하는 역할</li><li>똑같은 파드의 레플리케이션 개수를 관리하는 리소스이다.</li><li>삭제된 파드는 복원할 수 없기 때문에 웹 어플리케이션과 같은 stateless 파드에 사용하기에 좋다.</li><li><code>kubectl get replicaset</code></li><li>레플리카셋의 파드명은 container-1b2e3f 처럼 임의로 정해진다.</li></ul><h1 id="디플로이먼트"><a class="markdownIt-Anchor" href="#디플로이먼트"></a> 디플로이먼트</h1><ul><li>레플리카세트의 리비전을 관리 (빠른 버저닝)</li><li>리비전은 컨테이너 이미지가 수정된 경우에 생성된다.</li><li><code>kubectl rollout history deployment ..</code></li></ul><h1 id="데몬셋"><a class="markdownIt-Anchor" href="#데몬셋"></a> 데몬셋</h1><ul><li>모든 시스템에서 실행되어야하는 파드와 템플릿 제공</li></ul><h1 id="서비스"><a class="markdownIt-Anchor" href="#서비스"></a> 서비스</h1><ul><li>파드의 집합에 접근하기 위한 경로를 정의</li><li>쿠버네티스 클러스터 내에서 파드의 집합에 대한 경로나 서비스 디스커버리를 제공하는 리소스</li><li>서비스의 대상이 되는 파드는 서비스에서 정의하는 레이블 셀렉터로 정해진다.</li><li>서비스의 접근은 같은 네임스페이스라면 서비스명만으로 접근이 가능하다.<ul><li><code>http://${svc} =&gt; http://${svc}.default =&gt; http://${svc}.default.svc.local</code></li></ul></li></ul><h2 id="clusterip-서비스"><a class="markdownIt-Anchor" href="#clusterip-서비스"></a> ClusterIP 서비스</h2><ul><li>서비스의 기본 타입</li><li>쿠버네티스 클러스터의 내부 IP 주소에 서비스를 공개할 수 있다.</li><li>다른 파드 그룹으로 접근할 때 서비스를 거쳐 가도록 할 수 있으며, 서비스명으로 네임 레졸루션이 가능해진다.</li><li>외부에서는 접근할 수 없다.</li></ul><h2 id="nodeport-서비스"><a class="markdownIt-Anchor" href="#nodeport-서비스"></a> NodePort 서비스</h2><ul><li>쿠버네티스 클러스터 외부에서 접근할 수 있는 서비스</li><li>서비스를 L4 레벨에서 노출하는 것이므로 TCP/UDP 모두 다룰 수 있다.</li><li><code>kubectl get svc ...</code></li></ul><h2 id="loadbanlancer-서비스"><a class="markdownIt-Anchor" href="#loadbanlancer-서비스"></a> LoadBanlancer 서비스</h2><ul><li>로컬 쿠버네티스 환경에선 사용할 수 없다.</li></ul><h2 id="externalname-서비스"><a class="markdownIt-Anchor" href="#externalname-서비스"></a> ExternalName 서비스</h2><ul><li>쿠버네티스 클러스터에서 외부 호스트를 네임 레졸루션하기 위한 별칭이다.</li><li>gracefullighut.dev 를 gracefullight 로 접근 가능하게 만든다.</li></ul><h1 id="인그레스"><a class="markdownIt-Anchor" href="#인그레스"></a> 인그레스</h1><ul><li>서비스를 쿠버네티스 클러스터 외부로 노출</li><li>NodePort 서비스는 L4라 HTTP/S의 경로기반 라우팅이 불가능한데, 인그레스는 L7 레벨로 제어가 가능하다.</li><li>주로 HTTP/S 서비스를 노출하는 경우 사용한다.</li><li>로컬 쿠버네티스 환경에서는 인그레스를 사용해 서비스를 노출시킬 수 없으므로 <a href="https://github.com/kubernetes/ingress-nginx" target="_blank" rel="external nofollow noopener noreferrer">nginx ingress controller</a> 를 사용한다.</li></ul><h1 id="컨피그맵"><a class="markdownIt-Anchor" href="#컨피그맵"></a> 컨피그맵</h1><ul><li>설정 정보를 정의 후 파드에 전달</li></ul><h1 id="퍼시스턴트볼륨"><a class="markdownIt-Anchor" href="#퍼시스턴트볼륨"></a> 퍼시스턴트볼륨</h1><ul><li>파드가 사용할 스토리지의 크기 및 종류를 정의</li></ul><h2 id="퍼시스턴트볼륨-클레임"><a class="markdownIt-Anchor" href="#퍼시스턴트볼륨-클레임"></a> 퍼시스턴트볼륨 클레임</h2><ul><li>퍼시스턴트 볼륨을 동적으로 확보</li></ul><h1 id="스토리지클래스"><a class="markdownIt-Anchor" href="#스토리지클래스"></a> 스토리지클래스</h1><ul><li>퍼시스턴트 볼륨이 확보하는 스토리지의 종류를 정의</li></ul><h1 id="스테이트풀세트"><a class="markdownIt-Anchor" href="#스테이트풀세트"></a> 스테이트풀세트</h1><ul><li>같은 스펙으로 모두 동일한 파드를 여러 개 생성하고 관리</li><li>스테이트풀셋의 파드명은 backend-0, backend-1 처럼 인덱스로 정해진다.</li></ul><h1 id="잡"><a class="markdownIt-Anchor" href="#잡"></a> 잡</h1><ul><li>일회성 파드를 여러 개 생성하고 종료 보장</li></ul><h1 id="시크릿"><a class="markdownIt-Anchor" href="#시크릿"></a> 시크릿</h1><ul><li>인증 정보 등 비밀 데이터 정의</li></ul><h1 id="롤"><a class="markdownIt-Anchor" href="#롤"></a> 롤</h1><ul><li>네임스페이스 안에서 조작 가능한 쿠버네티스 리소스의 규칙 정의</li><li>각 쿠버네티스 API 사용 권한 정의</li><li><strong>지정된 네임스페이스 내에서만 유효</strong></li></ul><h2 id="롤-바인딩"><a class="markdownIt-Anchor" href="#롤-바인딩"></a> 롤 바인딩</h2><ul><li>쿠버네티스 리소스 사용자와 롤을 연결</li></ul><h2 id="rbac"><a class="markdownIt-Anchor" href="#rbac"></a> RBAC</h2><ul><li>Role-based access control (RBAC) is a method of regulating access to computer or network resources based on the roles of individual users within an enterprise.</li><li><a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/" target="_blank" rel="external nofollow noopener noreferrer">Docs</a></li></ul><h2 id="권한-디버깅"><a class="markdownIt-Anchor" href="#권한-디버깅"></a> 권한 디버깅</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># can-i 문으로 권한 확인 가능</span></span><br><span class="line">$ kubectl auth can-i ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl auth can-i create deployments</span></span><br><span class="line"><span class="comment"># yes</span></span><br></pre></td></tr></table></figure><h1 id="클러스터롤"><a class="markdownIt-Anchor" href="#클러스터롤"></a> 클러스터롤</h1><ul><li>클러스터 전체적으로 조작 가능한 쿠버네티스 리소스의 규칙 정의</li><li><strong>클러스터 전체에서 유효</strong></li></ul><h2 id="클러스터롤-바인딩"><a class="markdownIt-Anchor" href="#클러스터롤-바인딩"></a> 클러스터롤 바인딩</h2><ul><li>쿠버네티스 리소스 사용자와 클러스터롤을 연결</li><li>일반 사용자 및 그룹/서비스 계정과 클러스터롤을 연결</li></ul><h1 id="서비스-계정"><a class="markdownIt-Anchor" href="#서비스-계정"></a> 서비스 계정</h1><ul><li>파드가 쿠버네티스 리소스를 조작할 때 사용하는 계정</li><li>구글의 서비스 계정 비슷한 듯</li></ul><h1 id="노드어피니티"><a class="markdownIt-Anchor" href="#노드어피니티"></a> 노드어피니티</h1><ul><li>노드 셀렉터보다 더 세밀한 선택이 가능 (스케줄링 정책 조건 등)</li></ul><h1 id="테인트"><a class="markdownIt-Anchor" href="#테인트"></a> 테인트</h1><ul><li>taint</li><li>오염 조건을 추가해 노드 스케줄링에서 제외</li><li>파드를 특정 노드로 강제할 수 있다.</li></ul><h1 id="컨트롤-플레인"><a class="markdownIt-Anchor" href="#컨트롤-플레인"></a> 컨트롤 플레인</h1><ul><li>kubelet, kubenetes master 등 컨트롤 플레인은 시스템 내 모든 쿠버네티스 오브젝트의 레코드를 유지하면서, 오브젝트의 상태를 관리하는 제어 루프를 지속적으로 구동</li></ul><h1 id="dynamic-admission-control"><a class="markdownIt-Anchor" href="#dynamic-admission-control"></a> Dynamic Admission Control</h1><ul><li>웹훅으로 동작</li><li>ValidationWebhookConfiguration</li><li>MutatingWebhookConfiguration</li></ul><h1 id="클러스터-데몬"><a class="markdownIt-Anchor" href="#클러스터-데몬"></a> 클러스터 데몬</h1><ul><li>클러스터 모든 서비스에 검사, 실행 필요시 사용</li></ul><h1 id="클러스터어시스턴스"><a class="markdownIt-Anchor" href="#클러스터어시스턴스"></a> 클러스터어시스턴스</h1><ul><li>SSL 인증 배포 등 자동화</li><li>cert-manager</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
          <category> k8s </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac에서 lsd 설치하기 (ls 명령어 꾸미기)</title>
      <link href="/2019/05/27/install-lsd-on-mac/"/>
      <url>/2019/05/27/install-lsd-on-mac/</url>
      
        <content type="html"><![CDATA[<h1 id="lsd"><a class="markdownIt-Anchor" href="#lsd"></a> lsd</h1><p><img data-src="https://i.imgur.com/ieTdKPd.png" alt="ls -al"></p><p><a href="https://github.com/Peltoche/lsd" target="_blank" rel="external nofollow noopener noreferrer">LSDeluxe</a> 커맨드로 <code>ls</code> 명령어를 예쁘게 변경해보자.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 설치</span></span><br><span class="line">$ brew install lsd</span><br><span class="line"></span><br><span class="line"><span class="comment"># alias 설정</span></span><br><span class="line">$ vi ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">'lsd'</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -alhF'</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>설치는 했지만 아이콘이 깨져서 보일 것이다.</p><h2 id="글꼴-설정"><a class="markdownIt-Anchor" href="#글꼴-설정"></a> 글꼴 설정</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 글꼴 설치</span></span><br><span class="line">$ brew tap homebrew/cask-fonts</span><br><span class="line">$ brew cask install font-hack-nerd-font</span><br></pre></td></tr></table></figure><p><strong>iTerm2 &gt; Preferences &gt; Profiles &gt; Text</strong> 탭으로 이동해 <strong>Non-ASCII Font</strong>를 확장한 뒤 방금 설치한 Hack Regular Nerd Fonr Compelete 폰트를 설정해주자.</p><p><strong>Use ligatures</strong> 옵션 또한 체크한다.</p><p><img data-src="https://i.imgur.com/Cj7ckip.png" alt="Non-ASCII Font 설정"></p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodejs triple des 암호화</title>
      <link href="/2019/05/12/nodejs-triple-des-encryption/"/>
      <url>/2019/05/12/nodejs-triple-des-encryption/</url>
      
        <content type="html"><![CDATA[<p>triple des 알고리즘으로 암호화하는 일은 요새는 드문데, 드물어서 그런지 구글링해도 아무 것도 나오지 않았다.</p><p>레거시 언어들에는 <strong>3des</strong> 암호화된 로직이 많은데, 포팅하면서 개발해야될 필요성이 생겼다.</p><h1 id="암호화"><a class="markdownIt-Anchor" href="#암호화"></a> 암호화</h1><ul><li>nodejs 의 암호화 패키지는 crypto 안에 들어있다.</li><li><code>crypto.getCiphers();</code> 메소드로 사용할 수 있는 알고리즘을 확인할 수 있다.<ul><li><code>ciphers.filter(cipher =&gt; cipher.includes('des'));</code></li></ul></li><li>3des 알고리즘은 <code>des-ede3</code> 로 시작한다.</li><li>키는 24bytes 이며, iv 는 8bytes 다.</li></ul><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">'crypto'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TripleDes</span>()</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="comment">// #iv;</span></span><br><span class="line">  <span class="comment">// #key;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(key, iv) &#123;</span><br><span class="line">    <span class="keyword">this</span>.key = key;</span><br><span class="line">    <span class="keyword">this</span>.iv = iv;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getKey() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.key.padEnd(<span class="number">24</span>, <span class="built_in">String</span>.fromCharCode(<span class="number">0</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getIv() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.iv;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  encrypt(plain, iv) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!iv) &#123;</span><br><span class="line">      iv = <span class="keyword">this</span>.iv ? Buffer.from(<span class="keyword">this</span>.iv, <span class="string">"hex"</span>) : crypto.randomBytes(<span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> cipher3des = crypto.createCipheriv(<span class="string">"des-ede3-cfb8"</span>, <span class="keyword">this</span>.getKey(), iv);</span><br><span class="line">    <span class="keyword">let</span> encrypted = cipher3des.update(plain, <span class="string">"utf8"</span>, <span class="string">"hex"</span>);</span><br><span class="line">    encrypted += cipher3des.final(<span class="string">"hex"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.iv = iv.toString(<span class="string">"hex"</span>);</span><br><span class="line">    <span class="keyword">return</span> encrypted;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  decrypt(encrypted, iv) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!iv) &#123;</span><br><span class="line">      iv = <span class="keyword">this</span>.iv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> decipher3des = crypto.createDecipheriv(<span class="string">"des-ede3-cfb8"</span>, <span class="keyword">this</span>.getKey(), Buffer.from(iv, <span class="string">"hex"</span>));</span><br><span class="line">    <span class="keyword">let</span> decrypted = decipher3des.update(encrypted, <span class="string">"hex"</span>, <span class="string">"utf8"</span>);</span><br><span class="line">    decrypted += decipher3des.final(<span class="string">"utf8"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> decrypted;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = TripleDes;</span><br></pre></td></tr></table></figure><p>위의 <code>encrypt</code> 메소드는 아래처럼 버퍼를 합친 후에 헥스로 바꾸는 것과 동일하다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> encrypted = Buffer.concat([</span><br><span class="line">  cipher3des.update(plain, <span class="string">"utf8"</span>),</span><br><span class="line">  cipher3des.final(<span class="string">"utf8"</span>)</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">encrypted = encrypted.toString(<span class="string">"hex"</span>);</span><br></pre></td></tr></table></figure><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TripleDes = <span class="built_in">require</span>(<span class="string">'./TripleDes'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tripleDes = <span class="keyword">new</span> TripleDes(<span class="string">'encryptionKey'</span>);</span><br><span class="line"><span class="comment">// 암호화</span></span><br><span class="line"><span class="keyword">const</span> encrypted = tripleDes.encrypt(<span class="string">'yummy'</span>);</span><br><span class="line"><span class="comment">// 복호화</span></span><br><span class="line"><span class="keyword">const</span> decrypted = tripleDes.decrypt(encrypted);</span><br></pre></td></tr></table></figure><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="https://nodejs.org/api/crypto.html" target="_blank" rel="external nofollow noopener noreferrer">nodejs.crypto</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DEV 도메인과 Github Pages 연결하기</title>
      <link href="/2019/05/06/connecting-a-DEV-domain-to-github-pages/"/>
      <url>/2019/05/06/connecting-a-DEV-domain-to-github-pages/</url>
      
        <content type="html"><![CDATA[<h1 id="도메인-구입"><a class="markdownIt-Anchor" href="#도메인-구입"></a> 도메인 구입</h1><p><a href="https://domains.google.com/m/registrar/search" target="_blank" rel="external nofollow noopener noreferrer">Google Domains</a> 에서 구입한다.</p><ul><li>미국 주소가 있어야된다는 말이 나오는데, 무시하고 구매하기를 하자.</li><li>도메인 기관에서 연락이 갈 수 있다는 내용에 주소를 대한민국으로 변경 후 입력해주고</li><li>결제지 우편번호는 대충 쓰고 미국으로 하고 넘어가면 쉽게 구매할 수 있다.</li></ul><h1 id="dns-설정"><a class="markdownIt-Anchor" href="#dns-설정"></a> DNS 설정</h1><p><strong>DNS &gt; 맞춤 리소스 레코드</strong> 탭에서 Github Domain IP 를 A 레코드로 추가한다.</p><ul><li>185.199.108.153</li><li>185.199.109.153</li><li>185.199.110.153</li><li>185.199.111.153</li></ul><h2 id="http-예외"><a class="markdownIt-Anchor" href="#http-예외"></a> http 예외</h2><p>http 로 서빙하는 경우가 있다면 www.gracefullight.dev 도 사용할 수 있게 CNAME 을 등록하자.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www CNAME 1h gracefullight.github.io.</span><br></pre></td></tr></table></figure><p>물론 HSTS 를 적용하는 경우 필요없다.</p><h2 id="cname-파일-추가"><a class="markdownIt-Anchor" href="#cname-파일-추가"></a> CNAME 파일 추가</h2><p>public 경로 아래 CNAME 파일을 생성 후 도메인을 적는다.</p><figure class="highlight plain"><figcaption><span>CNAME</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gracefullight.dev</span><br></pre></td></tr></table></figure><h1 id="github-pages-설정"><a class="markdownIt-Anchor" href="#github-pages-설정"></a> github pages 설정</h1><p><a href="http://github.com/gracefullight/gracefullight.github.io/settings" target="_blank" rel="external nofollow noopener noreferrer">github.com/gracefullight/gracefullight.github.io/settings</a> 의 <strong>GitHub Pages</strong> 탭으로 이동해<br><strong>Custom domain</strong> 에 설정할 도메인을 넣고, <strong>Enforce HTTPS</strong> 를 체크한다.</p><p>아래 문구가 보이면 성공한 것이다.</p><blockquote><p>Your site is published at <a href="https://gracefullight.dev/">https://gracefullight.dev/</a></p></blockquote><h1 id="웹마스터-설정"><a class="markdownIt-Anchor" href="#웹마스터-설정"></a> 웹마스터 설정</h1><h2 id="google"><a class="markdownIt-Anchor" href="#google"></a> Google</h2><p>구글 검색에서 도메인 변경을 다시 인덱싱해주기 위해 마이그레이션이 필요하다.<br>새로운 사이트를 등록해 준 뒤 이전 버전의 서치콘솔에서 기존 사이트의 설정버튼을 누르면 바로 설정이 가능하다.</p><p><img data-src="https://i.imgur.com/ao5p5uZ.png" alt="주소 변경"></p><h2 id="기타"><a class="markdownIt-Anchor" href="#기타"></a> 기타</h2><p>네이버와 빙은 같은 site verification 코드가 나와서 사이트만 추가해주면 되는데,<br>얀덱스의 경우는 코드를 변경하고 빌드해줘야한다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>CNAME 변경하면 Github setting의 Custom domain이 빠지기 때문에 다시 등록해줘야하는 번거로움이 있다.</li><li>애널리틱스는 도메인만 바꿔주면 바로 연동된다.</li><li>애드센스가 도메인 승인이 2주가 걸려서 그전까진 애드-프리 사이트가 될 듯하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RxJS의 모든 것</title>
      <link href="/2019/04/30/RxJS%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"/>
      <url>/2019/04/30/RxJS%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="rxjs"><a class="markdownIt-Anchor" href="#rxjs"></a> RxJS</h1><p>리액티브 프로그래밍은 개인적으로 비동기 프로그래밍과 함수형 프로그래밍의 종착지라고 생각한다.<br><a href="https://github.com/tc39/proposal-observable" target="_blank" rel="external nofollow noopener noreferrer">Stage1 Draft</a>로 제안되어 더 이상 피할 수 없는 <strong>Observable</strong> 을 알아보자.</p><h2 id="정의"><a class="markdownIt-Anchor" href="#정의"></a> 정의</h2><p><a href="https://en.wikipedia.org/wiki/Reactive_programming" target="_blank" rel="external nofollow noopener noreferrer">위키피디아</a>에선 다음과 같이 정의되어있다.</p><blockquote><p>reactive programming is a declarative programming paradigm concerned with data streams and the propagation of change.<br>데이터 스트림과 변화의 전파에 중점을 둔 프로그래밍 패러다임</p></blockquote><p>2011년 태초에 RX 의 개념을 만든 MS 문서에서는 <a href="https://docs.microsoft.com/en-us/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)" target="_blank" rel="external nofollow noopener noreferrer"><strong>Reactive eXtensions</strong></a> 다음과 같다.</p><blockquote><p>Reactive Extensions (Rx) is a library for composing asynchronous and event-based programs using observable sequences and LINQ-style query operators.<br>옵져버블 시퀀스와 링큐 쿼리 연산자를 사용하는 비동기, 이벤트 기반 프로그래밍 라이브러리</p></blockquote><p>조금 더 디테일하게 말하면 데이터스트림을 Pulling 방식의 이터레이터 패턴인 <code>IEnumerable&lt;T&gt;/IEnumerator&lt;T&gt;</code> 로 만들어 Pushing 방식의 옵저버 패턴인 <code>IObservable&lt;T&gt;/IObserver&lt;T&gt;</code>로 전파/구독하는 것이다.</p><p>Rx를 모두 이해한 뒤 이 정의를 보면 어쩜 이렇게 깔끔하게 한 줄로 이 내용을 다 담았을까? 란 생각이 드는데, 처음보는 입장에선 <em>비동기인 건 알겠네</em> 정도로만 이해가 되는 듯하다.<br>어려운 게 당연하다. 멀티쓰레드 프로그래밍을 처음 배울 때의 감정을 생각해보자.</p><h2 id="용어"><a class="markdownIt-Anchor" href="#용어"></a> 용어</h2><ul><li>비동기 프로그래밍: 이 문서를 볼 정도면 설명이 필요 없을 것 같다.</li><li>함수형 프로그래밍: 함수를 FirstClass 로 취급해 파라미터, 리턴, 변수에 할당 가능하며 함수 합성이 가능하고 원하는 시점에 호출이 쉽다.</li><li>데이터스트림: file stream, event stream, http stream 의 친구로 data 식 표현</li><li>이터레이터: 설명 필요 없을 듯.</li><li>옵져버: 디자인패턴 책의 옵져버패턴 단원 참조, 자바스크립트에선 이미 이벤트리스너가 옵져버 패턴이다.</li><li>옵져버블: 특정 객체를 관찰하는 옵저버에게 여러 이벤트나 값을 전파하는 역할</li><li>풀: 데이터를 받을지 결정</li><li>푸쉬: 데이터를 보낼지 결정</li><li>싱글: 하나의 값이나 이벤트를 다룸</li><li>멀티플: 여러 개의 값이나 이벤트를 다룸</li></ul><p>이 모든 용어를 하나의 표로 정리하면 다음과 같다.</p><table><thead><tr><th></th><th>싱글</th><th>멀티플</th></tr></thead><tbody><tr><td>풀</td><td>함수</td><td>이터레이터</td></tr><tr><td>푸쉬</td><td>프로미스</td><td>옵져버블</td></tr></tbody></table><h2 id="패턴"><a class="markdownIt-Anchor" href="#패턴"></a> 패턴</h2><ul><li>옵져버블의 변수 스타일은 이름 뒤에 <code>const click$</code> 처럼 <code>$</code>을 뒤에 붙혀주는게 정형화되어있다.</li><li><code>subscribe</code> 는 <code>next, error, complete</code>를 파라미터로 받는다.</li></ul><h2 id="마블-다이어그램"><a class="markdownIt-Anchor" href="#마블-다이어그램"></a> 마블 다이어그램</h2><p>마블 다이어그램은 연산자를 쉽게 이해하기 위해, 옵져버블을 테스트하기위해 도식화된 다이어그램이다.<br>타이밍과 값의 변화를 한 눈에 파악할 수 있다.</p><p><img data-src="https://rxjs-dev.firebaseapp.com/assets/images/marble-diagrams/map.png" alt="map"></p><ul><li>위에 줄은 input 이고 연산자를 만나고나면 아래 줄에서 output 이 어떻게 바뀌는지 보여진다.</li><li>가로 줄은 하나의 옵져버블이다.</li><li>줄의 | 파이프는 구독 완료를 나타낸다.</li></ul><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><h2 id="생성"><a class="markdownIt-Anchor" href="#생성"></a> 생성</h2><p>가장 간단한 옵져버블을 만들고 확인해보자.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Observable &#125; = <span class="built_in">require</span>(<span class="string">'rxjs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test$ = Observable.create(<span class="function"><span class="params">observer</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'create'</span>);</span><br><span class="line">  observer.next(<span class="number">1</span>);</span><br><span class="line">  observer.next(<span class="number">2</span>);</span><br><span class="line">  observer.complete();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'done'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">test$.subscribe(</span><br><span class="line">  item =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'complete'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">create</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">complete</span></span><br><span class="line"><span class="comment">done</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>간단하지만 이터레이터이면서 구독가능하다는 걸 확인할 수 있다.</p><h2 id="구독해제"><a class="markdownIt-Anchor" href="#구독해제"></a> 구독해제</h2><p>옵져버블의 리턴함수로 구독해제 콜백을 지원한다, 콜백이 필요하지 않다면 <code>unsubscribe()</code> 를 호출해주기만 하면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test$ = Observable.create(<span class="function"><span class="params">observer</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> interval = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'test'</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    clearInterval(interval);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> subscription = test$.subscribe();</span><br><span class="line">subscription.unsubscribe();</span><br></pre></td></tr></table></figure><h2 id="파이퍼블-연산자"><a class="markdownIt-Anchor" href="#파이퍼블-연산자"></a> 파이퍼블 연산자</h2><p>Pipeable 연산자는 옵져버블 인스턴스를 pipe 함수 안에서 다룰 수 있는 연산자이다.<br>기본적으로 <strong>rxjs/operators</strong> 라이브러리 안에 들어있다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; map &#125; = <span class="built_in">require</span>(<span class="string">'rxjs/operators'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test$ = Observable.create(<span class="function"><span class="params">observer</span> =&gt;</span> &#123;</span><br><span class="line">  observer.next(<span class="number">1</span>);</span><br><span class="line">  observer.next(<span class="number">2</span>);</span><br><span class="line">  observer.complete();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">test$.pipe(</span><br><span class="line">  map(<span class="function"><span class="params">value</span> =&gt;</span> value * <span class="number">2</span>)</span><br><span class="line">).subscribe(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">console</span>.log(item));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>소스 옵져버블에서 발행된 값을 원하는대로 바꿀 수 있다.</p><h2 id="연산자"><a class="markdownIt-Anchor" href="#연산자"></a> 연산자</h2><h3 id="of"><a class="markdownIt-Anchor" href="#of"></a> of</h3><p>args 순서대로 값을 반환한다.</p><h3 id="from"><a class="markdownIt-Anchor" href="#from"></a> from</h3><ul><li>Observable</li><li>Array</li><li>Promise</li><li>Iterable</li><li>String</li><li>ArrayLike</li></ul><p>위 타입을 옵져버블로 변환해준다.</p><h3 id="fromevent"><a class="markdownIt-Anchor" href="#fromevent"></a> fromEvent</h3><p>EventEmitter 클래스의 객체와 조합하거나 브라우저의 이벤트를 옵져버블로 바꿀 때 사용한다.</p><h3 id="defer"><a class="markdownIt-Anchor" href="#defer"></a> defer</h3><p>팩토리 함수로 옵져버블을 생성한 후 구독한느 시점에 팩토리 함수를 호출해 이미 생성한 옵져버블을 리턴받아 구독한다.</p><p>from 과의 차이는 다름과 같다.</p><ul><li>from<ul><li>프로미스 내부 구현부가 언제 실행되던지 상관 없을 때</li><li>이미 실행 중이거나 완료한 프로미스를 옵져버블로 만들 때</li></ul></li><li>defer<ul><li>옵져버블을 구독하는 시점에 프로미스를 생성해 구현부가 실행되어야할 때</li><li>프로미스 객체 생성 시점이 구독하는 시점이여야할 때</li></ul></li></ul><h3 id="range"><a class="markdownIt-Anchor" href="#range"></a> range</h3><p>범위 지정 후 그 값을 순서대로 발행한다. 반복문이 필요할 때 사용된다.</p><h3 id="interval"><a class="markdownIt-Anchor" href="#interval"></a> interval</h3><p>ms 단위로 값을 발행한다.</p><h3 id="timer"><a class="markdownIt-Anchor" href="#timer"></a> timer</h3><p>파라미터가 하나일 경우 ms 이후에 한 번 값을 발행하고,<br>두 개일 경우 ms 이후에 두번 째 파라미터만큼 주기적으로 값을 발행한다.</p><h3 id="empty"><a class="markdownIt-Anchor" href="#empty"></a> empty</h3><p>값 발행 후 중간에 멈춰야하는 상황에 사용한다. 이 함수만 사용하지는 않고 다른 함수나 연산자와 조합해서 complete 함수를 호출해야 할 때 사용된다.<br>즉, 바로 구독을 완료해야될때 사용된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 상수로 사용된다.</span></span><br><span class="line"><span class="keyword">const</span> &#123; EMPTY &#125; = <span class="built_in">require</span>(<span class="string">'rxjs'</span>);</span><br></pre></td></tr></table></figure><h3 id="never"><a class="markdownIt-Anchor" href="#never"></a> never</h3><p>아무 것도 하지 않고 옵져버블 생성이 필요할 때 사용된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 상수로 사용된다.</span></span><br><span class="line"><span class="keyword">const</span> &#123; NEVER &#125; = <span class="built_in">require</span>(<span class="string">'rxjs'</span>);</span><br></pre></td></tr></table></figure><h3 id="throwerror"><a class="markdownIt-Anchor" href="#throwerror"></a> throwError</h3><p>옵져버블로 값을 발행하다가 에러를 발생시키고 종료해야하는 상황에 사용한다.</p><h3 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> filter</h3><p>주로 파이퍼블 연산자와 연결해서 사용된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; filter &#125; = <span class="built_in">require</span>(<span class="string">'rxjs/operators'</span>);</span><br><span class="line"><span class="comment">// 1~10 중 짝수 필터</span></span><br><span class="line">range(<span class="number">1</span>, <span class="number">10</span>).pipe(</span><br><span class="line">  filter(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span>)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br></pre></td></tr></table></figure><h3 id="first"><a class="markdownIt-Anchor" href="#first"></a> first</h3><p>처음으로 일치하는 값을 발행한다. 두 번째 인자로 기본 값을 줄 수 있다.</p><h3 id="last"><a class="markdownIt-Anchor" href="#last"></a> last</h3><p>마지막으로 일치하는 값을 발행한다. 두 번째 인자로 기본 값을 줄 수 있다.</p><h3 id="take"><a class="markdownIt-Anchor" href="#take"></a> take</h3><p>정해진 갯수만큼 구독하고 구독을 해제한다.<br>interval 과 같이 무한 반복이 실행되는 연산자와 같이 쓰면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; take &#125; = <span class="built_in">require</span>(<span class="string">'rxjs/operators'</span>);</span><br><span class="line"></span><br><span class="line">interval(<span class="number">1000</span>).pipe(</span><br><span class="line">  take(<span class="number">3</span>)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="takeuntil"><a class="markdownIt-Anchor" href="#takeuntil"></a> takeUntil</h3><p>특정 이벤트가 발생할 때까지 옵져버블을 구독해야할 때 사용한다.<br>예시로 보는 게 빠르다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interval(<span class="number">1000</span>).pipe(</span><br><span class="line">  take(<span class="number">100</span>),</span><br><span class="line">  takeUntil(fromEvent(<span class="built_in">document</span>.querySelector(<span class="string">'#btn'</span>), <span class="string">'click'</span>))</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br></pre></td></tr></table></figure><h3 id="takewhile"><a class="markdownIt-Anchor" href="#takewhile"></a> takeWhile</h3><p>take 와 filter 가 합쳐진 연산자이다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interval(<span class="number">1000</span>).pipe(</span><br><span class="line">  takeWhile(<span class="function"><span class="params">x</span> =&gt;</span> x &lt;= <span class="number">10</span>)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br></pre></td></tr></table></figure><h3 id="takelast"><a class="markdownIt-Anchor" href="#takelast"></a> takeLast</h3><p>Last 의 파라미터 수 만큼 저장해뒀다가 구독 완료시에 일괄적으로 발행한다.<br>발행하는 값이 <code>[0, 2, 4, 6, 8, 10]</code> 일 때 <code>takeLast(3)</code> 일 경우 내부에 저장된 값은 다음과 같다.</p><table><thead><tr><th>발행값</th><th>내부배열</th></tr></thead><tbody><tr><td>0</td><td>[0]</td></tr><tr><td>2</td><td>[0, 2]</td></tr><tr><td>4</td><td>[0, 2, 4]</td></tr><tr><td>6</td><td>[6, 2, 4]</td></tr><tr><td>8</td><td>[6, 8, 4]</td></tr><tr><td>10</td><td>[6, 8, 10]</td></tr></tbody></table><h3 id="skip"><a class="markdownIt-Anchor" href="#skip"></a> skip</h3><p>이름 그대로 n 개만큼의 발행을 건너 뛴다.</p><h3 id="skipuntil"><a class="markdownIt-Anchor" href="#skipuntil"></a> skipUntil</h3><p>takeUntil 과의 반대로 옵져버블이 실행될 때까지 건너 뛴다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> time = <span class="number">1000</span>;</span><br><span class="line">interval(time).pipe(</span><br><span class="line">  skipUntil(interval(time * <span class="number">5</span>)),</span><br><span class="line">  take(<span class="number">2</span>)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="skipwhile"><a class="markdownIt-Anchor" href="#skipwhile"></a> skipWhile</h3><p>조건을 만족하지 않는 순간부터 값을 발행한다.</p><h3 id="debounce"><a class="markdownIt-Anchor" href="#debounce"></a> debounce</h3><p>많이 사용하진 않지만, 디바운스할 옵져버블을 계산값을 리턴해주는 함수를 파라미터로 주면 된다.</p><h3 id="debouncetime"><a class="markdownIt-Anchor" href="#debouncetime"></a> debounceTime</h3><p>로대쉬나 다른 라이브러리의 debounce 와 같다.</p><h3 id="distinct"><a class="markdownIt-Anchor" href="#distinct"></a> distinct</h3><p>중복은 제거하고 발행한다. 값 비교에는 === 연산자가 사용된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">of</span>(</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">1</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">1</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">3</span>&#125;</span><br><span class="line">).pipe(</span><br><span class="line">  distinct(<span class="function"><span class="params">data</span> =&gt;</span> data.id),</span><br><span class="line">  map(<span class="function"><span class="params">data</span> =&gt;</span> data.id)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>두번째 파라미터로 <code>flush</code> 조건을 옵져버블로 넘겨 중복 조건을 초기화시킬 수 있다.</p><h3 id="distinctuntilchanged"><a class="markdownIt-Anchor" href="#distinctuntilchanged"></a> distinctUntilChanged</h3><p>중복값이 연속으로 발행된 경우만 제거한다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">of</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>).pipe(</span><br><span class="line">  distinctUntilChanged()</span><br><span class="line">).subcribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>첫번째 파라미터로는 비교함수 (prev, next 를 파라미터로 받는)를 넣어 연속 비교조건을 변경할 수 있다.</p><p>두번째 파라미터로는 비교할 값 셀렉터를 변경해줄 수 있다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">of</span>(</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">10</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">10</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">20</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">30</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">30</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">20</span>&#125;</span><br><span class="line">).pipe(</span><br><span class="line">  distinctUntilChanged(<span class="literal">null</span>, data =&gt; data.a)</span><br><span class="line">).subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br></pre></td></tr></table></figure><h3 id="sample"><a class="markdownIt-Anchor" href="#sample"></a> sample</h3><p>이건 마블 다이어그램으로 이해하는 게 빠르다.</p><p><img data-src="https://rxjs-dev.firebaseapp.com/assets/images/marble-diagrams/sample.png" alt="sample"></p><p>notifier 옵져버블(x 옵져버블)이 발행되면 이전 최근 값을 발행한다.<br>값 c 처럼 소스 옵져버블에 새로운 값이 없을 경우 값을 중복으로 발행하지 않는다.</p><h3 id="sampletime"><a class="markdownIt-Anchor" href="#sampletime"></a> sampleTime</h3><p>일정 간격 사이에 있는 최근 값을 발행한다.</p><h3 id="pluck"><a class="markdownIt-Anchor" href="#pluck"></a> pluck</h3><p>기본 map 연산자는 뻔하기에 적지 않았다.<br>map 처럼 동작하지만 소스 옵져버블에서 객체를 리턴할 때 객체의 property 를 뽑아낸다.</p><h3 id="mergemap"><a class="markdownIt-Anchor" href="#mergemap"></a> mergeMap</h3><h3 id="switchmap"><a class="markdownIt-Anchor" href="#switchmap"></a> switchMap</h3><h3 id="concatmap"><a class="markdownIt-Anchor" href="#concatmap"></a> concatMap</h3><h3 id="scan"><a class="markdownIt-Anchor" href="#scan"></a> scan</h3><h3 id="partition"><a class="markdownIt-Anchor" href="#partition"></a> partition</h3><h3 id="groupby"><a class="markdownIt-Anchor" href="#groupby"></a> groupBy</h3><h3 id="buffer"><a class="markdownIt-Anchor" href="#buffer"></a> buffer</h3><h3 id="buffercount"><a class="markdownIt-Anchor" href="#buffercount"></a> bufferCount</h3><h3 id="window"><a class="markdownIt-Anchor" href="#window"></a> window</h3><h3 id="windowcount"><a class="markdownIt-Anchor" href="#windowcount"></a> windowCount</h3><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>RxJS 의 장점은 이벤트 구독을 취소하고, 모든 이벤트를 하나의 스트림으로 제어할 수 있는 것이라고 생각한다.</li><li>이해하는데 상당한 기간이 소요되었지만, 웹에선 다음과 같은 상황에서 사용될 것 같다.<ul><li>SPA</li><li>에디터와 같이 많은 컴포넌트끼리 통신이 필요할 때</li></ul></li><li>이 상황에서도 앵귤러가 아닌 스토어 기반의 리액트, 뷰를 사용한다면 <strong>RxJS를 쓸거야</strong> 라고 보여주기 위해 사용하는 느낌이 든다.</li><li>모두가 같이 가기엔 꽤 어려운 개념이다.</li><li>싱글 스레드 기반의 백엔드에서 더 유용하게 쓰일 수 있을 듯</li><li><a href="https://github.com/btroncone/learn-rxjs" target="_blank" rel="external nofollow noopener noreferrer">learn-rxjs</a>의 예제를 분석하는 게 더 많은 도움이 될 것 같다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> rxjs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> rxjs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ansible 정리</title>
      <link href="/2019/04/28/Ansible-%EC%A0%95%EB%A6%AC/"/>
      <url>/2019/04/28/Ansible-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="앤서블"><a class="markdownIt-Anchor" href="#앤서블"></a> 앤서블</h1><p>서버 구성 관리 자동화 프로그램</p><h2 id="용어"><a class="markdownIt-Anchor" href="#용어"></a> 용어</h2><ul><li>애드훅: 일회성 실행</li><li>플레이북: yaml 로 재사용</li></ul><h2 id="cmdb"><a class="markdownIt-Anchor" href="#cmdb"></a> CMDB</h2><ul><li>Configuration Management DataBase (구성 관리 데이터베이스)</li><li>분산 설치된 서버, 스토리지, 네트워크 장비 등의 CPU, 메모리, 디스크 등의 하드웨어 정보와 OS, 응용프로그램 종류 등의 소프트웨어 정보 관리</li><li>다양한 시스템의 정보를 한 번에 파악 가능하고, 각 장비 간 연관 관계 파악이 쉬워 예방, 장애 파악, 유지보수에 좋음</li><li>앤서블 CMDB 는 앤서블 호스트 파일 또는 지정된 인벤토리를 통해 설정 관리 대상 시스템의 정보를 setup 모듈을 통해 수집, 저장</li><li>앤서블 vault 로 중요 정보 암호화 가능</li><li>Device42, servicenow 등이 지원</li><li>ansible-cmdb 를 사용해 간단한 대시보드로 볼 수 있다.</li></ul><h1 id="최적화"><a class="markdownIt-Anchor" href="#최적화"></a> 최적화</h1><h2 id="pipelining"><a class="markdownIt-Anchor" href="#pipelining"></a> pipelining</h2><ul><li>앤서블 실행 단계를 한 단계로 줄일 수 있음</li><li>플레이북 내에서는 ansible_ssh_pipelining 으로 설정 가능</li><li>/etc/ansible/ansible.cfg 에서 설정 가능</li></ul><h2 id="forks"><a class="markdownIt-Anchor" href="#forks"></a> forks</h2><ul><li>한 번에 실행할 수 있는 노드의 수 제어 (default: 5)</li><li>serial 은 단순히 전체 노드에서 어느 정도를 실행할 것인지를 설정하는 거라 forks 와는 다르다.</li></ul><h2 id="async"><a class="markdownIt-Anchor" href="#async"></a> async</h2><ul><li>태스크 별 지정된 주기에 체크하고 모든 노드의 동일 태스크가 완료되어야 다음 태스크 실행</li><li>주기를 0으로 설정하면 상태 체크 없이 다음 태스크가 진행된다.</li></ul><h2 id="strategy-free"><a class="markdownIt-Anchor" href="#strategy-free"></a> strategy free</h2><ul><li>상태 체크는 하지만 다른 노드의 진행을 기다리지 않고 각 노드 간 독립적으로 태스크 진행</li><li>빠르게 작업이 끝나는 노드가 생기므로 forks 수의 제한을 가능한 늘려줘야한다.</li></ul><h2 id="설정-확인"><a class="markdownIt-Anchor" href="#설정-확인"></a> 설정 확인</h2><p><code>ansible-config dump --only-changed</code> 로 변경된 설정 확인 가능</p><h2 id="블록"><a class="markdownIt-Anchor" href="#블록"></a> 블록</h2><ul><li><code>with_items, with_nested, with_dict, with_file</code>을 사용해 여러 개의 태스크를 한 번에 실행 가능</li></ul><h2 id="fact_caching"><a class="markdownIt-Anchor" href="#fact_caching"></a> fact_caching</h2><ul><li>기본적으로 앤서블의 fact 는 실행 시마다 수집되는데, 이 옵션을 설정으로 디스크 또는 메모리에 캐싱해 fact 수집 시간을 단축시킴</li><li>기본 값은 24시간</li></ul><h2 id="ansible-vault"><a class="markdownIt-Anchor" href="#ansible-vault"></a> ansible-vault</h2><ul><li>평문 파일을 <code>aes256</code>으로 암복호화</li></ul><h2 id="no_log"><a class="markdownIt-Anchor" href="#no_log"></a> no_log</h2><ul><li>플레이북 실행시 <code>-v, -vv, -vvv</code>의 옵션으로 암호화 파일의 유추가 가능한데, <code>no_log</code> 옵션을 줘서 해결 가능</li></ul><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>설정이 많고, 모듈도 많아서 사용할 때 홈페이지를 참고해가며 삽질해야할 듯</li><li>Docker 설치 전 <strong>물리적인 서버</strong>의 설정을 맞춰줄 때나 디버깅할 때 필수로 보인다.</li><li>시스템 관리자가 아니거나 AWS 쓴다면 사용할 일이 거의 없을 것 같다.</li><li><a href="https://github.com/ansible/awx" target="_blank" rel="external nofollow noopener noreferrer">AWX</a>로 Web 콘솔에서 관리가 가능하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> ansible </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ansible </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 에서 포트 접근 확인하기</title>
      <link href="/2019/04/26/Mac%EC%97%90%EC%84%9C-%ED%8F%AC%ED%8A%B8-%EC%A0%91%EA%B7%BC-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/"/>
      <url>/2019/04/26/Mac%EC%97%90%EC%84%9C-%ED%8F%AC%ED%8A%B8-%EC%A0%91%EA%B7%BC-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>윈도우의 경우에는 telnet-client 를 켜주면 되고, 맥에서도 <code>brew</code> 로 설치하면 되지만 더 좋은 내장 툴이 있다.</p><h1 id="네트워크-유틸리티"><a class="markdownIt-Anchor" href="#네트워크-유틸리티"></a> 네트워크 유틸리티</h1><p><strong>네트워크 유틸리티 &gt; 포트 스캔</strong> 을 사용하자.</p><p><img data-src="https://i.imgur.com/AEcJ2oJ.png" alt="Network Utility"></p><p>IP 를 입력하고 테스트할 포트 범위를 입력 후 스캔 버튼을 누르면 된다.</p><p>Ping, DNS, Netstat, Traceroute (MTR), Whois 등의 기능이 있어서 유용하게 사용할 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery 프로토타입 오염 취약점 (CVE-2019-11358)</title>
      <link href="/2019/04/24/jQuery-Prototype-Pollution-Vulnerability/"/>
      <url>/2019/04/24/jQuery-Prototype-Pollution-Vulnerability/</url>
      
        <content type="html"><![CDATA[<h1 id="프로토타입-오염"><a class="markdownIt-Anchor" href="#프로토타입-오염"></a> 프로토타입 오염</h1><p>이 공격은 <code>JSON.parse</code> 와 <code>Object.deepCopy</code> 를 사용하는 <a href="https://medium.com/intrinsic/javascript-prototype-poisoning-vulnerabilities-in-the-wild-7bc15347c96" target="_blank" rel="external nofollow noopener noreferrer">모든 로직에서 발생</a>할 수 있다.</p><p>2019-04-17 에 발표된 이 취약점은 <code>$.extends</code> 구문 상에서 프로토타입 XSS 공격이 가능하다.</p><h1 id="예시"><a class="markdownIt-Anchor" href="#예시"></a> 예시</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = <span class="string">'&#123;"myProperty" : "a", "__proto__" : &#123; "isAdmin" : true &#125; &#125;'</span>;</span><br><span class="line"><span class="keyword">var</span> newObject = $.extend(<span class="literal">true</span>, &#123;&#125;, <span class="built_in">JSON</span>.parse(myObject));</span><br><span class="line"><span class="built_in">console</span>.log(newObject.isAdmin); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> temp = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(temp.isAdmin); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h1 id="패치"><a class="markdownIt-Anchor" href="#패치"></a> 패치</h1><p>취약점 패치는 아래 부분을 변경해준다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend = jQuery.fn.extend = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 사이 로직 생략</span></span><br><span class="line">    <span class="keyword">for</span> (; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((options = <span class="built_in">arguments</span>[i]) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (name <span class="keyword">in</span> options) &#123;</span><br><span class="line">                src = target[name];</span><br><span class="line">                copy = options[name];</span><br><span class="line"></span><br><span class="line">                <span class="comment">// [AS-IS]</span></span><br><span class="line">                <span class="comment">// if (target === copy) &#123;</span></span><br><span class="line">                <span class="comment">// [TO-BE]</span></span><br><span class="line">                <span class="keyword">if</span> (name === <span class="string">"__proto__"</span> || target === copy) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (</span><br><span class="line">                    deep &amp;&amp;</span><br><span class="line">                    copy &amp;&amp;</span><br><span class="line">                    (jQuery.isPlainObject(copy) ||</span><br><span class="line">                        (copyIsArray = jQuery.isArray(copy)))</span><br><span class="line">                ) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (copyIsArray) &#123;</span><br><span class="line">                        copyIsArray = <span class="literal">false</span>;</span><br><span class="line">                        clone = src &amp;&amp; jQuery.isArray(src) ? src : [];</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        clone = src &amp;&amp; jQuery.isPlainObject(src) ? src : &#123;&#125;;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    target[name] = jQuery.extend(deep, clone, copy);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (copy !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    target[name] = copy;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NARS 직구하기</title>
      <link href="/2019/04/18/NARS-%EC%A7%81%EA%B5%AC%ED%95%98%EA%B8%B0/"/>
      <url>/2019/04/18/NARS-%EC%A7%81%EA%B5%AC%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="nars-cosmetics"><a class="markdownIt-Anchor" href="#nars-cosmetics"></a> NARS Cosmetics</h1><p>François Nars가 런칭한 프랑스발 유명 색조 브랜드 나스는 남자라도 갖고 싶게하는 매력있는 디자인을 가진 제품들이 많다.<br>한국에 들어오면 1.5배정도 가격이 뛰던지, 한정판은 들어오자마자 못 구한다.<br>이번 2019 Orgasm Collection 도 마찬가질 것 같다.</p><p><img data-src="https://i.imgur.com/JGikQSO.png" alt="2019 Orgasm Collection"></p><p>특히 립스틱 4개를 모아야 하나의 NARS 문구로 완성 되는 건 상술이지만 아름답다.</p><h2 id="이름의-유래"><a class="markdownIt-Anchor" href="#이름의-유래"></a> 이름의 유래</h2><p>나스 화장품 명칭은 대부분 섹슈얼한데 주된 명칭은 다음과 같다.</p><ul><li>오르가즘 '99 에 런칭된 베스트셀러이다.</li><li>슈퍼오르가즘</li><li>섹스어필</li><li>섹스판타지</li><li>쓰리썸</li><li>게이어티</li><li>패티쉬즈드</li><li>딥쓰롯</li></ul><p>왜 이런 이름을 지었는지에 대해 궁금해져서 <em>여성도 성에 당당해지자</em> 라는 카더라가 있는데, 카더라는 꺼무위키처럼 제껴두고 <a href="https://www.vogue.com/article/planet-nars-an-intimate-q-a-with-one-of-beautys-biggest-icons" target="_blank" rel="external nofollow noopener noreferrer">나스가 보그와 한 인터뷰</a>를 확인해보자.</p><blockquote><p><strong>Q: I think it’s safe to say your products have some of the all-time best names—Orgasm, Jungle Red, Belle de Jour, Chinatown, Schiap. How do you name them?</strong></p></blockquote><p>네이밍은 상품에 개성을 부여하는 것과 같다고 생각했기에, 여성들이 뭔가 특별한 것을 입고 있는 것처럼 느끼게 하고 싶었습니다. 메이크업은 섹시 악세사리라고 생각하기 때문에 재밌있게, 섹시하게 만들길 원했습니다. 여성들은 섹시해보기 위해, 섹시함을 느끼기 위해 이걸 사용합니다.</p><blockquote><p>A: You know, I always said we were either going to give them numbers, or interesting names. I didn’t want to go with boring names like Pink Peach. <strong>It had to be almost like giving each product its own personality, so that women could dream, could connect to the product, could feel like they were wearing something special. I wanted it to be fun. And sexy, too. Because makeup is a sexy accessory—women use it to look sexy and to feel sexy, for themselves and for the world.</strong> It gets difficult, because, you can imagine, we’ve been copied a lot. I have those little Hermès agendas, and 24 hours a day I keep writing names that come to my mind from books that I read, exhibits I go to, movies, places. I keep writing names. That’s how it works. I usually think about the name first, and then a color matches that name. Nothing is really planned.</p></blockquote><h1 id="구매하기"><a class="markdownIt-Anchor" href="#구매하기"></a> 구매하기</h1><h2 id="공홈"><a class="markdownIt-Anchor" href="#공홈"></a> 공홈</h2><p><a href="https://www.narscosmetics.com/" target="_blank" rel="external nofollow noopener noreferrer">NARS 공식 홈페이지</a>는 한국인이 한국카드를 쓰거나 배대지를 이용할 경우 구매 취소가 되어버린다.<br>이 것에 대해 카드, 페이팔, 배대지 변경까지 세 번의 도전을 모두 실패하고 결국 문의를 해서 이런 답변을 받았다.</p><blockquote><p>Please be aware that at this time <a href="http://NARScosmetics.com" target="_blank" rel="external nofollow noopener noreferrer">NARScosmetics.com</a> can only bill and ship within the U.S. and both billing and shipping must be made to a U.S. residential address.</p></blockquote><p>의역하면 <strong>응 안돼~</strong> 가 되시겠다.<br>사은품도 많고, 정품 패키지도 엄청 예쁜데 구매하려면 미국 친구나 미국 공구를 알아봐야한다.</p><p>이 문제는 나에게 <code>High Priority</code> 이슈로 등록되어서 대안을 마련해야만 했다.</p><h2 id="sephora"><a class="markdownIt-Anchor" href="#sephora"></a> Sephora</h2><p>편집숍인 <a href="https://www.sephora.com/brand/nars" target="_blank" rel="external nofollow noopener noreferrer">세포라</a>엔 나스 신상이 바로바로 입고되고 있었다.</p><p>가입 후 <a href="https://www.2fasts.com/" target="_blank" rel="external nofollow noopener noreferrer">배대지 주소</a>를 넣어주고, 오르가즘 컬렉션을 추가한 뒤 <a href="https://www.sephora.com/beauty/beauty-offers" target="_blank" rel="external nofollow noopener noreferrer">사은품</a>도 꼭꼭 챙기자.</p><table><thead><tr><th>블러셔</th><th>립</th></tr></thead><tbody><tr><td><img data-src="https://www.sephora.com/productimages/sku/s2165215-main-Sgrid@2x.jpg" alt="Orgasm Blush Jumbo"></td><td><img data-src="https://www.sephora.com/productimages/sku/s2063758-main-Sgrid@2x.jpg" alt="Orgasm Afterglow Lip Balm"></td></tr><tr><td><img data-src="https://www.sephora.com/productimages/sku/s2196343-main-Sgrid@2x.jpg" alt="Endless Orgasm Palette"></td><td><img data-src="https://www.sephora.com/productimages/sku/s2165207-main-Sgrid@2x.jpg" alt="Orgasm Oil-Infused Lip Tint"></td></tr></tbody></table><p>자주 이용할 듯 싶다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>도착하면 이 컬렉션을 한국의 어떤 뷰티 유튜버보다도 빨리 리뷰할 수 있을 것 같다.</li><li>시놀로지 나스도 구매도 해야하는데</li></ul>]]></content>
      
      
      <categories>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nars </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pi-hole과 라즈베리파이로 모든 광고 차단하기</title>
      <link href="/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b/"/>
      <url>/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>유튜브 광고가 많아졌다. 명색이 프로그래머인데 AdGuard를 정액제로 사용하고 싶지 않았다.<br>이 문서엔 없지만 피캡을 구현해보고 싶었다.</p><h2 id="기기-구매"><a class="markdownIt-Anchor" href="#기기-구매"></a> 기기 구매</h2><p>라즈베리파이3 B+ 스타터킷을 구매한다. 아래 재료가 있을 경우 빼고 구매해도 된다.</p><ul><li>SD 카드 리더기</li><li>5핀 충전기</li><li>라즈베리파이용 방열판</li><li>라즈베리파이 케이스</li></ul><h1 id="환경설정"><a class="markdownIt-Anchor" href="#환경설정"></a> 환경설정</h1><h2 id="포맷"><a class="markdownIt-Anchor" href="#포맷"></a> 포맷</h2><p>SD 카드를 비워주기위해 파워쉘이나 CMD를 관리자 모드로 접근한다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PS &gt; diskpart</span><br><span class="line"></span><br><span class="line">DISKPART &gt; list disk</span><br><span class="line">DISKPART &gt; select disk $&#123;SD_CARD_DRIVE_NUMBER&#125;</span><br><span class="line"></span><br><span class="line">DISKPART &gt; clean</span><br></pre></td></tr></table></figure><h2 id="라즈비안"><a class="markdownIt-Anchor" href="#라즈비안"></a> 라즈비안</h2><p>운영체제인 <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="external nofollow noopener noreferrer">Raspbian Stretch Lite</a> 버전을 다운로드한다.<br>데비안 기반이다.</p><h2 id="etcher"><a class="markdownIt-Anchor" href="#etcher"></a> etcher</h2><p>컴퓨터에 SD 카드용 이미지 굽는 <a href="https://github.com/balena-io/etcher" target="_blank" rel="external nofollow noopener noreferrer">프로그램</a>을 설치한다.</p><p>다운로드된 라즈비안과 etcher로 이미지를 굽는다.<br>직관적이라 1, 2, 3 선택하듯이 설치하면 된다.<br>도중에 깨질 경우 다시 포맷한다.</p><h2 id="ssh-접근"><a class="markdownIt-Anchor" href="#ssh-접근"></a> ssh 접근</h2><p>이미지 설치 후 다시 USB 를 인식시키면 Boot drive 가 보이는데 접근 후 루트에 <strong>ssh</strong> 란 이름의 터치파일을 만들어준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch ssh</span><br></pre></td></tr></table></figure><p>이 파일이 있어야 ssh 접근이 가능하다. 공유기에 꼽고 내부아이피 확인하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ssh 접근</span></span><br><span class="line">$ ssh pi@YOUR_RASPBERRY_INTERAL_IP</span><br><span class="line"></span><br><span class="line"><span class="comment"># 초기 비밀번호는 raspberry 이다.</span></span><br></pre></td></tr></table></figure><h1 id="패키지-설치"><a class="markdownIt-Anchor" href="#패키지-설치"></a> 패키지 설치</h1><p>부팅 후 <code>apt-get</code> 을 사용할 시간이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get upgrade -y &amp;&amp; sudo apt-get update</span><br></pre></td></tr></table></figure><h2 id="vim"><a class="markdownIt-Anchor" href="#vim"></a> vim</h2><p>vim 도 없다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install vim</span><br></pre></td></tr></table></figure><h2 id="oh-my-zsh"><a class="markdownIt-Anchor" href="#oh-my-zsh"></a> oh-my-zsh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install zsh</span><br><span class="line">$ chsh -s $(<span class="built_in">which</span> zsh)</span><br><span class="line">$ sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure><p><strong>agnoster theme</strong>, <strong>zsh-syntax-highlighting</strong>, <strong>zsh-autosuggestion</strong> 세팅해주자.</p><h1 id="pi-hole"><a class="markdownIt-Anchor" href="#pi-hole"></a> pi-hole</h1><p>이제 파이홀을 설치할 수 있다.</p><p>라즈베리파이를 유선연결했으니 <strong>eth0</strong> 인터페이스만 잘 체크해주면, 나머진 기본옵션으로 다음 다음만 해주면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo curl -sSL https://install.pi-hole.net | bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 비밀번호 변경</span></span><br><span class="line">$ sudo pihole -a -p</span><br></pre></td></tr></table></figure><h2 id="dns-encrypt"><a class="markdownIt-Anchor" href="#dns-encrypt"></a> dns-encrypt</h2><p>이왕 DSN 가로채는 거 암호화도 해주자.<br><a href="https://github.com/pi-hole/pi-hole/wiki/DNSCrypt-2.0" target="_blank" rel="external nofollow noopener noreferrer">매뉴얼</a> 내용을 정리했다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /opt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설치</span></span><br><span class="line">$ sudo wget https://github.com/jedisct1/dnscrypt-proxy/releases/download/2.0.22/dnscrypt-proxy-linux_arm-2.0.22.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 폴더 생성</span></span><br><span class="line">$ sudo tar -xf dnscrypt-proxy-linux_arm-2.0.22.tar.gz</span><br><span class="line">$ sudo mv linux-arm dnscrypt-proxy &amp;&amp; <span class="built_in">cd</span> dnscrypt-proxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 기본 설정 복사</span></span><br><span class="line">$ sudo cp example-dnscrypt-proxy.toml dnscrypt-proxy.toml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정 변경</span></span><br><span class="line">$ sudo vi dnscrypt-proxy.toml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 이 세 옵션을 찾아서 변경해준다.</span></span><br><span class="line">server_names = [<span class="string">'dnscrypt.nl-ns0'</span>]</span><br><span class="line"><span class="comment"># 기본 53번 포트는 pi-hole에서 쓰고 있다.</span></span><br><span class="line">listen_address = [<span class="string">'127.0.0.1:54'</span>, <span class="string">'[::1]:54'</span>]</span><br><span class="line">require_dnssec = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 서비스 등록</span></span><br><span class="line">$ sudo ./dnscrypt-proxy -service install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 시작</span></span><br><span class="line">$ sudo ./dnscrypt-proxy -service start</span><br></pre></td></tr></table></figure><p><a href="https://dnscrypt.nl/" target="_blank" rel="external nofollow noopener noreferrer">dnscrypt.nl-ns0</a> Public DNSCrypt 서버이다.<br>다른 서버는 <a href="https://github.com/dyne/dnscrypt-proxy/blob/master/dnscrypt-resolvers.csv" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 참조하자. 일본이나 싱가폴 쪽에 있으면 좋을텐데 아쉽다.</p><h2 id="upstream-dns-변경"><a class="markdownIt-Anchor" href="#upstream-dns-변경"></a> Upstream DNS 변경</h2><p>관리자 화면의 <strong>Settings &gt; DNS &gt; Upstream DNS Servers</strong> 탭에서 <code>'127.0.0.1:54', '[::1]:54'</code>를 넣어주고 저장한다.</p><h2 id="primary-dns-address-변경"><a class="markdownIt-Anchor" href="#primary-dns-address-변경"></a> Primary DNS Address 변경</h2><p>공유기 설정에 들어가서 라즈베리파이 내부 아이피를 기본 DNS 주소로 설정한다.<br>IPTIME 의 경우 <strong>고급 설정 &gt; 네트워크 관리 &gt; 인터넷 설정 정보</strong> 에 있다.</p><h1 id="blocklists"><a class="markdownIt-Anchor" href="#blocklists"></a> BlockLists</h1><p><strong>Settings &gt; Blocklists</strong> 에서 추가하고 <strong>Save and Update</strong> 하면 차단할 주소가 추가된다. 아래는 참고할만한 링크다.</p><ul><li><a href="https://www.reddit.com/r/pihole/comments/9oekfe/good_blocklists_for_pihole/" target="_blank" rel="external nofollow noopener noreferrer">레딧</a></li><li><a href="https://discourse.pi-hole.net/t/update-the-best-blocking-lists-for-the-pi-hole-alternative-dns-servers-2019/13620" target="_blank" rel="external nofollow noopener noreferrer">Best blocking lists</a></li></ul><h2 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h2><p><a href="https://www.cloudflare.com/ssl/encrypted-sni/" target="_blank" rel="external nofollow noopener noreferrer">Cloudflare Browsing Experience Security Check</a>서 체크하자.</p><p>DNSSEC, TLS1.3에 초록불 들어오면 된다.<br>그리고 유튜브를 쾌적하게 즐기자.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li><strong>Query Log</strong> 메뉴에서 어느 도메인을 확인하려는지 알 수 있다.</li><li>Instagram 광고 차단 필터를 찾아봐야겠다.</li><li>정작 내 블로그엔 애드센스 달려있는데…</li><li>세팅비 2만원 받아도 되지않을까? 😄</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> raspberry </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pi-hole </tag>
            
            <tag> raspberry </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RecursiveDirectoryIterator 사용하기</title>
      <link href="/2019/04/12/RecursiveDirectoryIterator-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>/2019/04/12/RecursiveDirectoryIterator-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>보통 디렉토리 순회를 한다고하면 무슨 메소드를 쓸까?</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 쉘실행하고?</span></span><br><span class="line">exec(<span class="string">'find dir'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아니면 for문과 scandir?</span></span><br><span class="line">scandir(<span class="string">'dir'</span>);</span><br></pre></td></tr></table></figure><p>위 방법은 간단하지만 <code>/home/gracefullight/tmp/**/*.bak</code> 와 같은 중첩된 디렉토리 파일의 데이터를 가져오려면 엄청난 <code>if/else</code> 처리가 들어갈 것이다.</p><h1 id="recursiveiterator"><a class="markdownIt-Anchor" href="#recursiveiterator"></a> RecursiveIterator</h1><h2 id="recursivedirectoryiterator"><a class="markdownIt-Anchor" href="#recursivedirectoryiterator"></a> RecursiveDirectoryIterator</h2><p>오토로딩을 하기 위해 필수로 들어가있는 <a href="https://www.php.net/manual/en/book.spl.php" target="_blank" rel="external nofollow noopener noreferrer">Standard PHP Library</a>엔 파일 순회에 사용할 수 있는 이터레이터 클래스가 들어가 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// $path 하위를 가져오고 .. 와 . 는 제외한다.</span></span><br><span class="line">$directory = <span class="keyword">new</span> RecursiveDirectoryIterator($path, RecursiveDirectoryIterator::SKIP_DOTS);</span><br><span class="line">$iterator = <span class="keyword">new</span> RecursiveIteratorIterator($directory);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> ($iterator <span class="keyword">as</span> $file) &#123;</span><br><span class="line">    $file-&gt;getPathname();</span><br><span class="line">    $file-&gt;getMTime();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><code>$file</code>은 <a href="https://www.php.net/manual/en/class.splfileinfo.php" target="_blank" rel="external nofollow noopener noreferrer">SplFileInfo</a> 이다.</p><h2 id="recursivefilteriterator"><a class="markdownIt-Anchor" href="#recursivefilteriterator"></a> RecursiveFilterIterator</h2><p>위의 <code>foreach</code> 문 안에서 조건을 줘서 필터링할 수 있지만 다른 깔끔한 방법이 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TextFilterIterator</span> <span class="keyword">extends</span> <span class="title">RecursiveFilterIterator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> $FILTERS = [</span><br><span class="line">        <span class="string">'txt'</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 순회하기위해 자식 트리가 있을 경우 true</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;hasChildren()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $current = <span class="keyword">$this</span>-&gt;current();</span><br><span class="line">        <span class="keyword">if</span> (!$current-&gt;isFile()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 확장자가 txt 인 파일만 필터링</span></span><br><span class="line">        <span class="keyword">return</span> in_array($current-&gt;getExtension(), <span class="keyword">self</span>::$FILTERS);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 감싸주면 끝난다.</span></span><br><span class="line">$iterator = <span class="keyword">new</span> RecursiveIteratorIterator(</span><br><span class="line">    <span class="keyword">new</span> TextFilterIterator($directory),</span><br><span class="line">    <span class="comment">// 이 옵션은 하위 폴더만 순회하게 해준다.</span></span><br><span class="line">    RecursiveIteratorIterator::LEAVES_ONLY,</span><br><span class="line">    <span class="comment">// 이 옵션은 Read 에 실패할 경우 오류를 스킵한다.</span></span><br><span class="line">    RecursiveIteratorIterator::CATCH_GET_CHILD</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="recursivecallbackfilteriterator"><a class="markdownIt-Anchor" href="#recursivecallbackfilteriterator"></a> RecursiveCallbackFilterIterator</h2><p>콜백으로 만들어 더 예쁘게 짤 수 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$FILTERS = [<span class="string">'txt'</span>];</span><br><span class="line"></span><br><span class="line">$textFilterIterator = <span class="keyword">new</span> RecursiveCallbackFilterIterator(</span><br><span class="line">    $directory,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="params">($current, $key, $iterator)</span> <span class="title">use</span> <span class="params">($FILTERS)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($iterator-&gt;hasChildren()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!$current-&gt;isFile()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> in_array($current-&gt;getExtension(), $FILTERS);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">$iterator = <span class="keyword">new</span> RecursiveIteratorIterator($textFilterIterator);</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>쓸 수 있다면 <a href="https://packagist.org/packages/symfony/finder" target="_blank" rel="external nofollow noopener noreferrer">symfony/finder</a> 쓰자.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac에서 Kubernetes is starting이 지속되는 현상</title>
      <link href="/2019/04/12/Mac%EC%97%90%EC%84%9C-Kubernetes-is-starting%EC%9D%B4-%EC%A7%80%EC%86%8D%EB%90%98%EB%8A%94-%ED%98%84%EC%83%81/"/>
      <url>/2019/04/12/Mac%EC%97%90%EC%84%9C-Kubernetes-is-starting%EC%9D%B4-%EC%A7%80%EC%86%8D%EB%90%98%EB%8A%94-%ED%98%84%EC%83%81/</url>
      
        <content type="html"><![CDATA[<h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>모하비 문제인지 최근 엣지 버전 Docker for Mac 이 문제인지 잘 모르겠지만,<br>부팅시에 <strong>Kubernates is starting</strong> 문구가 지속되며 CPU의 온도를 90도까지 올려버린다.</p><p>맥북이 트랜스포머가 되어 곧 제트기가 될 것처럼 굉음이 나는데 해결해보자.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><ul><li><strong>Docker &gt; Prefereneces &gt; Reset</strong> 에서 Reset to factory defaults 로 공장 초기화를 진행한다.<br>-<code>~/.kube</code> 폴더를 강제로 삭제한다.</li><li>다시 쿠버네티스를 실행한다.</li></ul><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>쿠버네티스 뿐 아니라 도커 자체가 맥에서 CPU 가 튀는 현상이 있는데,<br><a href="https://github.com/docker/for-mac/issues/1759" target="_blank" rel="external nofollow noopener noreferrer">여기</a> 이슈에서 관리가 되고 있다.</p><p>file watch 기능을 끄거나, 볼륨을 해제하거나, 맥 디스크 암호화 기능을 꺼보라는데 신뢰할 수 있는 방법은 아니다.</p><p>도커 켜놓고 잠자기 해놓으면 과열로 맥북 켜지지도 않을 수 있어서 해결될 때까진 윈도우에서 돌려야할 듯 싶다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
            <tag> kubernetes </tag>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>querySelectorAll 로 배열만들기</title>
      <link href="/2019/03/30/querySelectorAll-%EB%A1%9C-%EB%B0%B0%EC%97%B4%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>/2019/03/30/querySelectorAll-%EB%A1%9C-%EB%B0%B0%EC%97%B4%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p><code>document.querySelectorAll('.class')</code> 와 같이 엘레먼트를 받았는데, <code>for</code>문을 돌리면 오류가 발생한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 이 방법이나</span></span><br><span class="line"><span class="keyword">let</span> classes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.class'</span>));</span><br><span class="line"><span class="comment">// 이렇게 가능하다</span></span><br><span class="line">classes = [...document.querySelectorAll(<span class="string">'.class'</span>)];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 구버전 브라우저를 지원해야한다면</span></span><br><span class="line">classes = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.class'</span>));</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>puppeteer 로 크롤링할 때 항상 헷갈린다.<br>삽질로 찾았는데 stackoverflow 에 정리된 게 있는 듯…</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PWA 홈 설치의 모든 것 (A2HS)</title>
      <link href="/2019/02/17/PWA-A2HS/"/>
      <url>/2019/02/17/PWA-A2HS/</url>
      
        <content type="html"><![CDATA[<p>PWA의 캐싱과 푸쉬 기능은 익히 알려져 있지만, 홈 설치에 대해선 제대로 되어있는 문서가 거의 없다.<br>기능은 기존 바로가기의 전체화면 버전이라 간단해보이지만 구현해보면 <strong>빙산의 일각</strong>인 걸 절실히 깨닫게 된다.</p><h1 id="a2hs"><a class="markdownIt-Anchor" href="#a2hs"></a> A2HS</h1><blockquote><p>Add To Home Screen, 홈 설치, 웹 앱 설치</p></blockquote><h2 id="사전지식"><a class="markdownIt-Anchor" href="#사전지식"></a> 사전지식</h2><p>아래 사전지식이 없으면 이 문서가 읽기 힘들 수 있다.</p><ul><li>es6</li><li>서비스워커</li><li>캐싱 전략</li></ul><h2 id="조건"><a class="markdownIt-Anchor" href="#조건"></a> 조건</h2><p>홈 설치가 되려면 다음과 같은 조건이 필요하다.<br>크롬 측 설명인데 다른점이 많아서 하나씩 까보자.</p><ul><li>HTTPS</li><li>서비스워커 설치</li><li>start_url 이 오프라인 사용가능</li><li>최소 192px 아이콘 지원</li><li>manifest.json 에 name 과 short_name 값 등록</li></ul><h3 id="https"><a class="markdownIt-Anchor" href="#https"></a> HTTPS</h3><p>HTTPS 를 통해 서비스가 제공되어야한다고 나오는데,<br>도메인 뿐아니라 페이지의 모든 리소스가 HTTPS 프로톨콜로 전송되어야한다.</p><h3 id="서비스워커-설치"><a class="markdownIt-Anchor" href="#서비스워커-설치"></a> 서비스워커 설치</h3><p>PWA 를 시작하는데 필수 요소니 자세한 설명은 생략</p><h3 id="start_url-오프라인-사용가능"><a class="markdownIt-Anchor" href="#start_url-오프라인-사용가능"></a> start_url 오프라인 사용가능</h3><p>어느 캐싱전략을 사용해도 상관없으나 오프라인 모드로 연결이 되어야한다.<br>국내 서비스일 경우 크게 느리지 않으므로 Network First Strategy 로 캐싱하는 걸 추천한다.<br>국외 서비스일 경우 로드되는 리소스까지 캐싱전략을 세워야될 수 있다.</p><p>여기서 start_url 에 querystring 을 추가해 사용하는 경우가 대부분일텐데 캐싱되는 URL 은 querystring 이 없다는 걸 감안해야한다.</p><p>예를 들어보자.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 보통 fetch request 로 접근되는 경로는 다음과 같다.</span></span><br><span class="line">start_url: <span class="string">'/'</span>,</span><br><span class="line"><span class="comment">// 검색 파라미터가 달려있다면 이런 모양일 것이다.</span></span><br><span class="line">start_url: <span class="string">'/?NaPm='</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 하지만 manifest.json 에 들어있는 경로는 다음과 같을 것이다.</span></span><br><span class="line">start_url: <span class="string">'/?pwa=1&amp;utm_source=pwa'</span></span><br></pre></td></tr></table></figure><p>유저가 접근시 <code>['NaPm', 'pwa', 'utm_source']</code> 등의 파라미터를 제거해야 경로가 캐시처리되며 오프라인 접근이 될 것이다.</p><h3 id="아이콘-지원"><a class="markdownIt-Anchor" href="#아이콘-지원"></a> 아이콘 지원</h3><p>크롬에선 최소 192px 의 아이콘을 지원하라고 나와있지만 스플래시 스크린에서 사용되는 아이콘은 <strong>512px</strong> 이 우선이다. 게다가 엣지 등의 다른 브라우저는 512px 도 있어야한다.</p><p>큰 사이즈의 이미지가 있을 경우 설치시에 네이티브 코드에서 이미지를 리사이징해서 아이콘을 만드므로 512px 하나만 있어도 되지만 홈 설치 시간이 느려지는 원인이 되므로 <strong>최소 192px, 512px 두 개</strong>는 지원해주자.</p><p>여력이 된다면 더 많은 사이즈의 이미지를 지원해줘도 된다. 이미지 업로드 하는 페이지의 리사이징 비용과 이미지별 트래픽 비용도 추가되겠지만 항상 유저의 속도가 중요한 것 아닌가?</p><p>이미지가 많을 경우 아래 쪽에 언급할 compatible 기능에서 문제가 생길 수 있다.</p><h3 id="앱-이름"><a class="markdownIt-Anchor" href="#앱-이름"></a> 앱 이름</h3><p>name 속성은 스플래시 스크린에 사용되며, short_name 은 바로가기 앱 명에 사용된다.<br>name 속성에 빈 값이 들어갈 경우 (빈 값엔 space 및 ‘ㄱ’ 한자 1키도 포함된다.) short_name 으로 대체된다.<br>두 속성이 모두 빈 값일 경우 홈 설치가 비활성화 된다.</p><p>이 기능은 스펙에 명시되어 있어서 변경 불가능하다.</p><p>크롬에선 스플래시 스크린 하단에 앱 이름이 노출되며 기타 브라우저에선 중앙에 노출된다.<br>최근에 하단으로 변경된 것으로 보인다.</p><h2 id="고려-대상"><a class="markdownIt-Anchor" href="#고려-대상"></a> 고려 대상</h2><p>필수 조건에는 없지만 고려해야할 대상들은 아래와 같다.</p><ul><li>background_color</li><li>theme_color</li><li>display</li><li>related_applications</li></ul><h3 id="background_color"><a class="markdownIt-Anchor" href="#background_color"></a> background_color</h3><p>이 속성은 스플래시 스크린의 배경색을 담당하는데, 배경색은 스플래시 스크린 상의 앱 이름 (name 속성)의 색상에 영향을 미친다.</p><p>앱 이름은 배경색이 거므스름한지의 여부에 따라 흰색 또는 검정색으로 노출된다.<br>이 공식은 <a href="https://www.w3.org/TR/WCAG20/#contrast-ratiodef" target="_blank" rel="external nofollow noopener noreferrer">contrast ratio</a> 란 스펙으로 정의되어 있으며, 안드로이드 내부에 구현되어있는 소스는 <a href="https://cs.chromium.org/chromium/src/chrome/android/java/src/org/chromium/chrome/browser/util/ColorUtils.java" target="_blank" rel="external nofollow noopener noreferrer">다음</a>과 같다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> CONTRAST_LIGHT_ITEM_THRESHOLD = <span class="number">3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Calculates the contrast between the given color and white,</span></span><br><span class="line"><span class="comment"> * using the algorithm provided by</span></span><br><span class="line"><span class="comment"> * the WCAG v2 in http://www.w3.org/TR/WCAG20/#contrast-ratiodef.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">float</span> <span class="title">getContrastForColor</span><span class="params">(<span class="keyword">int</span> color)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> bgR = Color.red(color) / <span class="number">255f</span>;</span><br><span class="line">    <span class="keyword">float</span> bgG = Color.green(color) / <span class="number">255f</span>;</span><br><span class="line">    <span class="keyword">float</span> bgB = Color.blue(color) / <span class="number">255f</span>;</span><br><span class="line"></span><br><span class="line">    bgR = (bgR &lt; <span class="number">0.03928f</span>) ? bgR / <span class="number">12.92f</span> : (<span class="keyword">float</span>) Math.pow((bgR + <span class="number">0.055f</span>) / <span class="number">1.055f</span>, <span class="number">2.4f</span>);</span><br><span class="line">    bgG = (bgG &lt; <span class="number">0.03928f</span>) ? bgG / <span class="number">12.92f</span> : (<span class="keyword">float</span>) Math.pow((bgG + <span class="number">0.055f</span>) / <span class="number">1.055f</span>, <span class="number">2.4f</span>);</span><br><span class="line">    bgB = (bgB &lt; <span class="number">0.03928f</span>) ? bgB / <span class="number">12.92f</span> : (<span class="keyword">float</span>) Math.pow((bgB + <span class="number">0.055f</span>) / <span class="number">1.055f</span>, <span class="number">2.4f</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> bgL = <span class="number">0.2126f</span> * bgR + <span class="number">0.7152f</span> * bgG + <span class="number">0.0722f</span> * bgB;</span><br><span class="line">    <span class="keyword">return</span> Math.abs((<span class="number">1.05f</span>) / (bgL + <span class="number">0.05f</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Check whether lighter or darker foreground elements (i.e. text, drawables etc.)</span></span><br><span class="line"><span class="comment"> * should be used depending on the given background color.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> backgroundColor The background color value which is being queried.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Whether light colored elements should be used.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">shouldUseLightForegroundOnBackground</span><span class="params">(<span class="keyword">int</span> backgroundColor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getContrastForColor(backgroundColor) &gt;= CONTRAST_LIGHT_ITEM_THRESHOLD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="theme_color"><a class="markdownIt-Anchor" href="#theme_color"></a> theme_color</h3><p>이 속성은 주소창의 색상 또는 standalone 모드 시의 상단 상태바의 색상으로 노출된다.<br>하지만 IOS Safari 에서는 <code>['black', 'black-translucent']</code> 두 가지 색상으로만 선택이 가능하다.</p><p>이 것도 위의 Contrast 알고리즘을 활용해 거므스름한 여부에 따라 설정하면 된다.</p><h3 id="display"><a class="markdownIt-Anchor" href="#display"></a> display</h3><p>크롬 문서엔 standlone, fullscreen, minimal-ui 모두 A2HS 의 기능을 활용할 수 있다고 설명되어 있으나, 실제로는 앞의 두 속성만 가능하다.<br>삼성브라우저는 minimal-ui 속성을 지원하지 않는다.</p><h3 id="related_applications"><a class="markdownIt-Anchor" href="#related_applications"></a> related_applications</h3><p>앱을 가지고 있을 경우 앱 다운로드를 유도할 수 있는데, manifest 에 아래 속성만 넣으면 된다.<br>id 는 apk 업로드할 때 그 것과 같다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"prefer_related_applications"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">"related_applications"</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="string">"platform"</span>: <span class="string">"play"</span>,</span><br><span class="line">  <span class="string">"id"</span>: <span class="string">"com.google.samples.apps.iosched"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h1 id="install-banner"><a class="markdownIt-Anchor" href="#install-banner"></a> Install Banner</h1><p><strong>App Install Prompt</strong> 또는 각각 브라우저마다 불리는 용어가 다른 이 기능은 PWA 접속시 홈 화면에 추가하라는 유도 배너를 말한다. 이 기능은 브라우저별로 이벤트 및 노출 유무가 천차만별이다.</p><h2 id="스펙"><a class="markdownIt-Anchor" href="#스펙"></a> 스펙</h2><table><thead><tr><th></th><th>배너</th><th>설치아이콘</th><th>배너재노출일</th><th>브라우저아이콘</th></tr></thead><tbody><tr><td>Chrome</td><td>노출</td><td>-</td><td>~3 months</td><td>-</td></tr><tr><td>Firefox</td><td>-</td><td>노출</td><td>-</td><td>표시</td></tr><tr><td>Samsung</td><td>노출</td><td>노출</td><td>~2 weeks</td><td>표시</td></tr><tr><td>Edge</td><td>노출</td><td>-</td><td>?</td><td>표시</td></tr><tr><td>UC</td><td>?</td><td>-</td><td>?</td><td>?</td></tr><tr><td>Opera</td><td>노출</td><td>-</td><td>?</td><td>표시</td></tr><tr><td>Whale</td><td>?</td><td>-</td><td>-</td><td>-</td></tr></tbody></table><p>크롬 빼고는 지원되는 브라우저에서 홈 설치시에 브라우저 아이콘이 모두 노출된다.<br>이러면 웹 푸쉬를 받을 시에 원래 브라우저에 뱃지가 생긴다고 보면 된다.</p><p>배너를 닫을 시에 재노출 기간이 비상식적으로 길다.<br>배너는 <code>prompt()</code> 메소드로 강제 노출이 불가능하며, 버튼을 클릭하는 액션이 있어야만 한다.<br>재노출일을 초기화할 시에는 브라우저의 데이터를 모두 삭제해야한다.<br>(서비스워커 삭제로 불가능, 계정 또는 브라우저에 저장되는 값으로 추정됨)</p><p>UC 브라우저는 문서도 있고 설치가 되었던 것 같은데 최근 설치가 되지 않는다.<br>Whale 는 크로미움 기반이라 설치가 되었던 것 같은데 최근 설치가 되지 않는다.</p><h1 id="ios-safari"><a class="markdownIt-Anchor" href="#ios-safari"></a> IOS Safari</h1><p>모바일계의 IE인 사파리는 <a href="https://webkit.org/status/#?search=manifest" target="_blank" rel="external nofollow noopener noreferrer">Web App Manifest</a> 기능을 아직 개발 중에 있다.<br>그리고 <a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html" target="_blank" rel="external nofollow noopener noreferrer">매우 불친절한 개발자 문서1</a> 와 <a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html" target="_blank" rel="external nofollow noopener noreferrer">불친절한 개발자 문서2</a>만 가지고 있다.</p><h2 id="사파리-버그"><a class="markdownIt-Anchor" href="#사파리-버그"></a> 사파리 버그</h2><p>사파리에서만 나타나는 크리티컬한 버그가 몇 가지 있다.</p><h3 id="oauth-인증-불가"><a class="markdownIt-Anchor" href="#oauth-인증-불가"></a> OAuth 인증 불가</h3><p>정확히 말하면 타 도메인 또는 새 창을 사용하는 SSO 와 OAuth 인증이 불가능하다.<br>사파리 자체 버그로 IOS 12.2.0 버전에 수정되었다.</p><h3 id="제스처-사용-불가"><a class="markdownIt-Anchor" href="#제스처-사용-불가"></a> 제스처 사용 불가</h3><p>뒤로가기 제스처 사용이 불가능하다.<br>이를 위해 하이브리드 웹앱처럼 하단 네비게이션 바를 만들어줄 수 있다.<br>이 버그도 IOS 12.2.0 버전에 수정되었다.</p><h2 id="전용-속성"><a class="markdownIt-Anchor" href="#전용-속성"></a> 전용 속성</h2><p>홈 화면 아이콘과 스플래시 스크린, 테마 색상을 <code>meta</code>, <code>link</code> 태그로 만들어줘야한다.<br>이를 위해 manifest.json 의 값을 가져와 canvas 를 통해 프론트에서 이미지를 만들어야한다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-title"</span> <span class="attr">content</span>=<span class="string">"AppTitle"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attr">content</span>=<span class="string">"black"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-itunes-app"</span> <span class="attr">content</span>=<span class="string">"app-id=myAppStoreID"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">href</span>=<span class="string">"touch-icon-iphone.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-startup-image"</span> <span class="attr">href</span>=<span class="string">"icon.png"</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="compatible"><a class="markdownIt-Anchor" href="#compatible"></a> Compatible</h1><p>Chrome, Safari, Edge 등 호환성을 맞추다보면 머리에 쥐가 날지도 모른다.<br>이럴 때 브라우저별 호환성을 맞춰주는 google 에서 제공되는 라이브러리가 있다.</p><p><a href="https://github.com/GoogleChromeLabs/pwacompat" target="_blank" rel="external nofollow noopener noreferrer">pwa.compat</a> 으로 다음과 같이 로드하면 된다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"manifest"</span> <span class="attr">href</span>=<span class="string">"manifest.json"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"path/to/pwacompat.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>다음과 같은 호환성이 해결된다.</p><ul><li>Safari 전용 속성</li><li>Safari 홈 화면 아이콘과 스플래시 이미지</li><li>Edge, IE 전용 속성</li><li>meta 태그로 추가되지 않은 manifest.json 속성</li></ul><h2 id="단점"><a class="markdownIt-Anchor" href="#단점"></a> 단점</h2><p>manifest.json 과 icon 배열의 수만큼 request 수가 증가한다.<br>static resource 이므로 HTTP Cache 로 해결 가능하다.</p><h1 id="버그"><a class="markdownIt-Anchor" href="#버그"></a> 버그</h1><p>삼성브라우저에서 앱 이름에 &quot; 큰따옴표가 들어간 경우 설치가 실패한다.<br>Manifest JSON 을 파싱하면서 브라우저 내에서 오류가 발생한다.</p><h1 id="통계"><a class="markdownIt-Anchor" href="#통계"></a> 통계</h1><p>홈 설치를 한 뒤에 유저가 얼마나 설치했을지 통계를 내는 것 또한 중요한데,<br><code>beforeInstallPrompt</code> 나 <code>appInstalled</code> 이벤트는 브라우저 호환성이 보장되지 않는다.</p><p>따라서 위 이벤트로 로깅하는 건 무의미하고, start_url 에 들어온 파라미터로 통계를 내면 된다.</p><h1 id="테스트"><a class="markdownIt-Anchor" href="#테스트"></a> 테스트</h1><p>크롬 개발자도구의 <strong>application &gt; Manfiest &gt; Add to homescreen</strong> 으로 이벤트를 발생시킬 수 있다고 하나 잘 되진 않는다.</p><p>홈 설치 조건을 만족시킬 경우, 크롬 설정 아이콘에서 “앱 명 추가” 라는 설정 메뉴가 하나 더 보이는데 이 기능으로 조건을 만족하는지와 브라우저 PWA 정도는 테스트 가능하다.</p><p>모바일 디버깅용으론 <a href="https://github.com/liriliri/eruda" target="_blank" rel="external nofollow noopener noreferrer">eruda</a>를 사용하자.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>IE7-8 호환성 맞추던 시절이 떠올랐다.<br>아직 픽스될 버그가 많으며, 안정될 때까지 최소 1년은 더 필요할 것으로 보인다.<br>추가되고 고쳐져야할 기능도 몇 가지 있다.</p><ul><li>브라우저 호환성 (주소창 옆 아이콘으로 통일될 듯)</li><li>이벤트 호환성</li><li>manifest href 에 blob 형태 지원 (현재 json decode 하면서 경로 오류 발생)</li><li>manifest가 변경될 경우 업데이트알림 (<a href="https://github.com/w3c/manifest/issues/446" target="_blank" rel="external nofollow noopener noreferrer">이슈</a>)</li></ul><p>개인 홈페이지에 적용할 경우 <a href="https://tomitm.github.io/appmanifest/" target="_blank" rel="external nofollow noopener noreferrer">Web App Manifest Generator</a> 를 이용하는게 속 편하다.</p><p><a href="https://docs.microsoft.com/ko-kr/microsoft-edge/progressive-web-apps/microsoft-store" target="_blank" rel="external nofollow noopener noreferrer">Desktop PWA</a> 나 <a href="https://developer.android.com/reference/android/support/customtabs/TrustedWebUtils" target="_blank" rel="external nofollow noopener noreferrer">TWA</a> 는 다루지 않았다.</p><h1 id="레퍼런스"><a class="markdownIt-Anchor" href="#레퍼런스"></a> 레퍼런스</h1><ul><li><a href="https://www.w3.org/TR/appmanifest/" target="_blank" rel="external nofollow noopener noreferrer">W3C Spec</a></li><li><a href="https://abookapart.com/products/progressive-web-apps" target="_blank" rel="external nofollow noopener noreferrer">Progressive Web Apps Book</a></li><li>브라우저별<ul><li><a href="https://developers.google.com/web/updates/2018/06/a2hs-updates" target="_blank" rel="external nofollow noopener noreferrer">Chrome</a>, <a href="https://developers.google.com/web/fundamentals/app-install-banners/" target="_blank" rel="external nofollow noopener noreferrer">App Install Prompt</a></li><li><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html" target="_blank" rel="external nofollow noopener noreferrer">Safari</a>, <a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html" target="_blank" rel="external nofollow noopener noreferrer">Safari App Banners</a></li><li><a href="https://developer.samsung.com/internet/android/web-guide" target="_blank" rel="external nofollow noopener noreferrer">Samsung</a></li><li><a href="https://docs.microsoft.com/en-us/microsoft-edge/progressive-web-apps" target="_blank" rel="external nofollow noopener noreferrer">Edge</a></li><li><a href="https://developer.mozilla.org/ko/docs/Apps/Progressive/Installable_PWAs" target="_blank" rel="external nofollow noopener noreferrer">Firefox</a></li><li><a href="https://plus.ucweb.com/docs/pwa/welcome-to-pwa/pwa" target="_blank" rel="external nofollow noopener noreferrer">UC</a></li><li><a href="https://dev.opera.com/blog/web-app-install-banners/" target="_blank" rel="external nofollow noopener noreferrer">Opera</a></li></ul></li><li>웹문서<ul><li><a href="https://medium.com/@firt/progressive-web-apps-on-ios-are-here-d00430dee3a7" target="_blank" rel="external nofollow noopener noreferrer">Progressive Web Apps on iOS are here</a></li><li><a href="https://medium.com/@firt/pwas-on-ios-12-2-beta-the-good-the-bad-and-the-not-sure-yet-if-good-a37b6fa6afbf" target="_blank" rel="external nofollow noopener noreferrer">PWAs on iOS 12.2 beta</a></li><li><a href="https://ng-chicago.github.io/2018/06/18/add-2-home-screen/" target="_blank" rel="external nofollow noopener noreferrer">A2HS for PWAs Is Big</a></li></ul></li><li>github<ul><li><a href="https://github.com/PWA-POLICE/pwa-bugs" target="_blank" rel="external nofollow noopener noreferrer">github/pwa-bugs</a></li><li><a href="https://github.com/gokulkrishh/awesome-meta-and-manifest" target="_blank" rel="external nofollow noopener noreferrer">github/awesome-meta-and-manifest</a></li><li><a href="https://github.com/deanhume/pwa-tips-tricks" target="_blank" rel="external nofollow noopener noreferrer">github/pwa-tips-tricks</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> pwa </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> pwa </tag>
            
            <tag> a2hs </tag>
            
            <tag> serviceworker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>전세 자금 대출의 모든 것</title>
      <link href="/2019/01/20/%EC%A0%84%EC%84%B8-%EC%9E%90%EA%B8%88-%EB%8C%80%EC%B6%9C%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/"/>
      <url>/2019/01/20/%EC%A0%84%EC%84%B8-%EC%9E%90%EA%B8%88-%EB%8C%80%EC%B6%9C%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<p>여기 저기 흩어져있는 전세자금 대출 정보를 하나로 모으고 싶었다.<br>필요한 서류도 엄청나고, 준비할 것도 많은데 다들 자기 할말만하고 끝나는 느낌이였다.<br>집 구하는 걸 무서워하지 말고 한 단계씩 실행해보자. 중고나라인데 집을 사는 것 뿐이다.</p><h1 id="사전-작업"><a class="markdownIt-Anchor" href="#사전-작업"></a> 사전 작업</h1><p>먼저 회사에 요청해 <strong>원천징수영수증</strong>과 <strong>재직증명서</strong>를 발급받는다.<br>둘 다 직인이 찍혀있는 서류여야한다.</p><p>원천징수영수증에 연봉이 <strong>3500만</strong> 이하면서 <strong>중소기업</strong>에 취업중이면 어마어마한 저리(低利)로 대출을 받을 수 있다.<br>이 조건에 들 경우, <code>중소기업취업청년 전월세보증금대출</code> 대출을 받을 수 있는데 된다면 무조건 대출받아야한다.<br>조건이 안 되면 차선책으로 <code>버팀목 전세자금 대출</code>이 있다.</p><p>중소기업 여부는 <a href="http://nhuf.molit.go.kr/FP/FP05/FP0502/FP05020604.jsp" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인할 수 있다.<br>법인 번호는 <a href="http://www.dnbreport.co.kr/kcs/search.do" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 찾을 수 있다.</p><h2 id="주소-확인"><a class="markdownIt-Anchor" href="#주소-확인"></a> 주소 확인</h2><p>어차피 문 밖의 전단지 매물은 허위매물이니 부동산에 들어가 다음과 같이 말한다.</p><blockquote><p>전세집을 찾고 있고, 어느정도의 금액을 생각하고 있다. 대출 한도를 확인하려하니 주소를 하나 알려주시오.</p></blockquote><p>그럼 <strong>공실클럽</strong> 이란 중개업자용 직방 웹에서 매물을 찾아서 보여주고 주소를 알려줄 것이다.<br>안 보여준다면 주소만 하나 알아오면 된다. 혹시 부동산과 연결되어있는 은행이 있는지 확인하고 나온다.</p><p>불친절하다면 다음에 온다고 말하고 바로 나오자 시간 아깝다.<br>어차피 원룸촌이라면 그 지역 매물 다 거기서 거기이다.</p><p><s>근린시설, 다중주택, 다세대주택</s>이 아닌지를 꼭 확인한다. 대출이 안 나올 수 있다.</p><h2 id="대출-한도-확인"><a class="markdownIt-Anchor" href="#대출-한도-확인"></a> 대출 한도 확인</h2><p>주거래 은행이 아니여도 상관없다. 월급 통장이 있는 은행일 경우 빠른 처리가 가능하고,<br>우리은행이 주택도시기금의 주 거래은행이라 빠른 서류처리가 된다. 부동산에서 추천한 은행이 제일 좋긴하다.</p><p>은행에 가서 대출상담창구로 간 뒤 전세자금 대출을 한도 확인하러 왔다고 말한 뒤<br>원천징수영수증과 재직증명서, 그리고 주소를 준다.<br><code>원천징수영수증 + 재직증명서 + 주소 &lt;=&gt; 한도</code> 로 교환한다고 보면 된다.</p><p>나의 한도를 확인하고 다시 부동산에 방을 보러간다.</p><h2 id="방-확인"><a class="markdownIt-Anchor" href="#방-확인"></a> 방 확인</h2><p>전세자금대출이 가능하며, 버팀목 대출일 경우 미리 전입신고가 가능한 방만 보여달라고 한다.<br>한도에 맞는 방을 보고, 중개업자와 함께 돌아다닌다.<br>사진보다 실물로 봐야 훨씬 방이 크니 꼭 그 집에 가보자.</p><p>내가 생각하는 집의 조건은 다음과 같다.</p><ul><li>낑긴 층</li><li>창문 및 결로현상 확인</li><li>가벽 여부 확인</li><li>온수 확인</li><li>수압 및 물샘 확인</li><li>에어컨, 인덕션, 세탁기, 냉장고, 전자레인지 옵션 확인</li><li>가스, 수도, 전기가 개별요금인지 확인</li><li>집 냄새 확인</li><li>장판 및 벽지 들추고 곰팡이 확인</li><li>엘리베이터 확인</li></ul><p>최소 5군데 이상은 돌아보자. 2년 살 집이다.</p><h1 id="계약서-작성"><a class="markdownIt-Anchor" href="#계약서-작성"></a> 계약서 작성</h1><p>집을 선택하고 건물주의 <strong>등기부등본</strong>을 확인한다.<br>이건 건물주가 빚이 얼마나 있는지, 실제 판매하면 얼마정도로 가격을 받을 수 있는지가 나오며<br>내 전세자금이 안전할 수 있는지에 대한거라 꼭 확인이 필요하다.</p><p>그리고 부동산이 <strong>보증보험증권</strong>에 가입되어있는지도 확인한다.</p><p>마음에 드는 집이 있다면 <strong>전세가격의 5% 를 계약금</strong>으로 걸고, 계약서를 쓴다.<br>대출이 생각보다 길어질 수 있으므로 넉넉하게 3주 이상으로 잡자.</p><h1 id="대출-사전-작업"><a class="markdownIt-Anchor" href="#대출-사전-작업"></a> 대출 사전 작업</h1><h2 id="중소기업취업청년-전월세보증금대출"><a class="markdownIt-Anchor" href="#중소기업취업청년-전월세보증금대출"></a> 중소기업취업청년 전월세보증금대출</h2><ul><li>나이제한: 만 19세 ~ 만 34세</li><li>연봉제한: <strong>3500</strong></li><li>세대주제한: <strong>없음</strong></li><li>평수제한: 25평</li><li>금액제한: 1억</li><li>이자: <strong>1.2%</strong></li></ul><p>1억을 빌려도 한달 이자가 10만원인 대출이다. 10만원이 비싸다고 생각하면, 월급쟁이가 10년 일해야 1억모은다는 걸 생각해보자.</p><h2 id="버팀목-전세자금-대출"><a class="markdownIt-Anchor" href="#버팀목-전세자금-대출"></a> 버팀목 전세자금 대출</h2><ul><li>나이제한: <strong>만 25세 ~</strong></li><li>연봉제한: 5000</li><li>세대주제한: <strong>세대주만 가능</strong></li><li>평수제한: 25평</li><li>금액제한: 1.2억</li><li>이자: <strong>2.5~2.9%</strong></li></ul><p>1억을 빌리면 한달 이자가 30만원 언저리로 나온다. 관리비를 포함한다면 월세집을 사는 게 나을 수 있다.</p><h3 id="세대주-작업"><a class="markdownIt-Anchor" href="#세대주-작업"></a> 세대주 작업</h3><p>버팀목 전세자금의 경우 <strong>무주택 세대주</strong>여야한다. 조부모님 사촌, 친구을 활용해 전입신고를 하자.<br>그렇게 못한다면 내가 집의 세대주가 되거나 세대 분리로 세대주가 되어야하는데,<br>세대주 변경의 경우 부모님 명의로 된 집이 있다면 대출 조건에서 걸린다.<br>부모님 집의 명의를 돌리고 돌려서, 무주택자 부모님 밑에서 사는 서류가 된다 하더라도<br>대출시 은행으로 부모님이 직접 가서 무주택자라고 자필 서명을 해야한다.</p><p>세대 변경은 부모님 공인인증서와 내 공인인증서 설치가 모두 있는 경우에 한해 온라인으로 가능하고, 아니면 부모님의 도장으로 서류를 작성해야한다.<br>세대 분리는 동사무소에 전화해서 분리하고 싶다고 문의를 할 수 있는데, 상담해주시는 분에 따라 케바케라 힘들다고 보면 된다.</p><p>결국 집을 구할 때 이사 전 <strong>전입 신고가 가능한 집주인</strong>을 찾아보는 게 속 편하다.<br>그리고 등본을 발급하기 전 이사할 집에 전입신고를 한다.</p><h1 id="서류-작업"><a class="markdownIt-Anchor" href="#서류-작업"></a> 서류 작업</h1><p>공인인증서와의 긴 싸움이 시작된다.</p><ul><li>확정일자가 있는 전세계약서</li><li>계약금 납입 영수증</li><li>가족관계증명서</li><li>4대보험가입내역확인서</li><li>건강보험자격득실확인서</li><li>주민등록등본<ul><li>버팀목의 경우 세대주로 찍혀야함</li><li>주민번호 뒷자리까지 모두 노출</li></ul></li><li>주민등록초본<ul><li>태어날 때부터 모든 주소변경이력 포함</li></ul></li></ul><p>위 서류에 중소기업 대출일 경우 아래 서류가 추가로 필요하다.</p><ul><li>사업자등록증 사본</li><li>주업종코드확인서</li><li>고용보험피보험자격이력내역서</li></ul><p>서류 준비가 완료되면 대출심사를 진행하고 (보통 3영업일 이상)<br>전세계약서를 들고 이사할 지역의 동사무소를 찾아가 <strong>전입 확정일자</strong>를 찍어달라고 말한다. (600원 필요)</p><h1 id="대출-확인"><a class="markdownIt-Anchor" href="#대출-확인"></a> 대출 확인</h1><p>대출심사 진행 중 은행에서 해당 건물이 진짜 원룸인지 확인을 나간다.<br>다 될 경우 어마어마한 대출 서류에 싸인한 뒤 대출 보증세, 이자, 중도상환에 대해 확인한다.</p><p>그러면 계약일에 집주인 계좌로 은행에서 바로 송금을 해준다.<br>계약일이 주말일 경우 이전 영업일에 송금되니 참고하자.</p><h1 id="계약"><a class="markdownIt-Anchor" href="#계약"></a> 계약</h1><p>계약은 꼭 공인중개사, 집주인과 하자.<br>공인중개사는 휴대폰 대리점처럼 중개인을 두고 출근하지 않는 경우가 많고 집주인도 멀리 산다고 오지 못 한다는 경우가 많은데<br>계약시엔 대리인을 두지 말고 담당자들과 거래하는 것이 좋다.</p><h1 id="이사"><a class="markdownIt-Anchor" href="#이사"></a> 이사</h1><h2 id="이삿짐-센터-확인"><a class="markdownIt-Anchor" href="#이삿짐-센터-확인"></a> 이삿짐 센터 확인</h2><p>원룸 이사를 용달로 할 경우 견적전화를 돌리고, 모든 게 있는 풀옵션일 경우 자차로 이사할지에 대해 정한다.<br>인건비는 명 당 십만원 정도로 생각하자.</p><h2 id="입주"><a class="markdownIt-Anchor" href="#입주"></a> 입주</h2><p>박스를 구해다가 포장하고 이삿날에 잘 입주하기만 하면 된다.<br>굳이 계약날이 입주일은 아니여도 된다.</p><h1 id="팁"><a class="markdownIt-Anchor" href="#팁"></a> 팁</h1><ul><li>입주 후 생필품을 사는데에 100만원정도 지출이 필요할 수 있다.</li><li>가능하다면 대출한도를 전부 대출받아 청약 당첨이나 재계약등에 대비할 수 있다.</li><li>부동산 관련 서류(등기 등)은 <a href="http://kras.seoul.go.kr/land_info/info/baseInfo/baseInfo.do" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 출력 가능하다.</li><li>해당 공인중개사가 인증된 사람인지 확인은 <a href="http://www.nsdi.go.kr/lxportal/?menuno=4085" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 가능하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> etc </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Google Analytics Javascript API 사용하기</title>
      <link href="/2019/01/14/google-analytics-javascript-api-usage/"/>
      <url>/2019/01/14/google-analytics-javascript-api-usage/</url>
      
        <content type="html"><![CDATA[<h1 id="ga-client-js-api"><a class="markdownIt-Anchor" href="#ga-client-js-api"></a> GA Client JS API</h1><p><a href="https://developers.google.com/analytics/devguides/reporting/core/v4/quickstart/web-js" target="_blank" rel="external nofollow noopener noreferrer">문서</a>가 있는데 생각보다 사용하기가 어렵다. 하나하나 시작해보자.</p><h2 id="인증-토큰-발급"><a class="markdownIt-Anchor" href="#인증-토큰-발급"></a> 인증 토큰 발급</h2><p><a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="external nofollow noopener noreferrer">Cridentials page</a>에서 Create credentials 를 눌러 OAuth Client ID 를 발급받는다.</p><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><p>받은 Client ID 를 메타태그에 넣어준다.</p><figure class="highlight html"><figcaption><span>example</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello Analytics Reporting API V4<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"google-signin-client_id"</span> <span class="attr">content</span>=<span class="string">"OAuth 2.0 Client ID"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"google-signin-scope"</span> <span class="attr">content</span>=<span class="string">"https://www.googleapis.com/auth/analytics.readonly"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Analytics Reporting API V4<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"g-signin2"</span> <span class="attr">data-onsuccess</span>=<span class="string">"queryReports"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- The API response will be printed here. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">"80"</span> <span class="attr">rows</span>=<span class="string">"20"</span> <span class="attr">id</span>=<span class="string">"query-output"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// Replace with your view ID.</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> VIEW_ID = <span class="string">'136416454'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="comment">// Query the API and print the results to the page.</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">queryReports</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">    gapi.client.request(&#123;</span><br><span class="line"><span class="actionscript">      path: <span class="string">'/v4/reports:batchGet'</span>,</span></span><br><span class="line"><span class="actionscript">      root: <span class="string">'https://analyticsreporting.googleapis.com/'</span>,</span></span><br><span class="line"><span class="actionscript">      method: <span class="string">'POST'</span>,</span></span><br><span class="line">      body: &#123;</span><br><span class="line">        reportRequests: [</span><br><span class="line">          &#123;</span><br><span class="line">            viewId: VIEW_ID,</span><br><span class="line">            dateRanges: [</span><br><span class="line">              &#123;</span><br><span class="line"><span class="actionscript">                startDate: <span class="string">'7daysAgo'</span>,</span></span><br><span class="line"><span class="actionscript">                endDate: <span class="string">'6daysAgo'</span></span></span><br><span class="line">              &#125;</span><br><span class="line">            ],</span><br><span class="line">            metrics: [</span><br><span class="line">              &#123;</span><br><span class="line"><span class="actionscript">                expression: <span class="string">'ga:sessions'</span></span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">    &#125;).then(<span class="function"><span class="keyword">function</span> <span class="params">(response)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> formattedJson = <span class="built_in">JSON</span>.stringify(response.result, <span class="literal">null</span>, <span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">'query-output'</span>).value = formattedJson;</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="built_in">console</span>.error.bind(<span class="built_in">console</span>));</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://apis.google.com/js/client:platform.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="파라미터-확인"><a class="markdownIt-Anchor" href="#파라미터-확인"></a> 파라미터 확인</h2><p>문서의 내용을 확인하기 보다 <a href="https://ga-dev-tools.appspot.com/query-explorer/" target="_blank" rel="external nofollow noopener noreferrer">Query Explorer</a>에서 테스트 후에 그 값들을 Body 로 옮겨 적는 게 확인하기 쉽다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ga </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows와 Mac에서 세계시간 설정하기</title>
      <link href="/2019/01/06/Windows-and-Mac-world-clock-setting/"/>
      <url>/2019/01/06/Windows-and-Mac-world-clock-setting/</url>
      
        <content type="html"><![CDATA[<h1 id="윈도우"><a class="markdownIt-Anchor" href="#윈도우"></a> 윈도우</h1><h2 id="날짜시간-설정"><a class="markdownIt-Anchor" href="#날짜시간-설정"></a> 날짜/시간 설정</h2><ul><li><strong>Window + R</strong> 키로 실행 창을 띄운다.</li><li><code>timedate.cpl</code> 을 입력한 뒤 <strong>날짜/시간 설정</strong>에 들어간다.</li><li><strong>추가시계</strong> 탭에서 시계 표시를 체크한 뒤 시간대를 설정한다.</li><li>시계표시줄에 세계 시간이 추가된 걸 확인할 수 있다.</li></ul><h1 id="맥"><a class="markdownIt-Anchor" href="#맥"></a> 맥</h1><h2 id="알림-목록"><a class="markdownIt-Anchor" href="#알림-목록"></a> 알림 목록</h2><p>우측 상단 시리 옆의 알림 목록에서 설정할 수 있다.<br>알림 목록의 편집 버튼을 클릭하면 세계시계 위젯을 추가할 수 있다.</p><h2 id="clocker"><a class="markdownIt-Anchor" href="#clocker"></a> Clocker</h2><blockquote><p>설치할 때 굳이 도시 추가를 안하지 않아도 설치 후에 더 직관적으로 추가할 수 있다.</p></blockquote><ul><li><a href="https://itunes.apple.com/app/clocker/id1056643111" target="_blank" rel="external nofollow noopener noreferrer">Clocker</a> 앱을 다운받는다.</li><li>실행하고 원하는 도시를 추가한다.</li><li>설치시에 권한은 따로 주지 않아도 시계는 볼 수 있다.</li><li>설정의 ON/OFF 모양의 아이콘에서 세계 시간 설정이, 티셔츠 모양 아이콘에서 세부 표시 설정이 가능하다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hyper-V Virtual Eternet 네트워크 제거</title>
      <link href="/2018/12/23/remove-hyper-v-virtual-network/"/>
      <url>/2018/12/23/remove-hyper-v-virtual-network/</url>
      
        <content type="html"><![CDATA[<p>windows RS4, RS5 업데이트 이후로 Hyper-V 가 켜있으면 블루스크린이 발생한다.<br>에러 내용은 <code>vmswitch.sys driver_irql_not_less_or_equal</code> 또는 <code>kernel security check failed</code> 였다.</p><p>간헐적으로 발생되는 거라 시한폭탄을 들고 있는 거와 같다고 느껴져서,<br>이번 기회에 가상화는 맥북에서만 이용하려고 Hyper-V 를 모두 제거해봤다.</p><h1 id="hyper-v-제거"><a class="markdownIt-Anchor" href="#hyper-v-제거"></a> Hyper-V 제거</h1><h2 id="docker-for-windows-제거"><a class="markdownIt-Anchor" href="#docker-for-windows-제거"></a> Docker for Windows 제거</h2><p>Docker for Windows 를 먼저 제거한다.</p><h2 id="남아있는-가상서비스-제거"><a class="markdownIt-Anchor" href="#남아있는-가상서비스-제거"></a> 남아있는 가상서비스 제거</h2><p>Hyper-V 관리자에서 남아있는 가상 컴퓨터를 모두 삭제한다.</p><h2 id="기능-제거"><a class="markdownIt-Anchor" href="#기능-제거"></a> 기능 제거</h2><p>윈도우 실행에서 <strong>OptionalFeatures</strong>를 치면 바로 <strong>Windows 기능 켜기/끄기</strong> 메뉴로 들어가진다.<br>Hyper-V 를 Disable 시키고 재부팅 2번을 기다리자.</p><h1 id="네트워크-초기화"><a class="markdownIt-Anchor" href="#네트워크-초기화"></a> 네트워크 초기화</h1><h2 id="가상-네트워크-제거"><a class="markdownIt-Anchor" href="#가상-네트워크-제거"></a> 가상 네트워크 제거</h2><p>위의 상태로 제거해도 <strong>네트워크 &gt; 속성 &gt; 어댑터 설정</strong> 에는 Hyper-V virtual Eternet 이 보이는데,<br><strong>장치관리자 &gt; 네트워크 어댑터</strong> 에서 직접 삭제해주면 된다.</p><p>장치관리자는 윈도우 실행에서 <strong>devmgmt.msc</strong> 치면 바로 들어갈 수 있다.</p><h2 id="이더넷-재설정"><a class="markdownIt-Anchor" href="#이더넷-재설정"></a> 이더넷 재설정</h2><p>가상 스위치를 제거하면 인터넷이 아예 끊겨버리는데, 이더넷을 원래 상태로 복원하면 된다.<br>이더넷 설정에서 <strong>Hyper-V Extensible Virtual Switch</strong> 를 체크 해제하고 확인 버튼을 누른다.</p><img data-src="https://i.imgur.com/WgGtGF2.png"><p>재부팅하고 클린한 네트워크 환경을 맞아보자.</p><h1 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h1><p>systeminfo 입력 후 OS 버전이 17763 버전일 경우 Docker for windows의 설치가 아예 되지 않는 듯 싶다.</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS1 &gt; systeminfo</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hyperv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>카카오 카풀 후기 (베타 리뷰)</title>
      <link href="/2018/12/17/reviews/kakao-carpool-review/"/>
      <url>/2018/12/17/reviews/kakao-carpool-review/</url>
      
        <content type="html"><![CDATA[<h1 id="사용후기"><a class="markdownIt-Anchor" href="#사용후기"></a> 사용후기</h1><h2 id="호출"><a class="markdownIt-Anchor" href="#호출"></a> 호출</h2><p>카카오 T 앱을 켜고 카풀 탭에서 위치를 선택한다.<br>배차가 되면 취소 위약금 3,000원이 나가니 꼭 필요한 경우에만 호출하자.</p><img data-src="https://i.imgur.com/A4u8Cp0.png"><h2 id="배차"><a class="markdownIt-Anchor" href="#배차"></a> 배차</h2><p>배차가 되면 탑승 위치에서 기다리면 된다.<br>차종과 카풀 운전자 (크루) 명, 색상 등을 알 수 있다.</p><img data-src="https://i.imgur.com/JZJ7h8x.png"><h2 id="탑승"><a class="markdownIt-Anchor" href="#탑승"></a> 탑승</h2><p>탑승 후엔 크루가 탑승을 눌러주고, 그 이후부터 편하게 타고가면 된다.</p><img data-src="https://i.imgur.com/8ZINxGI.png"><p><strong>실시간으로 내 위치를 볼 수 없다는 게 너무 불편했다.</strong></p><p>남의 차를 타는 것도 안전에 대해 확인할 수 없는데,<br>내가 어디를 가고 있는지도 다른 지도 앱을 켜야 알 수 있다는 건 웃긴 일이다.</p><h2 id="하차"><a class="markdownIt-Anchor" href="#하차"></a> 하차</h2><p>목적지에 도달해서 하차하면 크루를 평가할 수 있는 화면이 나온다.</p><img data-src="https://i.imgur.com/amxnE8O.png"><h1 id="총평"><a class="markdownIt-Anchor" href="#총평"></a> 총평</h1><p>내가 이동한 거리는 택시비로 33,500원이 나오는 거리지만 카카오 카풀로는 17,500원이 나왔다.<br>더 이상 무슨 말이 필요할까?</p><p>그렇지만 개선점은 많은 것 같다.<br>미국에서 우버를 이용했을 땐 정말 편리했다.</p><ul><li>호출 전 주변 우버 차량의 위치를 확인할 수 있고</li><li>이동시간 내내 차의 위치를 지도에서 실시간으로 확인이 가능하고</li><li>결제 후에도 이동거리와 비용에 대한 내역이 메일로 곧바로 온다.</li></ul><p>아직 카카오 카풀엔 이런 편의 기능들이 제공되지 않는다.</p><p>출퇴근 시에만 이용가능하다고 하는데, 사용해보니 편법의 테두리에서 우버랑 똑같은 서비스라고 본다.</p><p>카카오에서 제공하는 보험 1억5천까지는 보상 받을 수 있지만, 보험사에서 돈을 받을 수는 없다.<br><a href="https://www.youtube.com/watch?v=W-jLxWx06Kc&amp;t=6m31s" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 변호사 분의 말을 참조하자.</p><p>여럿이서 타는데엔 <strong>타다</strong>가 좋고, 혼자 타기엔 <strong>카카오 카풀</strong>이 좋은 듯 싶다.</p><h1 id="팁"><a class="markdownIt-Anchor" href="#팁"></a> 팁</h1><ul><li>위치 선택시에 조금만 걸으면 되는 거리로 옮기면 2~3천원이 저렴해 지는 경우가 많다.</li><li>아직 베타기간이라서 그런지 차량이 많이 없고 잡히면 먼 곳에 있다. 적어도 출발 15분 전에는 호출하자</li><li><s>연말까지 1회 3만원에 한해 무료 이벤트가 추가되었다.</s> 몇 시간만에 철회되었다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> reviews </category>
          
          <category> kakao </category>
          
      </categories>
      
      
        <tags>
            
            <tag> carpool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>넷플릭스 - 디스인챈트 리뷰</title>
      <link href="/2018/12/17/reviews/netflix-disenchantment-review/"/>
      <url>/2018/12/17/reviews/netflix-disenchantment-review/</url>
      
        <content type="html"><![CDATA[<h1 id="디스인챈트"><a class="markdownIt-Anchor" href="#디스인챈트"></a> 디스인챈트</h1><div class="video-container"><iframe src="https://www.youtube.com/embed/YESPJGPMDFk" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>심슨 느낌이 물씬나는 그림체다.<br>실제로도 심슨 제작자가 만든 애니메이션이라고 한다.</p><h2 id="리뷰"><a class="markdownIt-Anchor" href="#리뷰"></a> 리뷰</h2><ul><li>호머의 몸집에 모의 성격을 가진 왕</li><li>바트의 성격을 가진 빈 공주</li><li>밀하우스 같은 엘포</li><li>정체를 알 수 없는 악마</li><li>그리고 왕비들</li></ul><p>이 조합이 신선했지만 심슨이 더 재밌긴 하다.<br>이쯤에선 재밌게 행동해도 될 것 같은데, 결국 아동용 애니메이션처럼 착하게(?) 끝난다.</p><p>20부작으로 제작되었는데, 시즌1 마지막화인 10화에서 너무 큰 떡밥을 풀어서 기다리기 힘들다.</p><h2 id="줄거리"><a class="markdownIt-Anchor" href="#줄거리"></a> 줄거리</h2><p>중세시대를 풍자한 그런 느낌이다.</p><h2 id="스포일러"><a class="markdownIt-Anchor" href="#스포일러"></a> 스포일러</h2><p>마지막화가 반전의 전부이다.</p>]]></content>
      
      
      <categories>
          
          <category> reviews </category>
          
          <category> netflix </category>
          
      </categories>
      
      
        <tags>
            
            <tag> netflix </tag>
            
            <tag> movie </tag>
            
            <tag> disenchantment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>카카오 계정 변경하기</title>
      <link href="/2018/11/29/%EC%B9%B4%EC%B9%B4%EC%98%A4-%EA%B3%84%EC%A0%95-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/"/>
      <url>/2018/11/29/%EC%B9%B4%EC%B9%B4%EC%98%A4-%EA%B3%84%EC%A0%95-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>카카오 계정의 메일 주소를 바꾸는 방법을 알아보자.</p><h1 id="해결방법"><a class="markdownIt-Anchor" href="#해결방법"></a> 해결방법</h1><p>먼저 카카오 측에서 회신이 온 메일 내용을 보자.</p><figure class="highlight plain"><figcaption><span>변경약관</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">계정 보안 강화를 위해 카카오계정 이메일 주소를 인증한 사용자의 경우</span><br><span class="line">이메일 주소를 직접 변경하실 수 없습니다.</span><br><span class="line"></span><br><span class="line">다만, 메일 서비스 탈퇴 및 종료 등으로 인해 이메일을 정상적으로 수신할 수 없는 경우에 한하여</span><br><span class="line">해당 카카오계정에 연결되었던 휴대폰 번호의 이용계약증명서 및</span><br><span class="line">메일 사용현황에 대한 확인 과정 진행 후 이메일 주소 변경을 지원해 드릴 수 있습니다.</span><br></pre></td></tr></table></figure><p>이메일을 정상적으로 수신할 수 없는 경우에 한해 휴대폰 이용계약증명서를 가지고 오면 확인 후 변경이 가능하단다. 조건을 만들어보자.</p><h2 id="기존-아이디-탈퇴"><a class="markdownIt-Anchor" href="#기존-아이디-탈퇴"></a> 기존 아이디 탈퇴</h2><p>예를 들어 <code>gracefullight@email.com</code> 의 이메일을 카카오 계정으로 사용하고 있다면<br>먼저 이메일 계정의 사이트에 들어가 탈퇴를 진행해야한다. (카카오 계정 탈퇴가 아니다!)</p><h2 id="비밀번호-찾기"><a class="markdownIt-Anchor" href="#비밀번호-찾기"></a> 비밀번호 찾기</h2><p>메일 탈퇴 후 <a href="https://accounts.kakao.com" target="_blank" rel="external nofollow noopener noreferrer">카카오 홈페이지</a> 우측 로그인화면 하단의 <strong>비밀번호 찾기</strong> 를 해 탈퇴된 메일로 비밀번호 찾기 메일이 보내지게 만든다.</p><p>내부적으로 없는 메일주소로 메일을 보내는 오류 확인이 필요한 것 같다.</p><h2 id="문의"><a class="markdownIt-Anchor" href="#문의"></a> 문의</h2><p><a href="https://cs.kakao.com/requests?category=19&amp;locale=ko&amp;node=30657&amp;service=8" target="_blank" rel="external nofollow noopener noreferrer">카카오 문의하기</a> 에서 <strong>일반문의 &gt; 기타문의</strong> 를 선택하고 정보들을 입력한다.</p><p>문의내용엔 다음과 비슷한 내용으로 적는다.</p><figure class="highlight plain"><figcaption><span>문의내용</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">기존 메일 서비스 이용 불가로 카카오 계정을 변경하고 싶습니다.</span><br><span class="line"></span><br><span class="line">기존: as-is@email.com</span><br><span class="line">변경: to-be@email.com</span><br></pre></td></tr></table></figure><p>첨부파일엔 통신사 사이트에 로그인해 <strong>가입증명원</strong> 을 첨부해야한다.<br>KT의 경우 <strong>마이페이지 &gt; 조회/변경 &gt; 가입정보</strong> 중앙에 <strong>가입증명원 인쇄</strong> 메뉴로 접근 후 PDF 저장을 활용하자.</p><h2 id="메일-인증번호-확인"><a class="markdownIt-Anchor" href="#메일-인증번호-확인"></a> 메일 인증번호 확인</h2><p>문의등록 후 1~2영업일 후에 메일 인증번호를 입력해 재문의하라는 회신이 온다.</p><figure class="highlight plain"><figcaption><span>인증번호확인</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">고객님께서 변경 요청하신 [ to-be@email.com ] 이메일 주소로 인증번호를 보내드렸습니다.</span><br><span class="line"></span><br><span class="line">번거로우시겠지만, &#39;이메일 재설정 인증 코드&#39; 8자리를</span><br><span class="line">문의 내용에 기재하시어 재문의 주시면 확인 후 이메일 주소 변경을 도와드리겠습니다.</span><br><span class="line"></span><br><span class="line">다만, 인증코드를 다르게 기재하여 보내주실 경우 처리가 어려우므로</span><br><span class="line">정확하게 기재하여 재문의 부탁드립니다.</span><br></pre></td></tr></table></figure><p>별도로 전송된 인증번호로 일반문의를 이용해 재문의하고 조금 더 기다린다.</p><h2 id="비밀번호-변경"><a class="markdownIt-Anchor" href="#비밀번호-변경"></a> 비밀번호 변경</h2><p>최종으로 변경되었다는 회신이 온 뒤 비밀번호를 변경해주자.</p><figure class="highlight plain"><figcaption><span>최종변경</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">고객님의 [ as-is@email.com ] 계정 이메일 주소가 [ to-be@email.com ]으로 변경 되었습니다.</span><br><span class="line"></span><br><span class="line">로그인 버튼 하단의 &#39;이메일 주소 또는 비밀번호를 잊으셨나요?&#39; 링크를 누르신 뒤</span><br><span class="line">[ to-be@email.com ] 계정의 비밀번호를 찾아 로그인 부탁드립니다.</span><br></pre></td></tr></table></figure><p>비밀번호 변경 후엔 예전 쓰던 데이터 그대로 새로운 메일 계정으로 이용이 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kakao </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git GUI 클라이언트 분석 (windows)</title>
      <link href="/2018/11/20/Best-Git-GUI-clients-for-win/"/>
      <url>/2018/11/20/Best-Git-GUI-clients-for-win/</url>
      
        <content type="html"><![CDATA[<p>Git 고수들은 CLI 만 사용한다지만<br>난 Rebase 와 Squash 를 하다보면 몇 개의 문서를 다시 열어보는지 모르겠다.</p><p>그래서 <a href="https://git-scm.com/download/gui/windows" target="_blank" rel="external nofollow noopener noreferrer">공식 GUI Clients</a>에서 무료 Git 클라이언트를 파해쳐봤다.</p><h1 id="분석"><a class="markdownIt-Anchor" href="#분석"></a> 분석</h1><p>21세기 디자인이면서 커밋 그래프가 제공되고 git flow가 가능하며 쉬운 rebase 가 지원되는 클라이언트는 <strong><a href="https://www.gitkraken.com/" target="_blank" rel="external nofollow noopener noreferrer">git kraken</a></strong> 과 <strong><a href="https://git-fork.com/" target="_blank" rel="external nofollow noopener noreferrer">git fork</a></strong> 였다.</p><p>나머진 다음과 같은 단점이 있었다.</p><ul><li>SourceTree<ul><li>윈도우즈에서 UI 가 너무 후지다.</li><li>인증이 왜 이렇게 어려운지 모르겠다.</li><li>느리다.</li></ul></li><li>Github Desktop<ul><li>딱 깃헙용이다.</li><li>되는 기능이 많지 않다.</li><li>커밋 그래프도 없다.</li></ul></li><li>Tortoise Git<ul><li>왠지 SVN이 떠올라서 패스했다.</li></ul></li><li>Git Extensions<ul><li>21세기 디자인은 아닌 것 같다.</li></ul></li><li>GitEye<ul><li>솔직히 Git Clients 의 끝인 듯 싶다.</li><li>하지만 워크벤치 쓰는 듯한 느낌이라 직관적이진 않다.</li></ul></li><li>gitg<ul><li>너무 간단하다.</li></ul></li><li>ungit<ul><li>너무 간단하다.</li></ul></li><li>git-cola<ul><li>cli를 옮겨놓은 느낌이다.</li></ul></li><li>Cyeligent Git Tool<ul><li>free 인데 라이센스를 물어본다.</li><li>설치 폴더를 설정할 수 없다.</li></ul></li><li>Aurees<ul><li>좋아보였으나 바이러스가 감염됨으로 다운로드 불가능하다.</li></ul></li><li>CodeReview<ul><li>diff 용이다.</li></ul></li><li>gmaster<ul><li>non-commercial use 이고,</li><li>그래프가 너무 느리게 그려진다.</li></ul></li><li>GitAhead<ul><li>좋아보이지만 non-commercial use</li></ul></li><li>Guitar<ul><li>diff 용</li></ul></li><li>RepoZ<ul><li>애드온 같은 느낌이다.</li></ul></li></ul><h2 id="git-kraken"><a class="markdownIt-Anchor" href="#git-kraken"></a> Git Kraken</h2><ul><li>느렸는데 최근 빨라졌다.</li><li>근데 아직도 느리다. 일렉트론 기반이라 그런 것 같다.</li><li>예쁜 그래프가 있다.</li><li>쉬운 rebase 를 제공한다.</li><li>git flow 가능하다.</li><li>검은색 테마가 가능하다.</li><li>non-commercial use 라 회사에서 못 쓴다.</li></ul><h2 id="git-fork"><a class="markdownIt-Anchor" href="#git-fork"></a> Git Fork</h2><ul><li>빠르고 직관적이다.</li><li>그래프가 지원된다.</li><li>쉬운 rebase 가 가능하다.</li><li>검은 테마가 가능하다.</li><li>완전한 무료이다.</li><li>지속적인 버전 업데이트가 되고 있다.</li><li>구글에서 git fork를 검색하면 정말 fork 하는 방법만 나오고 검색이 되지 않는다.</li></ul><h1 id="결론"><a class="markdownIt-Anchor" href="#결론"></a> 결론</h1><p><strong><a href="https://git-fork.com/" target="_blank" rel="external nofollow noopener noreferrer">GitFork</a></strong> 를 쓰자.<br>첫 실행 시에 <code>git config</code> 설정 UI 가 뜨는데 제대로 입력해줘야한다.</p><p>그리고 <code>workspace</code> 를 설정하는 란엔 사용하는 workspace 만을 등록하자.<br>전체를 등록할 경우 모든 폴더의 <code>.git</code> 디렉토리를 읽어오는 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> gitfork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript로 리소스 체크</title>
      <link href="/2018/11/20/Javascript%EB%A1%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%B2%B4%ED%81%AC%ED%95%98%EA%B8%B0/"/>
      <url>/2018/11/20/Javascript%EB%A1%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%B2%B4%ED%81%AC%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>페이지나 리소스가 있는지 체크하는 방법은 서버사이드에선 엄청 간단하다.<br>단 두 가지 기능만 있으면 해결된다. 심지어 certinfo 값 안에선 인증서 만료일까지 확인할 수 있다.</p><ul><li>HEAD 메소드</li><li>CURL</li></ul><p>하지만 수 백개의 리소스를 동시에 체크해야할 경우는 어떨까?<br>리소스가 있는 서버에선 DDoS 공격으로 오인할 수 있고, 심지어 내 서버가 차단될 가능성도 있다.</p><p>클라이언트에서 리소스를 확인할 수 있는 방법이 있을까?</p><h1 id="삽질"><a class="markdownIt-Anchor" href="#삽질"></a> 삽질</h1><h2 id="ajax"><a class="markdownIt-Anchor" href="#ajax"></a> ajax</h2><ul><li>당연하지만 크로스도메인 XHR 은 CORS 가 없는 이상 막힌다.</li><li>HEAD 메소드도 똑같다.</li><li>fetch 도 똑같다.</li></ul><h2 id="script"><a class="markdownIt-Anchor" href="#script"></a> script</h2><ul><li>script tag 를 DOM 에 렌더링하는 것이므로 XSS 공격이 가능하다.</li><li>스크립트 태그에 한해서 onLoad 와 onError 로 체크가 가능하다.</li></ul><h2 id="image"><a class="markdownIt-Anchor" href="#image"></a> image</h2><ul><li>이미지 태그에 한해서 onLoad 와 onError 로 체크가 가능하다.</li></ul><h2 id="link"><a class="markdownIt-Anchor" href="#link"></a> link</h2><ul><li>css 일 경우 onLoad 와 onError 로 체크가 가능하다.</li><li>DOM 에 렌더링하는 것이므로 UI가 틀어질 수 있다.</li><li>html 등의 페이지도 체크가 가능하지만 firefox 등의 브라우저에서 일관성이 없다.</li><li>IE와 Edge 브라우저에서 없는 css 인 경우에도 onError 이벤트가 발생하지 않았다.</li></ul><p>마지막 이슈는 크리티컬했는데, 다행히 에러를 만들어 낼 수 있었다.<br><strong>cssRules</strong> 는 스타일시트가 없을 경우 접근할 수 없는 내부 값이기에 에러를 던진다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">link.onload = <span class="function"><span class="params">loadEvent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ie, edge 체크</span></span><br><span class="line">  <span class="keyword">const</span> isIE = <span class="regexp">/MSIE|Trident|Edge/i</span>.test(navigator.userAgent)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// sheet 는 현재 로드 된 스타일시트 엘레먼트</span></span><br><span class="line">  <span class="keyword">if</span> (isIE &amp;&amp; loadEvent.target.sheet) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 강제로 시트 내의 cssRuls 값에 접근한다.</span></span><br><span class="line">      <span class="keyword">let</span> temp = loadEvent.target.sheet.cssRules</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="comment">// onError 와 같은 이벤트 처리</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="video"><a class="markdownIt-Anchor" href="#video"></a> video</h2><ul><li>없는 영상에 대해 onError 가 동작하지 않는다.</li></ul><h2 id="기타"><a class="markdownIt-Anchor" href="#기타"></a> 기타</h2><ul><li>embed 나 iframe 은 <em>X-Frame-Options</em> 헤더에 차단되거나 XSS 공격이 가능하다.</li><li>onError 이벤트의 일관성이 없다.</li></ul><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>삽질의 결과로 js (script), css (link), image (img) 에 한해서 리소스 체크가 가능한 걸 확인했다.<br>하지만 js 와 css 의 렌더링으로 인해 페이지가 틀어지는 걸 어떻게 방지할 수 있을까?</p><p>불현듯 샌드박스란 단어가 떠올랐다.</p><h2 id="sandbox"><a class="markdownIt-Anchor" href="#sandbox"></a> sandbox</h2><p>보이지 않는 샌드박스 프레임을 만들고, 거기에서 위험한 일을 하면 된다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">"sandbox"</span> <span class="attr">src</span>=<span class="string">"about:blank"</span> <span class="attr">style</span>=<span class="string">"display:none;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>만들고</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$sandbox.contentDocument.write(<span class="string">`</span></span><br><span class="line"><span class="string">  &lt;html&gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">      &lt;script&gt;</span></span><br><span class="line"><span class="string">      여기에 프레임간 메세징과 리소스별 onLoad, onError 체크 로직을 넣는다.</span></span><br><span class="line"><span class="string">      &lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;/head&gt;</span></span><br><span class="line"><span class="string">  &lt;/html&gt;</span></span><br><span class="line"><span class="string">`</span>)</span><br></pre></td></tr></table></figure><p>넣고</p><p>메인 프레임에선 샌드박스 메소드를 <code>postMessage</code> 하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows 에 faceswap 환경 구축하기 (tensorflow 설치)</title>
      <link href="/2018/10/11/faceswap-for-windows/"/>
      <url>/2018/10/11/faceswap-for-windows/</url>
      
        <content type="html"><![CDATA[<p>윈도우즈에서 텐서플로 프로젝트를 돌리려면 머나먼 길을 떠나야한다.<br>단계별로 설치해보자.</p><h1 id="준비물"><a class="markdownIt-Anchor" href="#준비물"></a> 준비물</h1><ul><li>NVIDIA GFORCE 그래픽 카드</li><li>NVIDIA 개발자 계정</li><li>WINDOWS 10</li></ul><h1 id="환경-설치"><a class="markdownIt-Anchor" href="#환경-설치"></a> 환경 설치</h1><h2 id="scoop"><a class="markdownIt-Anchor" href="#scoop"></a> scoop</h2><p>python 과 anaconda 설치를 쉽게 해결하기 위해 <code>scoop</code> package manager 설치한다.<br>안 쓰면 여기서부터 의존성으로 엄청 고생한다.</p><p>스쿱을 대충 설치하고 다음과 같이 빌드를 실행한다.</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 파워쉘에서 대충 설치</span></span><br><span class="line"><span class="variable">$</span> iex (<span class="built_in">new-object</span> net.webclient).downloadstring(<span class="string">'https://get.scoop.sh'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 필요한 패키지 설치</span></span><br><span class="line"><span class="variable">$</span> scoop install anaconda3 cmake msys2 patch unzip vcredist2015 vcredist2017 winpython</span><br></pre></td></tr></table></figure><p>알아서 잘 설치될 것이다.<br>아나콘다 설치는 최대 30분이 걸릴 수도 있다.</p><h2 id="cuda"><a class="markdownIt-Anchor" href="#cuda"></a> CUDA</h2><p>tensorflow 와 호환을 위해 무조건 <a href="https://developer.nvidia.com/cuda-90-download-archive" target="_blank" rel="external nofollow noopener noreferrer">9.0 버전</a>을 다운로드 받아야한다.</p><p>설치가 끝나면 <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0</code> 폴더를 띄워놓자.</p><h2 id="cudnn"><a class="markdownIt-Anchor" href="#cudnn"></a> cuDNN</h2><p><a href="https://developer.nvidia.com/rdp/cudnn-download" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 로그인하고 CUDA 9.0 호환 압축파일을 다운받는다.</p><p>압축을 해제하면 usr, lib 등의 폴더가 있는데 방금 열어둔 <code>CUDA\v9.0</code> 에 같은 폴더에 한 파일씩 복사한다.<br>폴더 구조가 같아서 보기만해도 어디에 뭘 넣을지 감이 올 것이다.</p><h1 id="faceswap"><a class="markdownIt-Anchor" href="#faceswap"></a> faceswap</h1><p><a href="https://github.com/deepfakes/faceswap" target="_blank" rel="external nofollow noopener noreferrer">deepfakes/faceswap</a> 레포지토리에서 클론한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/deepfakes/faceswap.git</span><br></pre></td></tr></table></figure><h2 id="의존성-설치"><a class="markdownIt-Anchor" href="#의존성-설치"></a> 의존성 설치</h2><p>클론받은 faceswap 폴더로 이동해 설치한다.</p><h3 id="dlib"><a class="markdownIt-Anchor" href="#dlib"></a> dlib</h3><p>dlib 라이브러리 먼저 설치해야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install https://pypi.python.org/packages/da/06/bd3e241c4eb0a662914b3b4875fc52dd176a9db0d4a2c915ac2ad8800e9e/dlib-19.7.0-cp36-cp36m-win_amd64.whl<span class="comment">#md5=b7330a5b2d46420343fbed5df69e6a3f</span></span><br></pre></td></tr></table></figure><p>버전을 직접 지정해주자.<br>윈도우즈 빌드 툴을 아무리 설치해도 라이브러리가 멍청해서 windows10 에서 오류가 계속 난다. (<a href="https://stackoverflow.com/questions/41912372/dlib-installation-on-windows-10" target="_blank" rel="external nofollow noopener noreferrer">참조</a>)</p><h3 id="requirements"><a class="markdownIt-Anchor" href="#requirements"></a> requirements</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install -r <span class="string">"requirements.txt"</span></span><br></pre></td></tr></table></figure><p>패키지 설치는 어렵지 않다.</p><h2 id="세팅"><a class="markdownIt-Anchor" href="#세팅"></a> 세팅</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py</span><br></pre></td></tr></table></figure><p>windows 에선 <code>docker + gpu</code> 환경은 불가능하다.</p><ul><li>docker 설정은 N</li><li>GPU 설정은 Y</li><li>System 의존성은 Y</li></ul><p>다 설치되면 <code>All python3 dependencies are met. You are good to go.</code> 란 문구가 나온다.</p><h1 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python faceswap.py gui</span><br></pre></td></tr></table></figure><p>딥 러닝을 시작해보자.</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> tensorflow </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> tensorflow </tag>
            
            <tag> faceswap </tag>
            
            <tag> scoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>넷플릭스 - 얼터드카본 리뷰</title>
      <link href="/2018/09/26/reviews/netflix-altered-carbon-review/"/>
      <url>/2018/09/26/reviews/netflix-altered-carbon-review/</url>
      
        <content type="html"><![CDATA[<h1 id="얼터드-카본"><a class="markdownIt-Anchor" href="#얼터드-카본"></a> 얼터드 카본</h1><blockquote><p>스포일러에 주의해주세요.</p></blockquote><div class="video-container"><iframe src="https://www.youtube.com/embed/jHzgJfj7pzY" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>회당 70억이 들어간 작품에 SF 스릴러라길래 보기 시작했다.</p><h2 id="리뷰"><a class="markdownIt-Anchor" href="#리뷰"></a> 리뷰</h2><p>주인공이 질투날 정도로 잘생겼다.<br>AI + 뇌에 대해 <a href="/2017/01/15/%EB%A0%88%EC%9D%B4-%EC%BB%A4%EC%A6%88%EC%99%80%EC%9D%BC%EC%9D%B4-%EC%98%88%EC%B8%A1%ED%95%98%EB%8A%94-%EA%B8%B0%EC%88%A0%EB%B0%9C%EC%A0%84-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4/">How to create your mind</a>를 읽고 나서 동경을 했었는데, 그 시대가 그려진 것 같아 보는 내내 행복했다.</p><p>반전이 생각지 못해서 좋았지만, 여형사의 월권이 너무 개연성이 없긴 했다.</p><h2 id="줄거리"><a class="markdownIt-Anchor" href="#줄거리"></a> 줄거리</h2><p>뇌를 <code>Cortical Stack</code> 이란 칩에 넣어 몸을 바꿔낄 수 있는 시대가 열렸다.<br>돈 많은 사람들은 <code>Head in the Clouds</code> 란 부유선에 자기 정보를 백업해 놓는다. 그리고 백업된 정신으로 몸만 바꿔가면서 성경의 므두셀라처럼 영생을 산다.</p><p>영생에 반대하는 반군 <code>엔보이</code>의 일원인 주인공 <strong>코바치</strong>는 므두셀라 1인자인 <strong>뱅크로프트</strong>의 살해사건을 맡기 위해 250년 만에 깨어난다.</p><h2 id="스포일러"><a class="markdownIt-Anchor" href="#스포일러"></a> 스포일러</h2><p>므두셀라는 가까운 곳에 있었다.</p>]]></content>
      
      
      <categories>
          
          <category> reviews </category>
          
          <category> netflix </category>
          
      </categories>
      
      
        <tags>
            
            <tag> netflix </tag>
            
            <tag> movie </tag>
            
            <tag> alteredcarbon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vi 에디터 단축키 마스터하기</title>
      <link href="/2018/09/26/mastering-vi-key-bindings/"/>
      <url>/2018/09/26/mastering-vi-key-bindings/</url>
      
        <content type="html"><![CDATA[<p>viemu 의 단축키 리스트가 있지만, 손에 익기 전엔 사용하기가 힘들다.</p><img data-src="https://i.imgur.com/oRZDbXh.gif"><p>a, i, 저장, 나가기 이런 기초적인 건 제외하고 vi 에디터에서 더 빠른 작업을 위한 명령어들을 다시 알아보자.</p><h1 id="이동"><a class="markdownIt-Anchor" href="#이동"></a> 이동</h1><table><thead><tr><th>키</th><th>커서</th></tr></thead><tbody><tr><td>l 또는 →</td><td>오른쪽 한 문자</td></tr><tr><td>h 또는 ←</td><td>왼쪽 한 문자</td></tr><tr><td>j 또는 ↓</td><td>한 줄 아래로</td></tr><tr><td>k 또는 ↑</td><td>한 줄 위로</td></tr><tr><td>0</td><td>현재 줄 처음으로</td></tr><tr><td>^</td><td>현재 줄 첫 번째 공백 아닌 글자로</td></tr><tr><td>＄</td><td>현재 줄 마지막으로</td></tr><tr><td>W</td><td>다음 단어나 마침표 기호 처음으로</td></tr><tr><td>shift + W</td><td>다음 단어 처음으로 (마침표 무시)</td></tr><tr><td>B</td><td>이전 단어나 마침표 기호 처음으로</td></tr><tr><td>shift + B</td><td>이전 단어 처음으로 (마침표 무시)</td></tr><tr><td>ctrl + F 또는 PageDown</td><td>한 페이지 아래로</td></tr><tr><td>ctrl + B 또는 PageUp</td><td>한 페이지 위로</td></tr><tr><td>number + shift + G (<strong>1G</strong>)</td><td>해당 줄로</td></tr><tr><td><strong>shift + G</strong></td><td>파일의 마지막 줄로</td></tr></tbody></table><blockquote><p>L, H, J, K 가 문자 이동에 사용되는 이유는, 방향키까지 손가락을 움직이기엔 너무 멀기 때문이다.</p></blockquote><h1 id="편집"><a class="markdownIt-Anchor" href="#편집"></a> 편집</h1><h2 id="빈줄-추가"><a class="markdownIt-Anchor" href="#빈줄-추가"></a> 빈줄 추가</h2><table><thead><tr><th>키</th><th>커서</th></tr></thead><tbody><tr><td><strong>o</strong></td><td>현재 줄 아래에 빈 줄 추가</td></tr><tr><td>shift + O</td><td>현재 줄 위에 빈 줄 추가</td></tr></tbody></table><h2 id="삭제-및-자르기"><a class="markdownIt-Anchor" href="#삭제-및-자르기"></a> 삭제 및 자르기</h2><blockquote><p>d 명령어는 삭제한 텍스트를 버퍼에 보관한다.</p></blockquote><table><thead><tr><th>키</th><th>커서</th></tr></thead><tbody><tr><td>x</td><td>현재 문자</td></tr><tr><td>3x</td><td>현재 문자를 포함한 다음 2개 문자</td></tr><tr><td><strong>dd</strong></td><td>현재 줄</td></tr><tr><td>4dd</td><td>현재 줄을 포함한 다음 4줄</td></tr><tr><td>dW</td><td>현재 커서부터 다음 단어 앞까지</td></tr><tr><td>d＄</td><td>현재 커서부터 현재 줄 끝까지</td></tr><tr><td>d0</td><td>현재 커서부터 현재 줄 맨 앞까지</td></tr><tr><td>d^</td><td>현재 커서부터 그 줄의 공백아닌 첫 글자까지</td></tr><tr><td><strong>dG</strong></td><td>현재 줄부터 파일 끝까지</td></tr><tr><td>d10G</td><td>현재 줄부터 다음 10번째 줄까지</td></tr></tbody></table><h2 id="복사"><a class="markdownIt-Anchor" href="#복사"></a> 복사</h2><table><thead><tr><th>키</th><th>커서</th></tr></thead><tbody><tr><td><strong>yy</strong></td><td>현재 줄</td></tr><tr><td>4yy</td><td>현재 줄을 포함한 다음 3줄</td></tr><tr><td>yW</td><td>현재 커서부터 다음 단어 앞까지</td></tr><tr><td>y＄</td><td>현재 커서부터 현재 줄 끝까지</td></tr><tr><td>y0</td><td>현재 커서부터 현재 줄 맨 앞까지</td></tr><tr><td>y^</td><td>현재 커서부터 그 줄 공백아닌 첫 글자까지</td></tr><tr><td>yG</td><td>현재 줄부터 파일 끝까지</td></tr><tr><td>y10G</td><td>현재 줄부터 다음 10번째 줄까지</td></tr></tbody></table><h2 id="붙혀넣기"><a class="markdownIt-Anchor" href="#붙혀넣기"></a> 붙혀넣기</h2><blockquote><p><strong>p</strong></p></blockquote><h1 id="치환"><a class="markdownIt-Anchor" href="#치환"></a> 치환</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s/Search/Replace/gc</span><br></pre></td></tr></table></figure><ul><li>%: 파일 열 전체 (1,＄ 라면 1번 줄부터 파일 끝까지)</li><li>s: search and replace</li><li>/Search/Replace/: Search 를 Replace 문자열로 치환</li><li>g: global</li><li>c: confirm 실행</li></ul><h2 id="치환-확인-명령"><a class="markdownIt-Anchor" href="#치환-확인-명령"></a> 치환 확인 명령</h2><table><thead><tr><th>키</th><th>작업</th></tr></thead><tbody><tr><td>y</td><td>치환 실행</td></tr><tr><td>n</td><td>건너뛰기</td></tr><tr><td>a</td><td>전체 치환</td></tr><tr><td>q</td><td>종료</td></tr><tr><td>l</td><td>이번만 치환하고 종료</td></tr><tr><td>ctrl + E</td><td>스크롤 위로 이동</td></tr><tr><td>ctrl + Y</td><td>스크롤 아래로 이동</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> shell </tag>
            
            <tag> vi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>넷플릭스 - 클로버필드 패러독스 리뷰</title>
      <link href="/2018/09/16/reviews/netflix-cloverfield-paradox-review/"/>
      <url>/2018/09/16/reviews/netflix-cloverfield-paradox-review/</url>
      
        <content type="html"><![CDATA[<h1 id="클로버필드-패러독스"><a class="markdownIt-Anchor" href="#클로버필드-패러독스"></a> 클로버필드 패러독스</h1><blockquote><p>스포일러에 주의해주세요.</p></blockquote><div class="video-container"><iframe src="https://www.youtube.com/embed/OoYJP92nBS8" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>클로버필드 전작들의 떡밥 회수용이라길래 기대했다.</p><h2 id="리뷰"><a class="markdownIt-Anchor" href="#리뷰"></a> 리뷰</h2><ul><li>처음에 뉴스 인터뷰처럼 나오는 과학자? 의 말을 잘 들으면 그게 결말이다.</li><li>뒷부분에 깜짝 놀랄만한 게 있다.</li><li>그래비티와 선샤인을 합쳐놓은 느낌이다.</li><li>펜도럼처럼 긴장감이 있진 않다.</li></ul><h2 id="줄거리"><a class="markdownIt-Anchor" href="#줄거리"></a> 줄거리</h2><ul><li>에너지원을 찾기위해 우주정거장에서 입자가속기를 돌렸는데</li><li>지구가 눈앞에서 사라졌는데 알고보니 카시오페이아 자리 옆까지 우주정거장이 이동한 거였다.</li><li>근데 양자가 얽혀서 다른 시공간의 우주였다.</li><li>우주선을 힘들게 복구해 가속기를 돌려 원래 시공간으로 돌아온다.</li><li>그런데 원래 지구는 가속기 때문에 상상하지 못한 일이 일어나있다.</li></ul><h2 id="스포일러"><a class="markdownIt-Anchor" href="#스포일러"></a> 스포일러</h2><p><s>괴물</s></p>]]></content>
      
      
      <categories>
          
          <category> reviews </category>
          
          <category> netflix </category>
          
      </categories>
      
      
        <tags>
            
            <tag> netflix </tag>
            
            <tag> movie </tag>
            
            <tag> cloverfield </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>넷플릭스 - 익스팅션 종의 구원자 리뷰</title>
      <link href="/2018/09/16/reviews/netflix-extinction-review/"/>
      <url>/2018/09/16/reviews/netflix-extinction-review/</url>
      
        <content type="html"><![CDATA[<h1 id="익스팅션-종의-구원자"><a class="markdownIt-Anchor" href="#익스팅션-종의-구원자"></a> 익스팅션: 종의 구원자</h1><blockquote><p>스포일러에 주의해주세요.</p></blockquote><p>넷플릭스를 결제하고 SF 탭을 방황하다가 본 첫 번째 영화다.</p><div class="video-container"><iframe src="https://www.youtube.com/embed/NNuIXqJGAqA" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>되게 재밌어 보였다.</p><h2 id="리뷰"><a class="markdownIt-Anchor" href="#리뷰"></a> 리뷰</h2><ul><li>주인공 (마이클 페나) 때문에 집중이 잘 되지 않았다.</li><li>연기는 잘 하는데 자꾸 엔트맨 친구 짠돌이 사장 이미지가 생각난다.</li><li>반전은 충격적이지 않았다. <strong>프레데터</strong>인 줄 알았더니…</li><li>건너 뛰면서 볼 정도로 흥미는 떨어진다.</li></ul><h2 id="줄거리"><a class="markdownIt-Anchor" href="#줄거리"></a> 줄거리</h2><ul><li>주인공은 환상을 자주 본다. (도입부 30%가 이 장면이다.)</li><li>와이프도 보스도 정신 착란과 불면증으로 의심해 안 믿어준다.</li><li>결국 실제로 일어났다.</li><li>열린 결말</li></ul><h2 id="스포일러"><a class="markdownIt-Anchor" href="#스포일러"></a> 스포일러</h2><p><s>인간이 AI 를 소멸 시키려는 것</s></p>]]></content>
      
      
      <categories>
          
          <category> reviews </category>
          
          <category> netflix </category>
          
      </categories>
      
      
        <tags>
            
            <tag> netflix </tag>
            
            <tag> movie </tag>
            
            <tag> extinction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Array map, filter, values 분석</title>
      <link href="/2018/09/14/Array-map-filter-values-%EB%B6%84%EC%84%9D/"/>
      <url>/2018/09/14/Array-map-filter-values-%EB%B6%84%EC%84%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="array-map-filter-values-분석"><a class="markdownIt-Anchor" href="#array-map-filter-values-분석"></a> Array map, filter, values 분석</h1><p>아래 데이터로 php 와 js 의 다른 점을 확인해보자.<br><strong>id 가 3 이상인 id 만 추출</strong>하고 싶었다.</p><figure class="highlight json"><figcaption><span>users.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Leanne Graham"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Bret"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Sincere@april.biz"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Ervin Howell"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Antonette"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Shanna@melissa.tv"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Clementine Bauch"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Samantha"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Nathan@yesenia.net"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Patricia Lebsack"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Karianne"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Julianne.OConner@kory.org"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Chelsey Dietrich"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Kamren"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Lucio_Hettinger@annie.ca"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="as-is"><a class="markdownIt-Anchor" href="#as-is"></a> AS-IS</h2><h3 id="js"><a class="markdownIt-Anchor" href="#js"></a> JS</h3><p>머리 속으로 돌려본 원래 느낌은 이랬다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userIdxs = users.map(<span class="function"><span class="params">user</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (user.id &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> user</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs [ null, null, 3, 4, 5 ]</span></span><br><span class="line"></span><br><span class="line">userIdxs = userIdxs.filter(<span class="built_in">Boolean</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h3 id="php"><a class="markdownIt-Anchor" href="#php"></a> php</h3><p>생각 없이 짜면 <code>array_map</code> 을 먼저 사용할 수 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$userIdxs = array_map(<span class="function"><span class="keyword">function</span> <span class="params">($user)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ($user[<span class="string">'id'</span>] &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> $user[<span class="string">'id'</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, $users);</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs [ null, null, 3, 4, 5 ]</span></span><br><span class="line"><span class="comment">// 참담한 결과가 나왔다.</span></span><br><span class="line"></span><br><span class="line">$userIdxs = array_filter($userIdxs);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 필터를 먹여도 id: 3의 인덱스는 2이다.</span></span><br><span class="line"><span class="comment">// 이걸 해결하려면 array_values 를 한번 더 사용한다.</span></span><br><span class="line">$userIdxs = array_values($userIdxs);</span><br><span class="line"><span class="comment">// userIdxs [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><p><code>array_values(array_filter(array_map()))</code> 과 같이 호출할 수 있긴 하다.</p><p>너무 지저분했다.</p><h2 id="to-be"><a class="markdownIt-Anchor" href="#to-be"></a> TO-BE</h2><p>조금만 생각해도 FP 의 개념에 어긋남을 느낄 수 있다.<br>범위를 줄이고 나서 해당 값을 추출하는 게 맞다.</p><h3 id="js2"><a class="markdownIt-Anchor" href="#js2"></a> JS2</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userIdxs = users.filter(<span class="function"><span class="params">user</span> =&gt;</span> user.id &gt;= <span class="number">3</span>).map(<span class="function"><span class="params">user</span> =&gt;</span> user.id)</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs  [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h3 id="php2"><a class="markdownIt-Anchor" href="#php2"></a> php2</h3><p><code>array_values</code> 를 쓰지 않고도 깔끔한 코딩이 가능하다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$userIdxs = array_filter($users, <span class="function"><span class="keyword">function</span> <span class="params">($user)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $user[<span class="string">'id'</span>] &gt;= <span class="number">3</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$userIdxs = array_map(<span class="function"><span class="keyword">function</span> <span class="params">($user)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $user[<span class="string">'id'</span>];</span><br><span class="line">&#125;, $userIdxs);</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h3 id="lara"><a class="markdownIt-Anchor" href="#lara"></a> lara</h3><p>물론 더 멋진 방법이 있다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$userIdxs = collect($users)</span><br><span class="line">  -&gt;filter(<span class="function"><span class="keyword">function</span> <span class="params">($user)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $user[<span class="string">'id'</span>] &gt;= <span class="number">3</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  -&gt;map(<span class="function"><span class="keyword">function</span> <span class="params">($user)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $user[<span class="string">'id'</span>];</span><br><span class="line">  &#125;)</span><br><span class="line">  -&gt;all();</span><br><span class="line"></span><br><span class="line"><span class="comment">// userIdxs [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>php, js, java, python 을 넘나들다보니 사용하는 언어의 흐름에 대한 개념이 1/n 로 줄어드는 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IaaS, PaaS, SaaS 란?</title>
      <link href="/2018/09/04/IaaS-PaaS-and-SaaS/"/>
      <url>/2018/09/04/IaaS-PaaS-and-SaaS/</url>
      
        <content type="html"><![CDATA[<h1 id="iaas-paas-sass"><a class="markdownIt-Anchor" href="#iaas-paas-sass"></a> IaaS, PaaS, Sass</h1><p>아이아스, 파스, 싸스 언제 들어도 헷갈리는 단어 3종 세트를 쉽게 파헤쳐보자.</p><h2 id="다이어그램"><a class="markdownIt-Anchor" href="#다이어그램"></a> 다이어그램</h2><img data-src="https://i.imgur.com/soDjCR3.png"><p>출처: <a href="https://www.kadenza.nl/en/5-tips-if-you-are-considering-cloud-based-bi" target="_blank" rel="external nofollow noopener noreferrer">5 tips if you are considering cloud-based BI</a></p><p>이 그림이 모든 걸 나타내준다.<br>아이아스는 DevOps(또는 운영자), 파스는 개발자, 싸스는 엔드유저(또는 사용자) 용이다.</p><h2 id="iaas"><a class="markdownIt-Anchor" href="#iaas"></a> IaaS</h2><ul><li><strong>Infrastructure as a Service</strong></li><li>사용할 준비가 된 컴퓨터 및 네트워크 하드웨어</li><li>클라우드에서 리눅스 서버를 받는 것</li></ul><h2 id="paas"><a class="markdownIt-Anchor" href="#paas"></a> PaaS</h2><ul><li><strong>Platform as a Service</strong></li><li>제공된 프레임워크 또는 스택에서 실행되는 소프트웨어</li><li>구글 앱엔진, 아마존 엘라스틱 빈스톡 등</li></ul><h2 id="saas"><a class="markdownIt-Anchor" href="#saas"></a> SaaS</h2><ul><li><strong>Software as a Service</strong></li><li>웹사이트로 제공되는 응용프로그램</li><li>CMS 등</li><li>나이스해 보이고 싶어서 끼워 맞춘 용어</li></ul><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><img data-src="https://i.imgur.com/e1nUX9D.jpg">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitment 사용하기</title>
      <link href="/2018/08/25/Gitment-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>/2018/08/25/Gitment-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="gitment-사용하기"><a class="markdownIt-Anchor" href="#gitment-사용하기"></a> Gitment 사용하기</h1><p>블로그에 붙힐만한 댓글 라이브러리로는 Disqus, Commento, livere 등이 있지만<br>깃헙 페이지라 <a href="https://github.com/imsun/gitment" target="_blank" rel="external nofollow noopener noreferrer">Gitment</a>를 사용하고 싶었다.</p><h2 id="사전-준비"><a class="markdownIt-Anchor" href="#사전-준비"></a> 사전 준비</h2><p><strong>Github &gt; Settings &gt; Developer settings &gt; OAuth Apps</strong> 메뉴로 들어가 새로운 OAuth App 을 만들어준다.</p><img data-src="https://i.imgur.com/76Q1E1K.png"><p>Client ID 와 Client Secret 을 저장해 놓고<br>Authorization callback URL 은 Homepage URL 과 같은 주소를 입력한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Application name</span></span><br><span class="line">GracefulLight</span><br><span class="line"></span><br><span class="line"><span class="comment"># Homepage URL</span></span><br><span class="line">https://gracefullight.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># Application description</span></span><br><span class="line">GracefulLights Blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># Authorization callback URL</span></span><br><span class="line">https://gracefullight.github.io</span><br></pre></td></tr></table></figure><h2 id="소스-추가"><a class="markdownIt-Anchor" href="#소스-추가"></a> 소스 추가</h2><p>원하는 페이지에 소스를 추가한다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/bluebird@3.5.1/js/browser/bluebird.core.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"comments"</span> <span class="attr">id</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"gitment_thread"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gitment@0.0.3/dist/gitment.browser.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> gitment = <span class="keyword">new</span> Gitment(&#123;</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'Gitment 를 구분할 아이디 (ex: 페이지 제목 또는 포스팅 일시)'</span>,</span></span><br><span class="line"><span class="actionscript">            owner: <span class="string">'github 아이디 (ex: gracefullight)'</span>,</span></span><br><span class="line"><span class="actionscript">            repo: <span class="string">'repository 명 (ex: gracefullight.github.io)'</span>,</span></span><br><span class="line">            oauth: &#123;</span><br><span class="line"><span class="actionscript">                client_id: <span class="string">'위에서 발급 받은 client_id'</span>,</span></span><br><span class="line"><span class="actionscript">                client_secret: <span class="string">'위에서 발급 받은 client_secret'</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="actionscript">        gitment.render(<span class="string">'gitment_thread'</span>)</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><p>gitment.min.js 파일은 없으므로, 직접 minify 해서 사용하면 된다.<br>bluebird (promise) core 를 추가한 이유는, IE 에서 gitment 를 지원해야하기 때문이다.</p><h2 id="옵션-관리"><a class="markdownIt-Anchor" href="#옵션-관리"></a> 옵션 관리</h2><p>위 4개 옵션 외에 추가로 <a href="https://github.com/imsun/gitment#options" target="_blank" rel="external nofollow noopener noreferrer">옵션</a>을 더 줄 수 있다.<br>desc 와 labels 정도가 추가되면 좋을 것 같다.</p><h2 id="댓글-쓰기"><a class="markdownIt-Anchor" href="#댓글-쓰기"></a> 댓글 쓰기</h2><p>깃허브 아이디로 로그인한 뒤 <strong>Initialize Comments</strong> 를 누르고 댓글을 작성하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> gitment </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> git </tag>
            
            <tag> gitment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nuxt에 ThirdParty js (particles.js) 추가하기</title>
      <link href="/2018/06/02/Nuxt%EC%97%90-ThirdParty-js-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0/"/>
      <url>/2018/06/02/Nuxt%EC%97%90-ThirdParty-js-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="시작하기-앞서"><a class="markdownIt-Anchor" href="#시작하기-앞서"></a> 시작하기 앞서</h1><p>Nuxt Project 에 <a href="https://vincentgarreau.com/particles.js/" target="_blank" rel="external nofollow noopener noreferrer">Particles.js</a> 를 붙히고 싶었다.<br>어떻게하면 쉽게 붙힐 수 있을까 하다가 멀리 돌아오게 된 삽질기다.</p><h1 id="시작"><a class="markdownIt-Anchor" href="#시작"></a> 시작</h1><h2 id="vue-plugin-사용"><a class="markdownIt-Anchor" href="#vue-plugin-사용"></a> vue-plugin 사용</h2><p><a href="https://nuxtjs.org/guide/plugins/" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a> 를 봤었고 Vue Plugin일 경우 너무나 쉽게 추가가 <strong>가능한 것처럼</strong> 보였다.<br>얼른 <a href="https://github.com/creotip/vue-particles" target="_blank" rel="external nofollow noopener noreferrer">vue-particles</a> 를 설치하고 플러그인을 만들어 등록했다.</p><p>만들고</p><figure class="highlight js"><figcaption><span>vue-particles.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueParticles <span class="keyword">from</span> <span class="string">'vue-particles'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueParticles)</span><br></pre></td></tr></table></figure><p>등록했다.</p><figure class="highlight js"><figcaption><span>nuxt.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [<span class="string">'~/plugins/vue-particles'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>그런데 화면에 Particle이 보이지 않는다.</p><h3 id="no-ssr"><a class="markdownIt-Anchor" href="#no-ssr"></a> no-ssr</h3><p>구글링을 하니, 플러그인에 no-ssr 옵션을 주면 해결이 된다고 한다.</p><figure class="highlight js"><figcaption><span>nuxt.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [&#123;</span><br><span class="line">    src: <span class="string">'~/plugins/vue-particles'</span>,</span><br><span class="line">    ssr: <span class="literal">false</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>Particles.vue</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">no-ssr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">vue-particles</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">no-ssr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>대충 이런식으로 코딩했더니 화면에서 볼 수 있게 되었다.</p><p>그런데… IE11에서는 스크립트 오류가 발생하기 시작했다.</p><h3 id="ie-오류"><a class="markdownIt-Anchor" href="#ie-오류"></a> IE 오류</h3><p>vue-particles 자체에 <code>const</code> 구문을 사용하고 있기 때문에, <strong>no-ssr</strong> 옵션을 준다면 번들링 시 로직을 건너 뛰기에, 크롬에서는 실행이 되지만 IE에서는 실행되지 않는 치명적인 오류가 발생했다.</p><p>그래서 다른 방법을 시도해봤다.</p><h2 id="script-삽입하기"><a class="markdownIt-Anchor" href="#script-삽입하기"></a> script 삽입하기</h2><p><code>nuxt.config.js</code> 에서 <code>head</code> 태그를 이용하면 스크립트를 추가할 수 있고,<br><code>window.particlesJS</code> 처럼 전역 변수로 참조하면 될 줄 알았다.</p><p>하지만 번들링 시 <code>window</code> 객체가 없어 <code>aframe</code> 벤더가 필요하다고 오류가 발생했다.<br>쓸데 없는 리소스를 추가해야되니 여기서 멈추었다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="processbrowser"><a class="markdownIt-Anchor" href="#processbrowser"></a> process.browser</h2><p><a href="https://nuxtjs.org/faq/window-document-undefined/" target="_blank" rel="external nofollow noopener noreferrer">window-document-undefined</a> 문서에 따르면 이런 참조 문제를 해결할 수 있다고 한다.</p><figure class="highlight html"><figcaption><span>Particles.vue</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">vue-particles</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">if (process.browser) &#123;</span><br><span class="line"><span class="javascript">  <span class="built_in">require</span>(<span class="string">'vue-particles'</span>)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">  mounted () &#123;</span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">window</span>.particlesJS) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.particlesJS.load()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>위와 같이 로직을 변경해주니 IE11 에서도 정상 작동하였다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>vue-particles 의 문서엔 완벽한 nuxt 호환이라 되어있지만 예외적인 상황이 있는 듯 하다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nuxt </tag>
            
            <tag> vue </tag>
            
            <tag> particles </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>thefuck 설치하기</title>
      <link href="/2018/05/29/thefuck-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/"/>
      <url>/2018/05/29/thefuck-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="thefuck"><a class="markdownIt-Anchor" href="#thefuck"></a> thefuck</h1><h2 id="이게-뭐죠"><a class="markdownIt-Anchor" href="#이게-뭐죠"></a> 이게 뭐죠</h2><p>커맨드로 명령어를 실행하다보면 생각보다 오타를 많이 치게 된다<br>tab tab 자동완성 기능과 Oh-My-Zsh 의 syntax highlighting 기능을 사용한다면 충분히 커버가 가능할 것 같지만 현실은 그렇지 않다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git checkout master를 치고 싶었으나..</span></span><br><span class="line">$ git checktou master</span><br><span class="line">git: <span class="string">'checktou'</span> is not a git <span class="built_in">command</span>. See <span class="string">'git --help'</span>.</span><br><span class="line"></span><br><span class="line">The most similar <span class="built_in">command</span> is</span><br><span class="line">        checkout</span><br></pre></td></tr></table></figure><p><a href="https://github.com/nvbn/thefuck" target="_blank" rel="external nofollow noopener noreferrer">thefuck</a> 을 활용하면 오타가 나 분노한 나의 마음을 표출할 수 있다.</p><p><img data-src="https://raw.githubusercontent.com/nvbn/thefuck/master/example.gif" alt="예제"></p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><p>다들 python 3.6 버전 정도는 갖고 있다고 가정한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install thefuck</span><br></pre></td></tr></table></figure><h2 id="alias-설정"><a class="markdownIt-Anchor" href="#alias-설정"></a> alias 설정</h2><p>fuck 만 쳐도 thefuck 의 기능을 사용하기 위해 alias 설정을 해주자.</p><h3 id="git-bash"><a class="markdownIt-Anchor" href="#git-bash"></a> git bash</h3><p><code>bash_profile</code> 에 아래처럼 추가해준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(thefuck --alias)</span>"</span></span><br></pre></td></tr></table></figure><h3 id="환경-변수-설정"><a class="markdownIt-Anchor" href="#환경-변수-설정"></a> 환경 변수 설정</h3><ol><li><strong>Win+R &gt; sysdm.cpl</strong></li><li><strong>고급 &gt; 환경 변수 &gt; 시스템 변수 &gt; 새로만들기</strong> 에서 <strong>PYTHONIOENCODING</strong> 값을 <strong>utf-8</strong>로 준다.</li><li>확인 ✔️ X 3</li></ol><h3 id="powershell"><a class="markdownIt-Anchor" href="#powershell"></a> powershell</h3><p>ps 를 주로 사용한다면 설치 후 <code>$PROFILE</code> 파일에 값을 넣어주면 된다.</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PS &gt; Notepad <span class="variable">$PROFILE</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$env:PYTHONIOENCODING</span>=<span class="string">"utf-8"</span></span><br><span class="line">iex <span class="string">"<span class="variable">$</span>(thefuck --alias)"</span></span><br></pre></td></tr></table></figure><p>profile 파일이 없다고 오류가 발생하면, 아래 명령어로 profile 파일을 만들어주자.</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS &gt; <span class="built_in">New-item</span> <span class="literal">-type</span> file <span class="literal">-force</span> <span class="variable">$PROFILE</span></span><br></pre></td></tr></table></figure><h2 id="활용하기"><a class="markdownIt-Anchor" href="#활용하기"></a> 활용하기</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git checkuot master</span><br><span class="line">git: <span class="string">'checkuot'</span> is not a git <span class="built_in">command</span>. See <span class="string">'git --help'</span>.</span><br><span class="line"></span><br><span class="line">The most similar <span class="built_in">command</span> is</span><br><span class="line">        checkout</span><br><span class="line"></span><br><span class="line">$ fuck</span><br><span class="line">git checkout master [enter/↑/↓/ctrl+c]</span><br><span class="line">Already on <span class="string">'master'</span></span><br><span class="line">Your branch is up to date with <span class="string">'origin/master'</span>.</span><br></pre></td></tr></table></figure><p>오타 걱정 없이 쉘 커맨드를 실행할 수 있게 되었다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> linux </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> bash </tag>
            
            <tag> thefuck </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git merge 후 binary 파일 충돌시</title>
      <link href="/2018/05/11/git-merge-%ED%9B%84-binary-%ED%8C%8C%EC%9D%BC-%EC%B6%A9%EB%8F%8C%EC%8B%9C/"/>
      <url>/2018/05/11/git-merge-%ED%9B%84-binary-%ED%8C%8C%EC%9D%BC-%EC%B6%A9%EB%8F%8C%EC%8B%9C/</url>
      
        <content type="html"><![CDATA[<p>바이너리 파일은 diff 가 안 되서 확인을 할 수가 없는데,<br>merge 시에 내 바이너리를 쓸 지 받은 것의 바이너리를 쓸 지 여부를 지정해주면 된다.</p><h1 id="merge-strategy"><a class="markdownIt-Anchor" href="#merge-strategy"></a> merge strategy</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 받아온 브랜치의 바이너리 파일을 사용</span></span><br><span class="line">$ git merge -X theirs origin/브랜치</span><br><span class="line"></span><br><span class="line"><span class="comment"># 내 로컬 바이너리 파일을 사용</span></span><br><span class="line">$ git merge -X ours origin/브랜치</span><br></pre></td></tr></table></figure><h1 id="gc-해제"><a class="markdownIt-Anchor" href="#gc-해제"></a> gc 해제</h1><p>이렇게 받다보면 unlink of file failed 란 오류가 발생할 수가 있는데,<br>git 가비지 컬렉터 옵션을 해당 프로젝트에서만 꺼주면 된다.<br>기능에는 아무 문제 없다. 궁금하면 <code>git help gc</code>를 해보시길…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gc 기능 끄기</span></span><br><span class="line">$ git config --<span class="built_in">local</span> gc.auto 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VueJS 선택 가이드</title>
      <link href="/2018/04/17/VueJS-%EC%84%A0%ED%83%9D-%EA%B0%80%EC%9D%B4%EB%93%9C/"/>
      <url>/2018/04/17/VueJS-%EC%84%A0%ED%83%9D-%EA%B0%80%EC%9D%B4%EB%93%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="서문"><a class="markdownIt-Anchor" href="#서문"></a> 서문</h1><p>Angular1와 React16로는 서비스 레벨까지 SPA 를 만들었고,<br>Angular 프레임워크와 Vue SPA로는 큰 프로젝트는 아니지만 사이트를 운용 중이며, Vue는 멀티페이지에 서비스 레벨로 사용 중에 있다.</p><p>결국엔 VueJS가 최고라는 걸 삽질⛏️로 깨달았다.<br>페이지를 만드는 기본적인 구조는 다른 프레임워크와 똑같지만 Vue는 <strong>쉽고 간결하고 멋지다</strong>.</p><h1 id="인지도"><a class="markdownIt-Anchor" href="#인지도"></a> 인지도</h1><p>인지도에서 Vue가 밀린다고 생각하는 당신께,<br>1804 현재 VueJS의 ⭐ 수는 <a href="https://gitstar-ranking.com/repositories%22%3Ehttps://gitstar-ranking.com/repositories" target="_blank" rel="external nofollow noopener noreferrer">전체랭킹 6위</a>며<br>React와는 아주 근소한 차이며 이 위에는 부트스트랩 뿐이다.</p><h1 id="js-프레임워크-별-비교"><a class="markdownIt-Anchor" href="#js-프레임워크-별-비교"></a> JS 프레임워크 별 비교</h1><p><a href="https://kr.vuejs.org/v2/guide/comparison.html%22%3Ehttps://kr.vuejs.org/v2/guide/comparison.html" target="_blank" rel="external nofollow noopener noreferrer">공식문서</a>에 아주 자세히 설명되어있지만 주관을 덧붙혀보자.</p><p>보통 Angular Framework는 너무 프레임워크 종속적이라 제쳐두고<br>React와 Vue를 많이 비교하게 되는데, React가 더 무겁고 느리며 배울게 많다.<br>React는 느려서 <a href="https://preactjs.com" target="_blank" rel="external nofollow noopener noreferrer">Preact</a>라는 가볍고 빠른 버전이 있다.</p><p>그럼에도 불구하고 리액트가 인기 있는 이유는 <a href="https://facebook.github.io/react-native/" target="_blank" rel="external nofollow noopener noreferrer">React-Native</a>가 있어 <strong>한 번 배우면 모든 Client 화면 코딩이 가능하게 되는 것</strong>이라고 생각한다.<br>Vue는 Weex라는 Native 라이브러리가 있지만 테스트환경 조차 갖추기 힘든 인큐베이터 라이브러리며 Angular에는 Ionic이 있지만 같은 듯 다른 느낌의 컴포넌트라 러닝 커브가 또 있고 웹뷰로 돌아가서 느리다는 단점이 있다.</p><h1 id="코드-별-비교"><a class="markdownIt-Anchor" href="#코드-별-비교"></a> 코드 별 비교</h1><p>세 프레임워크를 사용한 웹 중 유지보수를 위해 하나를 택해야 된다면 어떤 걸 맡고 싶을까?<br>모든 구문은 다음과 같은 html 안에서 실행된다고 가정한다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 컴포넌트가 붙기 전 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 컴포넌트 렌더링 후 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>○○○가 최고야<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vue"><a class="markdownIt-Anchor" href="#vue"></a> Vue</h2><p>JS 버전별 구문 차이가 거의 없다.<br>또한 누가 봐도 <code>id=container</code>에 <code>div</code>가 렌더링 될 것이라는 예상이 가능하다.</p><h3 id="es6-component"><a class="markdownIt-Anchor" href="#es6-component"></a> ES6 + Component</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'App'</span>, &#123;</span><br><span class="line">  template: <span class="string">'&lt;div&gt;Vue가 최고야&lt;/div&gt;'</span>,</span><br><span class="line"></span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'컴포넌트 로드 완료'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#container'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="es5-component"><a class="markdownIt-Anchor" href="#es5-component"></a> ES5 + Component</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'App'</span>, &#123;</span><br><span class="line">  template: <span class="string">'&lt;div&gt;Vue가 최고야&lt;/div&gt;'</span>,</span><br><span class="line"></span><br><span class="line">  mounted: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'컴포넌트 로드 완료'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#container'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="react"><a class="markdownIt-Anchor" href="#react"></a> React</h2><p>JSX가 어떻게 변환되는지 알아야되며, ES6는 선택이 아닌 필수다.</p><h3 id="es6-jsx-component"><a class="markdownIt-Anchor" href="#es6-jsx-component"></a> ES6 + JSX + Component</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  componentDidMount () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'컴포넌트 로드 완료'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render () &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;React가 최고야?&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  App,</span></span><br><span class="line"><span class="regexp">  document.getElementById('container')</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure><h3 id="es5-component-2"><a class="markdownIt-Anchor" href="#es5-component-2"></a> ES5 + Component</h3><p>JSX를 안 쓰면 예쁜 코딩은 물건너간다.<br>또한 <code>createElement</code> API를 봐야할 것 같은 느낌이다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> App = React.createClass(&#123;</span><br><span class="line"></span><br><span class="line">  componentDidMount: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'컴포넌트 로드 완료'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> React.createElement(<span class="string">'div'</span>, <span class="literal">null</span>, <span class="string">'정말 React가 최고야?'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  React.createElement(App),</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'container'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="angular5"><a class="markdownIt-Anchor" href="#angular5"></a> Angular5</h2><p>이건 파일 하나로 합치면 읽다가 지치기 때문에 세 파일로 나눴다.<br>Decorator, TypeScript에 대한 이해가 필요하며 API 문서가 옆에 있어야한다.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.component.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'App'</span>,</span><br><span class="line">  template: <span class="string">'&lt;div&gt;Angular가 최고는 아닌 것 같아&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line"></span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'컴포넌트 로드 완료'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.module.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppComponent &#125; <span class="keyword">from</span> <span class="string">'./app.component'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  declarations: [</span><br><span class="line">    AppComponent</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  imports: [</span><br><span class="line">    BrowserModule</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  providers: [],</span><br><span class="line">  bootstrap: [</span><br><span class="line">    AppComponent</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; platformBrowserDynamic &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser-dynamic'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppModule &#125; <span class="keyword">from</span> <span class="string">'./app.module'</span>;</span><br><span class="line"></span><br><span class="line">platformBrowserDynamic()</span><br><span class="line">  .bootstrapModule(AppModule)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err));</span><br></pre></td></tr></table></figure><h1 id="시작하기"><a class="markdownIt-Anchor" href="#시작하기"></a> 시작하기</h1><p>스크립트 하나면 충분하다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="기본"><a class="markdownIt-Anchor" href="#기본"></a> 기본</h2><h2 id="watcher"><a class="markdownIt-Anchor" href="#watcher"></a> Watcher</h2><h1 id="모듈화"><a class="markdownIt-Anchor" href="#모듈화"></a> 모듈화</h1><h2 id="event-bus"><a class="markdownIt-Anchor" href="#event-bus"></a> Event Bus</h2><h2 id="component"><a class="markdownIt-Anchor" href="#component"></a> Component</h2><h1 id="multipageapp"><a class="markdownIt-Anchor" href="#multipageapp"></a> MultiPageApp</h1><h1 id="spa"><a class="markdownIt-Anchor" href="#spa"></a> SPA</h1><h2 id="vuex"><a class="markdownIt-Anchor" href="#vuex"></a> Vuex</h2><h2 id="nuxt"><a class="markdownIt-Anchor" href="#nuxt"></a> Nuxt</h2><h2 id="laravel-mix"><a class="markdownIt-Anchor" href="#laravel-mix"></a> Laravel-Mix</h2>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>youtube-dl로 유튜브 무료 다운로드하기</title>
      <link href="/2018/03/26/download-music-video-with-youtube-dl/"/>
      <url>/2018/03/26/download-music-video-with-youtube-dl/</url>
      
        <content type="html"><![CDATA[<p>유튜브, 비메오 등의 영상을 소장하고 싶거나 좋은 노래를 다운받아서 듣고 싶을 때 많은 고민을 하게 된다<br>Youtube Free Download 같은 사이트에서 광고를 한참 보다가 한개씩 다운받아야하고, 영상일 경우 저화질만 받을 수 있다</p><p>이 고민거리를 한 방에 해결해주는 <a href="https://github.com/rg3/youtube-dl" target="_blank" rel="external nofollow noopener noreferrer">Youtube-DL</a>(DownLoad)이 있다 시작해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>커맨드와 매뉴얼 설치방법으로 나눴다.</p><h2 id="윈도우"><a class="markdownIt-Anchor" href="#윈도우"></a> 윈도우</h2><h3 id="scoop-설치"><a class="markdownIt-Anchor" href="#scoop-설치"></a> scoop 설치</h3><p>쉽게 설치하기 위해서 윈도우 패키지 매니저인 <a href="https://scoop.sh/" target="_blank" rel="external nofollow noopener noreferrer">Scoop</a>을 먼저 설치하자.<br>시작표시줄 우측 클릭 후 속성에 들어가면 <strong>win + x</strong> 키를 누를 때 관리자 파워쉘로 접속할 수 있는 설정이 있다.<br>설정을 체크해주고, <strong>win + x</strong> 후 <strong>a</strong> 키를 누르면 관리자 파워쉘로 접근한다.</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS &gt; iex (<span class="built_in">new-object</span> net.webclient).downloadstring(<span class="string">'https://get.scoop.sh'</span>)</span><br></pre></td></tr></table></figure><h3 id="패키지-설치"><a class="markdownIt-Anchor" href="#패키지-설치"></a> 패키지 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ffmpeg 은 음악, 영상 파일 포맷 변환기이다.</span></span><br><span class="line">$ scoop install ffmpeg youtube-dl</span><br></pre></td></tr></table></figure><h3 id="수동-설치"><a class="markdownIt-Anchor" href="#수동-설치"></a> 수동 설치</h3><p>위에 커맨드가 너무 어렵다면 매뉴얼대로 설치해보자.<br><a href="https://yt-dl.org/latest/youtube-dl.exe" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 누르면 다운받는다 (사실 이게 더 쉽지만 쉘로 설치하는게 뭔가 나이스하니까)</p><p>비디오를 오디오로 변경해주기위해 <a href="https://ffmpeg.zeranoe.com/builds/" target="_blank" rel="external nofollow noopener noreferrer">ffmpeg</a>를 다운받아야한다.<br>링크를 따라가서 <strong>Download Build</strong> 버튼을 클릭해 압축을 풀어주자</p><p><strong>ffmpeg/bin</strong> 안에 youtube-dl.exe 를 넣어준다</p><h2 id="환경-변수-설정"><a class="markdownIt-Anchor" href="#환경-변수-설정"></a> 환경 변수 설정</h2><ol><li><strong>Win+R &gt; sysdm.cpl</strong></li><li><strong>고급 &gt; 환경 변수 &gt; 시스템 변수 &gt; Path 선택 &gt; 편집 &gt; 새로만들기</strong> 에서 ffmpeg/bin 경로를 넣어준다.</li><li>D:\ffmpeg\bin</li><li>확인 ✔️ X 3</li></ol><p><strong>Win+R &gt; cmd</strong>를 친 뒤에 테스트를 해본다, 아니면 <strong>Win+x &gt; cmd (or Powershell)</strong> 한 다음 열어도 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ffmpeg 세팅 확인</span></span><br><span class="line">$ ffmpeg -version</span><br><span class="line"></span><br><span class="line">ffmpeg version N-90433-g5b31dd1c6b Copyright (c) 2000-2018 the FFmpeg developers</span><br><span class="line">built with gcc 7.3.0 (GCC)</span><br><span class="line"></span><br><span class="line"><span class="comment"># youtube-dl 세팅 확인</span></span><br><span class="line">$ youtube-dl --version</span><br><span class="line"></span><br><span class="line">2018.03.14</span><br></pre></td></tr></table></figure><h2 id="맥"><a class="markdownIt-Anchor" href="#맥"></a> 맥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># brew 로 한 번에 설치가 가능하다.</span></span><br><span class="line">$ brew install youtube-dl</span><br></pre></td></tr></table></figure><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><h2 id="mp4-다운로드"><a class="markdownIt-Anchor" href="#mp4-다운로드"></a> mp4 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ youtube-dl 주소</span><br><span class="line"></span><br><span class="line"><span class="comment"># mp4 best quality로 다운받고 싶다면</span></span><br><span class="line">$ youtube-dl 주소 -f <span class="string">'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4K 영상을 다운받고 싶다면</span></span><br><span class="line">$ youtube-dl 주소 -f <span class="string">'(bestvideo[vcodec=vp9]/bestvideo[ext=mp4]/bestvideo)+bestaudio/best'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 비공개 비밀번호 입력 영상이라면</span></span><br><span class="line">$ youtube-dl 주소 --video-password 비밀번호</span><br><span class="line"></span><br><span class="line"><span class="comment"># 로그인하고 받아야되는 영상이라면</span></span><br><span class="line">$ youtube-dl 주소 -u 아이디 -p 비밀번호</span><br></pre></td></tr></table></figure><h2 id="mp3-다운로드"><a class="markdownIt-Anchor" href="#mp3-다운로드"></a> mp3 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># audio-quality는 기본값이 5고 0으로 갈수록 좋은 음질</span></span><br><span class="line">$ youtube-dl 주소 -x --audio-format mp3 --audio-quality 0</span><br></pre></td></tr></table></figure><h2 id="예시"><a class="markdownIt-Anchor" href="#예시"></a> 예시</h2><p>트위터의 경우 동영상 주소 복사 버튼을 클릭하면 나오는 주소로도 다운로드가 가능하다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 영상 다운로드</span></span><br><span class="line">$ youtube-dl https://www.youtube.com/watch?v=IlSY06XGu3Y</span><br><span class="line"></span><br><span class="line"><span class="comment"># mp3 다운로드 일반음질 (128K)</span></span><br><span class="line">$ youtube-dl https://www.youtube.com/watch?v=nfs8NYg7yQM -x --audio-format mp3</span><br><span class="line"></span><br><span class="line"><span class="comment"># mp3 다운로드 고음질 (VBR)</span></span><br><span class="line">$ youtube-dl https://www.youtube.com/watch?v=nfs8NYg7yQM -x --audio-format mp3 --audio-quality 0</span><br></pre></td></tr></table></figure><h1 id="버전-업데이트"><a class="markdownIt-Anchor" href="#버전-업데이트"></a> 버전 업데이트</h1><p>명령어 하나로 셀프 업데이트가 가능하다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 다운로드 오류 발생시 업데이트하면 해결된다.</span></span><br><span class="line">$ youtube-dl -U</span><br></pre></td></tr></table></figure><h1 id="지원하는-사이트"><a class="markdownIt-Anchor" href="#지원하는-사이트"></a> 지원하는 사이트</h1><p>유튜브 말고 수많은 사이트의 리소스 다운이 가능하다.<br>사이트 목록은 <a href="https://ytdl-org.github.io/youtube-dl/supportedsites.html" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bash </tag>
            
            <tag> youtube </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>웹팩이 모듈을 불러오는 슈도코드</title>
      <link href="/2018/03/25/%EC%9B%B9%ED%8C%A9%EC%9D%B4-%EB%AA%A8%EB%93%88%EC%9D%84-%EB%B6%88%EB%9F%AC%EC%98%A4%EB%8A%94-%EC%8A%88%EB%8F%84%EC%BD%94%EB%93%9C/"/>
      <url>/2018/03/25/%EC%9B%B9%ED%8C%A9%EC%9D%B4-%EB%AA%A8%EB%93%88%EC%9D%84-%EB%B6%88%EB%9F%AC%EC%98%A4%EB%8A%94-%EC%8A%88%EB%8F%84%EC%BD%94%EB%93%9C/</url>
      
        <content type="html"><![CDATA[<p>잊기 전에 슈도코드를 정리해놓자.</p><h1 id="슈도코드"><a class="markdownIt-Anchor" href="#슈도코드"></a> 슈도코드</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 전체모듈 = [</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> 합계함수 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line">    <span class="keyword">return</span> 합계함수</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> 내부_합계함수 = 전체모듈[<span class="number">0</span>]()</span><br><span class="line">    <span class="keyword">const</span> 합계 = 내부_합계함수(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(합계)</span><br><span class="line">    <span class="keyword">return</span> 합계</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> 시작모듈_인덱스 = <span class="number">1</span></span><br><span class="line">전체모듈[시작모듈_인덱스]()</span><br></pre></td></tr></table></figure><h1 id="해석"><a class="markdownIt-Anchor" href="#해석"></a> 해석</h1><p>배열에 다 때려넣고 호출해서 사용하는 방법이다<br>물론 내부는 더 복잡하다, 코드 스플리팅이 된다면 더더욱.</p><h1 id="복잡한-내부"><a class="markdownIt-Anchor" href="#복잡한-내부"></a> 복잡한 내부</h1><figure class="highlight js"><figcaption><span>https://github.com/hg-pyun/minipack-kr/blob/master/src/minipack.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@source </span>https://github.com/hg-pyun/minipack-kr/blob/master/src/minipack.js</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 모듈 번들러들은 작은 코드 조각들을 웹 브라우저에서 실행될 수 있는 크고 복잡한 파일로 컴파일합니다.</span></span><br><span class="line"><span class="comment"> * 이 작은 조각들은 단지 자바스크립트 파일들일 뿐이며, 이들 사이의 종속성은 모듈 시스템에 의해 표현됩니다</span></span><br><span class="line"><span class="comment"> * (https://webpack.js.org/concepts/modules).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 모듈 번들러들은 entry file 이라는 개념을 가지고 있습니다. 브라우저에 스크립트 태그를 몇개 추가하여</span></span><br><span class="line"><span class="comment"> * 실행하는 대신, 번들 담당자에게 응용 프로그램의 메인 파일이 무엇인지 알려 줍니다. 이 파일이 어플리케이션을</span></span><br><span class="line"><span class="comment"> * 실행하는 진입점이 됩니다.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 번들러는 entry file의 의존성을 분석합니다. 그리고 그 다음 파일의 의존성을 파악합니다.</span></span><br><span class="line"><span class="comment"> * 이 작업은 애플리케이션의 모든 모듈과 각 모듈이 서로 어떻게 의존하는지 파악할 때까지 반복됩니다.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 이러한 프로젝트에 대한 이해를 종속성 그래프라 부릅니다.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 이 예제에서는 종속성 그래프를 만들고 이 그래프를 사용하여 모든 모듈들을 하나의 번들로 패키징 합니다.</span></span><br><span class="line"><span class="comment"> * 그럼 시작해 보겠습니다 :)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 참고: 이 예제는 매우 단순화되어 있습니다. 순환 참조, 캐싱 모듈, 파싱 최적화 등에 대한 내용은 생략</span></span><br><span class="line"><span class="comment"> * 하여 가능한가 단순하게 만들었습니다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">const</span> babylon = <span class="built_in">require</span>(<span class="string">"babylon"</span>)</span><br><span class="line"><span class="keyword">const</span> traverse = <span class="built_in">require</span>(<span class="string">"babel-traverse"</span>).default</span><br><span class="line"><span class="keyword">const</span> &#123; transformFromAst &#125; = <span class="built_in">require</span>(<span class="string">"babel-core"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ID = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 우선 file path를 받는 함수를 생성하고</span></span><br><span class="line"><span class="comment">// 파일을 내용을 읽고, 종속성을 추출합니다.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAsset</span>(<span class="params">filename</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 파일의 내용을 문자열로 읽습니다.</span></span><br><span class="line">  <span class="keyword">const</span> content = fs.readFileSync(filename, <span class="string">"utf-8"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 이제 이 파일이 어떤 파일에 종속되는지 알아보겠습니다. 우리는 import 문자열을 보고 의존성을</span></span><br><span class="line">  <span class="comment">// 파악할 수 있습니다 하지만, 이것은 단순한 접근법이어서, 대신에 자바스크립트 파서를 사용하겠습니다.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 자바스크립트 파서들은 자바스크립트 코드를 읽고 이해할 수 있도록 도와주는 툴입니다.</span></span><br><span class="line">  <span class="comment">// 파서는 AST(abstract syntax tree)라는 좀더 추상화된 모델을 생성합니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// AST에 대해 이해하려면 AST Explorer(https://astexplorer.net)을 꼭 보기를 강력하게 추천합니다.</span></span><br><span class="line">  <span class="comment">// AST가 어떻게 이루어져 있는지 확인할 수 있습니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// AST는 우리의 코드에 대해 많은 정보를 가지고 있습니다. 우리는 쿼리를 이용하여</span></span><br><span class="line">  <span class="comment">// 우리의 코드가 하려는 일에 대해 이해할 수 있습니다.</span></span><br><span class="line">  <span class="keyword">const</span> ast = babylon.parse(content, &#123;</span><br><span class="line">    sourceType: <span class="string">"module"</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 이 배열은 현재 모듈의 의존성을 상대 경로로 가지고 있을 것입니다.</span></span><br><span class="line">  <span class="keyword">const</span> dependencies = []</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 우리는 AST 순회를 통해 각각의 모듈들이 어떤 의존성을 가지고 있는지 이해하려 합니다.</span></span><br><span class="line">  <span class="comment">// 이것을 통해 AST안에서 모든 import keyword 선언을 파악할 수 있습니다.</span></span><br><span class="line">  traverse(ast, &#123;</span><br><span class="line">    <span class="comment">// ECMAScript 모듈들은 정적이므로 매우 파악하기 쉽습니다.이는 변수를 가져올 수 없거나 조건부로</span></span><br><span class="line">    <span class="comment">// 다른 모듈을 가져올 수 없음을 의미합니다. import 구분을 볼 때 마다 카운팅을 하고 의존성을 가지고</span></span><br><span class="line">    <span class="comment">// 있는 것으로 간주 할 수 있습니다.</span></span><br><span class="line">    ImportDeclaration: <span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// import 구문마다 dependencies 배열에 값을 추가합니다.</span></span><br><span class="line">      dependencies.push(node.source.value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 또한 간단한 카운터를 이용하여 이 모듈에 고유 식별자를 할당합니다.</span></span><br><span class="line">  <span class="keyword">const</span> id = ID++</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 우리는 일부 브라우저에서만 지원하는 ECMAScript module들이나 기능들을 사용할 가능성도 있습니다.</span></span><br><span class="line">  <span class="comment">// 우리가 만드는 번들이 모든 브라우저에서 돌아가도록 Babel을 이용해서 transpile할 수 있습니다</span></span><br><span class="line">  <span class="comment">// (https://babeljs.io 참고).</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// `presets` 옵션은 Babel이 어떻게 우리 코드를 바꿀지에 대해 결정합니다. 우리는 `babel-preset-env`</span></span><br><span class="line">  <span class="comment">// 를 이용하여 대부분의 브라우저에서 우리의 코드를 사용할 수 있도록 바꾸도록 하겠습니다.</span></span><br><span class="line">  <span class="keyword">const</span> &#123; code &#125; = transformFromAst(ast, <span class="literal">null</span>, &#123;</span><br><span class="line">    presets: [<span class="string">"env"</span>]</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 이 모듈에 대한 정보를 return 합니다.</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    id,</span><br><span class="line">    filename,</span><br><span class="line">    dependencies,</span><br><span class="line">    code</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이제 단일 모듈의 종속성을 추출할 수 있으므로, entry file의 의존성을 추출하는 것부터 시작하겠습니다.</span></span><br><span class="line"><span class="comment">// 이 작업은 애플리케이션의 모든 모듈과 각 모듈이 서로 어떻게 의존하는지를 파악할 때까지 계속 진행할 것입니다.</span></span><br><span class="line"><span class="comment">// 이 작업의 결과물을 의존성 그래프라 부릅니다.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createGraph</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// entry file부터 분석을 시작합니다.</span></span><br><span class="line">  <span class="keyword">const</span> mainAsset = createAsset(entry)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// queue를 사용해서 모든 asset의 의존성을 분석하도록 하겠습니다. 이 작업을 위해</span></span><br><span class="line">  <span class="comment">// entry asset을 가지고 있는 배열을 정의합니다.</span></span><br><span class="line">  <span class="keyword">const</span> queue = [mainAsset]</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 여기서 queue의 반복을 위해 `for ... of` 반복문을 사용합니다. 처음에는 queue가 asset을 하나만</span></span><br><span class="line">  <span class="comment">// 가지고 있지만 작업이 반복되는 동안에 새로운 asset들을 queue에 추가합니다. 이 반복문은 queue가</span></span><br><span class="line">  <span class="comment">// 비어질 때 까지 계속됩니다.</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> asset <span class="keyword">of</span> queue) &#123;</span><br><span class="line">    <span class="comment">// 모든 asset들은 의존성이 있는 모듈에 대한 상대경로들을 리스트로 가지고 있습니다. 우리는 그 리스트를</span></span><br><span class="line">    <span class="comment">// 순회하면서 `createAsset()`함수로 분석하고, 아래 객체를 통하여 모듈들의 의존성을 추척할 것입니다.</span></span><br><span class="line">    asset.mapping = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 이것은 이 모듈이 있는 디렉토리입니다.</span></span><br><span class="line">    <span class="keyword">const</span> dirname = path.dirname(asset.filename)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 종속성에 대한 상대 경로 리스트를 순회합니다.</span></span><br><span class="line">    asset.dependencies.forEach(<span class="function"><span class="params">relativePath</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// `createAsset()` 함수는 절대 경로가 필요합니다. dependencies 배열은 상대 경로를 가지고</span></span><br><span class="line">      <span class="comment">// 있는 배열입니다. 이러한 경로들은 모듈이 import된 file에 따라 상대적입니다. 따라서 부모 asset의</span></span><br><span class="line">      <span class="comment">// 경로를 이용해서 상대 경로를 절대경로로 바꿔야 합니다.</span></span><br><span class="line">      <span class="keyword">const</span> absolutePath = path.join(dirname, relativePath)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// asset의 내용울 분석하고, 내용을 읽고, 의존성을 추출합니다.</span></span><br><span class="line">      <span class="keyword">const</span> child = createAsset(absolutePath)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// `asset`의 의존성은 `child`에게 달려있습니다. 우리는 `mapping` 객체에 relativePath와 child.id를</span></span><br><span class="line">      <span class="comment">// 이용해서 관계를 표현할 수 있습니다.</span></span><br><span class="line">      asset.mapping[relativePath] = child.id</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 마지막으로 child asset을 queue에 추가하여 구문 분석이 반복되도록 합니다.</span></span><br><span class="line">      queue.push(child)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 이 시점에서 queue는 애플리케이션의 모든 모듈이 포함된 배열입니다. 이것이 우리가 그래프를 표현하는 방법입니다.</span></span><br><span class="line">  <span class="keyword">return</span> queue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음으로, 그래프를 이용하여 브라우저에서 실행할 수 있는 번들을 반환하는 함수를 정의합니다.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 우리의 번들은 self-invoking(자신을 부를수 있는)함수를 가지고 있습니다.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// (function() &#123;&#125;)()</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 이 함수는 하나의 인자만 받을 수 있습니다: 모든 모듈의 정보를 가지고 있는 그래프.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bundle</span>(<span class="params">graph</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> modules = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 이 함수를 구성하기 전에 매개 변수로 전달할 객체를 만들겠습니다. 반드시 알아둬야할 것은 우리가 만드는</span></span><br><span class="line">  <span class="comment">// 스트링은 2개의 중괄호(&#123;&#125;)로 감싸져 있어야 한다는 것입니다. 우리는 다음과 같은 포멧으로 추가할</span></span><br><span class="line">  <span class="comment">// 것입니다: `key: value,`.</span></span><br><span class="line">  graph.forEach(<span class="function"><span class="params">mod</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 그래프안에 있는 모든 모듈들은 entry를 객체로 가지고 있습니다. 우리는 module의 id를</span></span><br><span class="line">    <span class="comment">// 값에 대한 키로 사용합니다.(각 모듈마다 2개의 값이 있습니다.)</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// 찻번째 값은 함수로 감싼 각 모듈의 코드입니다. 그 이유는 모듈의 scope를 지정해야 하기 때문입니다.</span></span><br><span class="line">    <span class="comment">// 한 모듈에서 변수를 정의하면 다른 모듈이나 글로벌 scope에 영향을 주지 않아야 합니다.</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// transpiled된 모듈들은 CommonJS 모듈 시스템을 사용합니다:</span></span><br><span class="line">    <span class="comment">// 해당 모듈 시스템은 `require`, `module`, 그리고 `exports`를 통해 모듈화 합니다.</span></span><br><span class="line">    <span class="comment">// 이 키워드들은 일반적으로 브라우저에서 사용할수 없으므로, 우리의 함수를 이용하여 주입해야 합니다.</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// 두번째 값은 모듈간의 의존성 매핑을 stringify하는 것입니다. 다음과 같은 객체입니다.</span></span><br><span class="line">    <span class="comment">// &#123; './relative/path': 1 &#125;.</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// transpiled된 우리의 모듈들이 상대경로와 합께 `require()`를 호출하기 때문입니다. 이 함수를 호출하면</span></span><br><span class="line">    <span class="comment">// 그래프에서 이 모듈의 상대 경로에 해당하는 모듈을 확인할 수 있습니다.</span></span><br><span class="line">    modules += <span class="string">`<span class="subst">$&#123;mod.id&#125;</span>: [</span></span><br><span class="line"><span class="string">      function (require, module, exports) &#123; <span class="subst">$&#123;mod.code&#125;</span> &#125;,</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(mod.mapping)&#125;</span>,</span></span><br><span class="line"><span class="string">    ],`</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 마지막으로 self-invoking 함수의 body를 만듭니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// `require()` 함수를 만들며 시작하겠습니다: 모듈 id를 받아 앞서 만든 모듈 오브젝트에서 `module`을</span></span><br><span class="line">  <span class="comment">// 찾습니다. function wrapper와 맵핑 객체를 얻기위해 two-value 객체를 이용합니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// 모듈의 코드는 모듈의 id들 대신 상대경로와 함께 `require()`함수를 호출합니다. 우리가 만든 require 함수는</span></span><br><span class="line">  <span class="comment">// id 받습니다. 또한 두개의 모듈은 동일한 상대 경로를 요구할 수 있지만, 실제론 두개의 다른 모듈들을</span></span><br><span class="line">  <span class="comment">// 의미하게 됩니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// 이 문제를 해결하기 위해 별도의 `require` 함수를 제공합니다. 모듈의 맵핑 오브젝트를 이용하여 상대경로를 ids에 할당합니다.</span></span><br><span class="line">  <span class="comment">// 맵핑 오브젝트는 구체적인 모듈을 가져오기 위한 용도로, 상대 경로와 모듈 ids를 맵핑합니다.</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// 마지막으로, 모듈이 require 되었을 때 exports 객체의 값이 노출되어야 합니다. 따라서 모듈 코드에 의해 변환 된</span></span><br><span class="line">  <span class="comment">// `exports` 객체는 `require()`로 반환됩니다.</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="string">`</span></span><br><span class="line"><span class="string">    (function(modules) &#123;</span></span><br><span class="line"><span class="string">      function require(id) &#123;</span></span><br><span class="line"><span class="string">        const [fn, mapping] = modules[id];</span></span><br><span class="line"><span class="string">        function localRequire(name) &#123;</span></span><br><span class="line"><span class="string">          return require(mapping[name]);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        const module = &#123; exports : &#123;&#125; &#125;;</span></span><br><span class="line"><span class="string">        fn(localRequire, module, module.exports);</span></span><br><span class="line"><span class="string">        return module.exports;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      require(0);</span></span><br><span class="line"><span class="string">    &#125;)(&#123;<span class="subst">$&#123;modules&#125;</span>&#125;)</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 결과를 반환합니다. 만세! :)</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> graph = createGraph(<span class="string">"./example/entry.js"</span>)</span><br><span class="line"><span class="keyword">const</span> result = bundle(graph)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure><p><a href="https://github.com/hg-pyun/minipack-kr/blob/master/src/minipack.js" target="_blank" rel="external nofollow noopener noreferrer">여기</a>의 번역된 내용을 확인해보자.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> webpack </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>나를 위한 면접 (Backend Developer Interview Questions)</title>
      <link href="/2018/02/18/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(BE)/"/>
      <url>/2018/02/18/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(BE)/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/arialdomartini/Back-End-Developer-Interview-Questions" target="_blank" rel="external nofollow noopener noreferrer">BE Interview Questions</a>를 아는 만큼 답해보았다<br>지극히 주관적이라 정답이 아닐 수 있습니다</p><h1 id="design-patterns"><a class="markdownIt-Anchor" href="#design-patterns"></a> Design Patterns</h1><h2 id="why-are-global-and-static-objects-evil"><a class="markdownIt-Anchor" href="#why-are-global-and-static-objects-evil"></a> Why are global and static objects evil?</h2><blockquote><p>전역변수는 어디서 변경되었는지 추적이 힘듦<br>그리고 자바의 경우 콜스택이 끝나면 비워지는 지역변수와 달리 메모리의 static 영역에 계속 상주해 있음</p></blockquote><h2 id="tell-me-about-inversion-of-control-and-how-does-it-improve-the-design-of-code"><a class="markdownIt-Anchor" href="#tell-me-about-inversion-of-control-and-how-does-it-improve-the-design-of-code"></a> Tell me about Inversion of Control and how does it improve the design of code</h2><blockquote><p>클래스 안에 다른 클래스의 기능이 필요하다면 내부에서 생성자를 이용해 두 클래스 간의 종속이 생겨버리는데<br>IoC를 통한다면 DI 패턴으로 구현해 <code>new A(new B())</code> 처럼 종속성을 분리시킬 수 있음<br>TypeHint를 통해 의존성을 확인할 수 있으므로 더 직관적이기도 하다</p></blockquote><h3 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h3><ul><li><a href="https://stackoverflow.com/questions/3058/what-is-inversion-of-control" target="_blank" rel="external nofollow noopener noreferrer">What is Inversion of Control?</a></li></ul><h2 id="active-record-is-the-design-pattern-that-promotes-objects-to-include-functions-such-as-insert-update-and-delete-and-properties-that-correspond-to-the-columns-in-some-underlying-database-table-in-your-opinion-and-experience-which-are-the-limits-and-pitfalls-of-the-this-pattern"><a class="markdownIt-Anchor" href="#active-record-is-the-design-pattern-that-promotes-objects-to-include-functions-such-as-insert-update-and-delete-and-properties-that-correspond-to-the-columns-in-some-underlying-database-table-in-your-opinion-and-experience-which-are-the-limits-and-pitfalls-of-the-this-pattern"></a> Active-Record is the design pattern that promotes objects to include functions such as Insert, Update, and Delete, and properties that correspond to the columns in some underlying database table. In your opinion and experience, which are the limits and pitfalls of the this pattern?</h2><blockquote><p><strong>Pros</strong></p><ul><li>하나의 구조로 모든 모델을 제어할 수 있게 해준다</li><li>또한 모든 DB 마다 다른 쿼리문 (예를 들어 페이징)을 손쉽게 처리할 수도 있다</li><li>무엇보다 엄청 빠르게 DB 조작이 가능해진다</li></ul><p><strong>Cons</strong></p><ul><li>DB를 잊어버리게 되는 것 아닐까? ActiveRecord로 개발을 시작하는 건 아니다라고 본다</li><li>여러 테이블의 조인이 힘들고 (조인 조건을 만족하기 위해) 계산이 들어간 쿼리문이라면 어차피 RAW 쿼리를 날려야한다.</li><li>프로시져를 사용할 수 도 없고, 관계형 모델들은 select를 키값을 통해 여러 번 select 한 뒤 합쳐주는 것 뿐이라 성능상의 이슈도 있다.</li><li>결국 필요한 곳에서만 (RESTful 구조의) 사용해서 개발하는 게 좋을 것 같다</li></ul></blockquote><h2 id="data-mapper-is-a-design-pattern-that-promotes-the-use-of-a-layer-of-mappers-that-moves-data-between-objects-and-a-database-while-keeping-them-independent-of-each-other-and-the-mapper-itself-on-the-contrary-in-active-record-objects-directly-incorporate-operations-for-persisting-themselves-to-a-database-and-properties-corresponding-to-the-underlying-database-tables-do-you-have-an-opinion-on-those-patterns-when-would-you-use-one-against-the-other"><a class="markdownIt-Anchor" href="#data-mapper-is-a-design-pattern-that-promotes-the-use-of-a-layer-of-mappers-that-moves-data-between-objects-and-a-database-while-keeping-them-independent-of-each-other-and-the-mapper-itself-on-the-contrary-in-active-record-objects-directly-incorporate-operations-for-persisting-themselves-to-a-database-and-properties-corresponding-to-the-underlying-database-tables-do-you-have-an-opinion-on-those-patterns-when-would-you-use-one-against-the-other"></a> Data-Mapper is a design pattern that promotes the use of a layer of Mappers that moves data between objects and a database while keeping them independent of each other and the mapper itself. On the contrary, in Active-Record objects directly incorporate operations for persisting themselves to a database, and properties corresponding to the underlying database tables. Do you have an opinion on those patterns? When would you use one against the other?</h2><blockquote><p>The big benefit of the Data Mapper pattern is, <strong>your domain objects don’t need to know anything about how they are stored in the database</strong>. This means that your objects will be lighter because they don’t have to inherit the full ORM, but also there will be a stricter, more formal process for interacting with the database because you can’t just call the save() method anywhere in your code</p><p>데이터 매퍼는 DB 스키마와 독립적인 모델을 갖고 싶을 때 사용한다<br>ActiveRecord의 속도보다 성능이 필요한 경우 사용하면 된다</p></blockquote><h3 id="참고-2"><a class="markdownIt-Anchor" href="#참고-2"></a> 참고</h3><ul><li><a href="http://culttt.com/2014/06/18/whats-difference-active-record-data-mapper/" target="_blank" rel="external nofollow noopener noreferrer">What’s the difference between Active Record and Data Mapper</a></li></ul><h2 id="why-it-is-often-said-that-the-introduction-of-null-is-a-billion-dollar-mistake-would-you-discuss-the-techniques-to-avoid-it-such-as-the-null-object-pattern-introduced-by-the-gof-book-or-option-types"><a class="markdownIt-Anchor" href="#why-it-is-often-said-that-the-introduction-of-null-is-a-billion-dollar-mistake-would-you-discuss-the-techniques-to-avoid-it-such-as-the-null-object-pattern-introduced-by-the-gof-book-or-option-types"></a> Why it is often said that the introduction of null is a “Billion dollar mistake”? Would you discuss the techniques to avoid it, such as the Null Object Pattern introduced by the GOF book, or Option types?</h2><blockquote><p>null 로 변수를 생성하는 건 안하는 거랑 똑같지만, 안 해주면 프로그램이 뻗어버려서<br>null 타입 체크를 하거나 default값을 추가한다</p></blockquote><h3 id="참고-3"><a class="markdownIt-Anchor" href="#참고-3"></a> 참고</h3><ul><li><a href="http://bangjunyoung.blogspot.kr/2014/06/the-billion-dollar-mistake.html" target="_blank" rel="external nofollow noopener noreferrer">10억 달러짜리 실수</a></li></ul><h2 id="many-state-that-in-object-oriented-programming-composition-is-often-a-better-option-than-inheritance-whats-you-opinion"><a class="markdownIt-Anchor" href="#many-state-that-in-object-oriented-programming-composition-is-often-a-better-option-than-inheritance-whats-you-opinion"></a> Many state that, in Object-Oriented Programming, Composition is often a better option than Inheritance. What’s you opinion?</h2><blockquote><p>부모-자식 관계면 상속이지만, Has 관계이면 컴포지션</p></blockquote><h3 id="참고-4"><a class="markdownIt-Anchor" href="#참고-4"></a> 참고</h3><ul><li><a href="https://arload.wordpress.com/2009/02/18/misconception_of_gof_dp/" target="_blank" rel="external nofollow noopener noreferrer">잘못 알려진 디자인 패턴의 두번째 원칙</a></li></ul><h2 id="what-is-an-anti-corruption-layer"><a class="markdownIt-Anchor" href="#what-is-an-anti-corruption-layer"></a> What is an Anti-corruption Layer?</h2><blockquote><p>추상화 한 레이어를 하나 더 두고 하위 도메인들을 쉽게 접근할 수 있게 하는 방법, facade 처럼</p></blockquote><h2 id="singleton-is-a-design-pattern-that-restricts-the-instantiation-of-a-class-to-one-single-object-writing-a-thread-safe-singleton-class-is-not-so-obvious-would-you-try"><a class="markdownIt-Anchor" href="#singleton-is-a-design-pattern-that-restricts-the-instantiation-of-a-class-to-one-single-object-writing-a-thread-safe-singleton-class-is-not-so-obvious-would-you-try"></a> Singleton is a design pattern that restricts the instantiation of a class to one single object. Writing a Thread-Safe Singleton class is not so obvious. Would you try?</h2><blockquote><p><code>Volatile</code></p></blockquote><h2 id="how-would-you-deal-with-dependency-hell"><a class="markdownIt-Anchor" href="#how-would-you-deal-with-dependency-hell"></a> How would you deal with Dependency Hell?</h2><blockquote><p>패키지 매니저툴을 이용하며 버전을 명시한다, maven, composer, npm 등등</p></blockquote><h2 id="is-goto-evil"><a class="markdownIt-Anchor" href="#is-goto-evil"></a> Is goto evil?</h2><blockquote><p>적절하게, 가독성 있게 사용하면 괜찮다<br><a href="https://github.com/torvalds/linux/blob/09cb6464fe5e7fcd5177911429badd139c4481b7/fs/dlm/main.c" target="_blank" rel="external nofollow noopener noreferrer">리눅스 커널</a> 이런 느낌으로</p></blockquote><h1 id="code-design"><a class="markdownIt-Anchor" href="#code-design"></a> Code Design</h1><h2 id="it-is-often-heard-that-one-of-the-most-important-goals-in-object-oriented-design-is-to-have-high-cohesion-and-loose-coupling-what-does-it-mean-why-is-it-that-important-and-how-is-it-achieved"><a class="markdownIt-Anchor" href="#it-is-often-heard-that-one-of-the-most-important-goals-in-object-oriented-design-is-to-have-high-cohesion-and-loose-coupling-what-does-it-mean-why-is-it-that-important-and-how-is-it-achieved"></a> It is often heard that one of the most important goals in Object-Oriented Design is to have High Cohesion and Loose Coupling. What does it mean? Why is it that important and how is it achieved?</h2><blockquote><p><strong>Coupling</strong></p><ul><li>모듈 간에 상호 의존하는 정도</li><li>각 모듈 간의 결합도가 약해야 하며 의존하는 모듈이 적어야한다.</li><li>결합도가 강하면 시스템 구현 및 유지보수 작업이 어렵다</li></ul><p><strong>Cohesion</strong></p><ul><li>정보 은닉 개념을 확장한 것</li><li>명령어나 호출문 등 모듈의 내부 요소들의 서로 관련되어 있는 정도</li><li>모듈이 독립적인 기능으로 정의되어 있는 정도</li><li>독립적인 모듈이 되기 위해서는 각 모듈의 응집도가 강해야한다</li></ul></blockquote><h2 id="why-does-array-index-start-with-0-in-most-of-languages"><a class="markdownIt-Anchor" href="#why-does-array-index-start-with-0-in-most-of-languages"></a> Why does array index start with ‘0’ in most of languages?</h2><blockquote><p>배열이 참조하는 메모리의 위치를 나타내므로 (시작 위치에서의 기준점)</p></blockquote><h2 id="are-comments-in-code-useful-some-say-they-should-be-avoided-as-much-as-possible-and-hopefully-made-unnecessary"><a class="markdownIt-Anchor" href="#are-comments-in-code-useful-some-say-they-should-be-avoided-as-much-as-possible-and-hopefully-made-unnecessary"></a> Are comments in code useful? Some say they should be avoided as much as possible, and hopefully made unnecessary.</h2><blockquote><p>변수명, 메소드명으로 명확하게 표현할 수 있으면 좋은데, 그러긴 현실적으로 힘들고<br>JSDoc 같은 구문으로 주석을 단다면 참조하는 다른 소스에서도 hover만으로 모든 설명을 볼 수 있어서도 좋고</p></blockquote><h2 id="what-is-the-difference-between-design-and-architecture"><a class="markdownIt-Anchor" href="#what-is-the-difference-between-design-and-architecture"></a> What is the difference between design and architecture?</h2><blockquote><p>Software architecture is more about the design of the entire system, while software design emphasizes on module / component / class level.</p><p><strong>Architecture</strong>: MVC, 3-tier layered design, etc.<br><strong>Design</strong>: What are the responsibilities, functions, of module x? Of class Y? What can it do, and what not?</p></blockquote><h3 id="참고-5"><a class="markdownIt-Anchor" href="#참고-5"></a> 참고</h3><ul><li><a href="https://stackoverflow.com/questions/704855/software-design-vs-software-architecture" target="_blank" rel="external nofollow noopener noreferrer">Software Design vs. Software Architecture</a></li></ul><h2 id="c-supports-multiple-inheritance-and-java-allows-a-class-to-implement-multiple-interfaces-what-impact-does-using-these-facilities-have-on-orthogonality-is-there-a-difference-in-impact-between-using-multiple-inheritance-and-multiple-interfaces-is-there-a-difference-between-using-delegation-and-using-inheritance"><a class="markdownIt-Anchor" href="#c-supports-multiple-inheritance-and-java-allows-a-class-to-implement-multiple-interfaces-what-impact-does-using-these-facilities-have-on-orthogonality-is-there-a-difference-in-impact-between-using-multiple-inheritance-and-multiple-interfaces-is-there-a-difference-between-using-delegation-and-using-inheritance"></a> C++ supports multiple inheritance, and Java allows a class to implement multiple interfaces. What impact does using these facilities have on orthogonality? Is there a difference in impact between using multiple inheritance and multiple interfaces? Is there a difference between using delegation and using inheritance?</h2><blockquote><p>implements가 좀 더 유연하다 클래스 안에서 직접 구현해야되는거니까</p></blockquote><h2 id="pros-and-cons-of-holding-domain-logic-in-stored-procedures"><a class="markdownIt-Anchor" href="#pros-and-cons-of-holding-domain-logic-in-stored-procedures"></a> Pros and cons of holding domain logic in Stored Procedures.</h2><blockquote><p><strong>Pros</strong></p><ul><li>한 번 만든걸 계속 호출해서 쓸 수 있음</li><li>컴파일 언어의 경우 쿼리만 변경하는거니 유지보수가 좋을 수 있음</li><li>계산이 들어가는 쿼리의 경우 SP는 캐싱되므로 이만한게 없음</li></ul><p><strong>Cons</strong></p><ul><li>DB에 완전 종속됨</li><li>DBA가 있어야함</li><li>git에서 변경점 추적 불가능</li></ul></blockquote><h2 id="in-your-opinion-why-have-object-oriented-design-dominated-the-market-for-so-many-years"><a class="markdownIt-Anchor" href="#in-your-opinion-why-have-object-oriented-design-dominated-the-market-for-so-many-years"></a> In your opinion, why have Object-Oriented Design dominated the market for so many years?</h2><blockquote><p>관심사의 분리</p></blockquote><h1 id="languages"><a class="markdownIt-Anchor" href="#languages"></a> Languages</h1><h2 id="tell-me-the-3-worse-defects-of-your-preferred-language"><a class="markdownIt-Anchor" href="#tell-me-the-3-worse-defects-of-your-preferred-language"></a> Tell me the 3 worse defects of your preferred language</h2><blockquote><p><strong>PHP</strong></p><ul><li>컴파일 언어가 아니라 느림 (PHP7부턴 달라짐, OpCache를 사용하면 되긴함)</li><li>쓰레드가 없음 (PHP React나 Guzzle promise 같은 걸 사용하면 event driven 방식으로 되긴 함)</li><li>인식이 안 좋음 (제발 spring framework랑 레거시 php랑 비교하지 말아줘요)</li><li>함수명이 너무 제각각임 (어떤건 snake_case 어떤건 붙혀서)</li></ul></blockquote><h2 id="why-is-there-a-rising-interest-on-functional-programming"><a class="markdownIt-Anchor" href="#why-is-there-a-rising-interest-on-functional-programming"></a> Why is there a rising interest on Functional Programming?</h2><blockquote><ul><li>각 실행 단계를 이뮤터블로 만들어 Side effect를 없앤다, 테스트도 쉽고</li><li>가독성이 높아진다</li></ul></blockquote><h2 id="what-is-a-closure-and-what-is-useful-for-whats-in-common-between-closures-and-classes"><a class="markdownIt-Anchor" href="#what-is-a-closure-and-what-is-useful-for-whats-in-common-between-closures-and-classes"></a> What is a closure, and what is useful for? What’s in common between closures and classes?</h2><blockquote><p>FE 인터뷰에 정리해놓았다</p></blockquote><h2 id="what-are-generics-useful-for"><a class="markdownIt-Anchor" href="#what-are-generics-useful-for"></a> What are generics useful for?</h2><blockquote><p>타입 캐스팅</p></blockquote><h2 id="what-are-high-order-functions-what-are-they-useful-for"><a class="markdownIt-Anchor" href="#what-are-high-order-functions-what-are-they-useful-for"></a> What are high-order functions? What are they useful for?</h2><blockquote><p>함수를 파라미터로 전달받거나, 함수를 리턴하는 함수로 다형성을 지원해 재사용이 가능하다</p></blockquote><h2 id="what-does-it-mean-when-a-language-treats-functions-as-first-class-citizens"><a class="markdownIt-Anchor" href="#what-does-it-mean-when-a-language-treats-functions-as-first-class-citizens"></a> What does it mean when a language treats functions as first-class citizens?</h2><blockquote><ul><li>변수나 데이터에 할당 가능</li><li>파라미터로 넘길 수 있어야함</li><li>리턴값으로 리턴이 가능해야함</li></ul></blockquote><h2 id="show-me-an-example-where-an-anonymous-function-can-be-useful"><a class="markdownIt-Anchor" href="#show-me-an-example-where-an-anonymous-function-can-be-useful"></a> Show me an example where an Anonymous Function can be useful</h2><blockquote><p>모든 콜백에서 유용함</p></blockquote><h2 id="whats-the-stack-and-whats-the-heap-whats-a-stack-overflow"><a class="markdownIt-Anchor" href="#whats-the-stack-and-whats-the-heap-whats-a-stack-overflow"></a> Whats the Stack and what’s the Heap? What’s a Stack Overflow?</h2><blockquote><p>Stack: LIFO<br>Heap: 최소 또는 최대 값이 루트에 있는 완전 이진 트리<br>Stack Overflow: 지식인 또는 Stack이 꽉 찼는데 삽입하려 들 때</p></blockquote><h2 id="some-languages-especially-the-ones-that-promote-a-functional-approach-allow-a-technique-called-pattern-matching-do-you-know-it-how-is-pattern-matching-different-from-switch-clauses"><a class="markdownIt-Anchor" href="#some-languages-especially-the-ones-that-promote-a-functional-approach-allow-a-technique-called-pattern-matching-do-you-know-it-how-is-pattern-matching-different-from-switch-clauses"></a> Some languages, especially the ones that promote a Functional approach, allow a technique called Pattern Matching. Do you know it? How is Pattern Matching different from Switch clauses?</h2><blockquote><p>C#에서 <code>is</code> 구문을 말하는건가? <code>switch</code>는 하나의 타입에서만 비교가 가능한데, 패턴매칭을 쓰면 더 동적으로 비교가 가능하다</p></blockquote><h2 id="if-cat-is-an-animal"><a class="markdownIt-Anchor" href="#if-cat-is-an-animal"></a> If Cat is an Animal</h2><p><code>is TakeCare&lt;Cat&gt; a TakeCare&lt;Animal&gt; ?</code></p><blockquote><p>같지는 않지만 집어넣을 수는 있다</p></blockquote><h2 id="in-the-last-years-there-has-been-a-lot-of-hype-on-node-whats-your-opinion-on-the-use-in-the-back-end-of-a-language-that-was-initially-conceived-to-run-in-the-browser"><a class="markdownIt-Anchor" href="#in-the-last-years-there-has-been-a-lot-of-hype-on-node-whats-your-opinion-on-the-use-in-the-back-end-of-a-language-that-was-initially-conceived-to-run-in-the-browser"></a> In the last years there has been a lot of hype on Node. What’s your opinion on the use in the back end of a language that was initially conceived to run in the browser?</h2><blockquote><p><strong>Atwood’s Law</strong>: any application that can be written in JavaScript, will eventually be written in JavaScript.</p></blockquote><h3 id="참고-6"><a class="markdownIt-Anchor" href="#참고-6"></a> 참고</h3><ul><li><a href="https://blog.codinghorror.com/the-principle-of-least-power/" target="_blank" rel="external nofollow noopener noreferrer">The Principle of Least Power</a></li></ul><h1 id="web-development"><a class="markdownIt-Anchor" href="#web-development"></a> Web development</h1><h2 id="why-first-party-cookies-and-third-party-cookies-are-treated-so-differently"><a class="markdownIt-Anchor" href="#why-first-party-cookies-and-third-party-cookies-are-treated-so-differently"></a> Why first-party cookies and third-party cookies are treated so differently?</h2><blockquote><p><strong>first-party cookie</strong><br>자사 쿠키는 방문하는 웹사이트가 설정하며 해당 사이트에서만 사용</p><p><strong>third-party cookie</strong><br>타사 쿠키에서 분석 등의 용도로 사용</p></blockquote><h2 id="how-would-you-manage-web-services-api-versioning"><a class="markdownIt-Anchor" href="#how-would-you-manage-web-services-api-versioning"></a> How would you manage Web Services API versioning?</h2><blockquote><p>시맨틱 버저닝</p></blockquote><h2 id="from-a-back-end-perspective-are-there-any-disadvantages-or-drawbacks-on-the-adoption-of-single-page-applications"><a class="markdownIt-Anchor" href="#from-a-back-end-perspective-are-there-any-disadvantages-or-drawbacks-on-the-adoption-of-single-page-applications"></a> From a Back End perspective, are there any disadvantages or drawbacks on the adoption of Single Page Applications?</h2><blockquote><p><strong>백엔드 관점</strong></p><p><strong>Pros</strong></p><ul><li>웹을 SPA로 가면 API가 필요하고, 디바이스 확장성에 대해 좋음</li></ul><p><strong>Cons</strong></p><ul><li>SEO 때문에 어차피 SSR 해줘야됨</li></ul></blockquote><h2 id="why-do-we-usually-put-so-much-effort-for-having-stateless-services-whats-so-good-in-stateless-code-and-why-and-when-statefullness-is-bad"><a class="markdownIt-Anchor" href="#why-do-we-usually-put-so-much-effort-for-having-stateless-services-whats-so-good-in-stateless-code-and-why-and-when-statefullness-is-bad"></a> Why do we usually put so much effort for having stateless services? What’s so good in stateless code and why and when statefullness is bad?</h2><h3 id="참고-7"><a class="markdownIt-Anchor" href="#참고-7"></a> 참고</h3><ul><li><a href="http://egloos.zum.com/outspace/v/3124886" target="_blank" rel="external nofollow noopener noreferrer">stateful vs stateless</a></li></ul><h2 id="rest-and-soap-when-would-you-choose-one-and-when-the-other"><a class="markdownIt-Anchor" href="#rest-and-soap-when-would-you-choose-one-and-when-the-other"></a> REST and SOAP: when would you choose one, and when the other?</h2><h3 id="참고-8"><a class="markdownIt-Anchor" href="#참고-8"></a> 참고</h3><ul><li><a href="http://greatkim91.tistory.com/79" target="_blank" rel="external nofollow noopener noreferrer">SOAP이냐 REST이냐</a></li></ul><h2 id="in-web-development-model-view-controller-and-model-view-view-model-approaches-are-very-common-both-in-the-back-end-and-in-the-front-end-what-are-they-and-why-are-they-advisable"><a class="markdownIt-Anchor" href="#in-web-development-model-view-controller-and-model-view-view-model-approaches-are-very-common-both-in-the-back-end-and-in-the-front-end-what-are-they-and-why-are-they-advisable"></a> In Web development, Model-View Controller and Model-View-View-Model approaches are very common, both in the Back End and in the Front End. What are they, and why are they advisable?</h2><blockquote><p><strong>MVC</strong></p><ul><li>Controller로 사용자의 입력이 들어옵니다.</li><li>Controller는 Model을 데이터 업데이트 및 불러오고</li><li>Model은 해당 데이터를 보여줄 View를 선택해서 화면에 보여주게 됩니다.</li></ul><p><strong>MVVM</strong></p><ul><li>View에 입력이 들어오면 Command 패턴으로 ViewModel에 명령을 합니다.</li><li>ViewModel은 필요한 데이터를 Model에 요청 합니다.</li><li>Model은 ViewModel에 필요한 데이터를 응답 합니다.</li><li>ViewModel은 응답 받은 데이터를 가공해서 저장 합니다.</li><li>View는 ViewModel과의 Data Binding으로 인해 자동으로 갱신 됩니다.</li></ul></blockquote><h3 id="참고-9"><a class="markdownIt-Anchor" href="#참고-9"></a> 참고</h3><ul><li><a href="https://magi82.github.io/android-mvc-mvp-mvvm/" target="_blank" rel="external nofollow noopener noreferrer">MVC, MVP, MVVM 비교</a></li></ul><h1 id="databases"><a class="markdownIt-Anchor" href="#databases"></a> Databases</h1><h2 id="how-would-you-migrate-an-application-from-a-database-to-another-for-example-from-mysql-to-postgresql-if-you-had-to-manage-that-project-which-issues-would-you-expect-to-face"><a class="markdownIt-Anchor" href="#how-would-you-migrate-an-application-from-a-database-to-another-for-example-from-mysql-to-postgresql-if-you-had-to-manage-that-project-which-issues-would-you-expect-to-face"></a> How would you migrate an application from a database to another, for example from MySQL to PostgreSQL? If you had to manage that project, which issues would you expect to face?</h2><blockquote><p><strong>Oracle =&gt; MySQL</strong></p><ul><li>date 처리에서 애를 먹었는데, 덤프를 바로 옮기지 않고 데이터를 가져와 다시 넣는 방식으로 마이그레이션 했다</li><li>Right join (+ 조인)을 Left로 바꾸는데 시간이 걸렸다</li></ul><p><strong>MySQL =&gt; Maria</strong></p><ul><li>완벽 호환, utf8mb4로 콜렉션과 차셋도 바꿔줌</li></ul></blockquote><h2 id="why-databases-treat-null-as-a-so-special-case-for-example-why-in-sql-select-from-table-where-field-null-does-not-match-records-with-null-field"><a class="markdownIt-Anchor" href="#why-databases-treat-null-as-a-so-special-case-for-example-why-in-sql-select-from-table-where-field-null-does-not-match-records-with-null-field"></a> Why databases treat null as a so special case? For example, why in SQL SELECT * FROM table WHERE field = null does not match records with null field?</h2><blockquote><p>저걸 처리하기 위해선 IS NULL 구문을 사용해야함</p></blockquote><h2 id="acid-is-an-acronym-that-refers-to-atomicity-consistency-isolation-and-durability-4-properties-guaranteed-by-a-database-transaction-in-most-of-the-database-engines-what-do-you-know-about-this-topic-would-you-like-to-elaborate"><a class="markdownIt-Anchor" href="#acid-is-an-acronym-that-refers-to-atomicity-consistency-isolation-and-durability-4-properties-guaranteed-by-a-database-transaction-in-most-of-the-database-engines-what-do-you-know-about-this-topic-would-you-like-to-elaborate"></a> ACID is an acronym that refers to Atomicity, Consistency, Isolation and Durability, 4 properties guaranteed by a database transaction in most of the database engines. What do you know about this topic? Would you like to elaborate?</h2><blockquote><p><strong>원자성</strong></p><ul><li>Atomicity</li><li>트랜잭션 내의 명령은 반드시 완벽히 수행</li><li>모두가 수행되거나 오류시 전부가 취소되어야함</li></ul><p><strong>일관성</strong></p><ul><li>Consistency</li><li>DB의 전체 요소는 트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야함</li></ul><p><strong>독립성</strong></p><ul><li>Isolation = 격리성 = 순차성</li><li>둘 이상의 트랜잭션이 병행 실행되는 경우 다른 트랜잭션 연산이 끼어들 수 없음</li><li>수행 중인 트랜잭션은 완료될 때 까지 다른 트랜잭션에서 참조 불가</li></ul><p><strong>영속성</strong></p><ul><li>Durability = 지속성</li><li>시스템이 고장나도 영구적으로 반영</li></ul></blockquote><h2 id="how-would-you-manage-database-schema-migrations-that-is-how-would-you-automate-the-changes-a-database-schema-is-affected-to-as-the-application-evolve-version-after-version"><a class="markdownIt-Anchor" href="#how-would-you-manage-database-schema-migrations-that-is-how-would-you-automate-the-changes-a-database-schema-is-affected-to-as-the-application-evolve-version-after-version"></a> How would you manage database schema migrations, that is, how would you automate the changes a database schema is affected to, as the application evolve, version after version?</h2><blockquote><p>프레임워크에서 migration 기능을 지원한다면 그걸 사용할 것이다</p></blockquote><h2 id="how-is-lazy-loading-achieved-when-is-it-useful-what-are-its-pitfalls"><a class="markdownIt-Anchor" href="#how-is-lazy-loading-achieved-when-is-it-useful-what-are-its-pitfalls"></a> How is Lazy Loading achieved? When is it useful? What are its pitfalls?</h2><blockquote><p><strong>Pros</strong><br>실제 로직이 실행될 때 로드가 되므로, 자원 소모를 해당 액션이 실행되기 전까지로 미룰 수 있다</p><p><strong>Cons</strong><br>N+1 problem.</p></blockquote><h2 id="the-so-called-n-1-problem-is-an-issue-that-occurs-when-the-code-needs-to-load-the-children-of-a-parent-child-relationship-with-a-orms-that-have-lazy-loading-enabled-and-that-therefore-issue-a-query-for-the-parent-record-and-then-one-query-for-each-child-record-how-to-fix-it"><a class="markdownIt-Anchor" href="#the-so-called-n-1-problem-is-an-issue-that-occurs-when-the-code-needs-to-load-the-children-of-a-parent-child-relationship-with-a-orms-that-have-lazy-loading-enabled-and-that-therefore-issue-a-query-for-the-parent-record-and-then-one-query-for-each-child-record-how-to-fix-it"></a> The so called “N + 1 problem” is an issue that occurs when the code needs to load the children of a parent-child relationship with a ORMs that have lazy-loading enabled, and that therefore issue a query for the parent record, and then one query for each child record. How to fix it?</h2><blockquote><p>Eager loading을 사용하거나 JPA의 경우 join fetch를 사용한다</p></blockquote><h1 id="in-your-opinion-is-it-always-needed-to-use-database-normalization-when-is-it-advisable-to-use-denormalized-databases"><a class="markdownIt-Anchor" href="#in-your-opinion-is-it-always-needed-to-use-database-normalization-when-is-it-advisable-to-use-denormalized-databases"></a> In your opinion, is it always needed to use database normalization? When is it advisable to use denormalized databases?</h1><blockquote><p>삽입, 삭제, 갱신 이상이 해결된다면, join의 감소를 위해 비정규화도 적절히 필요하다</p></blockquote><h1 id="nosql"><a class="markdownIt-Anchor" href="#nosql"></a> NoSQL</h1><h2 id="what-is-eventual-consistency"><a class="markdownIt-Anchor" href="#what-is-eventual-consistency"></a> What is Eventual Consistency?</h2><blockquote><p>데이터 삽입이 끝났지만 어떤 클라이언트에서는 업데이트 된 내용을 확인할 수 없다, 하지만 곧 확인할 수 있다</p></blockquote><h3 id="참고-10"><a class="markdownIt-Anchor" href="#참고-10"></a> 참고</h3><ul><li><a href="https://embian.wordpress.com/2013/06/27/nosql-2/" target="_blank" rel="external nofollow noopener noreferrer">NoSQL에 대해서 간단히 알아보자!</a></li></ul><h2 id="the-brewers-theorem-most-commonly-known-as-the-cap-theorem-states-that-in-the-presence-of-a-network-partition-the-p-in-cap-a-systems-designer-has-to-choose-between-consistency-the-c-in-cap-and-availability-the-a-in-cap-can-you-think-about-examples-of-cp-ap-and-ca-systems"><a class="markdownIt-Anchor" href="#the-brewers-theorem-most-commonly-known-as-the-cap-theorem-states-that-in-the-presence-of-a-network-partition-the-p-in-cap-a-systems-designer-has-to-choose-between-consistency-the-c-in-cap-and-availability-the-a-in-cap-can-you-think-about-examples-of-cp-ap-and-ca-systems"></a> The Brewer’s Theorem, most commonly known as the CAP theorem, states that in the presence of a Network Partition (the P in CAP), a system’s designer has to choose between Consistency (the C in CAP) and Availability (the A in CAP). Can you think about examples of CP, AP and CA systems?</h2><blockquote><p>일관성, 가용성, 분단허용성</p><p><strong>Consistent - Available</strong> : Postgres, MySQL같은 전통적인 RBMS<br><strong>Consistent - Partition Tolerant</strong> : BitTable, Hypertable, HBase, MongoDB, Terrastore, Redis, Scalaris, MemcacheDB, BerkeleyDB<br><strong>Available - Partition Tolerant</strong> : Amazon Dynamo, Cassandra, CouchDB, Amazon SimpleDB, Riak</p></blockquote><h3 id="참고-11"><a class="markdownIt-Anchor" href="#참고-11"></a> 참고</h3><ul><li><a href="http://eincs.com/2013/07/misleading-and-truth-of-cap-theorem/" target="_blank" rel="external nofollow noopener noreferrer">CAP Theorem, 오해와 진실</a></li><li><a href="https://blog.outsider.ne.kr/520" target="_blank" rel="external nofollow noopener noreferrer">NoSQL에 대해서 #2</a></li></ul><h2 id="how-would-you-explain-the-recent-rise-in-interest-for-nosql"><a class="markdownIt-Anchor" href="#how-would-you-explain-the-recent-rise-in-interest-for-nosql"></a> How would you explain the recent rise in interest for NoSQL?</h2><blockquote><p>Redis</p></blockquote><h2 id="in-which-case-would-you-use-a-document-database-like-mongodb-instead-of-a-relational-database-like-mysql-or-postgresql"><a class="markdownIt-Anchor" href="#in-which-case-would-you-use-a-document-database-like-mongodb-instead-of-a-relational-database-like-mysql-or-postgresql"></a> In which case would you use a document database like MongoDB instead of a relational database like MySQL or PostgreSQL?</h2><blockquote><p>단순 반복적인 질의기능 및 잦은 확장이 주로 필요한 서비스</p></blockquote><h3 id="참고-12"><a class="markdownIt-Anchor" href="#참고-12"></a> 참고</h3><ul><li><a href="https://kimws.wordpress.com/2012/02/26/nosql-%EB%8F%84%EB%8C%80%EC%B2%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%84%A0%ED%83%9D%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C/" target="_blank" rel="external nofollow noopener noreferrer">NoSQL – 도대체 어떻게 선택해야 할까?</a></li></ul><h1 id="code-versioning"><a class="markdownIt-Anchor" href="#code-versioning"></a> code versioning</h1><h2 id="could-you-describe-github-flow-and-gitflow-workflows"><a class="markdownIt-Anchor" href="#could-you-describe-github-flow-and-gitflow-workflows"></a> Could you describe GitHub Flow and GitFlow workflows?</h2><blockquote><p>Git Flow: feature &gt; develop &gt; release &gt; hotfix &gt; master<br>GitHub Flow: feature 별 브랜치 &gt; master, PR</p></blockquote><h2 id="whats-a-rebase"><a class="markdownIt-Anchor" href="#whats-a-rebase"></a> What’s a rebase?</h2><blockquote><p>여러 브랜치를 하나의 브랜치(커밋)으로 합치기</p></blockquote><h1 id="concurrency"><a class="markdownIt-Anchor" href="#concurrency"></a> Concurrency</h1><h2 id="why-do-we-need-concurrency-anyway"><a class="markdownIt-Anchor" href="#why-do-we-need-concurrency-anyway"></a> Why do we need Concurrency, anyway?</h2><blockquote><p>I/O를 기다리지 않고 다른 일을 처리하고 싶을 때, CPU 코어들을 최대한 쓰고 싶을 때</p></blockquote><h2 id="why-is-testing-multithreading-concurrent-code-so-difficult"><a class="markdownIt-Anchor" href="#why-is-testing-multithreading-concurrent-code-so-difficult"></a> Why is testing multithreading / concurrent code so difficult?</h2><blockquote><p>언제 값이 변경되는지 잡기가 힘들어서</p></blockquote><h2 id="what-is-a-race-condition-code-an-example-using-whatever-language-you-like"><a class="markdownIt-Anchor" href="#what-is-a-race-condition-code-an-example-using-whatever-language-you-like"></a> What is a Race Condition? Code an example, using whatever language you like.</h2><blockquote><p>두 개 이상의 스레드에서 공유된 리소스에 접근할 때 순서에 따라 결과가 달라지는 현상<br>for 문으로도 보여줄 수 있다</p></blockquote><h2 id="what-is-a-deadlock-would-you-be-able-to-write-some-code-that-is-affected-by-deadlocks"><a class="markdownIt-Anchor" href="#what-is-a-deadlock-would-you-be-able-to-write-some-code-that-is-affected-by-deadlocks"></a> What is a Deadlock? Would you be able to write some code that is affected by deadlocks?</h2><blockquote><p>이미 리소스를 점유한 스레드의 Lock이 해제될 까지 서로의 스레드가 계속 기다리는 현상</p></blockquote><h2 id="what-is-process-starvation-if-you-need-lets-review-its-definition"><a class="markdownIt-Anchor" href="#what-is-process-starvation-if-you-need-lets-review-its-definition"></a> What is Process Starvation? If you need, let’s review its definition.</h2><blockquote><p>우선 순위가 낮은 프로세스가 우선 순위가 높은 프로세스 때문에 계속 기다리는 현상</p></blockquote><h2 id="what-is-a-wait-free-algorithm"><a class="markdownIt-Anchor" href="#what-is-a-wait-free-algorithm"></a> What is a Wait Free algorithm?</h2><blockquote><p>전체 쓰레드가 공유 자원을 일관적으로 사용하면서도 대기하지 않고 그냥 진행되는 것</p></blockquote><h3 id="참고-13"><a class="markdownIt-Anchor" href="#참고-13"></a> 참고</h3><ul><li><a href="http://ozt88.tistory.com/38" target="_blank" rel="external nofollow noopener noreferrer">Lock Free</a></li><li><a href="http://concurrencyfreaks.blogspot.kr/2013/05/lock-free-and-wait-free-definition-and.html" target="_blank" rel="external nofollow noopener noreferrer">Lock-Free and Wait-Free, definition and examples</a></li></ul><h1 id="distributed-systems"><a class="markdownIt-Anchor" href="#distributed-systems"></a> Distributed Systems</h1><h2 id="what-are-the-fallacies-of-distributed-computing"><a class="markdownIt-Anchor" href="#what-are-the-fallacies-of-distributed-computing"></a> What are the Fallacies of Distributed Computing?</h2><blockquote><ul><li>The network is reliable.</li><li>Latency is zero.</li><li>Bandwidth is infinite.</li><li>The network is secure.</li><li>Topology doesn’t change.</li><li>There is one administrator.</li><li>Transport cost is zero.</li><li>The network is homogeneous.</li></ul></blockquote><h3 id="참고-14"><a class="markdownIt-Anchor" href="#참고-14"></a> 참고</h3><ul><li><a href="https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing" target="_blank" rel="external nofollow noopener noreferrer">Fallacies of distributed computing</a></li></ul><h2 id="when-would-you-use-requestreply-and-when-publishsubscribe"><a class="markdownIt-Anchor" href="#when-would-you-use-requestreply-and-when-publishsubscribe"></a> When would you use Request/Reply and when Publish/Subscribe?</h2><blockquote><p>클라이언트에서 요청을 한 뒤 업데이트가 되야하면 Request/Reply<br>요청이 없어도 업데이트가 되야하면 Pub/Sub</p></blockquote><h2 id="suppose-the-system-you-are-working-on-does-not-support-transactionality-how-would-you-implement-it-from-scratch"><a class="markdownIt-Anchor" href="#suppose-the-system-you-are-working-on-does-not-support-transactionality-how-would-you-implement-it-from-scratch"></a> Suppose the system you are working on does not support transactionality. How would you implement it from scratch?</h2><blockquote><p>임시 테이블과 트랜잭션 성공테이블을 나눈다</p></blockquote><h1 id="software-lifecycle-and-team-management"><a class="markdownIt-Anchor" href="#software-lifecycle-and-team-management"></a> Software Lifecycle and Team Management</h1><h2 id="what-is-the-biggest-difference-between-agile-and-waterfall"><a class="markdownIt-Anchor" href="#what-is-the-biggest-difference-between-agile-and-waterfall"></a> What is the biggest difference between Agile and Waterfall?</h2><blockquote><p>고객과의 커뮤니케이션<br>일정 주기를 가지고 점진적인 기능개발</p></blockquote><h2 id="how-would-you-manage-a-very-late-project"><a class="markdownIt-Anchor" href="#how-would-you-manage-a-very-late-project"></a> How would you manage a very late project</h2><blockquote><p>차를 만들지 않고 바퀴부터 만들겠다<br>앱 환경에 따라 나중에 개발할 부분을 먼저 찾겠다</p></blockquote><h2 id="are-program-managers-useful"><a class="markdownIt-Anchor" href="#are-program-managers-useful"></a> Are Program Managers useful?</h2><blockquote><p>항상 필요하다<br>클라이언트나 보스로 부터의 의견 절충을 해주지 않으면<br>설계도가 나와 건물 다 올렸는데 철근 추가하는 미친 짓을 해야되니까.</p></blockquote><h1 id="logic-and-algorithms"><a class="markdownIt-Anchor" href="#logic-and-algorithms"></a> logic and algorithms</h1><h2 id="how-would-you-sort-a-10gb-file-how-would-your-approach-change-with-a-10tb-one"><a class="markdownIt-Anchor" href="#how-would-you-sort-a-10gb-file-how-would-your-approach-change-with-a-10tb-one"></a> How would you sort a 10GB file? How would your approach change with a 10TB one?</h2><blockquote><p>머지 소트</p></blockquote><h2 id="how-would-you-programmatically-detect-file-duplicates"><a class="markdownIt-Anchor" href="#how-would-you-programmatically-detect-file-duplicates"></a> How would you programmatically detect file duplicates?</h2><blockquote><p>contents를 md5나 sha1 해싱 후 비교</p></blockquote><h1 id="software-architecture"><a class="markdownIt-Anchor" href="#software-architecture"></a> Software Architecture</h1><h2 id="when-is-a-cache-not-useful-or-even-dangerous"><a class="markdownIt-Anchor" href="#when-is-a-cache-not-useful-or-even-dangerous"></a> When is a cache not useful or even dangerous?</h2><blockquote><p>서버로 데이터를 전송할 때</p></blockquote><h2 id="why-does-event-driven-architecture-improve-scalability"><a class="markdownIt-Anchor" href="#why-does-event-driven-architecture-improve-scalability"></a> Why does Event-Driven Architecture improve scalability?</h2><blockquote><p>노드간의 이벤트가 있을때마다 로직을 처리할 수 있어서</p></blockquote><h2 id="scale-out-vs-scale-up-how-are-they-different-when-to-apply-one-when-the-other"><a class="markdownIt-Anchor" href="#scale-out-vs-scale-up-how-are-they-different-when-to-apply-one-when-the-other"></a> Scale out vs scale up: how are they different? When to apply one, when the other?</h2><blockquote><p><strong>Scale out</strong><br>서버 대수를 늘리는 것, 수평 스케일, 분산처리</p><p><strong>Scale Up</strong><br>서버 재원을 늘리는 것, 수직 스케일, 서버가 부담을 받을 때</p></blockquote><h2 id="what-is-cqrs-command-query-responsibility-segregation-how-is-it-different-from-the-oldest-command-query-separation-principle"><a class="markdownIt-Anchor" href="#what-is-cqrs-command-query-responsibility-segregation-how-is-it-different-from-the-oldest-command-query-separation-principle"></a> What is CQRS (Command Query Responsibility Segregation)? How is it different from the oldest Command-Query Separation Principle?</h2><blockquote><p>명령과 쿼리의 역할을 분리한다는 것인데 참고 도표를 보는게 빠르다.<br>R/W DB를 분리해서 이벤트방식으로 동기화를 시키는 모델 같은데 잘 모르겠다.</p></blockquote><h3 id="참고-15"><a class="markdownIt-Anchor" href="#참고-15"></a> 참고</h3><ul><li><a href="http://www.popit.kr/cqrs-eventsourcing/" target="_blank" rel="external nofollow noopener noreferrer">나만 모르고 있던 CQRS &amp; EventSourcing</a></li></ul><h2 id="what-is-three-tier-architecture"><a class="markdownIt-Anchor" href="#what-is-three-tier-architecture"></a> What is Three-Tier architecture?</h2><blockquote><p>HTTP를 처리하는 Web Server<br>웹 애플리케이션을 실행하는 WAS(Web Application Server)<br>그리고 DBMS 로 각각의 계층으로 분리하는 3 Tier 방식의 아키텍처</p></blockquote><h3 id="참고-16"><a class="markdownIt-Anchor" href="#참고-16"></a> 참고</h3><ul><li><a href="https://lesstif.gitbooks.io/web-service-hardening/content/web-server.html#3-tier-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98" target="_blank" rel="external nofollow noopener noreferrer">3 Tier 아키텍쳐</a></li><li><a href="https://ko.wikipedia.org/wiki/%EB%8B%A4%EC%B8%B5_%EA%B5%AC%EC%A1%B0" target="_blank" rel="external nofollow noopener noreferrer">다층구조</a></li></ul><h2 id="how-would-you-design-a-software-system-for-scalability"><a class="markdownIt-Anchor" href="#how-would-you-design-a-software-system-for-scalability"></a> How would you design a software system for scalability?</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   =&gt; <span class="function"><span class="params">Front</span>        =&gt;</span> Back</span><br><span class="line">LB =&gt; <span class="function"><span class="params">Front</span>  =&gt;</span> <span class="function"><span class="params">LB</span> =&gt;</span> <span class="function"><span class="params">Back</span> =&gt;</span> <span class="function"><span class="params">DB</span> =&gt;</span> Replication DB</span><br><span class="line">   =&gt; <span class="function"><span class="params">Front</span>        =&gt;</span> Back</span><br><span class="line">   =&gt; Static Resources</span><br></pre></td></tr></table></figure><h2 id="what-are-the-strategies-to-deal-with-the-c10k-problem"><a class="markdownIt-Anchor" href="#what-are-the-strategies-to-deal-with-the-c10k-problem"></a> What are the strategies to deal with the C10k problem?</h2><blockquote><p><strong>C10k</strong><br>하나의 시스템당 동접 수가 10k를 효율적 운영방안</p><p>이벤트 드리븐과 비동기, LB로 부하 분산, 세션 수 제한 (기다리게)</p></blockquote><h2 id="how-would-you-design-a-decentralized-that-is-with-no-central-server-p2p-system"><a class="markdownIt-Anchor" href="#how-would-you-design-a-decentralized-that-is-with-no-central-server-p2p-system"></a> How would you design a decentralized (that is, with no central server) P2P system?</h2><blockquote><p>BlockChain Node와 SockJS로의 P2P 데이터 동기화</p></blockquote><h2 id="what-are-the-disadvantages-of-the-publish-subscribe-pattern-at-scale"><a class="markdownIt-Anchor" href="#what-are-the-disadvantages-of-the-publish-subscribe-pattern-at-scale"></a> What are the disadvantages of the Publish-Subscribe pattern at scale?</h2><blockquote><ul><li>sub이 많아지면 느려진다</li><li>sub에서 메시지를 받았는지는 모른다</li></ul></blockquote><h2 id="when-is-it-ok-to-use-tight-coupling"><a class="markdownIt-Anchor" href="#when-is-it-ok-to-use-tight-coupling"></a> When is it OK to use tight coupling?</h2><blockquote><p>강결합은 나쁜 것으로만 배워서 잘 모르겠다</p><p>A major advantage of a tightly coupled architecture is that it enables the rapid and efficient processing of large volumes of data, provides a single point of truth instead of several, often redundant, data sources, and enables open access to data throughout the organization.<br>이 답변은 너무 모호한 설명인 듯…</p></blockquote><h3 id="참고-17"><a class="markdownIt-Anchor" href="#참고-17"></a> 참고</h3><ul><li><a href="https://stackoverflow.com/questions/28777799/when-is-tight-coupling-essential-or-a-good-thing" target="_blank" rel="external nofollow noopener noreferrer">When is tight coupling essential or a good thing?</a></li></ul><h1 id="service-oriented-architecture-and-microservices"><a class="markdownIt-Anchor" href="#service-oriented-architecture-and-microservices"></a> Service Oriented Architecture and Microservices</h1><h2 id="what-are-the-differences-between-soa-and-microservices"><a class="markdownIt-Anchor" href="#what-are-the-differences-between-soa-and-microservices"></a> What are the differences between Soa and Microservices?</h2><blockquote><p><strong>서비스 지향 아키텍처</strong>는 하나의 입구<br><strong>마이크로서비스</strong>는 여러 개의 입구</p></blockquote><h3 id="참고-18"><a class="markdownIt-Anchor" href="#참고-18"></a> 참고</h3><ul><li><a href="https://stackoverflow.com/questions/25501098/difference-between-microservices-architecture-and-soa" target="_blank" rel="external nofollow noopener noreferrer">Difference between Microservices Architecture and SOA</a></li></ul><h2 id="lets-talk-about-web-services-versioning-version-compatibility-and-breaking-changes"><a class="markdownIt-Anchor" href="#lets-talk-about-web-services-versioning-version-compatibility-and-breaking-changes"></a> Let’s talk about web services versioning, version compatibility and breaking changes.</h2><blockquote><p>시맨틱 버저닝</p></blockquote><h2 id="what-are-the-pros-and-cons-of-microservice-architecture"><a class="markdownIt-Anchor" href="#what-are-the-pros-and-cons-of-microservice-architecture"></a> What are the pros and cons of MicroService architecture</h2><blockquote><p><strong>Pros</strong></p><ul><li>기능을 모듈로서 개발이 가능함</li><li>DB 또는 언어를 알맞게 선택이 가능함</li><li>개별 디버깅, QA가 쉬움</li></ul><p><strong>Cons</strong></p><ul><li>혼자 개발 못함</li><li>엄청난 문서화가 필요함</li><li>다른 서비스와 통신하는 비용 필요</li></ul></blockquote><h1 id="security"><a class="markdownIt-Anchor" href="#security"></a> Security</h1><h2 id="how-do-you-write-secure-code-in-your-opinion-is-it-one-of-the-developers-duties-or-does-it-require-a-specialized-role-in-the-company-and-why"><a class="markdownIt-Anchor" href="#how-do-you-write-secure-code-in-your-opinion-is-it-one-of-the-developers-duties-or-does-it-require-a-specialized-role-in-the-company-and-why"></a> How do you write secure code? In your opinion, is it one of the developer’s duties, or does it require a specialized role in the company? And why?</h2><blockquote><p>기본적인 웹 보안 코딩은 할 수 있음,<br>개발자의 의무이긴한데 회사차원에서도 필요함<br>예를들어 하위레벨에서의 방화벽이 필요할 경우에…</p></blockquote><h2 id="what-do-you-know-about-cross-site-scripting"><a class="markdownIt-Anchor" href="#what-do-you-know-about-cross-site-scripting"></a> What do you know about Cross-Site Scripting?</h2><h2 id="what-do-you-know-about-cross-site-forgery-attack"><a class="markdownIt-Anchor" href="#what-do-you-know-about-cross-site-forgery-attack"></a> What do you know about Cross-Site Forgery Attack?</h2><blockquote><p>CSRF는 인증된 사용자를 통해 공격자가 원하는 명령을 수행하게 하는 기법<br>CSRF 토큰을 사용해 페이지가 처음 로드 될 때 토큰 값을 가지고 있고, 서버에 요청을 보낼 때 토큰을 같이 보내 비교한다</p></blockquote><h2 id="how-does-https-work"><a class="markdownIt-Anchor" href="#how-does-https-work"></a> How does HTTPS work?</h2><h3 id="참고-19"><a class="markdownIt-Anchor" href="#참고-19"></a> 참고</h3><ul><li><a href="http://plming.tistory.com/143" target="_blank" rel="external nofollow noopener noreferrer">https ssl 보안 프로토콜 접속절차</a></li><li><a href="https://lesstif.gitbooks.io/web-service-hardening/content/ssl-tls-https.html" target="_blank" rel="external nofollow noopener noreferrer">SSL-TLS HTTPS 적용</a></li></ul><h2 id="whats-a-man-in-the-middle-attack-and-why-does-https-help-protect-against-it"><a class="markdownIt-Anchor" href="#whats-a-man-in-the-middle-attack-and-why-does-https-help-protect-against-it"></a> What’s a Man-in-the-middle Attack, and why does HTTPS help protect against it?</h2><blockquote><p>전송 구간에서도 암호화가 되어 전송되니까 중간자공격이 통할리가.</p></blockquote><h2 id="how-can-you-prevent-the-users-session-from-being-stolen"><a class="markdownIt-Anchor" href="#how-can-you-prevent-the-users-session-from-being-stolen"></a> How can you prevent the user’s session from being stolen?</h2><blockquote><p>Sessin Expire를 당연히 줘야하고, IP 체크</p></blockquote><h1 id="general"><a class="markdownIt-Anchor" href="#general"></a> General</h1><h2 id="whats-the-difference-between-tcp-and-http"><a class="markdownIt-Anchor" href="#whats-the-difference-between-tcp-and-http"></a> What’s the difference between TCP and HTTP</h2><blockquote><ul><li>4번째 레이어와 7번째 레이어</li><li>HTTP는 response받으면 응답을 끊지만 TCP는 끊을 때까지 계속 연결</li><li>TCP가 하위니까 속도가 더 빠름</li></ul></blockquote><h2 id="what-are-the-tradeoffs-of-client-side-rendering-vs-server-side-rendering"><a class="markdownIt-Anchor" href="#what-are-the-tradeoffs-of-client-side-rendering-vs-server-side-rendering"></a> What are the tradeoffs of client-side rendering vs. server-side rendering</h2><blockquote><p>CSR은 CDN에<br>SSR은 Bot만이 들어올 수 있게.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> interview </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12 팩터 앱</title>
      <link href="/2018/02/15/12-%ED%8C%A9%ED%84%B0-%EC%95%B1/"/>
      <url>/2018/02/15/12-%ED%8C%A9%ED%84%B0-%EC%95%B1/</url>
      
        <content type="html"><![CDATA[<p>헤로쿠 사에서 클라우드-네이티브 아키텍처를 구축하면서 나온 패턴들이 12-팩터 앱 가이드로 정착.<br>단일 유닛으로 이뤄진 어플리케이션 아키텍처를 <strong>declarative configuration</strong>, <strong>statelessness</strong>, <strong>deployment independence</strong>에 초점을 두고 설계하는 안내서</p><blockquote><p><strong>MSA</strong>에 적용</p></blockquote><h1 id="12-factor"><a class="markdownIt-Anchor" href="#12-factor"></a> 12 factor</h1><ul><li>코드베이스</li><li>의존성</li><li>설정</li><li>백엔드 서비스</li><li>빌드, 릴리즈, 실행</li><li>프로세스</li><li>포트 바인딩</li><li>동시성</li><li>폐기 가능 (쓰고 버리기)</li><li>환경 일치</li><li>로그</li><li>관리 프로세스</li></ul><h2 id="코드베이스"><a class="markdownIt-Anchor" href="#코드베이스"></a> 코드베이스</h2><ul><li>codebase</li><li>하나의 코드베이스는 VCS 에서 여러 배포버전을 기록하며, 하나의 앱은 하나의 코드베이스를 기반으로 소스 코드를 형상관리</li><li>코드는 여러 대의 분산처리 운영서버나 여러 개발자의 컴퓨터로 배포, 실행될 수 있다</li></ul><h2 id="의존성"><a class="markdownIt-Anchor" href="#의존성"></a> 의존성</h2><ul><li>dependency</li><li>의존성은 명시적으로 선언하되 격리한다</li><li>인터넷이 차단된 개발 환경의 의존성을 어떻게 패키징할지도 고민 대상</li><li>시스템 유틸리티에 의존하지 않는다</li></ul><h2 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h2><ul><li>configuratioon</li><li>여러 서버의 접속 정보 등을 설정을 코드에 저장하지 않는다</li><li>가변적인 것들은 환경변수를 이용한다</li></ul><h2 id="백엔드-서비스"><a class="markdownIt-Anchor" href="#백엔드-서비스"></a> 백엔드 서비스</h2><ul><li>backing service</li><li>기반 서비스</li><li>부가 리소스로 취급하며 URL 를 통해 서비스에 접속한다</li></ul><h2 id="빌드-릴리즈-실행"><a class="markdownIt-Anchor" href="#빌드-릴리즈-실행"></a> 빌드, 릴리즈, 실행</h2><ul><li>빌드와 실행단계를 엄격히 구분한다</li><li>CI / CD 와 연관된다</li></ul><h2 id="프로세스"><a class="markdownIt-Anchor" href="#프로세스"></a> 프로세스</h2><ul><li>단일/다수의 무상태 프로세스로 앱을 실행한다</li><li>프로세스 사이에 아무 것도 공유하지 않고, 내부 상태를 갖고 있지 않는다</li><li>모든 데이터는 백엔드 서비스로 다뤄야한다</li></ul><h2 id="포트-바인딩"><a class="markdownIt-Anchor" href="#포트-바인딩"></a> 포트 바인딩</h2><ul><li>서비스는 포트를 바인딩하여 내보낸다</li><li>한 앱이 다른 앱의 서비스가 될 수 있다</li></ul><h2 id="동시성"><a class="markdownIt-Anchor" href="#동시성"></a> 동시성</h2><ul><li>concurrency</li><li>프로세스 모델 중심으로 scale out</li><li>개별 프로세스는 멀티스레딩하면 된다</li><li>같은 일하는 프로세스는 수직적, 다른일 하는 프로세스는 수평적</li></ul><h2 id="폐기-가능"><a class="markdownIt-Anchor" href="#폐기-가능"></a> 폐기 가능</h2><ul><li>disposability</li><li>프로세스는 쓰고 바로 버릴 수 있어야한다</li><li>프로세스가 갑자기 죽어도 서비스 장애가 발생해서는 안 된다</li></ul><h2 id="같은-환경"><a class="markdownIt-Anchor" href="#같은-환경"></a> 같은 환경</h2><ul><li>environment parity</li><li>개발, 스테이징, 운영 환경을 최대한 비슷하게 유지한다</li></ul><h2 id="로그"><a class="markdownIt-Anchor" href="#로그"></a> 로그</h2><ul><li>표준 콘솔창 (stdout)에 로그를 출력한다</li></ul><h2 id="관리-프로세스"><a class="markdownIt-Anchor" href="#관리-프로세스"></a> 관리 프로세스</h2><ul><li>admin process</li><li>관리자가 수행하는 작업(DB migration, batch, at 등)은 일회성 프로세스로 실행한다</li><li>데이터베이스를 직접 수정하지 않는다</li></ul><h1 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h1><ul><li><a href="https://12factor.net/ko/" target="_blank" rel="external nofollow noopener noreferrer">The Tweleve-Factor App</a></li><li><a href="https://wikidocs.net/6604" target="_blank" rel="external nofollow noopener noreferrer">Django 자습, 12 팩터 앱</a></li><li><a href="https://www.hanbit.co.kr/store/books/look.php?p_code=B2433442478" target="_blank" rel="external nofollow noopener noreferrer">스프링부트 워크북, 12-팩터 앱 가이드</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 12factor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>알고리즘 - 피보나치</title>
      <link href="/2018/02/11/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%ED%94%BC%EB%B3%B4%EB%82%98%EC%B9%98/"/>
      <url>/2018/02/11/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%ED%94%BC%EB%B3%B4%EB%82%98%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p>파이썬과 익숙해질 겸, 비지니스 로직 속에 빠져있는 나에게 기본을 잊지말자란 채찍질을 할 겸 뭔가를 시작해보았다</p><p>보통 피보나치는 재귀로 구현하는데, n 이 조금만 커져도 시간이 어마어마하게 증가한다<br><code>f(n-2) + f(n-1)</code>의 반복이니 기존 값을 저장해뒀다가 쓰면 되어 배열로 처리한다는 걸 생각해 볼 수 있을 것이다</p><p>먼저 코드를 보자</p><h1 id="해답"><a class="markdownIt-Anchor" href="#해답"></a> 해답</h1><h2 id="배열"><a class="markdownIt-Anchor" href="#배열"></a> 배열</h2><figure class="highlight python"><figcaption><span>fibonacci.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(num)</span>:</span></span><br><span class="line">    fibos = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2 &lt;= i &lt; num + 1 까지 돌린다</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, num + <span class="number">1</span>):</span><br><span class="line">        fibos.append(fibos[i<span class="number">-2</span>] + fibos[i<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 마지막 데이터가 구하려는 데이터가 된다</span></span><br><span class="line">    <span class="keyword">return</span> fibos[num]</span><br></pre></td></tr></table></figure><p>테스트해보면 재귀보다 엄청나게 빨라진 속도를 피부로 느낄 수 있다<br>뭐 여기까진 다들 생각해봤고 구현할 수 있을 것 같다</p><p>배열에 <code>append</code>하는 것 보다 미리 크기가 <code>num</code>만큼 정의된 배열에 <code>i</code>로 접근해 넣으면 더 빠른 속도가 날 것 같았다</p><p>하지만… python 엔 배열을 정해진 크기만큼 초기화할 방법이 없더라<br><code>[0] * num</code>이라는 방법 뿐</p><p>배열을 안 쓰는 방법이 있을까? 한참을 고민하다가 다른 솔루션을 찾아봤다</p><h2 id="재할당"><a class="markdownIt-Anchor" href="#재할당"></a> 재할당</h2><p>멋진 방법이 있었다</p><figure class="highlight python"><figcaption><span>fibonacci.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(num)</span>:</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 0 &lt;= i &lt; num</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">        temp = a</span><br><span class="line">        a = b</span><br><span class="line">        b += temp</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure><p>a 엔 b 값을 주고, b 에는 기존의 a 값을 계속 더해준다<br>이 짓을 <code>num - 1</code>만큼 반복한다</p><p>배열을 안 쓰니 절반정도의 시간이 더 줄어들었다</p><h2 id="공식"><a class="markdownIt-Anchor" href="#공식"></a> 공식</h2><p>이마저도 조금 아쉬움이 있었다, 피보나치는 수열이고 수열은 공식이 있기 마련이다<br><a href="https://en.wikipedia.org/wiki/Fibonacci_number" target="_blank" rel="external nofollow noopener noreferrer">위키피디아</a>엔 이미 그 공식이 있었다<br>수학의 힘을 빌려보자</p><figure class="highlight python"><figcaption><span>fibonacci.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"><span class="comment"># fibonacci의 85번 째부터 Double 값을 넘어가기에 Decimal 기능을 써야한다</span></span><br><span class="line">sqrt5 = Decimal(<span class="number">5</span>).sqrt()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> ((<span class="number">1</span> + sqrt5) ** n - (<span class="number">1</span> - sqrt5) ** n) / (<span class="number">2</span> ** n * sqrt5)</span><br></pre></td></tr></table></figure><p>20 만번 째도 0.2 초만에 구해진다</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>피보나치의 데이터를 도식화하면 힙 모양이 되는데 아주 큰 값을 구하는 거라면 피보 힙이 제일 빠르지 않을까?</li><li>수학의 정석 심화편이 생각나는 건 왜일까?</li></ul>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react에서 scrollTo 메소드로 스크롤 이동이 안될 때</title>
      <link href="/2018/02/08/react%EC%97%90%EC%84%9C-scrollTo-%EB%A9%94%EC%86%8C%EB%93%9C%EB%A1%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%8F%99%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2018/02/08/react%EC%97%90%EC%84%9C-scrollTo-%EB%A9%94%EC%86%8C%EB%93%9C%EB%A1%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%8F%99%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p><code>window.scrollTo(0, 0)</code> 를 아무리 해봐도 스크롤이 맨 위로 올라가지 않을 때 많은 구글링을 한 뒤 다음과 같은 해결책을 적용해보았다</p><ul><li><code>react-scroll</code> 라이브러리를 써보고</li><li>혹시 window 가 레이아웃 컴포넌트에 갇혀있어서 그런가 window 를 App.js 에서 Top 기능을 쓰는 곳까지 내려보고</li><li>jQuery 를 추가해서도 해보고</li><li>별 짓을 다하다가</li></ul><p>아무 것도 안 되서 리프레쉬하러 옥상에 갔다가 갑자기 든 생각이 있었다</p><p>잠깐만 component 라는게 하나의 element 안에서 쇼를 하는 거 잖아.<br>그럼 element 안에서 스크롤을 이동하면?</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight jsx"><figcaption><span>Footer.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Footer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  scrollToTop = <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"root"</span>).scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className=<span class="string">"top"</span>&gt;</span><br><span class="line">          &lt;a onClick=&#123;<span class="keyword">this</span>.scrollToTop&#125;&gt;위로가기&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>index.js 에서 ReactDOM 을 렌더링해주는 element(나같은 경우엔 <strong>div#root</strong>)를 찾아서 그 엘레먼트의 스크롤을 올려주자</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>책에서 봤는데 뇌가 쉴 때 가장 좋은 아이디어가 나온다고 했는데, 사실인 것 같다</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows에 spring boot cli 설치하기</title>
      <link href="/2018/02/07/windows-spring-boot-setup/"/>
      <url>/2018/02/07/windows-spring-boot-setup/</url>
      
        <content type="html"><![CDATA[<h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>스프링 부트를 설치해보자.</p><p><a href="https://repo.spring.io/milestone/org/springframework/boot/spring-boot-cli/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 원하는 버전 스냅샷의 <strong>bin.zip</strong> 파일을 받아 압축을 풀어준다<br>예를 들면 <code>spring-boot-cli-2.1.0.M1-bin.zip</code> 를 <strong>C:/spring</strong>에 압축을 풀면 된다.</p><p>정식버전은 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-installing-spring-boot.html#getting-started-manual-cli-installation" target="_blank" rel="external nofollow noopener noreferrer">여기</a>의 zip 파일을 받으면 된다.</p><h2 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h2><p>환경변수를 3 개 추가해줘야한다</p><ul><li>JAVA_HOME 변수에 JDK 설치 경로 (C:/Program Files/Java/jdk-10.0.2)</li><li>SPRING_HOME 변수에 방금 압축푼 spring cli 의 경로 (C:/spring)</li><li>path 변수에 <code>%SPRING_HOME%\bin</code> 경로</li></ul><h2 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h2><p><code>git bash</code>에서 <strong>org.springframework.boot.loader.JarLauncher 을(를) 찾거나 로드할 수 없습니다</strong>란 오류가 뜰 때는 <strong>spring/bin/spring</strong>파일을 열어 다음과 같이 수정하자</p><figure class="highlight bash"><figcaption><span>spring</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 16번째 줄 if 문 주석처리</span></span><br><span class="line"><span class="comment"># For Cygwin, ensure paths are in UNIX format before anything is touched.</span></span><br><span class="line"><span class="comment"># if $cygwin ; then</span></span><br><span class="line">  [ -n <span class="string">"<span class="variable">$JAVA_HOME</span>"</span> ] &amp;&amp; JAVA_HOME=`cygpath --unix <span class="string">"<span class="variable">$JAVA_HOME</span>"</span>`</span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 94번째 줄 if 문 주석처리</span></span><br><span class="line"><span class="comment"># if $cygwin; then</span></span><br><span class="line">  PRING_HOME=`cygpath --path --mixed <span class="string">"<span class="variable">$SPRING_HOME</span>"</span>`</span><br><span class="line">  CLASSPATH=`cygpath --path --mixed <span class="string">"<span class="variable">$CLASSPATH</span>"</span>`</span><br><span class="line"><span class="comment"># fi</span></span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/45567869/spring-boot-cli-doesnt-work-on-git-bash-on-windows?rq=1" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><p>그래도 같은 오류가 발생한다면 <code>spring</code> 쉘 스크립트를 아예 새로 짜버리자</p><figure class="highlight bash"><figcaption><span>spring</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[ -n <span class="string">"<span class="variable">$JAVA_HOME</span>"</span> ] &amp;&amp; JAVA_HOME=`cygpath --unix <span class="string">"<span class="variable">$JAVA_HOME</span>"</span>`</span><br><span class="line"><span class="comment"># 아래에 다음 줄을 추가하자</span></span><br><span class="line"><span class="comment"># 이 구문은 스프링 홈 경로를 unix 스타일로 바꿔준다</span></span><br><span class="line">[ -n <span class="string">"<span class="variable">$SPRING_HOME</span>"</span> ] &amp;&amp; SPRING_HOME=`cygpath --unix <span class="string">"<span class="variable">$SPRING_HOME</span>"</span>`</span><br><span class="line"></span><br><span class="line"><span class="comment"># 94번째 줄을 다음과 같이 바꿔버리자</span></span><br><span class="line"><span class="comment"># if $cygwin; then</span></span><br><span class="line">  <span class="comment"># SPRING_HOME=`cygpath --path --mixed "$SPRING_HOME"`</span></span><br><span class="line">  <span class="comment"># CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`</span></span><br><span class="line">  CLASSPATH=`cygpath --unix <span class="string">"<span class="variable">$CLASSPATH</span>"</span>`</span><br><span class="line"><span class="comment"># fi</span></span><br></pre></td></tr></table></figure><p>세 변수를 <code>echo</code> 찍었을 때 아래와 비슷하게 나오면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># echo $JAVA_HOME;</span></span><br><span class="line">/d/Program Files/Java/jdk-10.0.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># echo $SPRING_HOME;</span></span><br><span class="line">/d/spring</span><br><span class="line"></span><br><span class="line"><span class="comment"># echo $CLASS_PATH;</span></span><br><span class="line">.:/d/spring/bin:/d/spring/lib/spring-boot-cli-2.1.0.BUILD-SNAPSHOT.jar</span><br></pre></td></tr></table></figure><p>그리고 마지막 줄의 명령어를 <code>echo</code> 할 때는 다음과 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># echo "$&#123;JAVA_HOME&#125;/bin/java" $&#123;JAVA_OPTS&#125; -cp "$CLASSPATH" org.springframework.boot.loader.JarLauncher "$@"</span></span><br><span class="line">/d/Program Files/Java/jdk-10.0.2/bin/java -cp .:/d/spring/bin:/d/spring/lib/spring-boot-cli-2.1.0.BUILD-SNAPSHOT.jar org.springframework.boot.loader.JarLauncher</span><br></pre></td></tr></table></figure><h1 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ spring --version</span><br><span class="line"></span><br><span class="line">Spring CLI v2.1.0.M1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>adonisjs에 response.sendStatus 추가하기</title>
      <link href="/2018/02/06/adonisjs-response-sendStatus/"/>
      <url>/2018/02/06/adonisjs-response-sendStatus/</url>
      
        <content type="html"><![CDATA[<p><code>express</code>에 있는 sendStatus 기능을 활용하기 위해 <strong>start/hooks.js</strong>에도 다음 로직을 추가하자</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><figcaption><span>start/hooks.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; hooks &#125; = <span class="built_in">require</span>(<span class="string">"@adonisjs/ignitor"</span>)</span><br><span class="line"></span><br><span class="line">hooks.after.providersBooted(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> Response = use(<span class="string">"Adonis/Src/Response"</span>)</span><br><span class="line"></span><br><span class="line">  Response.macro(<span class="string">"sendStatus"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.status(status).send(<span class="string">""</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>추가 후엔 <code>controller</code>에서 <code>response.sendStauts(403)</code>과 같은 응답을 반환할 수 있다</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> adonis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> adonis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux-form 사용하기</title>
      <link href="/2018/02/05/redux-form-start/"/>
      <url>/2018/02/05/redux-form-start/</url>
      
        <content type="html"><![CDATA[<p>react 로 form 을 만들어 사용하는 일은 생각보다 많은 걸 해야한다.</p><ul><li><code>onSubmit</code>에 이벤트를 잡아서 <code>event.target.fieldName.value</code>로 하나씩 체크를 해서 validating 을 하다가</li><li>귀찮아질 때 쯤 function 을 만들어서 관리를 하고</li><li>자주 사용하는 form input 을 컴포넌트로 만들며</li><li>form 에 초기값을 넣어줘야할 경우 (edit 페이지 같은) 값을 가져와 하나하나 바인딩하고</li><li>input 에 값이 바뀌었는지에 따라 submit 버튼을 활성, 비활성화 하는 로직도 있어야한다</li></ul><p>번거로운 일을 하는 것 보다 <a href="https://github.com/erikras/redux-form" target="_blank" rel="external nofollow noopener noreferrer">redux-form</a> 라이브러리를 사용해보자<br>검색시에 나오는 포스트들은 아주 기본적인 예제 밖에 없어서 문서를 매번 헤집는 시간이 필요했다.</p><blockquote><p>먼저 이 라이브러리를 쓰기 위해선 다음 사전 지식이 필요하다</p><ul><li><a href="https://redux.js.org/" target="_blank" rel="external nofollow noopener noreferrer">redux</a>, <a href="https://github.com/reactjs/react-redux" target="_blank" rel="external nofollow noopener noreferrer">react-redux</a></li><li><a href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="external nofollow noopener noreferrer">HOC</a></li></ul></blockquote><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add redux-form</span><br></pre></td></tr></table></figure><p>redux-form 의 리듀서를 연결시켜줘야한다</p><figure class="highlight js"><figcaption><span>rootReducer</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reducer <span class="keyword">as</span> formReducer &#125; <span class="keyword">from</span> <span class="string">'redux-form'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;</span><br><span class="line">  <span class="comment">// form 키를 사용해야한다</span></span><br><span class="line">  form: formReducer</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> defult rootRecuder</span><br></pre></td></tr></table></figure><h1 id="사용"><a class="markdownIt-Anchor" href="#사용"></a> 사용</h1><p>redux-form component 와 redux-form 이 들어갈 compoent 를 만들어야한다<br>편의상 <strong>Login component</strong>와 <strong>LoginForm component</strong>라고 하자</p><figure class="highlight jsx"><figcaption><span>Login</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">"react-redux"</span>;</span><br><span class="line"><span class="keyword">import</span> LoginForm <span class="keyword">from</span> <span class="string">"LoginForm"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  submitLoginForm = <span class="function"><span class="params">formData</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"LoginFormData =&gt; "</span>, formData);</span><br><span class="line">    <span class="comment">// this.props.loginAuth(formData)</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">LoginForm</span> <span class="attr">onSubmit</span>=<span class="string">&#123;this.submitLoginForm&#125;</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect()(Login);</span><br></pre></td></tr></table></figure><p><strong>LoginComponent</strong>에서는 딱히 특별한게 없이 LoginForm Component 를 호출하고 함수 하나를 내려준 게 끝이다</p><figure class="highlight jsx"><figcaption><span>LoginForm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Field, reduxForm &#125; <span class="keyword">from</span> <span class="string">"redux-form"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginForm</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      handleSubmit, <span class="comment">// submit 이벤트를 redux-form에서 관리하게 수정</span></span><br><span class="line">      pristine, <span class="comment">// form이 변경점이 없을 경우 true</span></span><br><span class="line">      submitting <span class="comment">// form이 submit 중일 경우 true</span></span><br><span class="line">    &#125; = <span class="keyword">this</span>.props;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;handleSubmit&#125;&gt;</span><br><span class="line">        &lt;Field</span><br><span class="line">          name=<span class="string">"id"</span></span><br><span class="line">          type=<span class="string">"text"</span></span><br><span class="line">          component=<span class="string">"input"</span></span><br><span class="line">          placeholder=<span class="string">"아이디를 입력하세요"</span></span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Field</span><br><span class="line">          name=<span class="string">"password"</span></span><br><span class="line">          type=<span class="string">"password"</span></span><br><span class="line">          component=<span class="string">"input"</span></span><br><span class="line">          placeholder=<span class="string">"비밀번호를 입력하세요"</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default reduxForm(&#123;</span></span><br><span class="line"><span class="regexp">  form: "LoginForm" /</span><span class="regexp">/ formReducer에 어떤 이름으로 이 폼을 등록할지</span></span><br><span class="line"><span class="regexp">&#125;)(LoginForm);</span></span><br></pre></td></tr></table></figure><p><strong>redux-form</strong>에서 <strong>Field Component</strong>와 <strong>reduxForm High Order Component</strong>를 가져온 뒤<br>input tag 대신 Field Component 의 component 속성으로 input 을 만들어준다<br>그리고 해당 폼을 reduxForm 으로 감싸 redux 와 연결한다</p><p><code>handleSubmit</code>은 onSubmit prop 으로 들어온 함수를 폼과 연결해준다 (<code>event.preventDefault()</code> 및 폼의 필드들을 serialize 해서 object 로 바꿔 onSubmit 함수의 parameter 로 넘겨준다)</p><p>말이 좀 어렵다면 <code>Login.js</code>의 <code>submitLoginForm</code> 속 <code>console.log(formData)</code>의 구조를 보자</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  id: <span class="string">'idValue'</span>,</span><br><span class="line">  password: <span class="string">'passwordValue'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>오 꽤 나이스하다<br>하지만 필드만 덩그라니 있는 경우는 없다 더 업그레이드 해보자</p><h2 id="스타일이-필요한-필드"><a class="markdownIt-Anchor" href="#스타일이-필요한-필드"></a> 스타일이 필요한 필드</h2><p>보통의 필드들은 <code>label</code>이 들어가 있고, <code>selectBox</code>, <code>checkBox</code>의 경우엔 스타일을 주기위해 대부분 외부 라이브러리를 쓴다<br>이럴 때 Field Component 의 <strong>component</strong> 속성에 원하는 모양을 만들어서 넣어주면 된다</p><figure class="highlight jsx"><figcaption><span>LoginForm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> renderInputField = <span class="function">(<span class="params">&#123; input, type, label, placeholder, meta: &#123; touched, error &#125;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;label&gt;&#123;label&#125;&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input &#123;...input&#125; type=&#123;type&#125; placeholder=&#123;placeholder&#125; /</span>&gt;</span><br><span class="line">      &#123; touched &amp;&amp; error &amp;&amp;</span><br><span class="line">        &lt;span className=<span class="string">"error"</span>&gt;&#123;error&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginForm</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      handleSubmit,</span><br><span class="line">      pristine,</span><br><span class="line">      submitting</span><br><span class="line">    &#125; = <span class="keyword">this</span>.props</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;handleSubmit&#125;&gt;</span><br><span class="line">        &lt;Field</span><br><span class="line">          name=<span class="string">"id"</span></span><br><span class="line">          type=<span class="string">"text"</span></span><br><span class="line">          label=<span class="string">"아이디"</span></span><br><span class="line">          component=&#123;renderInputField&#125;</span><br><span class="line">          placeholder=<span class="string">"아이디를 입력하세요"</span></span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Field</span><br><span class="line">          name=<span class="string">"password"</span></span><br><span class="line">          type=<span class="string">"password"</span></span><br><span class="line">          label=<span class="string">"비밀번호"</span></span><br><span class="line">          component=&#123;renderInputField&#125;</span><br><span class="line">          placeholder=<span class="string">"비밀번호를 입력하세요"</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><code>renderInputField</code>라는 함수형 컴포넌트를 만들어서 <strong>Field.component</strong> prop 에 넣긴했는데, <code>div&gt;input</code>을 렌더링 해주는 것만 보이고 엄청난 파라미터들 때문에 정신이 아득할 것이다</p><p>component prop 에 함수형 컴포넌트를 넣으면 field prop 을 받게 된다<br>여기엔 내려준 prop 뿐 아니라 reduxForm 에서 넣어준 prop 도 존재한다<br>원래 해당 렌더링 컴포넌트는 아래와 같은 모습이다</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> renderInputField = <span class="function"><span class="params">field</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>그럼 먼저 reduxForm 에서 넣어준 prop 을 보자</p><ul><li>field.input: input 은 모든 HTML input attribute 를 가지고 있는게 아니라 다음 몇가지만 갖고 있다<ul><li>checked</li><li>name</li><li>onBlur</li><li>onChange</li><li>onDragStart</li><li>onDrop</li><li>onFocus</li><li>value</li></ul></li><li>field.meta: meta 는 해당 input 의 상태에 관한 데이터가 있다<ul><li>touched: 해당 input 이 한 번이라도 클릭이 되어졌는지</li><li>valid: 해당 input 값이 valid 한지</li><li>error: 해당 input 값에 에러가 있으면 error message 가 들어온다</li><li>… 나머진 <a href="https://redux-form.com/7.2.3/docs/api/field.md/" target="_blank" rel="external nofollow noopener noreferrer">문서</a>를 참조하자</li></ul></li></ul><p>이제 <em>type, label, placeholder 는 field.input prop 에 없어서 직접 넣어줬고, meta 는 이미 정의되어 있었구나</em> 란 renderInputField 함수의 props 가 보일 것이고 Field Component 의 구조를 마음대로 변경할 수 있게 되었다</p><h2 id="동적으로-value-를-바꿔야할-때"><a class="markdownIt-Anchor" href="#동적으로-value-를-바꿔야할-때"></a> 동적으로 value 를 바꿔야할 때</h2><p>checkbox, select 의 경우엔 스타일이 들어가면 element 의 onClick 를 잡아서 hidden field 의 데이터를 바꿔줘야한다<br>checkbox 전체 영역을 클릭할 때마다 기존의 값을 toggle 해주는 component 를 만들 수 있다</p><figure class="highlight jsx"><figcaption><span>LoginForm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> renderCheckboxField = <span class="function">(<span class="params">&#123; input, label &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;event =&gt; input.onChange(!input.value)&#125;&gt;</span><br><span class="line">      &lt;i</span><br><span class="line">        className=&#123;<span class="string">`fa <span class="subst">$&#123;!input.value ? <span class="string">"fa-square-o"</span> : <span class="string">"fa-check-square-o"</span>&#125;</span>`</span>&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;label&gt;&#123;label&#125;&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input type="hidden" &#123;...input&#125; /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure><p>value 에 따라서 <a href="https://fontawesome.com/v4.7.0/icon/check-square-o/" target="_blank" rel="external nofollow noopener noreferrer">font-awesome icon</a>이 변경된다</p><p>함수로 값을 변경해야할 경우가 있을 수도 있다<br>이럴 땐 reduxForm prop 의 <code>change</code> 메소드를 사용하면 된다<br>바꿀 input 의 name 속성과 value 값을 넘겨주자</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">changeInputValue = <span class="function">(<span class="params">targetInputName, val</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">this</span>.props.change(targetInputName, val);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="초기값"><a class="markdownIt-Anchor" href="#초기값"></a> 초기값</h2><p>로그인 폼에는 <strong>아이디 저장</strong> 기능을 붙히면 폼이 초기화될 때 그 값을 가져와야한다</p><figure class="highlight jsx"><figcaption><span>Login</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    userId: <span class="string">''</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">const</span> userId = localStorage.getItem(<span class="string">'userId'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      userId</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;LoginForm</span><br><span class="line">        onSubmit=&#123;<span class="keyword">this</span>.submitLoginForm&#125;</span><br><span class="line">        initialValues=&#123;&#123;</span><br><span class="line">          id: <span class="keyword">this</span>.state.userId</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Login Component 에는 초기값을 가져와서 <strong>initialValues</strong> prop 안에 넣어준다</p><figure class="highlight jsx"><figcaption><span>LoginForm</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginForm</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">form</span>&gt;</span>...<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> reduxForm(&#123;</span><br><span class="line">  form: <span class="string">"LoginForm"</span>,</span><br><span class="line">  <span class="comment">// 이 값은 LoginForm 컴포넌트가 로드되고 나서</span></span><br><span class="line">  <span class="comment">// initialValues가 바뀔 경우 폼 값도 업데이트가 되야되는지의 여부이다</span></span><br><span class="line">  enableReinitialize: <span class="literal">true</span></span><br><span class="line">&#125;)(LoginForm);</span><br></pre></td></tr></table></figure><p><code>localStorage.userId</code>에 값이 들어있다면 그 값으로 id Field 가 초기화 된다<br>컴포넌트가 로딩되기 전에 값이 정해져있다면 <code>enableReinitialize</code> 옵션이 없어도 되지만, 수정 폼처럼 기존 데이터 fetch 후 또는 componentDidMount 후에 값을 가져온다면 해당 옵션값을 <code>true</code>로 넣어줘야한다</p><h2 id="validation"><a class="markdownIt-Anchor" href="#validation"></a> validation</h2><p>여기까지 이해했다면 validation 은 큰 어려움 없이 <a href="https://redux-form.com/7.2.3/examples/asyncchangevalidation/" target="_blank" rel="external nofollow noopener noreferrer">문서</a>의 예제소스를 참조하면 붙힐 수 있다</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>react 라이브러리들은 읽은 뒤 바로 적용하긴 힘들다고 생각한다 매번 삽질이 필요한듯</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
          <category> redux-form </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
            <tag> redux </tag>
            
            <tag> redux-form </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react-intl로 번역 적용하기 (react i18n)</title>
      <link href="/2018/01/15/react-intl%EB%A1%9C-%EB%B2%88%EC%97%AD-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0-react-i18n/"/>
      <url>/2018/01/15/react-intl%EB%A1%9C-%EB%B2%88%EC%97%AD-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0-react-i18n/</url>
      
        <content type="html"><![CDATA[<p>리액트 앱에서 번역기능을 사용하려면 <a href="https://github.com/yahoo/react-intl" target="_blank" rel="external nofollow noopener noreferrer">react-intl</a> 패키지를 사용하면 된다.<br>근데 Documentation을 보면 format 기능들, HOC로 데이터를 넣는 등 여러 기능 덕에 정신이 아득하다</p><p>step by step으로 간단하게 적용해보자</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add react-intl</span><br></pre></td></tr></table></figure><h1 id="번역-데이터-생성"><a class="markdownIt-Anchor" href="#번역-데이터-생성"></a> 번역 데이터 생성</h1><p>편의상 root에 <strong>locale.js</strong>로 만들었다. 서비스시엔 locale 폴더에 언어별로 파일을 나눠 관리하자.</p><figure class="highlight js"><figcaption><span>locale.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    <span class="string">'hello'</span>: <span class="string">'Hello'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ko: &#123;</span><br><span class="line">    <span class="string">'hello'</span>: <span class="string">'안녕하세요'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ja: &#123;</span><br><span class="line">    <span class="string">'hello'</span>: <span class="string">'こんにちは'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h1><figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; IntlProvider, addLocaleData &#125; <span class="keyword">from</span> <span class="string">'react-intl'</span></span><br><span class="line"><span class="comment">// 이 서브 라이브러리들이 내 locale 파일을 사용할 수 있게 해준다</span></span><br><span class="line"><span class="keyword">import</span> en <span class="keyword">from</span> <span class="string">'react-intl/locale-data/en'</span></span><br><span class="line"><span class="keyword">import</span> ko <span class="keyword">from</span> <span class="string">'react-intl/locale-data/ko'</span></span><br><span class="line"><span class="keyword">import</span> ja <span class="keyword">from</span> <span class="string">'react-intl/locale-data/ja'</span></span><br><span class="line"><span class="keyword">import</span> locale <span class="keyword">from</span> <span class="string">'./locale'</span></span><br><span class="line"></span><br><span class="line">addLocaleData([...en, ...ko, ...ja])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 저장되어 있는 언어 데이터를 가져온다</span></span><br><span class="line"><span class="keyword">const</span> defaultLang = localStorage.getItem(<span class="string">'lang'</span>) || <span class="string">'en'</span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;IntlProvider</span><br><span class="line">      locale=&#123;defaultLang&#125;</span><br><span class="line">      messages=&#123;locale[defaultLang]&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;App /&gt;</span><br><span class="line">    &lt;<span class="regexp">/IntlProvider&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>Provider&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1 id="사용"><a class="markdownIt-Anchor" href="#사용"></a> 사용</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; FormattedMessage &#125; <span class="keyword">from</span> <span class="string">'react-intl'</span></span><br><span class="line"></span><br><span class="line">&lt;FormattedMessage id=<span class="string">"hello"</span>/&gt;</span><br><span class="line"><span class="comment">// 저장되어 있는 언어 값에 따라 Hello, 안녕하세요, こんにちは 중 하나가 보여진다</span></span><br></pre></td></tr></table></figure><h2 id="inject"><a class="markdownIt-Anchor" href="#inject"></a> inject</h2><p>placeholder 등에서 텍스트만 필요할 때 <code>component</code>를 사용하지않고 다음과 같이 intl을 주입해서 사용한다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; injectIntl &#125; <span class="keyword">from</span> <span class="string">'react-intl'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SignupForm</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      intl</span><br><span class="line">    &#125; = <span class="keyword">this</span>.props</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          type=<span class="string">"text"</span></span><br><span class="line">          name=<span class="string">"id"</span></span><br><span class="line">          placeholder=&#123;</span><br><span class="line">            intl.formatMassage(&#123;</span><br><span class="line">              id: <span class="string">'hello'</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default injectIntl(SignupForm)</span></span><br></pre></td></tr></table></figure><h2 id="child"><a class="markdownIt-Anchor" href="#child"></a> child</h2><p>HOC를 사용하지 않을 경우 <code>FormattedMessage</code>의 child로 번역된 문구를 받으면 된다</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;FormattedMessage id=<span class="string">"hello"</span>&gt;</span><br><span class="line">  &#123;hello =&gt; (</span><br><span class="line">    &lt;input</span><br><span class="line">      type=<span class="string">"text"</span></span><br><span class="line">      name=<span class="string">"id"</span></span><br><span class="line">      placeholder=&#123;hello&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  )&#125;</span><br><span class="line">&lt;<span class="regexp">/FormattedMessage&gt;</span></span><br></pre></td></tr></table></figure><h2 id="dynamic"><a class="markdownIt-Anchor" href="#dynamic"></a> dynamic</h2><p>Hello, {Gracefullight} 처럼 동적으로 문구가 변해야할 경우 <code>values</code> prop을 활용하자<br>먼저, <code>locale.js</code>에서 변수가 될 부분을 {}로 감싸준다</p><figure class="highlight js"><figcaption><span>locale.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    <span class="string">'helloUser'</span>: <span class="string">'Hello &#123;user&#125;'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ko: &#123;</span><br><span class="line">    <span class="string">'helloUser'</span>: <span class="string">'&#123;user&#125; 안녕하세요'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ja: &#123;</span><br><span class="line">    <span class="string">'helloUser'</span>: <span class="string">'&#123;user&#125; こんにちは'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>values</code> 아래 object로 변수 값을 넣어주면 된다</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;FormattedMessage</span><br><span class="line">  id=<span class="string">'helloUser'</span></span><br><span class="line">  values=&#123;&#123;</span><br><span class="line">    user: <span class="string">'Gracefullight'</span></span><br><span class="line">  &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>mo, po 파일 건들던 시간들이 너무 아깝다</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
          <category> react-intl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
            <tag> react-intl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>나를 위한 면접 (Frontend Developer Interview Questions)</title>
      <link href="/2018/01/10/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(FE)/"/>
      <url>/2018/01/10/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(FE)/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/h5bp/Front-end-Developer-Interview-Questions" target="_blank" rel="external nofollow noopener noreferrer">FE Interview Questions</a>를 아는 만큼 답해보았다<br>지극히 주관적이라 정답이 아닐 수 있습니다</p><h1 id="event-delegation"><a class="markdownIt-Anchor" href="#event-delegation"></a> event delegation</h1><blockquote><p>사용자의 액션에 의해 이벤트 발생 시 이벤트는 document 레벨까지 버블링 되어 올라간다.<br>이 때문에 자식 엘리먼트에서 발생하는 이벤트를 부모 엘리먼트에서도 감지할 수 있다.<br>이러한 동작을 이용해 사용할 수 있는 방법이 <code>event delegation</code>이다.<br>특정 엘리먼트에 하나하나 이벤트를 등록하지 않고 하나의 부모에 등록하여 부모에게 이벤트를 위임하는 방법</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 버튼마다 onClick Event Listener 등록</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>).addEventListener(<span class="string">"click"</span>, event =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"btn2"</span>).addEventListener(<span class="string">"click"</span>, event =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"btn3"</span>).addEventListener(<span class="string">"click"</span>, event =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Event Delegation</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div"</span>).addEventListener(<span class="string">"click"</span>, event =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (event.target.id) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"btn1"</span>:</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"btn2"</span>:</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"btn3"</span>:</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2><ul><li><a href="https://github.com/nhnent/fe.javascript/wiki/August-22-August-26,-2016" target="_blank" rel="external nofollow noopener noreferrer">출처</a></li></ul><h1 id="this는-어떻게-작동하는가"><a class="markdownIt-Anchor" href="#this는-어떻게-작동하는가"></a> this는 어떻게 작동하는가?</h1><blockquote><p>Global Context: window<br>Function Context: “use strict” ? 실행 시 할당 : window<br>Object method: 자기 자신 객체<br>Object Prototype Chain: 자기 자신 객체<br>Getter, Setter: get 또는 set 되는 속성 객체<br>생성자: 생성된 자신<br>call, apply: 지정해 주는 객체<br>bind: 바인딩 될 때의 this<br>Dom Event: event.currentTarget === event.target === this<br>in-line Event: Element</p></blockquote><h2 id="참고-2"><a class="markdownIt-Anchor" href="#참고-2"></a> 참고</h2><ul><li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="external nofollow noopener noreferrer">출처</a></li></ul><h1 id="prototype-기반-상속은-어떻게-하는가"><a class="markdownIt-Anchor" href="#prototype-기반-상속은-어떻게-하는가"></a> prototype 기반 상속은 어떻게 하는가?</h1><blockquote><p><code>Object.create</code>로 prototype을 확장하던지 <strong>proto</strong>로 prototype link를 걸던지</p></blockquote><h1 id="amd와-commonjs는-뭐고-어떻게-생각하나"><a class="markdownIt-Anchor" href="#amd와-commonjs는-뭐고-어떻게-생각하나"></a> AMD와 CommonJS는 뭐고 어떻게 생각하나?</h1><blockquote><p>AMD: requireJS<br>CommonJS: NodeJS 방식</p></blockquote><p>결국엔 UMD 패턴으로 모듈을 만들어야한다.<br>둘 다 실무에서 쓰려면 번들링이 필요하고, Webpack 쓸 바에 두 개 다 필요없이 import 구문으로 처리하겠다.</p><h1 id="다음-코드가-즉시-호출-함수-표현식iife로-동작하지-않는-이유"><a class="markdownIt-Anchor" href="#다음-코드가-즉시-호출-함수-표현식iife로-동작하지-않는-이유"></a> 다음 코드가 즉시 호출 함수 표현식(IIFE)로 동작하지 않는 이유?</h1><blockquote><p>Immediately Invoked Function Expression</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; &#125;()</span><br></pre></td></tr></table></figure><p>함수선언문을 어떻게 실행하냐<br>함수를 괄호로 감싸면 됨</p><h1 id="null과-unedefined-그리고-undeclared의-차이점"><a class="markdownIt-Anchor" href="#null과-unedefined-그리고-undeclared의-차이점"></a> null과 unedefined 그리고 undeclared의 차이점</h1><blockquote><p>null: 선언되었지만 값 없음<br>undefined: 선언조차 안됨<br>undeclared: 선언문 (var 등) 없이 전역변수로 할당되는 유효범위를 지정하지 않은 건데 린팅에 어긋남</p></blockquote><h1 id="클로져closure는-무엇이며-어떻게왜-사용"><a class="markdownIt-Anchor" href="#클로져closure는-무엇이며-어떻게왜-사용"></a> 클로져(Closure)는 무엇이며, 어떻게/왜 사용?</h1><blockquote><p>무엇: 초기화시의 상태를 내부에 가지고 있는 형태의 함수<br>어떻게: return으로 공개할 메소드 또는 데이터를 꺼냄<br>왜: private 기능 구현, for문에서 context 참조</p></blockquote><h1 id="익명함수anonymous-functions는-주로-어떤-상황에서-사용"><a class="markdownIt-Anchor" href="#익명함수anonymous-functions는-주로-어떤-상황에서-사용"></a> 익명함수(anonymous functions)는 주로 어떤 상황에서 사용?</h1><blockquote><p>함수 표현식 (변수로 함수 선언), callback</p></blockquote><h1 id="당신의-코드를-어떻게-구성하는지"><a class="markdownIt-Anchor" href="#당신의-코드를-어떻게-구성하는지"></a> 당신의 코드를 어떻게 구성하는지?</h1><blockquote><p>ESLint standard + No semi</p></blockquote><h1 id="호스트-객체-vs-네이티브-객체"><a class="markdownIt-Anchor" href="#호스트-객체-vs-네이티브-객체"></a> 호스트 객체 vs 네이티브 객체</h1><blockquote><p>Host Objects: 사용자에 의해 생성된 객체<br>Native Objects: 브라우저 또는 구동 엔진에 내장된 객체</p></blockquote><h1 id="다음-코드의-차이점"><a class="markdownIt-Anchor" href="#다음-코드의-차이점"></a> 다음 코드의 차이점?</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">// 선언문</span></span><br><span class="line"><span class="keyword">var</span> person = Person(); <span class="comment">// 함수 표현식</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(); <span class="comment">// 생성자</span></span><br></pre></td></tr></table></figure><h1 id="call과-apply의-차이점"><a class="markdownIt-Anchor" href="#call과-apply의-차이점"></a> .call과 .apply의 차이점?</h1><blockquote><p>call()은 함수에 전달될 여러 개의 인자를 받는데 비해, apply()는 배열로 된 하나의 인자를 받는다</p></blockquote><h1 id="functionprototypebind"><a class="markdownIt-Anchor" href="#functionprototypebind"></a> Function.prototype.bind?</h1><blockquote><p>호출될 때의 함수의 this 값을 넘겨준 값으로 바인딩</p></blockquote><h1 id="documentwrite는-언제-사용"><a class="markdownIt-Anchor" href="#documentwrite는-언제-사용"></a> document.write()는 언제 사용?</h1><blockquote><p>스크립트 심을 때 <code>document.write</code>는 block 되지 않으므로<br>근데 <code>appendChild</code>로 심을 수 있어서 안씀</p></blockquote><h1 id="ajax"><a class="markdownIt-Anchor" href="#ajax"></a> AJAX</h1><blockquote><p>XMLHttpRequest 객체를 사용해 비동기 방식으로 서버와 통신을 하는 것</p></blockquote><h2 id="장점"><a class="markdownIt-Anchor" href="#장점"></a> 장점</h2><blockquote><p>화면 전환 없이 특정 영역만 갱신 (업데이트) 가능</p></blockquote><h2 id="단점"><a class="markdownIt-Anchor" href="#단점"></a> 단점</h2><blockquote><p>없다</p></blockquote><h1 id="jsonp-vs-ajax"><a class="markdownIt-Anchor" href="#jsonp-vs-ajax"></a> JSONP vs AJAX</h1><blockquote><p>JSONP는 스크립트 태그를 심어서 로드될 때 콜백 함수를 호출하는 거고 <code>get</code>만 가능<br><code>Same origin policy</code>를 벗어날 수 있음</p></blockquote><h1 id="호이스팅"><a class="markdownIt-Anchor" href="#호이스팅"></a> 호이스팅</h1><blockquote><p>자바스크립트 엔진이 실행 컨텍스트를 생성하면서 scope 를 정의 할때<br>코딩 순서에 상관없이 선언부에 대한 처리를 맨 위로 끌어올려 먼저 해석하는 것</p></blockquote><h1 id="event-bubbling"><a class="markdownIt-Anchor" href="#event-bubbling"></a> Event Bubbling</h1><blockquote><p>자식 이벤트가 부모로 전달 되는 것<br><code>event.stopPropagation</code>으로 막을 수 있음</p></blockquote><h1 id="속성attribute-vs-요소property"><a class="markdownIt-Anchor" href="#속성attribute-vs-요소property"></a> 속성(Attribute) vs 요소(property)</h1><blockquote><p>Attribute: HTML 요소에 추가적인 정보 전달<br>Property: Attribute에 대한 HTML DOM tree에서의 표현</p></blockquote><h1 id="내장된-javascript-객체를-확장하는-것이-좋지-않은-이유"><a class="markdownIt-Anchor" href="#내장된-javascript-객체를-확장하는-것이-좋지-않은-이유"></a> 내장된 JavaScript 객체를 확장하는 것이 좋지 않은 이유?</h1><blockquote><p>그것을 참조한 모든 객체가 확장한 구문을 따라가기 때문에</p></blockquote><h1 id="document-load-event-vs-domcontentloaded-event"><a class="markdownIt-Anchor" href="#document-load-event-vs-domcontentloaded-event"></a> document load event vs DOMContentLoaded event</h1><blockquote><p>document.load: DOM 안의 모든 게 로딩이 끝나야 발생 (더 느림)<br>DOMContentLoaded: DOM 초기화시 발생</p></blockquote><h1 id="vs"><a class="markdownIt-Anchor" href="#vs"></a> == vs ===</h1><blockquote><p>타입 체크</p></blockquote><h1 id="동일출처정책the-same-origin-policy"><a class="markdownIt-Anchor" href="#동일출처정책the-same-origin-policy"></a> 동일출처정책(the same-origin policy)</h1><blockquote><p>js나 문서가 다른 origin에서 fetch되지 못하게 하는 정책</p></blockquote><h1 id="삼항식ternary-statement을-사용하는-이유"><a class="markdownIt-Anchor" href="#삼항식ternary-statement을-사용하는-이유"></a> 삼항식(Ternary statement)을 사용하는 이유?</h1><blockquote><p>if else의 간소화</p></blockquote><h1 id="use-strict"><a class="markdownIt-Anchor" href="#use-strict"></a> use strict</h1><blockquote><p>When adding ‘use strict’;, the following cases will throw a SyntaxError before the script is executing:</p></blockquote><ul><li>Octal syntax var n = 023;</li><li>with statement</li><li>Using delete on a variable name <code>delete myVariable</code></li><li>Using eval or arguments as variable or function argument name</li><li>Using one of the newly reserved keywords (in prevision for ECMAScript 2015): implements, interface, let, package, private, protected, public, static, and yield</li><li>Declaring function in blocks if (a &lt; b) { function f() {} }</li><li>Obvious errors<ul><li>Declaring twice the same name for a property name in an object literal {a: 1, b: 3, a: 7} This is no longer the case in ECMAScript 2015 (bug 1041128).</li><li>Declaring two function parameters with the same name function f(a, b, b) {}</li></ul></li></ul><h2 id="참고-3"><a class="markdownIt-Anchor" href="#참고-3"></a> 참고</h2><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode" target="_blank" rel="external nofollow noopener noreferrer">출처</a></li></ul><h1 id="전역-scope를-사용했을-때"><a class="markdownIt-Anchor" href="#전역-scope를-사용했을-때"></a> 전역 scope를 사용했을 때</h1><h2 id="장점-2"><a class="markdownIt-Anchor" href="#장점-2"></a> 장점</h2><blockquote><p>어디에서나 접근 가능</p></blockquote><h2 id="단점-2"><a class="markdownIt-Anchor" href="#단점-2"></a> 단점</h2><blockquote><p>release 문제</p></blockquote><h1 id="때때로-load-event를-사용하는-이유-단점과-대안은"><a class="markdownIt-Anchor" href="#때때로-load-event를-사용하는-이유-단점과-대안은"></a> 때때로 load event를 사용하는 이유? 단점과 대안은?</h1><blockquote><p>DOM의 모든 게 로드가 끝난 후에 이벤트를 걸어야할 것이 있을 때 사용 (lazy loading)</p></blockquote><h1 id="spa에서-seo에-유리하도록-만들기-위한-방법"><a class="markdownIt-Anchor" href="#spa에서-seo에-유리하도록-만들기-위한-방법"></a> SPA에서 SEO에 유리하도록 만들기 위한 방법</h1><blockquote><p>Sitemap, JSON-LD, UA가 Bot일 경우 SSR</p></blockquote><h1 id="promise를-사용해-본-경험"><a class="markdownIt-Anchor" href="#promise를-사용해-본-경험"></a> Promise를 사용해 본 경험?</h1><blockquote><p>네</p></blockquote><h1 id="promise-vs-callback"><a class="markdownIt-Anchor" href="#promise-vs-callback"></a> Promise vs Callback</h1><h2 id="장점-3"><a class="markdownIt-Anchor" href="#장점-3"></a> 장점</h2><blockquote><p>Chaining, 가독성, 여러 Promise를 한 번에 제어 가능</p></blockquote><h2 id="단점-3"><a class="markdownIt-Anchor" href="#단점-3"></a> 단점</h2><blockquote><p>없다</p></blockquote><h1 id="javascript를-디버깅할-때-사용하는-도구"><a class="markdownIt-Anchor" href="#javascript를-디버깅할-때-사용하는-도구"></a> JavaScript를 디버깅할 때 사용하는 도구?</h1><blockquote><p>VSCode, Chrome Dev Tools</p></blockquote><h1 id="객체-안의-속성과-배열의-아이템을-순회할-때-사용하는-문법"><a class="markdownIt-Anchor" href="#객체-안의-속성과-배열의-아이템을-순회할-때-사용하는-문법"></a> 객체 안의 속성과 배열의 아이템을 순회할 때 사용하는 문법?</h1><blockquote><p>Object: for in hasOwnProperty, Object.keys().forEach, for of<br>Array: for, Array.forEach, for of</p></blockquote><h1 id="mutable-object-vs-immutable-object"><a class="markdownIt-Anchor" href="#mutable-object-vs-immutable-object"></a> mutable object vs immutable object</h1><blockquote><p>mutable: 변경 가능<br>immutable: 변경 불가능, Object freeze 또는 Object assign으로 metadata 수정</p></blockquote><h1 id="javascript에서-immutable-객체의-예"><a class="markdownIt-Anchor" href="#javascript에서-immutable-객체의-예"></a> JavaScript에서 immutable 객체의 예</h1><blockquote><p>String: 문자열이 생성되면 그 다음에 수정할 수 없음<br>Symbol: 유일한 값</p></blockquote><h1 id="immutability의-장단점"><a class="markdownIt-Anchor" href="#immutability의-장단점"></a> immutability의 장단점?</h1><h2 id="장점-4"><a class="markdownIt-Anchor" href="#장점-4"></a> 장점</h2><blockquote><p>변경점 찾기 및 디버깅이 쉬움</p></blockquote><h2 id="단점-4"><a class="markdownIt-Anchor" href="#단점-4"></a> 단점</h2><blockquote><p>mutable한 코드보다 훨씬 느림</p></blockquote><h1 id="자신의-코드에서-불변성immutability을-어떻게-달성할-수-있나요"><a class="markdownIt-Anchor" href="#자신의-코드에서-불변성immutability을-어떻게-달성할-수-있나요"></a> 자신의 코드에서 불변성(immutability)을 어떻게 달성할 수 있나요?</h1><blockquote><p>functional programming 또는 immutableJS</p></blockquote><h1 id="동기방식과-비동기-방식-함수의-차이"><a class="markdownIt-Anchor" href="#동기방식과-비동기-방식-함수의-차이"></a> 동기방식과 비동기 방식 함수의 차이</h1><blockquote><p>설명 가능</p></blockquote><h1 id="event-loop"><a class="markdownIt-Anchor" href="#event-loop"></a> event loop</h1><blockquote><p>JS에서 사용하는 동시성 처리 모델</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 현재 아무 메시지도 없다면 새로운 메시지 도착을 동기적으로 기다림</span></span><br><span class="line"><span class="keyword">while</span> (queue.waitForMessage()) &#123;</span><br><span class="line">  queue.processNextMessage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="call-stack"><a class="markdownIt-Anchor" href="#call-stack"></a> call stack</h1><blockquote><p>함수 호출시 저장되는 스택, 재귀를 생각하면 됨</p></blockquote><h1 id="task-queue"><a class="markdownIt-Anchor" href="#task-queue"></a> task queue</h1><blockquote><p>비동기 함수가 저장되는 큐, call stack이 비워지면 실행 됨</p></blockquote><h1 id="function-foo-와-var-foo-function-에서-foo-의-차이"><a class="markdownIt-Anchor" href="#function-foo-와-var-foo-function-에서-foo-의-차이"></a> function foo() {}와 var foo = function() {}에서 foo 의 차이</h1><blockquote><p>전자는 호이스팅, 후자는 안 됨</p></blockquote><h1 id="let-var-const의-차이점"><a class="markdownIt-Anchor" href="#let-var-const의-차이점"></a> let, var, const의 차이점</h1><blockquote><p>var: function-scoped 로 호이스팅, 재선언 가능<br>let: block-scoped 로 재선언 불가, 재할당 가능<br>const: block-scoped 로 재선언 불가, 재할당 불가</p></blockquote><h1 id="test-code를-작성하면서-개발하는-방식의-장단점"><a class="markdownIt-Anchor" href="#test-code를-작성하면서-개발하는-방식의-장단점"></a> test code를 작성하면서 개발하는 방식의 장단점</h1><h2 id="장점-5"><a class="markdownIt-Anchor" href="#장점-5"></a> 장점</h2><blockquote><p>결과가 나와있고 로직을 맞추면되서 디버깅, 리팩토링이 쉬워지고 유지보수에도 좋음</p></blockquote><h2 id="단점-5"><a class="markdownIt-Anchor" href="#단점-5"></a> 단점</h2><blockquote><p>시간</p></blockquote><h1 id="test-code를-테스트하는-툴-사용경험"><a class="markdownIt-Anchor" href="#test-code를-테스트하는-툴-사용경험"></a> test code를 테스트하는 툴 사용경험</h1><blockquote><p>Karma, PhantomJS</p></blockquote><h1 id="단위-테스트-vs-기능-테스트"><a class="markdownIt-Anchor" href="#단위-테스트-vs-기능-테스트"></a> 단위 테스트 vs 기능 테스트</h1><blockquote><p>unit test: unit 즉 method 별로 테스트<br>functional test: 전체 시스템에서 기능을 테스트, 많은 method와 서비스가 연결되어있음</p></blockquote><h1 id="code-style-linting-tool을-사용했을때-장점"><a class="markdownIt-Anchor" href="#code-style-linting-tool을-사용했을때-장점"></a> code style linting tool을 사용했을때 장점?</h1><blockquote><p>모두가 일관된 스타일로 코딩 가능, 가독성 증가</p></blockquote><h1 id="성능관련-이슈들을-발견하기-위해서-사용하는-방법"><a class="markdownIt-Anchor" href="#성능관련-이슈들을-발견하기-위해서-사용하는-방법"></a> 성능관련 이슈들을 발견하기 위해서 사용하는 방법?</h1><blockquote><p>실행시간 timestamp 로깅, Chrome Dev Tools Performance</p></blockquote><h1 id="웹사이트-scrolling-성능을-향상시키기-위한-방법"><a class="markdownIt-Anchor" href="#웹사이트-scrolling-성능을-향상시키기-위한-방법"></a> 웹사이트 scrolling 성능을 향상시키기 위한 방법?</h1><blockquote><p>throttle</p></blockquote><h1 id="브라우저의-layout-painting-compositing"><a class="markdownIt-Anchor" href="#브라우저의-layout-painting-compositing"></a> 브라우저의 layout, painting, compositing</h1><blockquote><p>Layout: 각 element가 차지하는 공간과 배치할 공간을 결정<br>Painting: element를 그리고, element의 모든 시각적 부분을 그리는 작업<br>Compositing: element를 올바른 순서로 화면에 그려 페이지를 렌더링</p></blockquote><h2 id="참고-4"><a class="markdownIt-Anchor" href="#참고-4"></a> 참고</h2><ul><li><a href="https://developers.google.com/web/fundamentals/performance/rendering/?hl=ko" target="_blank" rel="external nofollow noopener noreferrer">출처</a></li></ul><h1 id="웹사이트의-assets을-여러-도메인으로-서빙했을-때-장점"><a class="markdownIt-Anchor" href="#웹사이트의-assets을-여러-도메인으로-서빙했을-때-장점"></a> 웹사이트의 assets을 여러 도메인으로 서빙했을 때 장점</h1><blockquote><p>브라우저 마다 다르지만 HTTP1.1에서는 하나의 호스트당 평균 4개의 동시 다운로드만 가능해서, 병렬 처리를 하기 위해 여러 도메인으로 서빙을 했었다 하지만 이젠 http2로 다 해결 가능</p></blockquote><h2 id="참고-5"><a class="markdownIt-Anchor" href="#참고-5"></a> 참고</h2><ul><li><a href="https://travishorn.com/why-it-is-better-to-serve-site-assets-from-multiple-domains-972a2bf69d71" target="_blank" rel="external nofollow noopener noreferrer">Why it is better to serve site assets from multiple domains</a></li><li><a href="http://programmingsummaries.tistory.com/285" target="_blank" rel="external nofollow noopener noreferrer">브라우저의 리소스 병렬 다운로드를 가로막는 자바스크립트</a></li><li><a href="https://developers.google.com/web/fundamentals/performance/http2/?hl=ko#_4" target="_blank" rel="external nofollow noopener noreferrer">HTTP/2 소개 #요청 및 응답 다중화</a></li><li><a href="https://hpbn.co/brief-history-of-http/" target="_blank" rel="external nofollow noopener noreferrer">Blief history of http</a></li></ul><h1 id="url로-접속했을-때-어떤-플로우로-화면에-웹사이트가-그려지는지-네트워크-관점"><a class="markdownIt-Anchor" href="#url로-접속했을-때-어떤-플로우로-화면에-웹사이트가-그려지는지-네트워크-관점"></a> URL로 접속했을 때 어떤 플로우로 화면에 웹사이트가 그려지는지 네트워크 관점</h1><blockquote><p>로컬 DNS에서 URL IP 확인<br>3way handshake로 IP에 TCP 연결 설정 후 HTTP 헤더와 Body 요청 전송<br>응답받은 HTTP 헤더와 Body로 웹사이트 렌더링</p></blockquote><h1 id="long-polling과-websocket-server-sent-event"><a class="markdownIt-Anchor" href="#long-polling과-websocket-server-sent-event"></a> Long-Polling과 Websocket, Server-Sent Event</h1><blockquote><p>Long-Polling: response를 닫지 않고 계속 보내주는 것<br>Websocket: subscribe 후에 양방향으로 메세지 교환<br>Server-Sent Event: Push, HTTP 사용</p></blockquote><h1 id="request-headers"><a class="markdownIt-Anchor" href="#request-headers"></a> request headers</h1><ul><li>Expires headers tell the browser whether they should request a specific file from the server or whether they should grab it from the browser’s cache.</li><li>Date: The date and time that the message was sent</li><li>The Age response-header field conveys the sender’s estimate of the amount of time since the response (or its revalidation) was generated at the origin server.</li><li>The If-Modified-Since request-header field is used with a method to make it conditional: if the requested variant has not been modified since the time specified in this field, an entity will not be returned from the server; instead, a 304 (not modified) response will be returned without any message-body.</li><li>Do Not Track: disable either its tracking or cross-site user tracking</li><li>Cache-Control: Tells all caching mechanisms from server to client whether they may cache this object. It is measured in seconds</li><li>Transfer-Encoding: The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity.</li><li>ETag: An identifier for a specific version of a resource.</li><li>X-Frame-Options can be used to indicate whether or not a browser should be allowed to render a page in a <code>frame</code>, <code>iframe</code> or <code>object</code>.</li></ul><h2 id="참고-6"><a class="markdownIt-Anchor" href="#참고-6"></a> 참고</h2><ul><li><a href="https://quizlet.com/175329230/web-developer-interview-questions-network-flash-cards/" target="_blank" rel="external nofollow noopener noreferrer">출처</a></li><li><a href="https://www.letmecompile.com/http-cache-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/" target="_blank" rel="external nofollow noopener noreferrer">HTTP Cache 튜토리얼</a></li></ul><h1 id="http-methods"><a class="markdownIt-Anchor" href="#http-methods"></a> HTTP Methods</h1><ul><li>GET: 리소스 요청</li><li>HEAD: 리소스 요청이나 body가 없음</li><li>POST: 리소스 생성</li><li>PUT: 리소스 업데이트</li><li>PATCH: 리소스 부분 업데이트</li><li>DELETE: 리소스 삭제</li><li>OPTIONS: Cross Domain request에서 해당 메소드가 안전한지 확인하기 위해 사용</li></ul>]]></content>
      
      
      <categories>
          
          <category> interview </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phantomjs Can&#39;t find variable Promise 오류</title>
      <link href="/2018/01/10/phantomjs-Can-t-find-variable-Promise-%EC%98%A4%EB%A5%98/"/>
      <url>/2018/01/10/phantomjs-Can-t-find-variable-Promise-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>phantomjs에서 Promise를 지원하지 않기 때문이다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>spec html문서에 polyfill을 추가하자</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/promise-polyfill"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> phantomjs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> phantomjs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>나를 위한 면접 (ALL)</title>
      <link href="/2018/01/09/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(ALL)/"/>
      <url>/2018/01/09/%EB%82%98%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%A9%B4%EC%A0%91-(ALL)/</url>
      
        <content type="html"><![CDATA[<p>실무에 치이느라 기본적인 걸 까먹을까봐 정리해보자<br><a href="/tags/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC/">정보처리</a> 에서 컴퓨터 기초를 보면 되고.<br>지극히 주관적이라 정답이 아닐 수 있습니다</p><h1 id="수학"><a class="markdownIt-Anchor" href="#수학"></a> 수학</h1><h2 id="미적분"><a class="markdownIt-Anchor" href="#미적분"></a> 미적분</h2><p>편미분까진 안물어보더라</p><h2 id="베이지안-확률"><a class="markdownIt-Anchor" href="#베이지안-확률"></a> 베이지안 확률</h2><blockquote><p>사후확률 = 가능도 * 사전확률 / 증거</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 붉은 점이 얼굴에 보일 때 수두 환자일 확률은 어떻게 구할까?</span></span><br><span class="line">P(수두 | 붉은점) = P(붉은 점 | 수두) * P(수두) / P(붉은점)</span><br></pre></td></tr></table></figure><h1 id="자료구조"><a class="markdownIt-Anchor" href="#자료구조"></a> 자료구조</h1><h2 id="b-tree"><a class="markdownIt-Anchor" href="#b-tree"></a> B Tree</h2><blockquote><p>m-원 트리의 단점임 한쪽으로 편중된 트리를 생성되는 경우를 보완하고자 루트노드로부터 리프노드의 레벨을 같도록 유지한 트리</p></blockquote><table><thead><tr><th>BASIS FOR COMPARISON</th><th>B-TREE</th><th>BINARY TREE</th></tr></thead><tbody><tr><td>Essential constraint</td><td>A node can have at max M number of child nodes(where M is the order of the tree).</td><td>A node can have at max 2 number of subtrees.</td></tr><tr><td>Used</td><td>It is used when data is stored on disk.</td><td>It is used when records and data are stored in RAM.</td></tr><tr><td>Height of the tree</td><td>logM N (where m is the order of the M-way tree)</td><td>log2 N</td></tr><tr><td>Application</td><td>Code indexing data structure in many DBMS.</td><td>Code optimization, Huffman coding, etc.</td></tr></tbody></table><p>space complexity B-tree is O(n).<br>Insertion and deletion time complexity is O(logn).</p><p><a href="https://techdifferences.com/difference-between-b-tree-and-binary-tree.html" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h3 id="b-tree-2"><a class="markdownIt-Anchor" href="#b-tree-2"></a> B+ Tree</h3><blockquote><p>B+은 index node와 data node로 구성</p></blockquote><p><a href="http://potatoggg.tistory.com/174" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h3 id="b-tree-3"><a class="markdownIt-Anchor" href="#b-tree-3"></a> B* Tree</h3><blockquote><p>B-tree의 경우에 <em>각 노드가 최소한 반 이상 차 있어야 하는 조건</em>을 <em>각 노드가 최소한 2/3이상 차있어야 한다</em>로 변경하면 이것이 B*tree이다</p></blockquote><p>공간 활용도를 높일 수 있다.<br><a href="http://egloos.zum.com/LaClefaVerite/v/5639321" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="binary-tree"><a class="markdownIt-Anchor" href="#binary-tree"></a> Binary Tree</h2><blockquote><p>모든 노드의 차수가 2 이상을 넘지 않는 트리를 말한다, 왼쪽자식노드는 부모노드의 값보다 작이야하며 오른쪽 자식노드는 부모노드의 값보다 커야한다.</p></blockquote><h2 id="binary-search-tree"><a class="markdownIt-Anchor" href="#binary-search-tree"></a> Binary Search Tree</h2><blockquote><p>이진탐색(binary search)과 연결리스트(linked list)를 결합한 자료구조의 일종입니다. 이진탐색의 효율적인 탐색 능력을 유지하면서도, 빈번한 자료 입력과 삭제를 가능하게끔 고안됐습니다.</p></blockquote><ul><li>모든 원소는 서로 다른 유일한 키를 가짐</li><li>왼쪽 서브트리에 있는 원소들의 값은 그 루트의 값보다 작음</li><li>오른쪽 서브트리에 있는 원소의 값들은 그 루트의 값보다 큼</li><li>왼쪽 서브트리와 오른쪽 서브트리도 이진 탐색 트리임</li></ul><p>O(n), 완전 이진 트리에 가까울 수록 O(log2(n))</p><p><a href="https://ratsgo.github.io/data%20structure&amp;algorithm/2017/10/22/bst/" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="insertion-sort"><a class="markdownIt-Anchor" href="#insertion-sort"></a> Insertion Sort</h2><blockquote><p>앞에서부터 하나씩 비교하여 위치를 삽입</p></blockquote><p>O(n^2)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertionSort</span>(<span class="params">unsortedList</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = unsortedList.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="comment">// Copy of the current element.</span></span><br><span class="line">    <span class="keyword">var</span> tmp = unsortedList[i];</span><br><span class="line">    <span class="comment">// Check through the sorted part and compare with the number in tmp. If large, shift the number</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span> &amp;&amp; (unsortedList[j] &gt; tmp); j--) &#123;</span><br><span class="line">      <span class="comment">// Shift the number</span></span><br><span class="line">      unsortedList[j + <span class="number">1</span>] = unsortedList[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Insert the copied number at the correct position</span></span><br><span class="line">    <span class="comment">// in sorted part.</span></span><br><span class="line">    unsortedList[j + <span class="number">1</span>] = tmp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codingmiles.com/sorting-algorithms-insertion-sort-using-javascript/" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="selection-sort"><a class="markdownIt-Anchor" href="#selection-sort"></a> Selection Sort</h2><blockquote><p>하나씩 뒤로 비교하여 최소값을 맨 앞으로 삽입</p></blockquote><p>O(n^2)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">items</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> length = items.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// Number of passes</span></span><br><span class="line">    <span class="comment">// min holds the current minimum number position for each pass; i holds the Initial min number</span></span><br><span class="line">    <span class="keyword">var</span> min = i;</span><br><span class="line">    <span class="comment">// Note that j = i + 1 as we only need to go through unsorted array</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">      <span class="comment">// Compare the numbers</span></span><br><span class="line">      <span class="keyword">if</span> (items[j] &lt; items[min]) &#123;</span><br><span class="line">        <span class="comment">// Change the current min number position if a smaller num is found</span></span><br><span class="line">        min = j;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (min != i) &#123;</span><br><span class="line">      <span class="comment">// After each pass, if the current min num != initial min num, exchange the position.</span></span><br><span class="line">      <span class="comment">// Swap the numbers</span></span><br><span class="line">      <span class="keyword">var</span> tmp = items[i];</span><br><span class="line">      items[i] = items[min];</span><br><span class="line">      items[min] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codingmiles.com/sorting-algorithms-selection-sort-using-javascript/" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="quick-sort"><a class="markdownIt-Anchor" href="#quick-sort"></a> Quick Sort</h2><blockquote><p>pivot을 하나 뽑는다 보통 list.length / 2 -1 을 선택한다.<br>pivot 앞에는 pivot보다 작게, pivot 뒤에는 pivot보다 크게 값을 바꿔치고 재귀를 돌린다</p></blockquote><p>최악 O(n^2), 평균 O(nlogn)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quicksort</span><span class="params">(x)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> len(x) &lt;= <span class="number">1</span>:</span><br><span class="line">      <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">  <span class="comment"># // 연산자는 나누고 소숫점을 버림</span></span><br><span class="line">  pivot = x[len(x) // <span class="number">2</span>]</span><br><span class="line">  less = []</span><br><span class="line">  more = []</span><br><span class="line">  equal = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> a <span class="keyword">in</span> x:</span><br><span class="line">      <span class="keyword">if</span> a &lt; pivot:</span><br><span class="line">          less.append(a)</span><br><span class="line">      <span class="keyword">elif</span> a &gt; pivot:</span><br><span class="line">          more.append(a)</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">          equal.append(a)</span><br><span class="line">  <span class="keyword">return</span> quicksort(less) + equal + quicksort(more)</span><br></pre></td></tr></table></figure><h3 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h3><ul><li><a href="https://ko.wikipedia.org/wiki/%ED%80%B5_%EC%A0%95%EB%A0%AC" target="_blank" rel="external nofollow noopener noreferrer">퀵 정렬</a></li></ul><h2 id="list"><a class="markdownIt-Anchor" href="#list"></a> List</h2><h2 id="linked-list"><a class="markdownIt-Anchor" href="#linked-list"></a> Linked List</h2><h2 id="list-vs-linked-list"><a class="markdownIt-Anchor" href="#list-vs-linked-list"></a> List vs Linked List</h2><blockquote><p>리스트가 대부분 좋다<br>연결 리스트는 중간에 삽입 삭제시 좋다<br>리스트는 끝에 넣을 떄 좋다</p><p>연결 리스트는 검색시 링크를 따라가므로 비효율적이다.<br>리스트가 순차라 검색시에 좋다.<br>공간의 효율성은 연결 리스트</p></blockquote><p><a href="https://stackoverflow.com/questions/169973/when-should-i-use-a-list-vs-a-linkedlist" target="_blank" rel="external nofollow noopener noreferrer">효율성 비교</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LinkedList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.head = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LinkedList.prototype.push = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> node = &#123;</span><br><span class="line">      value: val,</span><br><span class="line">      next: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">this</span>.head) &#123;</span><br><span class="line">    <span class="keyword">this</span>.head = node;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    current = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span> (current.next) &#123;</span><br><span class="line">      current = current.next;</span><br><span class="line">    &#125;</span><br><span class="line">    current.next = node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sll = <span class="keyword">new</span> LinkedList();</span><br><span class="line">sll.push(<span class="number">2</span>);</span><br><span class="line">sll.push(<span class="number">3</span>);</span><br><span class="line">sll.push(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// check values by traversing LinkedList</span></span><br><span class="line">sll.head; <span class="comment">// Object &#123;data: 2, next: Object&#125;</span></span><br><span class="line">sll.head.next; <span class="comment">// Object &#123;data: 3, next: Object&#125;</span></span><br><span class="line">sll.head.next.next; <span class="comment">// Object &#123;data: 4, next: null&#125;</span></span><br></pre></td></tr></table></figure><p><a href="http://khan4019.github.io/front-end-Interview-Questions/linkedList.html" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="graph"><a class="markdownIt-Anchor" href="#graph"></a> Graph</h2><blockquote><p>그래프(Graph)는 연결되어 있는 원소간의 관계를 표현하는 자료구조이다. 나와 연관된 인간 관계를 나타내는 인맥 지도, 수도 배관에 대한 배수 시스템, 물질의 분자 구조 등은 연결 구조가 다양하기 때문에 선형 자료 구조나 트리로는 표현 할 수가 없다.<br>그래프는 연결할 객체를 나타내는 정점(vertex)와 객체를 연결하는 간선(edge)의 집합으로 구성된다. 그래프 G를 _G=(V,E)_로 정의하는데, V는 그래프에 있는 정점들의 집합을 의미하고, E는 정점을 연결하는 간선들의 집합을 의미한다.</p></blockquote><p><a href="https://gist.github.com/singun/1d628d0e3d66c60f9856" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Implement a Graph</span></span><br><span class="line"><span class="comment">// basic operations:</span></span><br><span class="line"><span class="comment">//  - add vertex (node)</span></span><br><span class="line"><span class="comment">//  - add edge (node -&gt; node)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GraphNode</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.val = val;</span><br><span class="line">  <span class="keyword">this</span>.edges = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.vertices = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(1) operation</span></span><br><span class="line">Graph.prototype.addVertex = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// add vertex only if it does not exist.</span></span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">this</span>.vertices[val]) &#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices[val] = <span class="keyword">new</span> GraphNode(val);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(E) operation - edges</span></span><br><span class="line">Graph.prototype.removeVertex = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[val]) &#123;</span><br><span class="line">    <span class="comment">// once you remove a vertex, you need to remove all edges pointing</span></span><br><span class="line">    <span class="comment">// to the vertex.</span></span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">this</span>.vertices[val];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.vertices).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key, index</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[key].edges[val]) &#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>.vertices[key].edges[val];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;.bind(<span class="keyword">this</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(1) operation</span></span><br><span class="line">Graph.prototype.getVertex = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.vertices[val];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(1) operation</span></span><br><span class="line">Graph.prototype.addEdge = <span class="function"><span class="keyword">function</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// check to see if vertices exists.</span></span><br><span class="line">  <span class="comment">// if it exists, set the edges and be done.</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[start] &amp;&amp; <span class="keyword">this</span>.vertices[end]) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// check to see if edge exists, if it does, increment it's weight</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[start].edges[end]) &#123;</span><br><span class="line">      <span class="keyword">this</span>.vertices[start].edges[end].weight += <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// edge does not exist, set weight to 1.</span></span><br><span class="line">      <span class="keyword">this</span>.vertices[start].edges[end] = &#123; <span class="attr">weight</span>: <span class="number">1</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(1) operation</span></span><br><span class="line">Graph.prototype.removeEdge = <span class="function"><span class="keyword">function</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[start] &amp;&amp; <span class="keyword">this</span>.vertices[end]) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.vertices[start].edges[end]) &#123;</span><br><span class="line">      <span class="keyword">delete</span> <span class="keyword">this</span>.vertices[start].edges[end];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(1) operation</span></span><br><span class="line">Graph.prototype.getEdge = <span class="function"><span class="keyword">function</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.vertices[start].edges[end] || <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Graph.prototype.neighbors = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.vertices[val] ? <span class="keyword">this</span>.vertices[val].edges : <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> graph = <span class="keyword">new</span> Graph();</span><br><span class="line"></span><br><span class="line">graph.addVertex(<span class="number">5</span>);</span><br><span class="line">graph.addVertex(<span class="number">2</span>);</span><br><span class="line">graph.addVertex(<span class="number">6</span>);</span><br><span class="line">graph.addVertex(<span class="number">7</span>);</span><br><span class="line">graph.addEdge(<span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line">graph.addEdge(<span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">graph.addEdge(<span class="number">7</span>, <span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(graph.getEdge(<span class="number">2</span>, <span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(graph.getEdge(<span class="number">6</span>, <span class="number">7</span>));</span><br><span class="line">graph.removeVertex(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(graph.getEdge(<span class="number">2</span>, <span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(graph.neighbors(<span class="number">6</span>));</span><br><span class="line"><span class="built_in">console</span>.log(graph.neighbors(<span class="number">5</span>));</span><br></pre></td></tr></table></figure><p><a href="https://gist.github.com/tpae/a6d320f1b5c7e7a8c0c7a3ed752f6de3" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h1 id="알고리즘"><a class="markdownIt-Anchor" href="#알고리즘"></a> 알고리즘</h1><h2 id="시간복잡도"><a class="markdownIt-Anchor" href="#시간복잡도"></a> 시간복잡도</h2><blockquote><p>알고리즘이 문제를 해결하는 데에 얼마나 걸리는 지를 분석하는 것<br>프로그램을 실행시켜 완료하는데 걸리는 시간을 의미</p></blockquote><h3 id="빅오표기법"><a class="markdownIt-Anchor" href="#빅오표기법"></a> 빅오표기법</h3><blockquote><p>실행 시간은 최대한 이만큼 커지지만 더 천천히 커질 수도 있다는 의미인 점근적 표기법 형태를 사용하는 것 (점근 표기법)<br>최악의 경우를 표기하는 방법</p></blockquote><h3 id="빅오에서-n이-의미하는것"><a class="markdownIt-Anchor" href="#빅오에서-n이-의미하는것"></a> 빅오에서 n이 의미하는것</h3><blockquote><p>입력 데이터 개수</p></blockquote><h2 id="최단거리-알고리즘"><a class="markdownIt-Anchor" href="#최단거리-알고리즘"></a> 최단거리 알고리즘</h2><ul><li>다익스트라 알고리즘</li><li>A* 알고리즘</li></ul><h2 id="슬라이딩-윈도우"><a class="markdownIt-Anchor" href="#슬라이딩-윈도우"></a> 슬라이딩 윈도우</h2><p><a href="http://codingdojang.com/scode/439" target="_blank" rel="external nofollow noopener noreferrer">이 문제</a>가 도움 될 듯</p><h1 id="데이터베이스"><a class="markdownIt-Anchor" href="#데이터베이스"></a> 데이터베이스</h1><h2 id="정규화"><a class="markdownIt-Anchor" href="#정규화"></a> 정규화</h2><blockquote><p>관계형 데이터베이스의 설계에서 중복을 최소화하게 데이터를 구조화하는 프로세스</p></blockquote><h3 id="목적"><a class="markdownIt-Anchor" href="#목적"></a> 목적</h3><blockquote><p>이상이 있는 관계를 재구성하여 작고 잘 조직된 관계를 생성하는 것에 있다. 일반적으로 정규화란 크고, 제대로 조직되지 않은 테이블들과 관계들을 작고 잘 조직된 테이블과 관계들로 나누는 것을 포함한다.</p></blockquote><h2 id="비정규화"><a class="markdownIt-Anchor" href="#비정규화"></a> 비정규화</h2><blockquote><p>과도한 정규화로 인해서 테이블의 수가 증가하게 되면, 다수의 JOIN이 발생함에 따라서 성능 저하가 발생할 수 있다. 보통의 경우 정규화 과정을 모두 거친 다음 마지막 단계에서 비정규화를 실시한다. 단, 테이블을 합치는 것만이 비정규화는 아니다.</p></blockquote><h2 id="인덱싱-자료구조"><a class="markdownIt-Anchor" href="#인덱싱-자료구조"></a> 인덱싱 자료구조</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">B-<span class="built_in">Tree</span> 알고리즘은 가장 일반적으로 사용되는 인덱스 알고리즘으로서, 상당히 오래전에 도입된 알고리즘이며 그만큼 성숙해진 상태입니다. B-<span class="built_in">Tree</span> 인덱스는 칼럼의 값을 변형하지 않고, 원래의 값을 이용해 인덱싱하는 알고리즘 입니다.</span><br><span class="line"></span><br><span class="line">Hash 인덱스 알고리즘은 컬럼의 값으로 해시 값을 계산해서 인덱싱하는 알고리즘으로, 매우 빠른 검색을 지원합니다. 하지만 값을 변형해서 인덱싱하므로, 전방(Prefix) 일치와 같이 값의 일부만 검색하고자 할 때는 해시 인덱스를 사용할 수 없습니다. Hash 인덱스는 주로 메모리 기반의 데이터베이스에서 많이 사용합니다.</span><br><span class="line"></span><br><span class="line">Fractal-<span class="built_in">Tree</span> 알고리즘은 B-<span class="built_in">Tree</span>의 단점을 보완하기 위해 고안된 알고리즘입니다. 값을 변형하지 않고 인덱싱하며 범용적인 목적으로 사용할 수 있다는 측면에서 B-<span class="built_in">Tree</span>와 거의 비슷하지만 데이터가 저장되거나 삭제될 때 처리 비용을 상당히 줄일 수 있게 설계된 것이 특징입니다. 아직 B-<span class="built_in">Tree</span> 알고리즘만큼 안정적이고 성숙되진 않았지만 아마도 조만간 B-<span class="built_in">Tree</span> 인덱스의 상당 부분을 대체할 수 있지 않을까 생각합니다.</span><br></pre></td></tr></table></figure><p><a href="http://12bme.tistory.com/138" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="캐싱시-자료구조"><a class="markdownIt-Anchor" href="#캐싱시-자료구조"></a> 캐싱시 자료구조</h2><blockquote><p>Hash Table and a Linked List</p></blockquote><h2 id="디비-클러스터링"><a class="markdownIt-Anchor" href="#디비-클러스터링"></a> 디비 클러스터링</h2><p><a href="http://bcho.tistory.com/1062" target="_blank" rel="external nofollow noopener noreferrer">개념 참조</a><br><a href="https://okky.kr/article/261535" target="_blank" rel="external nofollow noopener noreferrer">운영 참조</a></p><h2 id="isolation-level"><a class="markdownIt-Anchor" href="#isolation-level"></a> Isolation level</h2><ul><li>Read Uncommitted</li><li>Read Committed</li><li>Repeatable Read</li><li>Serializable</li></ul><p><a href="http://egloos.zum.com/ljlave/v/1530887" target="_blank" rel="external nofollow noopener noreferrer">개념 참조</a><br><a href="https://support.microsoft.com/ko-kr/help/601430" target="_blank" rel="external nofollow noopener noreferrer">이하 참조</a></p><h3 id="read-uncommitted-isolation-level"><a class="markdownIt-Anchor" href="#read-uncommitted-isolation-level"></a> Read Uncommitted Isolation Level</h3><p>SELECT 문장을 수행하는 경우 해당 데이터에 Shared Lock이 걸리지 않는 Level입니다. 따라서, 어떤 사용자가 A라는 데이터를 B라는 데이터로 변경하는 동안 다른 사용자는 B라는 아직 완료되지 않은(Uncommitted 혹은 Dirty) 데이터 B를 읽을 수 있습니다.</p><h3 id="read-committed-isolation-level"><a class="markdownIt-Anchor" href="#read-committed-isolation-level"></a> Read Committed Isolation Level</h3><p>SQL Server가 Default로 사용하는 Isolation Level입니다. 이 Level에선 SELECT 문장이 수행되는 동안 해당 데이터에 Shared Lock이 걸립니다. 그러므로, 어떠한 사용자가 A라는 데이터를 B라는 데이터로 변경하는 동안 다른 사용자는 해당 데이터에 접근할 수 없습니다.</p><h3 id="repeatable-read-isolation-level"><a class="markdownIt-Anchor" href="#repeatable-read-isolation-level"></a> Repeatable Read Isolation Level</h3><p>트랜잭션이 완료될 때까지 SELECT 문장이 사용하는 모든 데이터에 Shared Lock이 걸리므로 다른 사용자는 그 영역에 해당되는 데이터에 대한 수정이 불가능합니다. 가령, <code>Select col1 from A where col1 between 1 and 10</code>을 수행하였고 이 범위에 해당하는 데이터가 2건이 있는 경우(col1=1과 5) 다른 사용자가 col1이 1이나 5인 Row에 대한 UPDATE이 불가능합니다. 하지만, col1이 1과 5를 제외한 나머지 이 범위에 해당하는 Row를 INSERT하는 것이 가능합니다.</p><h3 id="serializable-isolation-level"><a class="markdownIt-Anchor" href="#serializable-isolation-level"></a> Serializable Isolation Level</h3><p>트랜잭션이 완료될 때까지 SELECT 문장이 사용하는 모든 데이터에 Shared Lock이 걸리므로 다른 사용자는 그 영역에 해당되는 데이터에 대한 수정 및 입력이 불가능합니다. 예를 들어, Repeatable Read의 경우 1에서 10 사이에 해당되는 데이터에 대한 UPADTE이 가능하였습니다. 하지만 이 Level에서는 UPDATE 작업도 허용하지 않습니다.</p><h2 id="acid"><a class="markdownIt-Anchor" href="#acid"></a> ACID</h2><p>원자성, 일관성, 독립성, 영속성</p><h3 id="atomicity"><a class="markdownIt-Anchor" href="#atomicity"></a> Atomicity</h3><p>트랜잭션 내의 명령은 반드시 완벽히 수행<br>모두가 수행되거나 오류시 전부가 취소되어야함</p><h3 id="consistency"><a class="markdownIt-Anchor" href="#consistency"></a> Consistency</h3><p>DB의 전체 요소는 트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야함 (질량 보존 법칙처럼)</p><h3 id="isolation"><a class="markdownIt-Anchor" href="#isolation"></a> Isolation</h3><p>둘 이상의 트랜잭션이 병행 실행되는 경우 다른 트랜잭션 연산이 끼어들 수 없음<br>수행 중인 트랜잭션은 완료될 때 까지 다른 트랜잭션에서 참조 불가.</p><h3 id="durability"><a class="markdownIt-Anchor" href="#durability"></a> Durability</h3><p>시스템이 고장나도 영구적으로 반영</p><h2 id="crud"><a class="markdownIt-Anchor" href="#crud"></a> CRUD</h2><blockquote><p>Create(생성), Read(읽기), Update(갱신), Delete(삭제)</p></blockquote><h2 id="innodb와-myisam의-차이"><a class="markdownIt-Anchor" href="#innodb와-myisam의-차이"></a> InnoDB와 MyISAM의 차이</h2><img data-src="http://idchowto.com/wp-content/uploads/2015/12/db-storage-engine1.png"><h3 id="참고-2"><a class="markdownIt-Anchor" href="#참고-2"></a> 참고</h3><ul><li><a href="http://idchowto.com/?p=20166" target="_blank" rel="external nofollow noopener noreferrer">MyISAM vs InnoDB Storage Engine</a></li><li><a href="http://ojava.tistory.com/25" target="_blank" rel="external nofollow noopener noreferrer">MySQL Storage Engine의 양대산맥! MyISAM vs InnoDB</a></li></ul><h2 id="mariadb가-mysql보다-나은점"><a class="markdownIt-Anchor" href="#mariadb가-mysql보다-나은점"></a> MariaDB가 MySQL보다 나은점</h2><ul><li>많은 스토리지 엔진</li><li>속도 개선</li><li>확장성과 새로운 기능들 (<code>regexp_replace</code> 등)</li><li>오픈 소스 및 활발한 contribute</li></ul><h3 id="참고-3"><a class="markdownIt-Anchor" href="#참고-3"></a> 참고</h3><ul><li><a href="https://mariadb.com/kb/ko/mariadb-vs-mysql-features/" target="_blank" rel="external nofollow noopener noreferrer">공식 홈페이지</a></li><li><a href="https://xdhyix.wordpress.com/2016/03/24/mysql-%EC%97%90%EC%84%9C-mariadb-%EB%A1%9C-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%95%B4%EC%95%BC%ED%95%A0-10%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%9C%A0/" target="_blank" rel="external nofollow noopener noreferrer">mysql-에서-mariadb-로-마이그레이션-해야할-10가지-이유</a></li></ul><h2 id="증분-백업"><a class="markdownIt-Anchor" href="#증분-백업"></a> 증분 백업</h2><blockquote><p>정해진 시간을 기준으로 그 이후에 변경된 파일만을 백업하는 방식</p></blockquote><h1 id="서버"><a class="markdownIt-Anchor" href="#서버"></a> 서버</h1><h2 id="서버-로드밸런싱"><a class="markdownIt-Anchor" href="#서버-로드밸런싱"></a> 서버 로드밸런싱</h2><p>설명할 수 있음</p><h2 id="이미지-클러스터링"><a class="markdownIt-Anchor" href="#이미지-클러스터링"></a> 이미지 클러스터링</h2><p><a href="https://ko.wikipedia.org/wiki/K-%ED%8F%89%EA%B7%A0_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98" target="_blank" rel="external nofollow noopener noreferrer">k-means</a><br>(피벗 추출 후 2진수 비교인데 아직 이해하기가 힘들다, 18년 말에는 딥러닝을 파보자!)</p><h2 id="build-process-설명"><a class="markdownIt-Anchor" href="#build-process-설명"></a> Build Process 설명</h2><h2 id="deploy-server"><a class="markdownIt-Anchor" href="#deploy-server"></a> Deploy Server</h2><h2 id="git-flow"><a class="markdownIt-Anchor" href="#git-flow"></a> Git Flow</h2><blockquote><p>브랜치 관리 전략</p></blockquote><ul><li>feature: develop에서 분기 후 기능 개발 후 develop으로</li><li>develop: 개발 브랜치</li><li>release: master로의 merge를 위한 준비</li><li>hotfix: master의 버그 픽스 후 develop과 master로 빠른 수정</li><li>master: 프로덕션 브랜치</li></ul><img data-src="https://camo.githubusercontent.com/e1dae4f1f5868a9d043d39824761cff9dabe764f/687474703a2f2f646f67666565742e6769746875622e696f2f61727469636c65732f323031312f612d7375636365737366756c2d6769742d6272616e6368696e672d6d6f64656c2f6769742d6272616e6368696e672d6d6f64656c2e706e67"><h3 id="참고-4"><a class="markdownIt-Anchor" href="#참고-4"></a> 참고</h3><ul><li><a href="https://ujuc.github.io/2015/12/16/git-flow-github-flow-gitlab-flow/" target="_blank" rel="external nofollow noopener noreferrer">Git flow, GitHub flow, GitLab flow</a></li></ul><h2 id="was-세팅-및-튜닝"><a class="markdownIt-Anchor" href="#was-세팅-및-튜닝"></a> WAS 세팅 및 튜닝</h2><h1 id="프론트앤드"><a class="markdownIt-Anchor" href="#프론트앤드"></a> 프론트앤드</h1><h2 id="virtual-dom"><a class="markdownIt-Anchor" href="#virtual-dom"></a> Virtual DOM</h2><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DOM 조작의 실제 문제는 각 조작이 레이아웃 변화, 트리 변화와 렌더링을 일으킨다는겁니다.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Virtual</span> DOM 은 변화가 일어나면 그걸 오프라인 DOM 트리에 적용시키죠. 이 DOM 트리는 렌더링도 되지 않기때문에 연산 비용이 적어요. 연산이 끝나고나면 그 최종적인 변화를 실제 DOM 에 던져주는거에요. 딱 한번만 한는거에요.</span><br><span class="line"></span><br><span class="line">사실, 이 과정은 <span class="keyword">Virtual</span> DOM 이 없이도 이뤄질수 있어요. 그냥, 변화가 있을 때, 그 변화를 묶어서 DOM fragment 에 적용한 다음에 기존 DOM 에 던져주면 돼요.</span><br><span class="line"></span><br><span class="line">그러면, <span class="keyword">Virtual</span> DOM 이 해결 하려고 하는건 무엇이냐? 그 DOM fragment를 관리하는 과정을 수동으로 하나하나 작업 할 필요 없이, 자동화하고 추상화하는거에요. 그 뿐만 아니라, 만약에 이 작업을 여러분들이 직접 한다면, 기존 값 중 어떤게 바뀌었고 어떤게 바뀌지 않았는지 계속 파악하고 있어야하는데 (그렇지 않으면 수정 할 필요가 없는 DOM 트리도 업데이트를 하게 될 수도 있으니까요), 이것도 <span class="keyword">Virtual</span> DOM 이 이걸 자동으로 해주는거에요. 어떤게 바뀌었는지 , 어떤게 바뀌지 않았는지 알아내주죠.</span><br><span class="line"></span><br><span class="line">마지막으로, DOM 관리를 <span class="keyword">Virtual</span> DOM 이 하도록 함으로써, 컴포넌트가 DOM 조작 요청을 할 때 다른 컴포넌트들과 상호작용을 하지 않아도 되고, 특정 DOM 을 조작할 것 이라던지, 이미 조작했다던지에 대한 정보를 공유 할 필요가 없습니다. 즉, 각 변화들의 동기화 작업을 거치지 않으면서도 모든 작업을 하나로 묶어줄 수 있다는거죠.</span><br></pre></td></tr></table></figure><p><a href="https://velopert.com/3236" target="_blank" rel="external nofollow noopener noreferrer">출처</a></p><h2 id="es6"><a class="markdownIt-Anchor" href="#es6"></a> ES6</h2><h2 id="seo"><a class="markdownIt-Anchor" href="#seo"></a> SEO</h2><h2 id="angular"><a class="markdownIt-Anchor" href="#angular"></a> Angular</h2><h2 id="react"><a class="markdownIt-Anchor" href="#react"></a> React</h2><h2 id="vue"><a class="markdownIt-Anchor" href="#vue"></a> Vue</h2>]]></content>
      
      
      <categories>
          
          <category> interview </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Window에서 aws cli 사용시 bad interperter 오류</title>
      <link href="/2018/01/09/Window%EC%97%90%EC%84%9C-aws-cli-%EC%82%AC%EC%9A%A9%EC%8B%9C-bad-interperter-%EC%98%A4%EB%A5%98/"/>
      <url>/2018/01/09/Window%EC%97%90%EC%84%9C-aws-cli-%EC%82%AC%EC%9A%A9%EC%8B%9C-bad-interperter-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p>git bash에서 aws cli 명령어를 실행시에 c:\Program Files… bad interpreter 오류가 나오면서 실행이 안 될 때는 다음과 같이 하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>~/.bash_profile</strong> 에 aws alias를 추가한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.bash_profile</span><br><span class="line"><span class="comment"># aws script 경로를 강제로 지정한다</span></span><br><span class="line"><span class="built_in">alias</span> aws=<span class="string">'python "C:\Program Files\Python\Scripts\aws"'</span></span><br><span class="line"><span class="comment"># 추가 후 저장</span></span><br><span class="line">$ <span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> aws </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloudfront 캐시 지우기</title>
      <link href="/2018/01/05/Cloudfront-%EC%BA%90%EC%8B%9C-%EC%A7%80%EC%9A%B0%EA%B8%B0/"/>
      <url>/2018/01/05/Cloudfront-%EC%BA%90%EC%8B%9C-%EC%A7%80%EC%9A%B0%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>클라우드프론트로 static website hosting 을 할 경우에 삭제된 s3 의 파일이 노출되는 경우가 있다.<br>캐싱처리되어서 보이는 현상인데 다음과 같이 해결하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>Invalidate</strong> 기능을 사용해서 캐시를 지워버리자.<br><strong>Cloudfront Distributions &gt; ID 클릭 &gt; Invalidations</strong> 에서 <strong>Create Invalidation</strong> 버튼을 누른다.</p><img data-src="https://i.imgur.com/qFe6hKj.png"><p><strong>Object Paths</strong>에 캐시를 지울 경로를 입력한다.<br>예를 들어 assets/js 하위의 소스 맵 파일만 지운다면 다음과 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/assets/js/*.map</span><br></pre></td></tr></table></figure><p>입력 후에 <strong>Invalidate</strong> 버튼을 누르면 5~10 분 안에 리스트의 Status 가 Completed 로 변하고 기존 캐시가 사라진다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
          <category> cloudfront </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> aws </tag>
            
            <tag> cloudfront </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pm2 앱에서 git hook시에 nginx 502 gateway timeout 오류</title>
      <link href="/2018/01/04/pm2-%EC%95%B1%EC%97%90%EC%84%9C-git-hook%EC%8B%9C%EC%97%90-nginx-502-gateway-timeout-%EC%98%A4%EB%A5%98/"/>
      <url>/2018/01/04/pm2-%EC%95%B1%EC%97%90%EC%84%9C-git-hook%EC%8B%9C%EC%97%90-nginx-502-gateway-timeout-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>git pull을 hook으로 실행하는데 계속 nginx 502 gateway timeout 오류가 발생해 <code>pm2 logs 앱</code> 또는 <code>nginx log</code>를 계속 추적해도 별다른 에러 로그가 없었다. (<code>exec: Interal Server error</code> 라고만 적혀있었다.)</p><p>삽질 끝에 watch 속성을 사용하고 있는게 문제였다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight js"><figcaption><span>ecosystem.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  apps: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">"server"</span>,</span><br><span class="line">      script: <span class="string">"server.js"</span>,</span><br><span class="line">      env_production: &#123;</span><br><span class="line">        NODE_ENV: <span class="string">"production"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      watch: <span class="literal">true</span>,</span><br><span class="line">      ignore_watch: [<span class="string">"node_modules"</span>, <span class="string">".git"</span>, <span class="string">"yarn.lock"</span>, <span class="string">"package-lock.json"</span>],</span><br><span class="line">      exec_mode: <span class="string">"cluster"</span>,</span><br><span class="line">      instances: <span class="string">"max"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>ignore_watch</strong> 속성에 <strong>.git</strong> 폴더와 다른 폴더들이 제대로 예외처리 되었는지 확인해보자.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> pm2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> nginx </tag>
            
            <tag> pm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx에 letsencrypt 인증서로 https 가장 빨리 적용하기</title>
      <link href="/2018/01/03/nginx-letsencrypt-fastest-way/"/>
      <url>/2018/01/03/nginx-letsencrypt-fastest-way/</url>
      
        <content type="html"><![CDATA[<blockquote><p>centos7 기준</p></blockquote><h1 id="nginx-설치"><a class="markdownIt-Anchor" href="#nginx-설치"></a> nginx 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/yum.repos.d/nginx.repo</span><br><span class="line"></span><br><span class="line">[nginx]</span><br><span class="line">name=nginx repo</span><br><span class="line">baseurl=http://nginx.org/packages/centos/7/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">$ yum makecache</span><br><span class="line">$ yum install -y nginx</span><br><span class="line"></span><br><span class="line">$ vi /etc/nginx/conf.d/default.conf</span><br><span class="line"><span class="comment"># server_name에 도메인 연결</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 문법 체크</span></span><br><span class="line">$ nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># nginx 시작</span></span><br><span class="line">$ systemctl <span class="built_in">enable</span> nginx</span><br><span class="line">$ systemctl start nginx</span><br></pre></td></tr></table></figure><h1 id="certbot-설치"><a class="markdownIt-Anchor" href="#certbot-설치"></a> certbot 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y epel-release</span><br><span class="line">$ yum install -y certbot-nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 인증</span></span><br><span class="line">$ certbot --nginx -d my.domain.com</span><br></pre></td></tr></table></figure><h1 id="ssl-nginx-설정"><a class="markdownIt-Anchor" href="#ssl-nginx-설정"></a> ssl nginx 설정</h1><p><a href="/2017/06/10/CentOS7-LEMP-Stack-%EC%A0%81%EC%9A%A9/#nginx-%EC%97%B0%EB%8F%99">기존 포스트</a> nginx 연동 탭 참조</p><h1 id="renew-설정"><a class="markdownIt-Anchor" href="#renew-설정"></a> renew 설정</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br><span class="line"></span><br><span class="line">1 0 1 * * certbot renew --nginx</span><br><span class="line"></span><br><span class="line">$ systemctl restart crond</span><br></pre></td></tr></table></figure><p><code>systemctl restart nginx</code> 하면 완료</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> nginx </tag>
            
            <tag> letsencrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>리액트 네이티브 윈도우 네트워크 설정 (react-native)</title>
      <link href="/2018/01/01/react-native-windows-network-setting/"/>
      <url>/2018/01/01/react-native-windows-network-setting/</url>
      
        <content type="html"><![CDATA[<p>리액트 네이티브로 개발한 앱을 <code>Expo</code>로 구동 중 <code>network response timed out</code> 에러 메세지가 보인다면 다음과 같이 해결하면 된다.</p><h1 id="방화벽"><a class="markdownIt-Anchor" href="#방화벽"></a> 방화벽</h1><p>인바운드로 19000, 19001 포트를 열어줘야한다.<br><strong>방화벽 &gt; 고급 설정 &gt; 인바운드 규칙 &gt; 새 규칙 &gt; 포트</strong> 에서 아래와 같이 설정해주고 이름은 <code>react-native-expo</code> 등 원하는 이름으로 규칙을 생성하자.</p><img data-src="https://i.imgur.com/fQkG1tn.png"><h1 id="hostname-설정"><a class="markdownIt-Anchor" href="#hostname-설정"></a> Hostname 설정</h1><h2 id="아이피-확인"><a class="markdownIt-Anchor" href="#아이피-확인"></a> 아이피 확인</h2><p>ipconfig로 현재 Wifi가 설정된 내부 아이피 주소를 확인한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">무선 LAN 어댑터 Wi-Fi:</span><br><span class="line">  연결별 DNS 접미사. . . . :</span><br><span class="line">  링크-로컬 IPv6 주소 . . . . : </span><br><span class="line">  IPv4 주소 . . . . . . . . . : 192.168.0.7</span><br><span class="line">  서브넷 마스크 . . . . . . . : 255.255.255.0</span><br><span class="line">  기본 게이트웨이 . . . . . . : 192.168.0.1</span><br></pre></td></tr></table></figure><p><strong>192.168.0.7</strong> 을 기억해 놓자.</p><h2 id="설정-추가"><a class="markdownIt-Anchor" href="#설정-추가"></a> 설정 추가</h2><p><code>REACT_NATIVE_PACKAGER_HOSTNAME</code> 환경 변수를 설정해줘야한다.</p><p>Git Bash 환경에서는 다음과 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> REACT_NATIVE_PACKAGER_HOSTNAME=192.168.0.7</span><br></pre></td></tr></table></figure><h1 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h1><p><code>yarn start</code> 후에 Expo 앱으로 QRCode를 찍으면 정상적으로 실행이 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
          <category> react-native </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
            <tag> react-native </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>utf8 charset에서 emoji 필터링하기</title>
      <link href="/2017/12/27/utf8-charset%EC%97%90%EC%84%9C-emoji-%ED%95%84%ED%84%B0%EB%A7%81/"/>
      <url>/2017/12/27/utf8-charset%EC%97%90%EC%84%9C-emoji-%ED%95%84%ED%84%B0%EB%A7%81/</url>
      
        <content type="html"><![CDATA[<h1 id="개요"><a class="markdownIt-Anchor" href="#개요"></a> 개요</h1><p>utf8 charset 에서는 이모지를 처리할 수 없다.<br><a href="https://blog.lael.be/post/917" target="_blank" rel="external nofollow noopener noreferrer">utf8mb4 언어셋 소개 및 표현범위</a> 포스팅에 따르면 이모지가 mysql 또는 maria 의 utf8 셋의 가변공간을 사용하려 들려 하는 문제인데, utf8mb4 셋으로 변경하면 해결 된다.</p><p>mysql 이거나 maria 의 charset 을 변경하기 힘들 때 text 를 모두 replace 치면 된다. 시작해보자</p><h1 id="php"><a class="markdownIt-Anchor" href="#php"></a> php</h1><p><a href="https://stackoverflow.com/questions/12807176/php-writing-a-simple-removeemoji-function" target="_blank" rel="external nofollow noopener noreferrer">writing a simple removeEmoji function</a> stackoverflow 글에 좋은 함수가 있다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// https://stackoverflow.com/questions/12807176/php-writing-a-simple-removeemoji-function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeEmoji</span><span class="params">($text)</span> </span>&#123;</span><br><span class="line">    $clean_text = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">// Match Emoticons</span></span><br><span class="line">    $regexEmoticons = <span class="string">'/[\x&#123;1F600&#125;-\x&#123;1F64F&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexEmoticons, <span class="string">''</span>, $text);</span><br><span class="line">    <span class="comment">// Match Miscellaneous Symbols and Pictographs</span></span><br><span class="line">    $regexSymbols = <span class="string">'/[\x&#123;1F300&#125;-\x&#123;1F5FF&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexSymbols, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="comment">// Match Transport And Map Symbols</span></span><br><span class="line">    $regexTransport = <span class="string">'/[\x&#123;1F680&#125;-\x&#123;1F6FF&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexTransport, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="comment">// Match Miscellaneous Symbols</span></span><br><span class="line">    $regexMisc = <span class="string">'/[\x&#123;2600&#125;-\x&#123;26FF&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexMisc, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="comment">// Match Dingbats</span></span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;2700&#125;-\x&#123;27BF&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="comment">// Match Flags</span></span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;1F1E6&#125;-\x&#123;1F1FF&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="comment">// Others</span></span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;1F910&#125;-\x&#123;1F95E&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;1F980&#125;-\x&#123;1F991&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;1F9C0&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    $regexDingbats = <span class="string">'/[\x&#123;1F9F9&#125;]/u'</span>;</span><br><span class="line">    $clean_text = preg_replace($regexDingbats, <span class="string">''</span>, $clean_text);</span><br><span class="line">    <span class="keyword">return</span> $clean_text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$textWithEmoji = <span class="string">'thumbs up👍👍'</span>;</span><br><span class="line">$text = removeEmoji($textWithEmoji);</span><br><span class="line"></span><br><span class="line"><span class="comment">// text =&gt; thumbs up</span></span><br></pre></td></tr></table></figure><h1 id="node"><a class="markdownIt-Anchor" href="#node"></a> node</h1><p><a href="https://github.com/mathiasbynens/emoji-regex" target="_blank" rel="external nofollow noopener noreferrer">emoji-regex</a> 라이브러리를 쓰면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add emoji-regex</span><br></pre></td></tr></table></figure><h2 id="소스-2"><a class="markdownIt-Anchor" href="#소스-2"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> emojiRegex = <span class="built_in">require</span>(<span class="string">"emoji-regex"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// const regex = emojiRegex()</span></span><br><span class="line"><span class="keyword">const</span> textWithEmoji = <span class="string">"thumbs up👍👍"</span></span><br><span class="line"><span class="keyword">const</span> text = textWithEmoji.replace(emojiRegex(), <span class="string">""</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// text =&gt; thumbs up</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이모지처리 (붙히고 제거하고), linkify 를 합친 통합 모듈이 있다면 다운로드 수가 좀 될 것 같은데.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> mysql </tag>
            
            <tag> nodejs </tag>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker로 스웨거 설치 후 테마 설정하기 (swagger)</title>
      <link href="/2017/12/26/Docker%EB%A1%9C-Swagger-%EC%84%A4%EC%B9%98-%ED%9B%84-%ED%85%8C%EB%A7%88-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/"/>
      <url>/2017/12/26/Docker%EB%A1%9C-Swagger-%EC%84%A4%EC%B9%98-%ED%9B%84-%ED%85%8C%EB%A7%88-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p><a href="https://hub.docker.com/r/swaggerapi/swagger-ui/" target="_blank" rel="external nofollow noopener noreferrer">Swagger UI</a>와 <a href="https://hub.docker.com/r/swaggerapi/swagger-editor/" target="_blank" rel="external nofollow noopener noreferrer">Swagger Editor</a>를 Docker 로 띄워서 빠르게 사용해보자.<br><a href="https://swaggerhub.com/" target="_blank" rel="external nofollow noopener noreferrer">Swagger Hub</a>에서 작업하는건 한글 입력이 잘 되지 않는 경우가 있었고 <a href="https://github.com/OAI/OpenAPI-Specification" target="_blank" rel="external nofollow noopener noreferrer">OAS3</a>를 사용할 겸 설치하는 게 편하다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>설치는 서버 하나만 있으면 충분하다.</p><h2 id="editor"><a class="markdownIt-Anchor" href="#editor"></a> Editor</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d \</span><br><span class="line">    -p 7000:8080 \</span><br><span class="line">    --restart always \</span><br><span class="line">    --name swagger-editor \</span><br><span class="line">    swaggerapi/swagger-editor</span><br></pre></td></tr></table></figure><h2 id="ui"><a class="markdownIt-Anchor" href="#ui"></a> UI</h2><p>UI 에서는 API 문서를 상대경로로 사용하기 위해 볼륨 마운트를 했다.<br><em>Docker for Windows</em>에서 c 드라이브를 마운트하기 위해서는 아래처럼 <code>//c/path</code> 로 접근하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d \</span><br><span class="line">    -p 9010:8080 \</span><br><span class="line">    -v //c/swagger-spec:/usr/share/nginx/html/spec \</span><br><span class="line">    --restart always \</span><br><span class="line">    --name swagger-ui \</span><br><span class="line">    swaggerapi/swagger-ui</span><br></pre></td></tr></table></figure><h1 id="테마-추가"><a class="markdownIt-Anchor" href="#테마-추가"></a> 테마 추가</h1><p>테마는 <a href="https://github.com/ostranme/swagger-ui-themes" target="_blank" rel="external nofollow noopener noreferrer">나이스한 라이브러리</a>를 사용하자.<br>두 컨테이너 모두 <code>/usr/share/nginx/html/</code> 경로의 <code>index.html</code>을 열어 head 안에 넣어주면 된다.</p><p><code>docker exec</code>로 쉘에 접근하는 건 다 하시리라 믿고 다만, 컨테이너에 bash 쉘이 없기에 기본 sh 쉘로 접근하면 된다.</p><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/swagger-ui-themes@3.0.0/themes/3.x/theme-material.css"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>스웨거에 side menu 가 있는 버전이나 라이브러리가 있으면 좋을텐데, 누가 만들었을 것 같은데 아직 못 찾았다.</p>]]></content>
      
      
      <categories>
          
          <category> swagger </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> swagger </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PWA - 서비스 워커 웹 캐싱 (Web Caching)</title>
      <link href="/2017/12/22/PWA-ServiceWorker-Web-Caching/"/>
      <url>/2017/12/22/PWA-ServiceWorker-Web-Caching/</url>
      
        <content type="html"><![CDATA[<h1 id="개요"><a class="markdownIt-Anchor" href="#개요"></a> 개요</h1><p>Progressive Web App의 시대가 왔다.<br>Client단에서 모든 static 파일을 브라우저에 캐시를 할 수 있고 <strong>웹을 앱처럼 오프라인</strong>에서 작업하게 할 수 있다.<br>그 첫번째로 캐싱에 대해 알아보자.</p><h1 id="준비"><a class="markdownIt-Anchor" href="#준비"></a> 준비</h1><p>Promise, Fetch, Worker 및 Javascript 의 실행 구조, DOM 에 대한 사전지식이 필히 있어야 한다.<br>HTTP Cache 를 걸어봤다면 이해가 쉬울 듯 싶다.</p><h2 id="serviceworker"><a class="markdownIt-Anchor" href="#serviceworker"></a> ServiceWorker</h2><p>서비스 워커는 <strong>브라우저가 백그라운드에서 실행하는 스크립트</strong>이며, <strong>클라이언트에 설치되는 프록시</strong>다.<br>이 개념은 중요해서 외워야한다. <strong>브라우저 백그라운드에서 네트워크를 가로채는 Thread</strong> 라고 보면 된다.</p><p>웹 캐싱 뿐만 아니라 백그라운드 동기화, 웹 푸쉬 등의 기능을 처리할 수 있다. 궁금하다면 <a href="https://serviceworke.rs/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 들어가보자. (포스팅을 다 읽고 들어가보는 걸 추천한다.)</p><p>웹 캐싱은 <a href="https://developer.mozilla.org/ko/docs/Web/API/CacheStorage" target="_blank" rel="external nofollow noopener noreferrer">CacheStorage</a>를 사용한다. Sqlite 같은 클라이언트 데이터베이스인데, Key:value 로 구성된 데이터베이스라고 보면 된다.</p><h3 id="주의"><a class="markdownIt-Anchor" href="#주의"></a> 주의</h3><blockquote><p>https 환경 또는 localhost 도메인에서만 이 기능을 사용할 수 있다.</p></blockquote><p>브라우저별 지원상황은 <a href="https://jakearchibald.github.io/isserviceworkerready/#service-worker-enthusiasm" target="_blank" rel="external nofollow noopener noreferrer">다음</a>과 같다 1803기준 Safari에도 Shipped가 되었다!<br><s>1712 기준 Safari가 아직도 Developement 상태인게 조금 아쉽다</s></p><h3 id="세팅"><a class="markdownIt-Anchor" href="#세팅"></a> 세팅</h3><p><code>sw.js</code>란 파일을 <code>public</code>폴더(index.html이 있는)에 생성하자.<br>그리고 메인 script파일에 다음과 같이 service-worker를 불러오는 구문을 추가한다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// navigator (브라우저)에 serviceWorker 기능이 있는지 확인</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"serviceWorker"</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="comment">// 서비스워커 설치시 DOM 블로킹을 막아준다.</span></span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 서비스워커를 register 하면 promise를 반환한다.</span></span><br><span class="line">    navigator.serviceWorker</span><br><span class="line">      .register(<span class="string">"/sw.js"</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"서비스 워커가 등록되었다."</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>개발자도구를 열고 <strong>Application &gt; ServiceWorkers</strong> 탭으로 가면 설치가 된 것을 확인할 수 있다.</p><img data-src="https://i.imgur.com/zE1BefE.png"><p>이렇게 뜨면 설치된 것이다.</p><h1 id="basic"><a class="markdownIt-Anchor" href="#basic"></a> Basic</h1><p>서비스워커에서는 <code>self</code> 키워드로 자기 자신을 접근할 수 있다. 몇 가지 static 파일들을 캐싱처리 해보자.<br>모던 브라우저에서만 지원이 되므로 <code>arrow function</code>을 사용해도 된다.</p><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> PRE_CACHE_NAME = <span class="string">"캐시-스토리지1"</span>;</span><br><span class="line"><span class="comment">// 캐시하고 싶은 리소스</span></span><br><span class="line"><span class="keyword">var</span> urlsToCache = [</span><br><span class="line">  <span class="string">"/public/image/image1.png"</span>,</span><br><span class="line">  <span class="string">"/public/css/font-awesome.min.css"</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 서비스워커가 설치될 때</span></span><br><span class="line">self.addEventListener(<span class="string">"install"</span>, event =&gt; &#123;</span><br><span class="line">  <span class="comment">// 캐시 등록 이벤트가 끝날 때까지 기다려</span></span><br><span class="line">  event.waitUntil(</span><br><span class="line">    <span class="comment">// '캐시-스토리지1'을 연다.</span></span><br><span class="line">    <span class="comment">// @return &#123;Promise&#125; 연결된 Cache Database를 반환한다.</span></span><br><span class="line">    caches</span><br><span class="line">      .open(PRE_CACHE_NAME)</span><br><span class="line">      .then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"캐시 디비와 연결됨"</span>);</span><br><span class="line">        <span class="comment">// addAll 메소드로 내가 캐싱할 리소스를 다 넣어주자.</span></span><br><span class="line">        <span class="keyword">return</span> cache.addAll(urlsToCache);</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 설치 후에 바로 활성화 단계로 들어갈 수 있게 해준다.</span></span><br><span class="line">        <span class="keyword">return</span> self.skipWaiting();</span><br><span class="line">      &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>이렇게 추가해주고 개발자도구의 Application 탭으로 가서 좌측 메뉴의 <strong>Cache Storage</strong> 를 새로고침 하면 방금 추가한 <strong>캐시-스토리지1</strong>에 내 이미지와 css가 등록된 걸 확인할 수 있다.</p><p>그리고 개발자도구의 Network 탭에서 호출하는 이미지의 size에 **(from ServiceWorker)**가 보인다.</p><h1 id="intermediate"><a class="markdownIt-Anchor" href="#intermediate"></a> Intermediate</h1><p>내용이 업데이트 되야하는 페이지나 리소스에 대해서는 동적으로 캐싱 처리를 해야한다.</p><h2 id="dynamic-caching"><a class="markdownIt-Anchor" href="#dynamic-caching"></a> Dynamic caching</h2><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> DYNAMIC_CACHE_NAME = <span class="string">"다이나믹-캐시-스토리지1"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// fetch event는 어딘가에서 리소스를 가져올 때 모두 실행된다.</span></span><br><span class="line"><span class="comment">// js를 가져오거나 이미지를 가져오거나 페이지를 가져오거나 등등</span></span><br><span class="line">self.addEventListener(<span class="string">"fetch"</span>, event =&gt; &#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 캐시에 있으면 repsonse를 그대로 돌려준다.</span></span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 여기서 request를 복사해준다.</span></span><br><span class="line">      <span class="comment">// request는 스트림으로 fetch 당 한 번만 사용해야하기 때문이다.</span></span><br><span class="line">      <span class="comment">// 근데 event.request로 받아도 실행은 된다</span></span><br><span class="line">      <span class="keyword">var</span> fetchRequest = event.request.clone();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// if (response) return response 구문을 하나로 합칠 수도 있다.</span></span><br><span class="line">      <span class="comment">// return response || fetch(fetchRequest)</span></span><br><span class="line">      <span class="keyword">return</span> fetch(fetchRequest).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 응답이 제대로 왔는지 체크한다.</span></span><br><span class="line">        <span class="comment">// 구글 문서에는 다음과 같이 처리하라고 되어있는데</span></span><br><span class="line">        <span class="comment">// 이 경우 Cross Site Request에 대해 캐싱 처리를 할 수가 없다.</span></span><br><span class="line">        <span class="comment">// if(!response || response.status !== 200 || response.type !== 'basic') &#123;</span></span><br><span class="line">        <span class="keyword">if</span> (!response) &#123;</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 응답은 꼭 복사 해줘야한다.</span></span><br><span class="line">        <span class="keyword">var</span> responseToCache = response.clone();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 캐시 스토리지를 열고 정말 캐싱을 해준다.</span></span><br><span class="line">        caches.open(DYNAMIC_CACHE_NAME).then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">          cache.put(event.request, responseToCache);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 여기서 response를 내보내줘야 캐싱 처리 후에 리소스를 반환한다.</span></span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="오래된-캐시-삭제"><a class="markdownIt-Anchor" href="#오래된-캐시-삭제"></a> 오래된 캐시 삭제</h2><p>캐시 스토리지명을 바꿔 캐시의 버전을 올리면 기존 캐시 스토리지는 삭제해줘야한다.</p><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 서비스 워커가 활성화 될 때</span></span><br><span class="line">self.addEventListener(<span class="string">"activate"</span>, event =&gt; &#123;</span><br><span class="line">  <span class="comment">// 영구적으로 가져갈 캐시 스트리지 화이트리스트</span></span><br><span class="line">  <span class="keyword">var</span> cacheWhiteList = [PRE_CACHE_NAME, DYNAMIC_CACHE_NAME];</span><br><span class="line"></span><br><span class="line">  event.waitUntil(</span><br><span class="line">    <span class="comment">// 캐시 스토리지의 모든 스토리지명을 가져온다.</span></span><br><span class="line">    caches.keys().then(<span class="function"><span class="params">cacheNames</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 캐시를 삭제하는 건 Promise를 반환하므로 Promise.all을 사용해 끝날 시점을 잡아야한다.</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.all(</span><br><span class="line">        <span class="comment">// 이 결과는 [Promise, Promise...] 형태가 되시겠다.</span></span><br><span class="line">        cacheNames.map(<span class="function"><span class="params">cacheName</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 각각의 캐시 스토리지명이 화이트 리스트와 같지 않을 경우</span></span><br><span class="line">          <span class="keyword">if</span> (cacheWhitelist.indexOf(cacheName) === <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="comment">// 캐시를 삭제하는 Promise를 배열에 추가한다.</span></span><br><span class="line">            <span class="keyword">return</span> caches.delete(cacheName);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// activate 시에는 clients claim 메소드를 호출해서</span></span><br><span class="line">  <span class="comment">// 브라우저에 대한 제어권을 가져와야한다.</span></span><br><span class="line">  <span class="keyword">return</span> self.clients.claim();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>결과적으로 <code>DYNAMIC_CACHE_NAME</code>이 아닌 캐시 스토리지는 삭제된다.</p><h2 id="offline-fallback"><a class="markdownIt-Anchor" href="#offline-fallback"></a> offline fallback</h2><p>캐시된 페이지와 리소스는 오프라인에서도 접근이 가능하다.<br>여기서 오류가 발생하면 offline.html 같은 페이지로 떨어지게 할 수 있다. (마치 404 오류 페이지처럼)</p><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">self.addEventListener(<span class="string">'fetch'</span>, event =&gt; &#123;</span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 에러 발생시 캐시되어있는 offline.html로 이동시킨다.</span></span><br><span class="line">        <span class="keyword">return</span> caches.open(CACHE_NAME)</span><br><span class="line">          .then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 들어온 요청의 Accept 헤더가 text/html 을 포함하고 있다면 (페이지 요청이라면)</span></span><br><span class="line">            <span class="keyword">if</span> (event.request.headers.get(<span class="string">'accept'</span>).includes(<span class="string">'text/html'</span>)) &#123;</span><br><span class="line">              <span class="comment">// 캐시된 offline fallback 페이지를 보여준다.</span></span><br><span class="line">              <span class="keyword">return</span> cache.match(<span class="string">'/offline.html'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="advanced"><a class="markdownIt-Anchor" href="#advanced"></a> Advanced</h1><p>서비스워커에 static, dynamic cache를 첨가했는데 소스가 너무 지저분하다.<br>직관적으로 만들어보자.</p><h2 id="리팩토링"><a class="markdownIt-Anchor" href="#리팩토링"></a> 리팩토링</h2><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> STATIC_CACHE_NAME = <span class="string">'STATIC_CACHE_VERSION_1'</span>;</span><br><span class="line">  <span class="keyword">const</span> DYNAMIC_CACHE_NAME = <span class="string">'DYNAMIC_CACHE_VERSION_1'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> WEB_CACHE = &#123;</span><br><span class="line">    init() &#123;</span><br><span class="line">      self.addEventListener(<span class="string">'install'</span>, <span class="keyword">this</span>.staticCacheStrategy.bind(<span class="keyword">this</span>));</span><br><span class="line">      self.addEventListener(<span class="string">'activate'</span>, <span class="keyword">this</span>.deleteOldCache.bind(<span class="keyword">this</span>));</span><br><span class="line">      self.addEventListener(<span class="string">'fetch'</span>, <span class="keyword">this</span>.dynamicCacheStrategy.bind(<span class="keyword">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    staticCacheStrategy(event) &#123;</span><br><span class="line">      <span class="comment">// 스태틱 캐싱</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    deleteOldCache(event) &#123;</span><br><span class="line">      <span class="comment">// 캐시 삭제</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    dynamicCacheStrategy(event) &#123;</span><br><span class="line">      <span class="comment">// 다이나믹 캐싱</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  WEB_CACHE.init();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>IIFE를 사용해 좀 더 예쁘게 변했다.</p><h2 id="cross-domain-request"><a class="markdownIt-Anchor" href="#cross-domain-request"></a> cross domain request</h2><p>서비스워커에서 fetch로 외부 리소스를 가지고오면 <code>opaque</code> response가 반환된다.<br>cors 정책이 설정되어 있지 않아 아무 정보도 가지고 올 수 없는 건데, 이런 리소스만 골라서 캐싱처리를 하고 싶다면 request url이나 response content-type을 가지고 처리할 수 있다.</p><figure class="highlight js"><figcaption><span>sw.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">dynamicCacheStrategy(event) &#123;</span><br><span class="line">  <span class="comment">// 캐싱 처리하고 싶은 content-type</span></span><br><span class="line">  <span class="keyword">var</span> cacheContentsTypes = [</span><br><span class="line">    <span class="string">'image/png'</span>,</span><br><span class="line">    <span class="string">'image/gif'</span>,</span><br><span class="line">    <span class="string">'image/jpeg'</span>,</span><br><span class="line">    <span class="string">'application/font-woff'</span></span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  event.respondWith(</span><br><span class="line">    caches.match(event.request)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> fetchRequest = event.request.clone();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> response || fetch(fetchRequest)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!response) &#123;</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// response header에서 content-type을 가져와 비교한다.</span></span><br><span class="line">        <span class="comment">// 아니면 request.url이 캐싱처리를 할 외부 url인지 확인한다.</span></span><br><span class="line">        <span class="keyword">if</span> (cacheContentsTypes.indexOf(response.headers.get(<span class="string">'content-type'</span>)) !== <span class="number">-1</span></span><br><span class="line">          || event.request.url.indexOf(<span class="string">'external.url'</span>) !== <span class="number">-1</span></span><br><span class="line">        ) &#123;</span><br><span class="line">          caches.open(DYNAMIC_CACHE_NAME)</span><br><span class="line">            .then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">              cache.put(event.request, response.clone());</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.log(error))</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="workbox"><a class="markdownIt-Anchor" href="#workbox"></a> WorkBox</h1><p>이제 클라이언트 캐시가 어떻게 돌아가는지 확인했으니 구글에서 만든 <a href="https://developers.google.com/web/tools/workbox/" target="_blank" rel="external nofollow noopener noreferrer">멋진 라이브러리</a>를 사용해보자.</p><p>간결하고 직관적인 문법으로 위의 구문들을 예쁘게 만들 수 있다.</p><h2 id="stratergy"><a class="markdownIt-Anchor" href="#stratergy"></a> Stratergy</h2><p>그 전에 캐싱 전략을 알아야한다.</p><h3 id="cachefirst"><a class="markdownIt-Anchor" href="#cachefirst"></a> cacheFirst</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/ss-falling-back-to-network.png"><p>캐시부터 요청하고 네트워크를 접근해 리소스를 보여준다.</p><blockquote><p>오프라인을 우선적으로 보여주는 페이지에 적합하다.</p></blockquote><h3 id="cacheonly"><a class="markdownIt-Anchor" href="#cacheonly"></a> cacheOnly</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/ss-cache-only.png"><p>캐시에서만 가져온다.</p><blockquote><p>static file들이 여기에 해당된다.</p></blockquote><h3 id="networkfirst"><a class="markdownIt-Anchor" href="#networkfirst"></a> networkFirst</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/ss-network-falling-back-to-cache.png"><p>네트워크를 먼저 접근하고 오프라인일 경우 캐시를 가져온다.<br>이 방법은 연결이 원활하지 않거나 느린 경우 네트워크가 실패할 때까지 기다린 뒤 리소스가 보여지므로 UX에 좋지 않을 수 있다.</p><h3 id="networkonly"><a class="markdownIt-Anchor" href="#networkonly"></a> networkOnly</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/ss-network-only.png"><p>캐시가 필요없는 GET 메소드가 아닌 다른 메소드가 주로 여기에 해당된다.</p><h3 id="stalewhilerevalidate"><a class="markdownIt-Anchor" href="#stalewhilerevalidate"></a> staleWhileRevalidate</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/cm-stale-while-revalidate.png"><p>이 방식은 그림을 보고 이해하는게 빠르다.<br>캐시를 먼저 가져오고 다음 요청은 네트워크에서 요청된 리소스의 캐시를 반환한다.</p><blockquote><p>주로 이 방식이 사용된다.</p></blockquote><h3 id="cache-then-network"><a class="markdownIt-Anchor" href="#cache-then-network"></a> Cache then network</h3><img data-src="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/images/ss-cache-then-network.png"><p>페이지가 두 개의 요청(캐시에 요청, 네트워크에 요청)을 동시에 하고 캐시된 데이터를 먼저 표시한 다음 네트워크 데이터가 도착하면 페이지를 업데이트를 한다.<br>WorkBox에는 없는 strategy인데 networkFirst보다 UX상 좋다고 한다.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><p>ServiceWorker에서는 라우팅 기능을 사용하기 위해 구글 CDN에서 제공하는 스크립트를 사용하고<br>Pre-Cache를 정의하기 위해 로컬에서 <code>workbox-cli</code>를 추가해야한다.</p><h3 id="importscript"><a class="markdownIt-Anchor" href="#importscript"></a> importScript</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope/importScripts" target="_blank" rel="external nofollow noopener noreferrer">importScript</a>는 ServiceWorker 파일에서만 사용가능한 구문으로 <code>import</code>나 <code>require</code>와 같다고 보면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">importScripts(</span><br><span class="line">  <span class="string">"https://storage.googleapis.com/workbox-cdn/releases/3.2.0/workbox-sw.js"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="workbox-cli"><a class="markdownIt-Anchor" href="#workbox-cli"></a> workbox-cli</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn global add workbox-cli</span><br></pre></td></tr></table></figure><h2 id="메소드"><a class="markdownIt-Anchor" href="#메소드"></a> 메소드</h2><h3 id="precache"><a class="markdownIt-Anchor" href="#precache"></a> precache</h3><p>프리캐시는 정적 자원들을 미리 캐싱처리해서 <strong>Cache Only Stratergy</strong>를 사용하는 것이다.<br>주로 이미지나 css, vendor-js 등을 여기에 담아준다.</p><p>workbox-cli를 설치하고 wizard 명령어를 실행하면 <a href="https://developers.google.com/web/tools/workbox/modules/workbox-cli#configuration" target="_blank" rel="external nofollow noopener noreferrer">config 파일</a>이 생성된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ workbox wizard</span><br></pre></td></tr></table></figure><p>설정을 입맛에 맞게 변경해주고 pre-cache할 파일 목록을 생성해주는 명령어를 실행하자</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ workbox injectManifest config.js</span><br></pre></td></tr></table></figure><p>ServiceWorker에 <code>workbox.precaching.precacheAndRoute([])</code> 구문이 있다면 목록이 들어가 있는 걸 확인할 수 있다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">workbox.precaching.precacheAndRoute([</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"url"</span>: <span class="string">"css/fonts/fontawesome/fontawesome-webfont.eot"</span>,</span><br><span class="line">    <span class="string">"revision"</span>: <span class="string">"674f50d287a8c48dc19ba404d20fe713"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure><h3 id="routing"><a class="markdownIt-Anchor" href="#routing"></a> Routing</h3><p>WorkBox를 사용하는 이유는 바로 이 라우팅에 있다.<br>위에서 많은 양의 라우팅 분기 코드로 캐싱을 처리했는데 WorkBox는 다음과 같이 간결해진다.<br>아래는 이 블로그에 사용하고 있는 코드이다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">importScripts(</span><br><span class="line">  <span class="string">"https://storage.googleapis.com/workbox-cdn/releases/3.4.1/workbox-sw.js"</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// importScripts 후 타이밍 차이로 인해 모듈을 못 불러오는 경우를 방지하기 위해</span></span><br><span class="line"><span class="comment">// 캐싱 정책 모듈 로드를 기다린다.</span></span><br><span class="line">workbox.loadModule(<span class="string">"workbox-strategies"</span>);</span><br><span class="line"></span><br><span class="line">workbox.skipWaiting();</span><br><span class="line">workbox.clientsClaim();</span><br><span class="line"></span><br><span class="line"><span class="comment">// accept 헤더에 text/html 값이 있으면 (html 페이지 요청일 경우)</span></span><br><span class="line"><span class="comment">// networkFirst 캐싱</span></span><br><span class="line">workbox.routing.registerRoute(<span class="function"><span class="params">routeData</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> routeData.event.request.headers.get(<span class="string">"accept"</span>).includes(<span class="string">"text/html"</span>);</span><br><span class="line">&#125;, workbox.strategies.networkFirst());</span><br><span class="line"></span><br><span class="line"><span class="comment">// imgur 요청일 경우 cacheFirst 캐싱</span></span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /.*(?:imgur)\.com.*$/,</span><br><span class="line">  workbox.strategies.cacheFirst()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jsdelivr 요청일 경우 stateWhileRevalidate 캐싱</span></span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /.*(?:jsdelivr)\.net.*$/,</span><br><span class="line">  workbox.strategies.staleWhileRevalidate()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bootcss 요청일 경우 stateWhileRevalidate 캐싱</span></span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /.*(?:bootcss)\.com.*$/,</span><br><span class="line">  workbox.strategies.staleWhileRevalidate()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>코드가 너무 예뻐졌다. callback으로 Request의 모든 걸 캐치해 낼 수 있다.<br>더 구체적으로 쓰고 싶으면 <a href="https://developers.google.com/web/tools/workbox/guides/route-requests" target="_blank" rel="external nofollow noopener noreferrer">문서</a>를 참조하자</p><h2 id="부가-기능"><a class="markdownIt-Anchor" href="#부가-기능"></a> 부가 기능</h2><p>이 기능 말고도 다음과 같은 멋진 기능을 사용할 수 있다, 하지만 언제 쯤 써볼 수 있을지…</p><ul><li><a href="https://developers.google.com/web/tools/workbox/modules/workbox-background-sync" target="_blank" rel="external nofollow noopener noreferrer">backgroundSync</a> (오프라인이 되면 큐에 데이터를 넣고 연결될 시 서버에 전송)</li><li><a href="https://developers.google.com/web/tools/workbox/modules/workbox-broadcast-cache-update" target="_blank" rel="external nofollow noopener noreferrer">broadcastUpdate</a> (postMessage를 사용하는 그 것 맞다)</li><li><a href="https://developers.google.com/web/tools/workbox/modules/workbox-cacheable-response" target="_blank" rel="external nofollow noopener noreferrer">cacheableResponse</a></li></ul><h3 id="offline-ga"><a class="markdownIt-Anchor" href="#offline-ga"></a> offline GA</h3><p>오프라인에서도 <a href="https://developers.google.com/web/tools/workbox/modules/workbox-google-analytics" target="_blank" rel="external nofollow noopener noreferrer">Google Analytics</a> 를 사용할 수 있다.</p><p>한 줄의 코드만 삽입해주면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workbox.googleAnalytics.initialize();</span><br></pre></td></tr></table></figure><h2 id="webpack"><a class="markdownIt-Anchor" href="#webpack"></a> Webpack</h2><p>웹팩에 <a href="https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin" target="_blank" rel="external nofollow noopener noreferrer">WorkBox-Webpack-Plugin</a>을 붙힐 수 있는데 아직 도전을 안 해봤다. 후술할 sw-precache를 굳이 뺄 이유가 없고, 레퍼런스도 워낙 많기에…</p><h1 id="sw-precache"><a class="markdownIt-Anchor" href="#sw-precache"></a> sw-precache</h1><p><code>create-react-app</code>이나 <code>Vue-Cli</code>나 <code>@angular/cli</code> 모두 클라이언트 캐싱에 WorkBox 대신 이 라이브러리를 사용하고 있다. (WorkBox에서 캐싱기능만 떼어낸 라이브러리라고 보면 된다)</p><p>기본 설정을 굳이 안 건들여도 되고, <code>exact</code>해서 사용 중이라면 옵션을 <a href="https://github.com/GoogleChromeLabs/sw-precache" target="_blank" rel="external nofollow noopener noreferrer">라이브러리</a>를 한 번 쯤 봐주는 것도 나쁘지 않다.</p><h1 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h1><ul><li><a href="https://developers.google.com/web/fundamentals/primers/service-workers/" target="_blank" rel="external nofollow noopener noreferrer">Google Web Fundementals Guides Base Technology</a></li><li><a href="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/" target="_blank" rel="external nofollow noopener noreferrer">Google Web Fundamentals Offline cookbook</a></li><li><a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/" target="_blank" rel="external nofollow noopener noreferrer">WorkBox Docs</a></li><li><a href="https://github.com/GoogleChrome/workbox" target="_blank" rel="external nofollow noopener noreferrer">WorkBox</a></li><li><a href="https://github.com/GoogleChromeLabs/sw-precache" target="_blank" rel="external nofollow noopener noreferrer">sw-precache</a></li></ul><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>기술 정리하는 건 시간이 너무 오래 걸린다.</li><li>Redis, eTag, Vanish, SW 까지 사용하면 성능상에 이점은 있겠지만 키를 어떻게 관리해야될지가 중요할 듯</li></ul>]]></content>
      
      
      <categories>
          
          <category> pwa </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> pwa </tag>
            
            <tag> serviceworker </tag>
            
            <tag> cache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>adonisjs 로그 포맷 변경하기 (custom log format)</title>
      <link href="/2017/12/21/adonisjs-custom-log-format/"/>
      <url>/2017/12/21/adonisjs-custom-log-format/</url>
      
        <content type="html"><![CDATA[<p>아도니스는 로깅 모듈로 winston 을 사용하는데 winston 은 로그를 json 포맷으로 출력하고 심지어 timezone 변수가 따로 나온다.</p><blockquote><p>로그는 기본적으로 프로젝트 폴더 하위의 <strong>tmp</strong> 폴더에 생성된다<br>이 폴더가 없으면 로깅이 되지 않으므로 먼저 만들어주자</p></blockquote><p>예를 들면 다음과 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"level"</span>:<span class="string">"info"</span>,<span class="string">"message"</span>:<span class="string">"serving app on http://127.0.0.1:3333"</span>,<span class="string">"timestamp"</span>:<span class="string">"2017-12-21T05:34:50.235Z"</span>&#125;</span><br><span class="line">&#123;<span class="string">"level"</span>:<span class="string">"info"</span>,<span class="string">"message"</span>:<span class="string">"serving app on http://127.0.0.1:3333"</span>,<span class="string">"timestamp"</span>:<span class="string">"2017-12-21T05:45:32.220Z"</span>&#125;</span><br></pre></td></tr></table></figure><p>이걸 다음과 같이 바꿔보자</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2017-12-21 15:01:03.506] INFO serving app on http://127.0.0.1:3333</span><br></pre></td></tr></table></figure><h1 id="수정"><a class="markdownIt-Anchor" href="#수정"></a> 수정</h1><blockquote><p>오늘 날짜를 구하기 위해 <code>moment</code>를 먼저 설치하자.<br><code>winston</code> 패키지는 <code>@adonisjs/framework</code> 패키지에 종속된다.</p></blockquote><figure class="highlight js"><figcaption><span>config/app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = use(<span class="string">'moment'</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; config &#125; = use(<span class="string">'winston'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  logger: &#123;</span><br><span class="line">    transport: <span class="string">'file'</span>,</span><br><span class="line">    ...</span><br><span class="line">    file: &#123;</span><br><span class="line">      driver: <span class="string">'file'</span>,</span><br><span class="line">      name: <span class="string">'adonis-app'</span>,</span><br><span class="line">      <span class="comment">// 파일명을 바꿔준다</span></span><br><span class="line">      filename: <span class="string">`adonis_<span class="subst">$&#123;moment().format(<span class="string">'YYYYMMDD'</span>)&#125;</span>.log`</span>,</span><br><span class="line">      level: <span class="string">'debug'</span>,</span><br><span class="line">      <span class="comment">// json 로그 포맷을 해제하고</span></span><br><span class="line">      json: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">// 원하는 형태로 바꿔준다</span></span><br><span class="line">      formatter: <span class="function">(<span class="params">&#123; level, message, meta &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> now = moment().format(<span class="string">'YYYY-MM-DD HH:mm:ss.SSS'</span>)</span><br><span class="line">        <span class="comment">// 로그 레벨에 색상을 추가하는 작업인데, 굳이 필요하진 않다</span></span><br><span class="line">        <span class="keyword">const</span> logLevel = config.colorize(level, level.toUpperCase())</span><br><span class="line">        <span class="keyword">const</span> formattedMeta = meta &amp;&amp; <span class="built_in">Object</span>.keys(meta).length</span><br><span class="line">                                ? <span class="string">'\n\t'</span>+ <span class="built_in">JSON</span>.stringify(meta)</span><br><span class="line">                                : <span class="string">''</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">`[<span class="subst">$&#123;now&#125;</span>] <span class="subst">$&#123;logLevel&#125;</span> <span class="subst">$&#123;message || <span class="string">''</span>&#125;</span> <span class="subst">$&#123;formattedMeta&#125;</span>`</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="버전"><a class="markdownIt-Anchor" href="#버전"></a> 버전</h1><ul><li>@adonis/framework: 4.0.28</li><li>winston: 2.4.0</li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> adonis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> adonis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>왜 리덕스 사가(Redux-saga) 인가?</title>
      <link href="/2017/12/06/Why-redux-saga/"/>
      <url>/2017/12/06/Why-redux-saga/</url>
      
        <content type="html"><![CDATA[<p><code>redux</code>, <code>redux-thunk</code>, <code>redux-promise-middleware</code>, <code>redux-actions</code>, <code>redux-saga</code> 머리가 뽀개질 지경이다. 결국엔 <code>redux-saga</code>를 써야만 했고 왜 <strong>saga</strong>로 수렴하게 되는지에 대한 삽질기다.</p><blockquote><p>도대체 몇 개의 미들웨어 라이브러리를 파야하는지 화남을 포스팅했기에 <em>오 프론트엔드를 꾸미는데는 리액트가 최고야</em> 라고 생각하는 분들에겐 마음이 안들 수도 있다.<br>정신건강을 위해 <a href="https://github.com/mobxjs/mobx" target="_blank" rel="external nofollow noopener noreferrer">mobx</a> 사용을 추천드립니다.</p></blockquote><h1 id="모듈의-필요성"><a class="markdownIt-Anchor" href="#모듈의-필요성"></a> 모듈의 필요성</h1><h2 id="redux"><a class="markdownIt-Anchor" href="#redux"></a> redux</h2><p>하위, 상위 컴포넌트에 데이터를 props로 넘겨주는게 너무 관리하기 힘들어서 선택한다. 하나의 <strong>Store</strong>(Object)에 SPA의 모든 데이터를 보관한다. 대안으로는 Event Bus Component를 만들면 되는데, 하나의 스토어를 갖는게 그게 그거라 거의 강제된다.<br>redux를 적용하기에 앞서 기존 MVC 패턴에 쩌든 사상을 Flex(단방향) 패턴으로 바꾼다는게 거의 남북간 화합 수준이였다. 이 부분에 있어선 연습만이 답이다. 눈감고 코딩할 수 있을 만큼 예제 프로젝트를 반복해보자.<br>일단 몸에 익으면 action creator가 뭔지 왜 dispatch를 해야하고 reducer로 값을 처리해야 하는지가 뇌에서도 이해가 되는 느낌이였다. (counter 예제는 좋지 않다고 본다. shopping cart예제나 todo 예제가 더 이해하기 쉽다.)</p><ul><li><a href="https://github.com/reactjs/redux" target="_blank" rel="external nofollow noopener noreferrer">Redux</a></li></ul><h2 id="redux-promise-middleware"><a class="markdownIt-Anchor" href="#redux-promise-middleware"></a> redux-promise-middleware</h2><p>redux에서 action의 payload를 비동기 데이터로 넘길 때를 알아서 처리해준다.<br>많은 포스팅이 있는데, 별 쓸모 없다. 실무에서 예제 포스팅을 따라할만한 간단한 비동기 처리 로직은 없다.</p><ul><li><a href="https://github.com/pburtchaell/redux-promise-middleware" target="_blank" rel="external nofollow noopener noreferrer">Redux-promise-middleware</a></li></ul><h2 id="redux-thunk"><a class="markdownIt-Anchor" href="#redux-thunk"></a> redux-thunk</h2><p>하나의 action에서 여러 개의 다른 action을 호출하던지, action이 dispatch되는 걸 조작할 수 있어, 비동기 처리에도 사용한다.<br>멋진 라이브러리이지만 클로저 패턴을 사용해야하므로 소스가 지저분하다.<br>(이게 깔끔하다고 생각하면 쓰면 된다. promise then promise then chaning도 깔끔하다고 생각하다면)</p><ul><li><a href="https://github.com/gaearon/redux-thunk" target="_blank" rel="external nofollow noopener noreferrer">Redux-thunk</a></li></ul><h2 id="redux-actions"><a class="markdownIt-Anchor" href="#redux-actions"></a> redux-actions</h2><p>action, type, reducer의 반복되는 코드를 더 깔끔하게 구현하길 원한다면 이게 답일 수 있다.<br>하지만 이 미들웨어는 구문적인 편의성을 제공하는 것일 뿐 비동기를 처리할 수 없어서 promise, thunk 또는 여기서 소개할 saga가 강제된다. <a href="https://github.com/reduxactions/redux-actions/issues/184" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 참조하자.</p><ul><li><a href="https://github.com/reduxactions/redux-actions" target="_blank" rel="external nofollow noopener noreferrer">Redux-actions</a></li></ul><h2 id="rematch"><a class="markdownIt-Anchor" href="#rematch"></a> rematch</h2><p>1803 최근엔 이 모든 고민을 해결해주는 <a href="https://github.com/rematch/rematch" target="_blank" rel="external nofollow noopener noreferrer">rematch</a> 라는 라이브러리가 있다<br><code>async/await</code>를 사용해 간결한 문법을 제공하는데 아직 삽질해보지 않아 소개정도만 하고 지나가겠다</p><h1 id="redux-saga"><a class="markdownIt-Anchor" href="#redux-saga"></a> redux-saga</h1><p>어떤 action은 promise payload를 뱉고, 어떤 action은 dispatch로 다른 action을 호출하고 어떤 action은 plain object를 뱉고 이런 일관성없는 짓을 계속하다보면 정말 비효율적이라는 느낌을 받는다. 안 받으셨다면 해보시면 느껴질 것이다.</p><p>더 극단적으로 든 생각은 <code>Vuex</code>를 사용하면 그냥 <code>mapGetters</code>, <code>mapActions</code> 두 함수만으로 직관적이고 디자이너도 알아볼 법한 코드로 구현이 가능한데 왜 <code>react</code>를 해야되지? 란 의문이 계속 들었다.</p><p><a href="https://github.com/redux-saga/redux-saga" target="_blank" rel="external nofollow noopener noreferrer">Redux-saga</a>를 접하고는 드디어 state 관리의 친구를 만난 느낌이였다.<br>그렇다면 saga는 뭘까? 한 줄 표현만 기억해보자.</p><blockquote><p>saga란 <strong>action에 대한 listener</strong>이다.<br>음… <strong>액션 리스너</strong>구나. 이벤트 리스너같은 것이군.</p></blockquote><p>설치를 하기 전에 <code>redux</code>와 <code>generator</code>의 개념을 완벽히 이해했다고 가정한다.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yarn add redux react-redux</span></span><br><span class="line">$ yarn add redux-saga</span><br></pre></td></tr></table></figure><p><code>create-react-app</code>으로 생성된 프로젝트로 폴더 구조를 다음과 같이 가져갔다.</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── <span class="built_in">public</span></span><br><span class="line">└── src</span><br><span class="line">    ├── components</span><br><span class="line">    ├── containers</span><br><span class="line">    └── store</span><br><span class="line">      ├── actions</span><br><span class="line">      ├── reducers</span><br><span class="line">      ├── sagas</span><br><span class="line">      └── <span class="keyword">types</span></span><br><span class="line">├── package.json</span><br><span class="line">├── App.js</span><br><span class="line">└── <span class="keyword">index</span>.js</span><br></pre></td></tr></table></figure><h2 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h2><p>게시글을 가져오는 액션으로 시작해보자.<br>예시라 모든 코드를 해당 폴더의 index.js에 넣었다. 분리는 편하신대로 하면 되겠다.</p><blockquote><p><strong>빠르게 훑는 generator</strong></p><ul><li>iterable (돌리고 돌릴 수 있다)</li><li>비동기든 동기든 간에 <code>yield</code> 구문으로 순차적 처리가 가능하다.</li></ul></blockquote><h3 id="type"><a class="markdownIt-Anchor" href="#type"></a> type</h3><figure class="highlight js"><figcaption><span>types/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> FETCH_BOARDS = <span class="string">"FETCH_BOARDS"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> FETCH_BOARDS_FULFILLED = <span class="string">"FETCH_BOARDS_FULFILLED"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> FETCH_BOARDS_REJECTED = <span class="string">"FETCH_BOARDS_REJECTED"</span>;</span><br></pre></td></tr></table></figure><h3 id="action"><a class="markdownIt-Anchor" href="#action"></a> action</h3><figure class="highlight js"><figcaption><span>actions/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchBoards = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</span><br><span class="line">    type: FETCH_BOARDS</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// saga에서 호출하는 액션</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchBoardsFulfilled = <span class="function"><span class="params">boards</span> =&gt;</span> (&#123;</span><br><span class="line">    type: FETCH_BOARDS_FULFILLED,</span><br><span class="line">    payload: boards</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// saga에서 호출하는 액션</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchBoardsRejected = <span class="function"><span class="params">error</span> =&gt;</span> (&#123;</span><br><span class="line">    type: FETCH_BOARDS_REJECTED,</span><br><span class="line">    error</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>action이 pure object만을 반환하는 것을 보고 있으면 아름답다는 생각이 저절로 든다.</p><h3 id="reducer"><a class="markdownIt-Anchor" href="#reducer"></a> reducer</h3><figure class="highlight js"><figcaption><span>reducers/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> INITIAL_STATE = &#123;</span><br><span class="line">    boards: []</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = INITIAL_STATE, &#123; type, payload, error &#125;) =&gt; &#123;</span><br><span class="line">    <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">        <span class="keyword">case</span> FETCH_BOARDS_FULFILLED:</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                boards: payload</span><br><span class="line">            &#125;;</span><br><span class="line">        <span class="keyword">case</span> FETCH_BOARDS_REJECTED:</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                showError: <span class="literal">true</span>,</span><br><span class="line">                error</span><br><span class="line">            &#125;;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="saga"><a class="markdownIt-Anchor" href="#saga"></a> saga</h3><p><code>saga</code>는 action을 listen(watch)한다.</p><figure class="highlight js"><figcaption><span>saga/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; call, spawn, put, takeEvery &#125; <span class="keyword">from</span> <span class="string">"redux-saga/effects"</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> actions <span class="keyword">from</span> <span class="string">"../actions"</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fetchBoardsSaga</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// try catch finally 구문으로 오류 제어가 가능하다.</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 이부분을 call 메소드를 이용해 테스트가 쉽게 바꿀 수 있다.</span></span><br><span class="line">        <span class="comment">// (yeild를 사용하기 때문에 next 명령어로 반복 가능하므로)</span></span><br><span class="line">        <span class="comment">// const &#123; data &#125; = yield call([axios, 'get'], '/boards')</span></span><br><span class="line">        <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">yield</span> axios.get(<span class="string">"/boards"</span>);</span><br><span class="line">        <span class="keyword">yield</span> put(actions.fetchBoardsFulfilled(data));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="keyword">yield</span> put(actions.fetchBoardsRejected(error.response));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">watchBoard</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// type의 action이 실행되면 fetchBoardsSaga도 항상(Every) 실행한다</span></span><br><span class="line">    <span class="keyword">yield</span> takeEvery(FETCH_BOARDS, fetchBoardsSaga);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 모든 listener(watcher)를 하나로 묶어준다.</span></span><br><span class="line"><span class="comment">// rootReducer에 묶어주는 그것과 같다고 보면 된다.</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>* <span class="title">root</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> spawn(watchBoard);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>왜 watcher들을 <code>spawn</code>으로 묶어야하는지는 <a href="https://github.com/redux-saga/redux-saga/issues/760" target="_blank" rel="external nofollow noopener noreferrer">이슈</a>에 나와있다.<br>(여기엔 자동으로 saga가 재시작되는 패턴도 있는데, 아직 활용해본 적은 없다)</p><p><strong>action =&gt; saga =&gt; action =&gt; reducer</strong> 로 연결되는 <code>saga</code>가 완성되었다.</p><h3 id="store"><a class="markdownIt-Anchor" href="#store"></a> store</h3><p>스토어 담는건 각자의 취향이니 어떻게 연결하는지만 보면 된다.</p><figure class="highlight js"><figcaption><span>store/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> createSagaMiddleware, &#123; END &#125; <span class="keyword">from</span> <span class="string">"redux-saga"</span>;</span><br><span class="line"><span class="keyword">const</span> saga = createSagaMiddleware();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">configureStore</span>(<span class="params">initialState</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> store = createStore(</span><br><span class="line">        rootReducer,</span><br><span class="line">        initialState,</span><br><span class="line">        compose(</span><br><span class="line">            applyMiddleware(...middlewares),</span><br><span class="line">            inDevelopment &amp;&amp; <span class="built_in">window</span>.devToolsExtension</span><br><span class="line">                ? <span class="built_in">window</span>.devToolsExtension()</span><br><span class="line">                : <span class="function"><span class="params">f</span> =&gt;</span> f</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    store.runSaga = saga.run;</span><br><span class="line">    store.close = <span class="function"><span class="params">()</span> =&gt;</span> store.dispatch(END);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> store;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = configureStore();</span><br><span class="line">store.runSaga(rootSaga);</span><br></pre></td></tr></table></figure><h2 id="메소드"><a class="markdownIt-Anchor" href="#메소드"></a> 메소드</h2><h3 id="all"><a class="markdownIt-Anchor" href="#all"></a> all</h3><p><code>yield</code> 구문으로 기다리는 건 순차적으로 실행되기 때문에, 동시에 실행되고 전부 <code>resolve</code>되는 패턴이 필요하다면 <code>all</code> 메소드를 사용하면 된다. (Promise.all을 생각하면 쉽다)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span>* <span class="title">testSaga</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  기존 포스팅들에는 이렇게 사용하라는 구문이 많은데</span></span><br><span class="line">    <span class="comment">// deprecated 경고를 뱉는다</span></span><br><span class="line">    <span class="keyword">const</span> [response1, response2] = <span class="keyword">yield</span> [asyncTask1(), asyncTask2()];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 아래와 같이 사용하자</span></span><br><span class="line">    <span class="keyword">const</span> [response1, response2] = <span class="keyword">yield</span> all([asyncTask1(), asyncTask2()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="call"><a class="markdownIt-Anchor" href="#call"></a> call</h3><p><code>Function.prototype.call()</code> 함수와 같다.</p><h3 id="takeevery"><a class="markdownIt-Anchor" href="#takeevery"></a> takeEvery</h3><p>모든 액션시마다 실행 된다.<br><code>GET</code> 메소드에 사용하자.</p><h3 id="takelatest"><a class="markdownIt-Anchor" href="#takelatest"></a> takeLatest</h3><p>액션 호출시에 같은 액션이 실행 중이면 그 액션은 파기되고 마지막 호출만 실행된다.<br><code>POST, PUT, DELETE</code> 같은 리소스 변경 메소드에 사용하자.</p><h3 id="put"><a class="markdownIt-Anchor" href="#put"></a> put</h3><p>액션을 호출한다. <code>dispatch</code>라고 보면 된다.</p><h1 id="다시보기"><a class="markdownIt-Anchor" href="#다시보기"></a> 다시보기</h1><p>비유를 통한 설명이 좋으면 이렇게 이해해도 된다.<br>회사에서 주로 푸드플라이로 서브웨이를 주문하는데 거기에 빗대어 보았다.</p><h2 id="1-board를-가져오는-타입-만들기"><a class="markdownIt-Anchor" href="#1-board를-가져오는-타입-만들기"></a> 1. Board를 가져오는 타입 만들기</h2><ul><li>서브웨이를 푸드플라이로 시킨다고 한다면</li><li><code>const 푸드플라이_서브웨이 = '푸드플라이_서브웨이'</code> 처럼 컴퓨터가 알 수 있게 <code>변수</code>로 행동(액션)의 종류를 설정해주는 것</li><li><code>const 푸드플라이_서브웨이_주문성공 = '푸드플라이_서브웨이_주문성공'</code> 처럼 주문이 완료됬을 때의 행동명도 만들 수 있다.</li></ul><h2 id="2-fetchboards-액션-만들기"><a class="markdownIt-Anchor" href="#2-fetchboards-액션-만들기"></a> 2. fetchBoards 액션 만들기</h2><ul><li>푸드플라이에서 주문서를 넣는 행동과 같다.</li><li>액션은 타입과 결과(payload)를 return하는 함수이다.</li><li>굳이 payload를 안 써도 되는데, 그게 예쁘다.</li></ul><h2 id="3-fetchboards-사가-만들기"><a class="markdownIt-Anchor" href="#3-fetchboards-사가-만들기"></a> 3. fetchBoards 사가 만들기</h2><ul><li>푸드플라이 서버에서 주문서를 처리하는 것</li><li>서버에서 디비 값을 바꾸고 서브웨이로 주문을 밀어넣어주는 것</li><li>마지막에 주문이 들어갔다는 다른 액션을 <code>put</code>으로 호출한다.</li></ul><h2 id="4-fetchboards의-액션과-사가를-연결하기"><a class="markdownIt-Anchor" href="#4-fetchboards의-액션과-사가를-연결하기"></a> 4. fetchBoards의 액션과 사가를 연결하기</h2><ul><li>주문서를 넣으면 푸드플라이의 주문서 로직을 실행해야된다는 걸 컴퓨터에게 알려주는 부분</li><li><code>takeEvery</code>로 감싸면 매번 주문서가 들어올 때마다 로직이 실행된다는 것</li><li><code>takeLatest</code>로 감싸면 매번 주문서가 들어올 때마다 마지막에 들어온 것만 실행하는 것</li><li><code>take</code>는 무한루프가 안 예쁘다.</li></ul><h2 id="5-fetchboards-액션이-완료될-경우-발생하는-fetchboardsfulfilled-액션의-리듀서를-만들기"><a class="markdownIt-Anchor" href="#5-fetchboards-액션이-완료될-경우-발생하는-fetchboardsfulfilled-액션의-리듀서를-만들기"></a> 5. fetchBoards 액션이 완료될 경우 발생하는 fetchBoardsFulfilled 액션의 리듀서를 만들기</h2><ul><li>서브웨이에서 주문서를 받아서 <code>서브웨이 멜트</code> 만드는 준비를 하는 부분</li></ul><h2 id="6-리듀서에서-초기-상태-값을-업데이트-해주기"><a class="markdownIt-Anchor" href="#6-리듀서에서-초기-상태-값을-업데이트-해주기"></a> 6. 리듀서에서 초기 상태 값을 업데이트 해주기</h2><ul><li>초기상태값은 <code>서브웨이 멜트</code>에 터키가 최소 2장, 햄 최소 2장 들어간다 같은 것</li><li>업데이트는 <code>서브웨이 멜트</code>를 진짜 만드는 행동</li></ul><h2 id="7-컴포넌트클래스를-리덕스-스토어와-연결"><a class="markdownIt-Anchor" href="#7-컴포넌트클래스를-리덕스-스토어와-연결"></a> 7. 컴포넌트(클래스)를 리덕스 스토어와 연결</h2><h2 id="8-boards-prop과-fetchboards-action을-가져오기-maptoprops-아실-거에요"><a class="markdownIt-Anchor" href="#8-boards-prop과-fetchboards-action을-가져오기-maptoprops-아실-거에요"></a> 8. Boards Prop과 fetchBoards Action을 가져오기 (map…toProps 아실 거에요)</h2><h2 id="9-componentdidmount-onclick에서-fetchboards-실행"><a class="markdownIt-Anchor" href="#9-componentdidmount-onclick에서-fetchboards-실행"></a> 9. componentDidMount, onClick에서 fetchBoards 실행</h2><h2 id="10-boardsmap-등-dom에-바인딩"><a class="markdownIt-Anchor" href="#10-boardsmap-등-dom에-바인딩"></a> 10. Boards.map 등 DOM에 바인딩</h2><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li><a href="https://redux-saga.js.org/" target="_blank" rel="external nofollow noopener noreferrer">Saga API Docs</a>엔 action을 기다리는 <code>take</code> 기능 등 많은 고급 기능이 있다.</li><li><code>supervisor</code> 패턴으로 구성한 사람도 보이는데 아직 필요성을 잘 못 느끼겠다.</li><li>처음부터 <code>mobx</code>로 시작했어도 쉬웠을텐데</li><li>saga에서 쓰는 개념들은 rx의 스트림과 비슷하게 느껴졌다.</li></ul><blockquote><p>잘 이해가 안 된다면 <code>mobx</code>를 이해하는 게 정신건강에 좋습니다.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue - Laravel Pagination 연동</title>
      <link href="/2017/11/28/Vue-Laravel-Pagination-%EC%97%B0%EB%8F%99/"/>
      <url>/2017/11/28/Vue-Laravel-Pagination-%EC%97%B0%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<p>Laravel에서 <code>paginate</code> 메소드를 <code>json</code>으로 받았을 시에 데이터는 다음과 같다.</p><figure class="highlight json"><figcaption><span>response</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"current_page"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"data"</span>: [&#123;&#125;, &#123;&#125;, &#123;&#125;],</span><br><span class="line">  <span class="attr">"from"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"last_page"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"next_page_url"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"path"</span>: <span class="string">"https://example.com/ajax/list"</span>,</span><br><span class="line">  <span class="attr">"per_page"</span>: <span class="number">15</span>,</span><br><span class="line">  <span class="attr">"prev_page_url"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"to"</span>: <span class="number">8</span>,</span><br><span class="line">  <span class="attr">"total"</span>: <span class="number">8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이 데이터를 <code>blade</code>에서 <code>links</code> 메소드로 쉽게 사용할 수 있는 것 처럼 <code>Vue</code>에서도 그럴 수는 없을까?</p><p><a href="https://github.com/gilbitron/laravel-vue-pagination" target="_blank" rel="external nofollow noopener noreferrer">Laravel Vue Pagination</a> 패키지를 활용하면 된다.<br><strong>SPA</strong>일 경우에는 다운 받고 <strong>Usage</strong> 탭에 적힌대로 바로 사용하면 되지만, Multi Page일경우는 직접 컴포넌트를 가져와야한다.</p><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"post in response.data"</span> <span class="attr">v-text</span>=<span class="string">"post.title"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pagination</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:data</span>=<span class="string">"response"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:limit</span>=<span class="string">"3"</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">pagination-change-page</span>=<span class="string">"fetchPosts"</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      response: &#123;</span><br><span class="line">        data: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="actionscript">      fetchPosts: <span class="function"><span class="keyword">function</span><span class="params">(page)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> vm = <span class="keyword">this</span>;</span></span><br><span class="line">        axios</span><br><span class="line"><span class="actionscript">          .get(<span class="string">"url"</span>, &#123;</span></span><br><span class="line">            params: &#123;</span><br><span class="line">              page: page || 1</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line"><span class="actionscript">          .then(<span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span></span><br><span class="line">            vm.response = response;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="예외처리"><a class="markdownIt-Anchor" href="#예외처리"></a> 예외처리</h1><p><a href="https://github.com/gilbitron/laravel-vue-pagination/blob/master/src/laravel-vue-pagination.js#L25" target="_blank" rel="external nofollow noopener noreferrer">Component 소스</a>의 <em>template</em> 부분을 보면 nav로 감싸져있지 않기에 Laravel 기본 템플릿과 일치시키려면 <code>nav</code> 태그로 감싸주면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> javascript </tag>
            
            <tag> laravel </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-Router Code Splitting - 가장 쉬운 방법</title>
      <link href="/2017/11/23/React-Router-Code-Splitting-%EA%B0%80%EC%9E%A5-%EC%89%AC%EC%9A%B4-%EB%B0%A9%EB%B2%95/"/>
      <url>/2017/11/23/React-Router-Code-Splitting-%EA%B0%80%EC%9E%A5-%EC%89%AC%EC%9A%B4-%EB%B0%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p><code>create-react-app</code>으로 생성한 리액트 앱에 시작시 가져오는 컴포넌트 빼고는 비동기로 불러와야 메인이 가벼워진다.</p><p>검색해보면 <code>AsyncComponent</code>를 만들라는 게 보이는데, 더 쉬운 방법이 있다.</p><h1 id="react-loadable"><a class="markdownIt-Anchor" href="#react-loadable"></a> React-Loadable</h1><p><a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/docs/guides/code-splitting.md#code-splitting" target="_blank" rel="external nofollow noopener noreferrer">React-router 의 Code Splitting</a>탭 에서 찾아볼 수 있는데, 아주 간결하게 컴포넌트를 불러 온다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> Loadable <span class="keyword">from</span> <span class="string">"react-loadable"</span>;</span><br><span class="line"><span class="keyword">import</span> Loading <span class="keyword">from</span> <span class="string">"./Loading"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> LoadableComponent = Loadable(&#123;</span><br><span class="line">  loader: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"./Dashboard"</span>),</span><br><span class="line">  <span class="comment">/* 컴포넌트 로딩시 보여지는 로딩 컴포넌트 */</span></span><br><span class="line">  loading: Loading</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">LoadableDashboard</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">LoadableComponent</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>너무 너무 쉽다. 진작에 이 정도 레벨의 추상화가 있었어야했다.</p><h2 id="옵션"><a class="markdownIt-Anchor" href="#옵션"></a> 옵션</h2><p>자세한 옵션 <code>delay</code>, <code>timeout</code> 등은 <a href="https://github.com/thejameskyle/react-loadable#------------api-docs" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Model Collection 데이터 처리하기</title>
      <link href="/2017/11/22/Laravel-5-5-Model-Collection-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0/"/>
      <url>/2017/11/22/Laravel-5-5-Model-Collection-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>Model Collection의 데이터를 처리하는 메소드를 사용하고 싶을 때 아래처럼 접근하면 된다.</p><blockquote><p>회원 모델과 사용가능한 포인트를 산출하는 <code>availablePoint</code> 메소드가 있다고 가정한다.</p></blockquote><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$members = Member::where(<span class="string">'status'</span>, <span class="number">1</span>)</span><br><span class="line">                   -&gt;get()</span><br><span class="line">                   -&gt;map(<span class="function"><span class="keyword">function</span><span class="params">($member)</span> </span>&#123;</span><br><span class="line">                     <span class="comment">// Model에서 정의된 filter 메소드를 적용할 수 있다.</span></span><br><span class="line">                     <span class="keyword">return</span> $member-&gt;availablePoint();</span><br><span class="line">                   &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// pagination 에서 사용하는 방법</span></span><br><span class="line">$members = Member::where(<span class="string">'status'</span>, <span class="number">1</span>)-&gt;paginate();</span><br><span class="line"><span class="comment">// 쉬운 방법</span></span><br><span class="line">$members-&gt;map(<span class="function"><span class="keyword">function</span><span class="params">($member)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $member-&gt;availablePoint();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 긴 방법</span></span><br><span class="line"><span class="comment">//$members-&gt;getCollection()-&gt;transform(function($member) &#123;</span></span><br><span class="line"><span class="comment">//  return $member-&gt;availablePoint();</span></span><br><span class="line"><span class="comment">//&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pagination에서 data 필드만 필요하다면</span></span><br><span class="line">$members = Member::where(<span class="string">'status'</span>, <span class="number">1</span>)</span><br><span class="line">            -&gt;paginate()</span><br><span class="line">            -&gt;map(<span class="function"><span class="keyword">function</span><span class="params">($member)</span> </span>&#123;</span><br><span class="line">              <span class="keyword">return</span> $member-&gt;availablePoint();</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue로 생성된 DOM에 Events를 붙여야할 때</title>
      <link href="/2017/11/22/Vue%EB%A1%9C-%EC%83%9D%EC%84%B1%EB%90%9C-DOM%EC%97%90-Events%EB%A5%BC-%EB%B6%99%EC%97%AC%EC%95%BC%ED%95%A0-%EB%95%8C/"/>
      <url>/2017/11/22/Vue%EB%A1%9C-%EC%83%9D%EC%84%B1%EB%90%9C-DOM%EC%97%90-Events%EB%A5%BC-%EB%B6%99%EC%97%AC%EC%95%BC%ED%95%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>data 값이 변경되고 나서 <code>.hover</code>, <code>.click</code>과 같은 jQuery 이벤트를 붙여야할 때, DOM이 다시 그려진 완료 시점을 잡아야한다.<br>Vue에서 <code>nextTick</code> 메소드로 이 시점을 잡을 수 있다.<br>(<code>ajax</code>로 데이터를 가져오지 않고 그려지는 DOM은 <code>mounted</code> 메소드 안에 붙힐 Event 로직을 짜면 된다.)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    members: []</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    axios.get(<span class="string">"/members"</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">      vm.members = response.data;</span><br><span class="line"></span><br><span class="line">      <span class="comment">/* promise가 지원되는 환경에서 */</span></span><br><span class="line">      <span class="keyword">return</span> vm.$nextTick();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// promise 미지원시</span></span><br><span class="line">      <span class="comment">/* vm.$nextTick(function() &#123;</span></span><br><span class="line"><span class="comment">          $('.members').hover();</span></span><br><span class="line"><span class="comment">        &#125;);</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(<span class="string">'.members'</span>).hover();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>인스턴스 메소드를 사용하고 싶지 않다면 <code>Vue.nextTick</code>으로 바꿔주면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 선언된 data에 chiledren 추가시 렌더링이 안될 때</title>
      <link href="/2017/11/22/Vue-%EC%84%A0%EC%96%B8%EB%90%9C-data%EC%97%90-chiledren-%EC%B6%94%EA%B0%80%EC%8B%9C-%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2017/11/22/Vue-%EC%84%A0%EC%96%B8%EB%90%9C-data%EC%97%90-chiledren-%EC%B6%94%EA%B0%80%EC%8B%9C-%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p><code>data</code>가 이미 정의 되어있고 나중에 데이터를 추가하면 <code>observer</code>가 생성되지 않아 데이터가 갱신이 되어도 DOM이 업데이트가 안 된다.</p><h1 id="예시"><a class="markdownIt-Anchor" href="#예시"></a> 예시</h1><h2 id="템플릿"><a class="markdownIt-Anchor" href="#템플릿"></a> 템플릿</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"memberList"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"member in members"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    &#123;&#123; member.name &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-if</span>=<span class="string">"member.logs &amp;&amp; member.logs.length &gt; 0"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"log in member.logs"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="js"><a class="markdownIt-Anchor" href="#js"></a> JS</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#memberList'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    members: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'gracefullight'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  mounted: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* member의 logs 데이터는 그냥 배열로 선언된다. */</span></span><br><span class="line">    <span class="keyword">this</span>.members[<span class="number">0</span>].logs = [];</span><br><span class="line">    <span class="comment">/* 데이터를 넣어도 위 템플릿의 &lt;li&gt; 부분이 반복되지 않는다. */</span></span><br><span class="line">    <span class="keyword">this</span>.members[<span class="number">0</span>].logs = [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">'test action'</span>, <span class="attr">created_at</span>: <span class="string">'2017-11-22'</span> &#125;</span><br><span class="line">    ];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><code>set</code> 메소드 또는 <code>$forceUpdate</code> 메소드를 사용하면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1안 */</span></span><br><span class="line">mounted: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.$<span class="keyword">set</span>(this.members[0], 'logs', []);</span><br><span class="line">  this.members[0].logs = [...];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 2안 */</span><br><span class="line">mounted: function() &#123;</span><br><span class="line">  <span class="keyword">this</span>.members[<span class="number">0</span>].logs = [];</span><br><span class="line">  <span class="keyword">this</span>.members[<span class="number">0</span>].logs = [...];</span><br><span class="line">  <span class="keyword">this</span>.$forceUpdate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>adonisjs 시작하기 (nodejs framework)</title>
      <link href="/2017/11/20/adonisjs-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-nodejs-framework/"/>
      <url>/2017/11/20/adonisjs-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-nodejs-framework/</url>
      
        <content type="html"><![CDATA[<h1 id="개요"><a class="markdownIt-Anchor" href="#개요"></a> 개요</h1><p>nodejs로 정말 간단한 <em>oauth2, jwt 등의 인증을 사용하지 않는</em> API를 만들기에는 <code>express</code>가 정말 딱이다.</p><p>하지만 조금 더 깔끔한 코드를 원하거나 새롭지만 반복적인 기능을 넣기 위해선 더 큰 프레임워크가 필요했다.</p><h2 id="조건"><a class="markdownIt-Anchor" href="#조건"></a> 조건</h2><p>언제나 개발시간은 부족하기에 내가 필요한 기능들을 정리해 보았다.</p><ul><li><code>await, async</code>를 아무 세팅 없이 사용해 <code>Promise chaining</code>에서 벗어나고 싶다. (<code>Babel</code>과 <code>Webpack</code>을 직접 세팅하는 시간 걸리는 짓을 안하고 싶다.)</li><li>기본적인 웹 보안기능 (validate, csrf, xss, injection) 및 API Throttle Request 기능이 있어야한다.</li><li><code>소셜 로그인</code>을 <code>passport</code>를 사용하지 않고 한 줄로 끝내고 싶었다.</li><li><code>JWT</code> 인증, <code>Log</code> 기능, <code>Bcrypt</code> 암호화를 직접 붙히고 싶지 않다.</li><li><code>ORM</code>에 맞게 E-commerce DB를 구조화했기 때문에 <code>ORM</code>이 꼭 필요하다.</li><li><strong>직관</strong>적이여야 한다. (Model과 Controller가 완벽히 나뉘는 구조를 원했다.)</li><li><strong>문서화</strong>가 완벽해야한다.</li><li><strong>커뮤니티</strong>나 <strong>Github Issue</strong>가 활성화 되어있어야한다.</li><li>관리자 기능을 SSR로 해야할 가능성이 있어 템플릿 기능이 있어야하며, <code>ejs</code>는 절대 쓰고 싶지 않고 다른 템플릿을 직접 세팅해야하는 일은 더더욱 없어야한다.</li></ul><p>이 조건을 거르니 <code>adonisjs</code> 라는 처음 보는 프레임워크가 눈앞에 있었다.</p><h2 id="성능"><a class="markdownIt-Anchor" href="#성능"></a> 성능</h2><img data-src="https://raygun.com/blog/wp-content/uploads/2017/04/performance-results-1.png"><p>나쁘지 않다. 어차피 <code>nginx</code>에서 <code>reverse proxy</code> 처리에, <code>auto scaling</code> 걸꺼고 그래도 더 빠른 속도를 원하면 <code>golang</code>으로 가야지 왜 이 포스트를 보고있나!</p><ul><li><a href="https://raygun.com/blog/node-js-performance-2017/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 자세한 내용을 확인할 수 있다.</li></ul><h2 id="평판"><a class="markdownIt-Anchor" href="#평판"></a> 평판</h2><p>이 프레임워크를 쓰는 다른 사람은 어떻게 생각할까도 궁금했다.</p><p><a href="https://medium.com/@Charles6Andy/node-js-broken-ecosystem-and-rise-of-adonisjs-46e3d63e5fcc" target="_blank" rel="external nofollow noopener noreferrer">Node.js broken ecosystem and rise of AdonisJs</a>란 포스팅이 마음을 사로잡았다.<br>원문 읽을 시간이 없다면 이 글의 요약은 이 것이다.</p><blockquote><p>Why not use Express + Sequelize + Config manager + Passport + dotEnv + NodeMailer + Node Validator +30 other modules.<br>How assembling 100+ modules manually can be better than a beautifully pre-configured framework?</p></blockquote><p>한글로 번역하면 <strong>왜 안 쓰시죠?</strong> 정도가 되시겠다.</p><h1 id="시작하기"><a class="markdownIt-Anchor" href="#시작하기"></a> 시작하기</h1><h2 id="요구사항"><a class="markdownIt-Anchor" href="#요구사항"></a> 요구사항</h2><ul><li>Node &gt;= 8.0</li><li>NPM &gt;= 3.0</li></ul><p>1711 기준 8.9가 LTS 버전이기 때문에 그냥 쓰면 된다.</p><h2 id="cli-설치"><a class="markdownIt-Anchor" href="#cli-설치"></a> Cli 설치</h2><p>요즘 멋진 프레임워크들은 다들 cli를 가지고 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn global add @adonisjs/cli</span><br></pre></td></tr></table></figure><h2 id="앱-설치"><a class="markdownIt-Anchor" href="#앱-설치"></a> 앱 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ adonis new 프로젝트명</span><br><span class="line">$ <span class="built_in">cd</span> 프로젝트명</span><br><span class="line">$ adonis serve --dev</span><br></pre></td></tr></table></figure><p><code>localhost:3333</code>에서 서버가 돌아간다.</p><img data-src="https://res.cloudinary.com/adonisjs/image/upload/q_100/v1502292352/welcome-page.png"><h1 id="폴더-구조"><a class="markdownIt-Anchor" href="#폴더-구조"></a> 폴더 구조</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── <span class="selector-tag">ace</span></span><br><span class="line">├── <span class="selector-tag">package</span><span class="selector-class">.json</span></span><br><span class="line">├── <span class="selector-tag">public</span></span><br><span class="line">├── <span class="selector-tag">server</span><span class="selector-class">.js</span></span><br><span class="line">└── <span class="selector-tag">start</span></span><br><span class="line">    ├── <span class="selector-tag">app</span><span class="selector-class">.js</span></span><br><span class="line">    ├── <span class="selector-tag">kernel</span><span class="selector-class">.js</span></span><br><span class="line">    └── <span class="selector-tag">routes</span><span class="selector-class">.js</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>파일/폴더</th><th>설명</th></tr></thead><tbody><tr><td>ace</td><td>adonis에서 제공하는 cli 명령어 툴</td></tr><tr><td>package.json</td><td>-</td></tr><tr><td>public</td><td>css, js, images와 같은 public 리소스</td></tr><tr><td>server.js</td><td>HTTP 서버를 부트스트래핑한다. <code>.env</code> 파일의 PORT 변수를 따른다.</td></tr><tr><td>start/app.js</td><td>adonis 실행시 필요한 기능들을 부트스트래핑한다.</td></tr><tr><td>start/kernel.js</td><td>미들웨어를 등록한다.</td></tr><tr><td>start/routes.js</td><td>라우팅</td></tr></tbody></table><h1 id="라우팅"><a class="markdownIt-Anchor" href="#라우팅"></a> 라우팅</h1><p><code>start/routes.js</code>에서 등록한다.</p><h2 id="메소드"><a class="markdownIt-Anchor" href="#메소드"></a> 메소드</h2><p>Route 뒤에 method를 붙히면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Route.get(<span class="string">'/boards'</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Route.get(<span class="string">'/boards/:id'</span>, <span class="keyword">async</span> (&#123; params &#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> board = <span class="keyword">await</span> Board.find(params.id)</span><br><span class="line">  <span class="keyword">return</span> board</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="컨트롤러와-연결"><a class="markdownIt-Anchor" href="#컨트롤러와-연결"></a> 컨트롤러와 연결</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Route.get(<span class="string">'boards'</span>, <span class="string">'BoardController.index'</span>)</span><br><span class="line"><span class="comment">/* 리소스로 사용시에 */</span></span><br><span class="line">Route.resource(<span class="string">'boards'</span>, <span class="string">'BoardController'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 리소스에서 create, edit 메소드를 빼고 사용시 */</span></span><br><span class="line">Route.resource(<span class="string">'boards'</span>, <span class="string">'BoardController'</span>)</span><br><span class="line">  .apiOnly()</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 구미가 당기는 것만 사용시 */</span></span><br><span class="line">Route.resource(<span class="string">'boards'</span>, <span class="string">'BoardController'</span>)</span><br><span class="line">  .only([<span class="string">'index'</span>, <span class="string">'destroy'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 구미가 안 당기는 것을 제외할 시 */</span></span><br><span class="line">Route.resource(<span class="string">'boards'</span>, <span class="string">'BoardController'</span>)</span><br><span class="line">  .except([<span class="string">'index'</span>, <span class="string">'destroy'</span>])</span><br></pre></td></tr></table></figure><h2 id="그룹화"><a class="markdownIt-Anchor" href="#그룹화"></a> 그룹화</h2><p>보통은 기능이 비슷한 것 끼리 그룹화를 해서 가독성을 높인다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* /api/boards routes */</span></span><br><span class="line">Route.group(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  Route.get(<span class="string">'/boards'</span>, <span class="string">'BoardController.index'</span>)</span><br><span class="line">  Route.post(<span class="string">'/boards'</span>, <span class="string">'BoardController.store'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.prefix(<span class="string">'api'</span>)</span><br></pre></td></tr></table></figure><h1 id="컨트롤러"><a class="markdownIt-Anchor" href="#컨트롤러"></a> 컨트롤러</h1><p>cli에서 쉽게 생성이 가능하다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adonis make:controller BoardController</span><br></pre></td></tr></table></figure><h2 id="리소스-컨트롤러"><a class="markdownIt-Anchor" href="#리소스-컨트롤러"></a> 리소스 컨트롤러</h2><p>리소스가 대단한 건 아니고 미리 정의 된 메소드 7개로 RESTful API를 빠르게 만들기 위한 것이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adonis make:controller BoardController --resource</span><br></pre></td></tr></table></figure><p>각 메소드들이 연결되는 건 다음과 같다.</p><ul><li>index: GET boards</li><li>create: GET boards/create</li><li>store: POST boards</li><li>show: GET boards/:id</li><li>edit: GET boards/:id/edit</li><li>update: PUT boards/:id</li><li>destory: DELETE boards/:id</li></ul><h1 id="모델"><a class="markdownIt-Anchor" href="#모델"></a> 모델</h1><p>하나의 모델은 하나의 테이블과 매칭된다고 보면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adonis make:model Board</span><br></pre></td></tr></table></figure><h2 id="모델-구조"><a class="markdownIt-Anchor" href="#모델-구조"></a> 모델 구조</h2><p>모델 생성 후에 몇 가지 설정을 해줘야한다.</p><figure class="highlight js"><figcaption><span>Board.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Board</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 테이블 명을 변경해야할 경우</span></span><br><span class="line">  <span class="comment">// (테이블 명이 모델명의 복수형이 아닐 경우)</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> table() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'board'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 기본 커넥션이 변경될 경우</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> connection() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'mysql'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// PK 컬럼명이 id가 아닐 경우</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> primaryKey() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'uid'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// PK의 Auto Increment가 아닐 경우</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> incrementing() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 비밀번호 같은 컬럼을 보여주지 않아야 될 경우</span></span><br><span class="line">  <span class="comment">// 이 경우 모델에서 fetch 또는 first 메소드로 쿼리빌더를 실행해야된다</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> hidden() &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">'password'</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 생성일 컬럼이 변경될 경우</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> createdAtColumn() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'created_at'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 업데이트일 컬럼이 변경될 경우</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> updatedAtColumn() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'updated_at'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>위 속성을 제외하고는 <a href="http://adonisjs.com/docs/4.0/lucid" target="_blank" rel="external nofollow noopener noreferrer">문서</a>를 참조해보자.</p><h1 id="기존-코드를-내려받을-때"><a class="markdownIt-Anchor" href="#기존-코드를-내려받을-때"></a> 기존 코드를 내려받을 때</h1><p><code>.env.example</code> 파일을 <code>.env</code>로 복사해 환경설정을 해주고 로그를 남기기 위해 <code>tmp</code> 폴더를 생성해준다</p><figure class="highlight bash"><figcaption><span>/</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cp .env.example .env</span><br><span class="line"><span class="comment"># .env 파일을 수정하고</span></span><br><span class="line"></span><br><span class="line">$ mkdir tmp</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이 프레임워크는 라라벨 스타일로 만들어졌기 때문에 (개념이 같다) 모던 PHP 개발자가 되는 건 식은 죽 먹기가 될 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> adonis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> adonis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows에서 환경변수 cmd로 등록하기</title>
      <link href="/2017/11/20/Windows%EC%97%90%EC%84%9C-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-cmd%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0/"/>
      <url>/2017/11/20/Windows%EC%97%90%EC%84%9C-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-cmd%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>매번 <code>내 컴퓨터 &gt; 설정 &gt; 고급 설정 &gt; 환경 변수</code>에 들어가는 걸 그만하고 싶은 사람이라면 다음과 같이 하면 된다.</p><h1 id="추가"><a class="markdownIt-Anchor" href="#추가"></a> 추가</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ setx <span class="built_in">path</span> "<span class="variable">%path%</span>;새로운 경로"</span><br><span class="line"></span><br><span class="line">$ refreshenv</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>환경변수를 등록하고 그 변수를 반영한다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux startup 파일에서 피해야할 것</title>
      <link href="/2017/11/19/Linux-startup-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%ED%94%BC%ED%95%B4%EC%95%BC%ED%95%A0-%EA%B2%83/"/>
      <url>/2017/11/19/Linux-startup-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%ED%94%BC%ED%95%B4%EC%95%BC%ED%95%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<p>스타트업 파일은 사용자가 로그인 할 때 시스템이 어떻게 반응해야 하는지를 결정한다.<br>스타트업 파일 수정시에 다음 사항들을 꼭 피해야한다.</p><h1 id="주의"><a class="markdownIt-Anchor" href="#주의"></a> 주의</h1><ul><li>셸 스타트업 파일에 그래픽 명령을 넣지 않는다.</li><li>셸 스타트업 파일에 DISPLAY 환경 변수를 설정하지 않는다.</li><li>셸 스타트업 파일에 터미널 유형을 설정하지 않는다.</li><li>스타트업 파일에서 표준 출력으로 인쇄하는 명령을 실행하지 않는다.</li><li>셸 스타트업 파일에 LD_LIBRARY_PATH를 결코 설정하지 않는다.</li></ul><blockquote><p>LD_LIBRARY_PATH 변수 조작시 런타임 링커가 모든 프로그램에 대해 이 디렉터리들을 찾기 때문에 충돌을 일으킬 수 있고, 라이브러리의 조합이 틀어질 수 있기 때문이다.</p></blockquote><p>추가적으로 디폴트 스타트업 파일에 상세한 주석을 충분히 첨부한다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> linux </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Model Event Listener</title>
      <link href="/2017/11/18/Laravel-5-5-Model-Event-Listener/"/>
      <url>/2017/11/18/Laravel-5-5-Model-Event-Listener/</url>
      
        <content type="html"><![CDATA[<p>라라벨 이벤트 리스너 기능을 붙혀보자.<br>Model이 Create 될 때 이벤트 리스너를 붙혀 다른 기능을 연결하는 예제가 가장 쉽다.<br>(예를 들면 로그가 생성될 때 SMS를 날리는 경우)</p><h1 id="이벤트-생성"><a class="markdownIt-Anchor" href="#이벤트-생성"></a> 이벤트 생성</h1><h2 id="eventserviceprovider"><a class="markdownIt-Anchor" href="#eventserviceprovider"></a> EventServiceProvider</h2><p>먼저 EventServiceProvider에 내가 사용할 이벤트와 리스너를 등록해줘야한다.</p><figure class="highlight php"><figcaption><span>app/Providers/EventServiceProvider</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">protected</span> $listen = [</span><br><span class="line">    <span class="comment">// 로그 생성시 이벤트를</span></span><br><span class="line">    <span class="string">'App\Events\LogCreated'</span> =&gt; [</span><br><span class="line">      <span class="comment">// 로그 생성됨 리스너에 연결시켜준다.</span></span><br><span class="line">      <span class="string">'App\Listeners\LogCreatedListener'</span>,</span><br><span class="line">    ],</span><br><span class="line">  ];</span><br></pre></td></tr></table></figure><blockquote><p><code>$listen</code> 변수에 기본으로 등록되어있는 이벤트는 지워주자</p></blockquote><h2 id="generate"><a class="markdownIt-Anchor" href="#generate"></a> generate</h2><p>이제 소스 파일을 생성시켜준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan event:generate</span><br></pre></td></tr></table></figure><p>명령어를 실행하면 <code>app/Events</code>와 <code>app/Listeners</code>에 방금 등록한 이벤트 리스너 파일이 자동으로 생성된다.</p><h1 id="바인딩"><a class="markdownIt-Anchor" href="#바인딩"></a> 바인딩</h1><h2 id="모델"><a class="markdownIt-Anchor" href="#모델"></a> 모델</h2><p>모델에서 방금 추가된 이벤트를 연결시켜주자.</p><figure class="highlight php"><figcaption><span>app/Models/Log</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Events</span>\<span class="title">LogCreated</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Log</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">protected</span> $dispatchesEvents = [</span><br><span class="line">    <span class="comment">// 모델이 create(insert) 되면 해당 이벤트를 호출한다.</span></span><br><span class="line">    <span class="string">'created'</span> =&gt; LogCreated::class</span><br><span class="line">    <span class="comment">// use 구문을 사용하지 않고 여기에 직접 "App\Events\LogCreated" 로 정의해도 될 것 같은데 테스트는 안 해봤다.</span></span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="이벤트"><a class="markdownIt-Anchor" href="#이벤트"></a> 이벤트</h2><p>이벤트에서 해당 모델을 연결시켜주자.</p><figure class="highlight php"><figcaption><span>app/Events/LogCreated</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Models</span>\<span class="title">Log</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogCreated</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">use</span> <span class="title">Dispatchable</span>, <span class="title">InteractsWithSockets</span>, <span class="title">SerializesModels</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 리스너에서 받을 모델 변수를 public으로 생성한다.</span></span><br><span class="line">  <span class="keyword">public</span> $log;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// DI</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Log $log)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;log = $log;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">broadcastOn</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="comment">// 채널을 이용하지 않을 것이기에 빈 배열을 리턴시킨다.</span></span><br><span class="line">    <span class="keyword">return</span> [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="처리"><a class="markdownIt-Anchor" href="#처리"></a> 처리</h1><p>리스너에서 받은 이벤트를 처리하자.</p><figure class="highlight php"><figcaption><span>app/Listeners/LogCreatedListener</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Events</span>\<span class="title">LogCreated</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogCreatedListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">(LogCreated $event)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="comment">// Events의 public으로 선언한 데이터가 $event 아래로 바인딩 된다.</span></span><br><span class="line"></span><br><span class="line">    $log = $event-&gt;log;</span><br><span class="line">    logger(<span class="string">'LOG Received'</span>);</span><br><span class="line">    logger($log);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 여기서 기능을 구현하면 된다.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>ShouldQueue</code>로 확장해 큐에 담을 수도 있다.</p></blockquote><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>메일 발송과 비슷한 플로우였다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue에서 jquery와 bootstrap 전역으로 사용하기</title>
      <link href="/2017/11/17/Vue%EC%97%90%EC%84%9C-jquery%EC%99%80-bootstrap-%EC%A0%84%EC%97%AD%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>/2017/11/17/Vue%EC%97%90%EC%84%9C-jquery%EC%99%80-bootstrap-%EC%A0%84%EC%97%AD%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p><code>expose-loader</code>의 설치가 필요 없는 방법을 사용해보자</p><p><a href="https://vuejs-kr.github.io/jekyll/update/2017/03/02/vuejs-jquery-bootstrap/" target="_blank" rel="external nofollow noopener noreferrer">Vuejs-kr</a>에 좋은 내용이 있지만 웹팩을 통해 jquery를 꺼내는 방법이 더 간단하다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add jquery bootstrap</span><br></pre></td></tr></table></figure><h1 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h1><h2 id="webpack"><a class="markdownIt-Anchor" href="#webpack"></a> webpack</h2><figure class="highlight js"><figcaption><span>build/webpack.base.conf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">      $: <span class="string">'jquery'</span>,</span><br><span class="line">      jquery: <span class="string">'jquery'</span>,</span><br><span class="line">      <span class="string">'window.jQuery'</span>: <span class="string">'jquery'</span>,</span><br><span class="line">      jQuery: <span class="string">'jquery'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="eslint"><a class="markdownIt-Anchor" href="#eslint"></a> eslint</h2><figure class="highlight js"><figcaption><span>.enlintrs.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  globals: &#123;</span><br><span class="line">    <span class="string">"$"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"jQuery"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h1><figure class="highlight js"><figcaption><span>src/main.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> <span class="string">'bootstrap'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;...&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
            <tag> bootstrap </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Top 명령어 단축키</title>
      <link href="/2017/11/16/Top-%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%8B%A8%EC%B6%95%ED%82%A4/"/>
      <url>/2017/11/16/Top-%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%8B%A8%EC%B6%95%ED%82%A4/</url>
      
        <content type="html"><![CDATA[<p><code>top</code> 명령어는 자주 치는 명령어지만 예쁘게 소팅하기란 쉽지 않다.</p><h1 id="단축키"><a class="markdownIt-Anchor" href="#단축키"></a> 단축키</h1><table><thead><tr><th>단축키</th><th>내용</th></tr></thead><tbody><tr><td>spacebar</td><td>화면 즉시 업데이트</td></tr><tr><td>M</td><td>현재 상주 메모리 사용량에 따라 분류</td></tr><tr><td>T</td><td>전체 누적 CPU 사용량에 따라 분류</td></tr><tr><td>P</td><td>현재 CPU 사용량(디폴트 값)에 따라 분류</td></tr><tr><td>c</td><td>프로세스 경로 표시</td></tr><tr><td>u</td><td>오로지 한 사용자의 프로세스만 보여줌</td></tr><tr><td>f</td><td>다른 종류의 통계 자료가 나타나도록 선택</td></tr><tr><td>?</td><td>모든 top 명령에 대한 사용법의 개요를 보여준다.</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maria DB에서 정규식 치환하기</title>
      <link href="/2017/11/16/Maria-DB%EC%97%90%EC%84%9C-%EC%A0%95%EA%B7%9C%EC%8B%9D-%EC%B9%98%ED%99%98/"/>
      <url>/2017/11/16/Maria-DB%EC%97%90%EC%84%9C-%EC%A0%95%EA%B7%9C%EC%8B%9D-%EC%B9%98%ED%99%98/</url>
      
        <content type="html"><![CDATA[<p>MySQL에서는 정규식 치환 함수가 없지만 Maria에서는 <code>REGEX_REPLACE</code> 함수로 제공된다.</p><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><h2 id="구문"><a class="markdownIt-Anchor" href="#구문"></a> 구문</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REGEXP_REPLACE(subject, pattern, <span class="keyword">replace</span>)</span><br></pre></td></tr></table></figure><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REGEXP_REPLACE(<span class="string">'gracefullight.eks012@gmail.com'</span>, <span class="string">'(graceful)(light)\.(.*)'</span>, <span class="string">'\\1 \\3 \\2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 결과 */</span></span><br><span class="line">'graceful eks012@gmail.com light'</span><br></pre></td></tr></table></figure><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><p>자세한 예제는 <a href="https://mariadb.com/kb/en/library/regexp_replace/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> maria </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>/etc/passwd 파일 구조</title>
      <link href="/2017/11/14/etc-passwd-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0/"/>
      <url>/2017/11/14/etc-passwd-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="구조"><a class="markdownIt-Anchor" href="#구조"></a> 구조</h1><blockquote><p>로그인명:비빌번호:사용자 ID:그룹 ID:실제 유저명:홈 디렉토리:쉘</p></blockquote><ul><li>예시: root❌0:0:superuser:/root:/bin/bash</li><li>주석이나 공백은 허용되지 않는다.</li></ul><h2 id="비밀번호-필드"><a class="markdownIt-Anchor" href="#비밀번호-필드"></a> 비밀번호 필드</h2><ul><li>x 표시: 암호화된 비밀번호가 <em>/etc/shadow</em> 파일에 저장되어 있다는 것</li><li>* 표시: 로그인할 수 없는 사용자</li><li>공백: 로그인시 비밀번호가 필요 없음</li></ul><h1 id="비밀번호-변경"><a class="markdownIt-Anchor" href="#비밀번호-변경"></a> 비밀번호 변경</h1><ul><li>passwd 명령어는 누구나 알지만</li><li>vipw 로 /etc/passwd 파일을 통째로 편집 가능</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> linux </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React에서 jquery, bootstrap 전역으로 사용하기</title>
      <link href="/2017/11/14/React%EC%97%90%EC%84%9C-jquery-bootstrap-%EC%A0%84%EC%97%AD%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>/2017/11/14/React%EC%97%90%EC%84%9C-jquery-bootstrap-%EC%A0%84%EC%97%AD%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>create-react-app으로 만들어진 react 앱에서 jquery와 bootstrap을 사용하려면 다음과 같이 설정해주면 된다.</p><figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'jquery/src/jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'bootstrap'</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
            <tag> bootstrap </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis Flush가 안 될 경우 전체 캐시 비우기</title>
      <link href="/2017/11/08/Redis-Flush%EA%B0%80-%EC%95%88-%EB%90%A0-%EA%B2%BD%EC%9A%B0-%EC%A0%84%EC%B2%B4-%EC%BA%90%EC%8B%9C-%EB%B9%84%EC%9A%B0%EA%B8%B0/"/>
      <url>/2017/11/08/Redis-Flush%EA%B0%80-%EC%95%88-%EB%90%A0-%EA%B2%BD%EC%9A%B0-%EC%A0%84%EC%B2%B4-%EC%BA%90%EC%8B%9C-%EB%B9%84%EC%9A%B0%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>FLUSH 명령어는 보안상 empty 값으로 대체되어있는 경우가 많은데, 이 경우 전체를 비우는 명령어가 없어서 편법을 써야한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli -a <span class="string">'비밀번호'</span> KEYS <span class="string">"*"</span> | xargs redis-cli -a <span class="string">'비밀번호'</span> DEL</span><br></pre></td></tr></table></figure><p>이 명령은 모든 키 리스트를 가져와 하나씩 지워준다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cache </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue multi page app에서 코드가 미리보이는 현상 제거</title>
      <link href="/2017/11/08/Vue-multi-page-app%EC%97%90%EC%84%9C-%EC%BD%94%EB%93%9C%EA%B0%80-%EB%AF%B8%EB%A6%AC%EB%B3%B4%EC%9D%B4%EB%8A%94-%ED%98%84%EC%83%81-%EC%A0%9C%EA%B1%B0/"/>
      <url>/2017/11/08/Vue-multi-page-app%EC%97%90%EC%84%9C-%EC%BD%94%EB%93%9C%EA%B0%80-%EB%AF%B8%EB%A6%AC%EB%B3%B4%EC%9D%B4%EB%8A%94-%ED%98%84%EC%83%81-%EC%A0%9C%EA%B1%B0/</url>
      
        <content type="html"><![CDATA[<p>뷰에 데이터가 바인딩 되기전 <code></code> 구문이 보일 때 다음과 같이 하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><a href="https://vuejs.org/v2/api/#v-cloak" target="_blank" rel="external nofollow noopener noreferrer">v-cloak api</a>에 자세하게 나와있다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- vue가 바인딩 될 영역에 v-cloak attribute를 추가한다 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vue_area"</span> <span class="attr">v-cloak</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="더-멋진-방법"><a class="markdownIt-Anchor" href="#더-멋진-방법"></a> 더 멋진 방법</h1><p>로딩시에 content 영역에 loading…이라는 문구를 찍어주는 방법으로<br><a href="https://medium.com/vuejs-tips/v-cloak-45a05da28dc4" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에 자세히 설명되어있다.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &gt; * &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[v-cloak]</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"loading..."</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5에 JWT (Json Web Token) Auth 추가하기</title>
      <link href="/2017/11/02/Laravel-5-5-JWT-Auth-Guide/"/>
      <url>/2017/11/02/Laravel-5-5-JWT-Auth-Guide/</url>
      
        <content type="html"><![CDATA[<p>검색해 나온 포스트들은 5.4버전에 대해서만 나와있어서, 5.5에서는 아무짝에 쓸모가 없었다.<br>라라벨에서 좃인증을 시작해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="jwt-auth"><a class="markdownIt-Anchor" href="#jwt-auth"></a> jwt-auth</h2><p>171103 기준으로 dev-develop 버전의 패키지를 설치해야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require tymon/jwt-auth:1.0.0-rc.1</span><br></pre></td></tr></table></figure><h2 id="service-provider-등록"><a class="markdownIt-Anchor" href="#service-provider-등록"></a> service provider 등록</h2><figure class="highlight php"><figcaption><span>config/app.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="string">'providers'</span> =&gt; [</span><br><span class="line">  ...</span><br><span class="line">  Tymon\JWTAuth\Providers\LaravelServiceProvider::class,</span><br><span class="line">],</span><br><span class="line"></span><br><span class="line"><span class="string">'alias'</span> =&gt; [</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'JWTAuth'</span> =&gt; Tymon\JWTAuth\Facades\JWTAuth::class</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h2 id="설정파일-publish"><a class="markdownIt-Anchor" href="#설정파일-publish"></a> 설정파일 publish</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan vendor:publish --provider=<span class="string">"Tymon\JWTAuth\Providers\LaravelServiceProvider"</span> --force</span><br></pre></td></tr></table></figure><h2 id="secret-key-생성"><a class="markdownIt-Anchor" href="#secret-key-생성"></a> secret key 생성</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan jwt:secret</span><br></pre></td></tr></table></figure><h1 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h1><h2 id="api-route-설정"><a class="markdownIt-Anchor" href="#api-route-설정"></a> API Route 설정</h2><p>API 가드와 유저 모델을 설정하다.</p><figure class="highlight php"><figcaption><span>config/auth.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">  <span class="string">'defaults'</span> =&gt; [</span><br><span class="line">    <span class="string">'guard'</span> =&gt; <span class="string">'api'</span>, <span class="comment">// 기본 가드를 api로 변경</span></span><br><span class="line">    <span class="string">'passwords'</span> =&gt; <span class="string">'users'</span>,</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  <span class="string">'guards'</span> =&gt; [</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'api'</span> =&gt; [</span><br><span class="line">      <span class="string">'driver'</span> =&gt; <span class="string">'jwt'</span>, <span class="comment">// api 가드를 jwt 인증을 사용</span></span><br><span class="line">      <span class="string">'provider'</span> =&gt; <span class="string">'users'</span>,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  <span class="string">'providers'</span> =&gt; [</span><br><span class="line">    <span class="string">'users'</span> =&gt; [</span><br><span class="line">      <span class="string">'driver'</span> =&gt; <span class="string">'eloquent'</span>,</span><br><span class="line">      <span class="string">'model'</span> =&gt; App\Models\Member::class, <span class="comment">// 유저 모델을 해당 모델로 변경</span></span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  ...</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h2 id="member-model-설정"><a class="markdownIt-Anchor" href="#member-model-설정"></a> Member Model 설정</h2><figure class="highlight php"><figcaption><span>app/Models/Member.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// jwt를 모델에서 사용하기 위해 추가한다.</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Tymon</span>\<span class="title">JWTAuth</span>\<span class="title">Contracts</span>\<span class="title">JWTSubject</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Member</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span> <span class="keyword">implements</span> <span class="title">JWTSubject</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="comment">// 아래 두 메소드가 구현되어야 실행된다.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getJWTIdentifier</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;getKey();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getJWTCustomClaims</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="사용하기"><a class="markdownIt-Anchor" href="#사용하기"></a> 사용하기</h1><h2 id="login"><a class="markdownIt-Anchor" href="#login"></a> login</h2><figure class="highlight php"><figcaption><span>app/Http/MemberController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  $credentials = <span class="keyword">$this</span>-&gt;validate($request, [</span><br><span class="line">    <span class="string">'id'</span> =&gt; <span class="string">'required|string'</span>,</span><br><span class="line">    <span class="string">'password'</span> =&gt; <span class="string">'required|string'</span></span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ($token = <span class="keyword">$this</span>-&gt;guard()-&gt;attempt($credentials)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;respondWithToken($token);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response()-&gt;json([<span class="string">'message'</span> =&gt; <span class="string">'Unauthorized'</span>], <span class="number">401</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">respondWithToken</span><span class="params">($token)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> response()-&gt;json([</span><br><span class="line">    <span class="string">'access_token'</span> =&gt; $token,</span><br><span class="line">    <span class="string">'token_type'</span> =&gt; <span class="string">'bearer'</span>,</span><br><span class="line">    <span class="string">'expires_in'</span> =&gt; <span class="keyword">$this</span>-&gt;guard()-&gt;factory()-&gt;getTTL() * <span class="number">60</span></span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">guard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> Auth::guard();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="authorized-routes"><a class="markdownIt-Anchor" href="#authorized-routes"></a> Authorized Routes</h2><h3 id="accept-header"><a class="markdownIt-Anchor" href="#accept-header"></a> Accept Header</h3><blockquote><p><strong>application/json</strong> 로 설정해야 오류가 예쁘게 반환된다.</p></blockquote><h3 id="token-태우기"><a class="markdownIt-Anchor" href="#token-태우기"></a> token 태우기</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># header 이용한 방법</span></span><br><span class="line">Authorization: Bearer yourtokens...</span><br><span class="line"></span><br><span class="line"><span class="comment"># Querystring으로도 인증 가능</span></span><br><span class="line">https://gracefullight.github.io/me?token=yourtokens...</span><br></pre></td></tr></table></figure><h3 id="routes"><a class="markdownIt-Anchor" href="#routes"></a> routes</h3><figure class="highlight php"><figcaption><span>routes/api.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Route::group([<span class="string">'middleware'</span> =&gt; <span class="string">'auth:api'</span>], <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Route::get(<span class="string">'member/logout'</span>, <span class="string">'MemberController@logout'</span>);</span><br><span class="line">  Route::get(<span class="string">'member/me'</span>, <span class="string">'MemberController@me'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="logout"><a class="markdownIt-Anchor" href="#logout"></a> logout</h2><figure class="highlight php"><figcaption><span>app/Http/MemberController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">logout</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">$this</span>-&gt;guard()-&gt;logout();</span><br><span class="line">  <span class="keyword">return</span> response(<span class="keyword">null</span>, <span class="number">204</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="refresh"><a class="markdownIt-Anchor" href="#refresh"></a> refresh</h2><p>refresh는 auth:api 미들웨어 없이 처리되어야한다.</p><figure class="highlight php"><figcaption><span>app/Http/MemberController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">refresh</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;respondWithToken(<span class="keyword">$this</span>-&gt;guard()-&gt;refresh());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>Expired거나 Unauthoriezed경우 status code로 체크하면 된다.<br>5.5버전 메뉴얼이 부족하다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
            <tag> jwt </tag>
            
            <tag> oauth </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker jenkins 설치시 permission 오류</title>
      <link href="/2017/10/28/Docker-jenkins-%EC%84%A4%EC%B9%98%EC%8B%9C-permission-%EC%98%A4%EB%A5%98/"/>
      <url>/2017/10/28/Docker-jenkins-%EC%84%A4%EC%B9%98%EC%8B%9C-permission-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p>run시에 젠킨스가 올라가지 않고 <code>/var/jenkins/home</code>에 파일 퍼미션 오류가 발생할 때 다음과 같이 해결하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>마운트한 볼륨에 1000 유저 권한을 준다. (jenkins의 uid는 1000) <a href="https://hub.docker.com/_/jenkins/" target="_blank" rel="external nofollow noopener noreferrer">docker hub</a>에 나와있는 내용이긴 한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chown 1000 &#123;볼륨 경로&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> jenkins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS Cli S3 파일 업로드</title>
      <link href="/2017/10/24/AWS-Cli-S3-%ED%8C%8C%EC%9D%BC-%EC%97%85%EB%A1%9C%EB%93%9C/"/>
      <url>/2017/10/24/AWS-Cli-S3-%ED%8C%8C%EC%9D%BC-%EC%97%85%EB%A1%9C%EB%93%9C/</url>
      
        <content type="html"><![CDATA[<p>웹 상에서 파일을 업로드할 때 md5 checksum 오류가 발생해 파일이 전체가 다 안 올라가는 경우도 있고, 세션이 만료되 올라가는 도중에 끊기기도 하는 것 같다.</p><h1 id="업로드-방법"><a class="markdownIt-Anchor" href="#업로드-방법"></a> 업로드 방법</h1><p>업로드 할 bucket 의 이름을 조회한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ aws s3 ls</span><br></pre></td></tr></table></figure><p>앞이 복사할 폴더이고 뒤가 파일이 복사될 s3 bucket 경로이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ aws s3 cp ./ s3://&#123;bucket_name&#125;/&#123;path&#125;/ --recursive --exclude <span class="string">"*.mp4"</span> --acl public-read</span><br></pre></td></tr></table></figure><p>mp4 를 제외한 폴더의 모든 하위 파일들을 public-read 권한으로 업로드했다.</p><h1 id="옵션-확인"><a class="markdownIt-Anchor" href="#옵션-확인"></a> 옵션 확인</h1><p><a href="http://docs.aws.amazon.com/cli/latest/reference/s3/cp.html" target="_blank" rel="external nofollow noopener noreferrer">cli docs</a>에서 디테일한 옵션은 확인 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aws </tag>
            
            <tag> s3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>운영체제</title>
      <link href="/2017/10/21/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/"/>
      <url>/2017/10/21/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="운영체제"><a class="markdownIt-Anchor" href="#운영체제"></a> 운영체제</h1><ul><li>사용자와 하드웨어 간의 인터페이스 제공</li></ul><h2 id="목적"><a class="markdownIt-Anchor" href="#목적"></a> 목적</h2><ul><li>하드웨어를 효율적 사용하도록 성능 향상</li><li>UI 제공</li><li>성능요소<ul><li>처리율</li><li>응답시간</li><li>사용가능도</li><li>신뢰도</li></ul></li></ul><h2 id="제어프로그램"><a class="markdownIt-Anchor" href="#제어프로그램"></a> 제어프로그램</h2><ul><li>감시 프로그램</li><li>데이터 관리 프로그램</li><li>작업 제어 프로그램</li></ul><h2 id="처리-프로그램"><a class="markdownIt-Anchor" href="#처리-프로그램"></a> 처리 프로그램</h2><ul><li>언어번역 프로그램</li><li>서비스 프로그램</li><li>문제 프로그램</li></ul><h2 id="구성-요소"><a class="markdownIt-Anchor" href="#구성-요소"></a> 구성 요소</h2><ul><li>프로세스 관리</li><li>주기억장치 관리</li><li>보조기억장치 관리</li><li>입출력 관리</li><li>파일 관리</li></ul><h2 id="프로세스-기능"><a class="markdownIt-Anchor" href="#프로세스-기능"></a> 프로세스 기능</h2><ul><li>생성 및 소멸</li><li>동기화</li><li>일시중지 및 재실행</li><li>프로세스 간 통신</li><li>보호 시스템</li><li>네트워크 관리</li><li>명령해석 시스템</li></ul><h1 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h1><ul><li>일괄처리 시스템</li><li>실시간 시스템</li><li>시분할 시스템</li><li>다중 프로그램 시스템: 여러 개의 프로갦이 동시에 실행되는 것처럼 처리하는 방식</li><li>다중 처리 시스템: 동시에 프로그램을 수행할 수 있는 CPU를 여러 개 두고 각각 분담하여 처리하는 방식</li><li>분산처리 시스템</li><li>결함허용 시스템: 시스템 일부가 고장나더라도 전체 시스템은 계속 가동할 수 있는 시스템</li></ul><h1 id="발달-과정"><a class="markdownIt-Anchor" href="#발달-과정"></a> 발달 과정</h1><ul><li>50년대: 일괄 처리 시스템</li><li>60년대: 다중 프로그래밍, 멀티 프로그래밍, 시분할, 실시간 처리 시스템</li><li>70년대: 멀티모드 시분할 시스템</li><li>80년대: 병렬 프로그램 실행, 펌웨어</li><li>90년대: GUI</li><li>00년대: 64bit</li></ul><h1 id="입출력장치-발전추세"><a class="markdownIt-Anchor" href="#입출력장치-발전추세"></a> 입출력장치 발전추세</h1><h2 id="프로그램에-의한-입출력"><a class="markdownIt-Anchor" href="#프로그램에-의한-입출력"></a> 프로그램에 의한 입출력</h2><ul><li>CPU에서 실행되는 프로그램에 의해 입출력을 직접 제어</li><li>CPU는 입출력장치에 명령을 보낸 후 동작이 완료될 때까지 대기</li><li>CPU는 주기적으로 주변장치의 상태를 반복적으로 검사하는 <strong>폴링</strong> 방식</li><li>자원낭비가 발생</li></ul><h2 id="인터럽트-처리에-의한-입출력"><a class="markdownIt-Anchor" href="#인터럽트-처리에-의한-입출력"></a> 인터럽트 처리에 의한 입출력</h2><ul><li>입출력 인터페이스가 주변장치의 상태를 검사하여 준비상태가 되면 인터럽트 신호 발생</li><li>프로그램 상태를 스택에 저장한 후 문맥교환 과정을 통해 인터럽트 서비스 프로그램을 수행</li><li>주변장치에 명령을 보낸 후 결과가 올 때까지 CPU는 다른 작업을 수행할 수 있어 효율이 높다.</li></ul><h2 id="dma"><a class="markdownIt-Anchor" href="#dma"></a> DMA</h2><ul><li>직접 메모리 접근 입출력</li><li>CPU는 상태정보, 제어정보만을 교환하게 하고 데이터 전송은 주변장치와 기억장치 간에 직접 교환하게 하는 방식</li><li>시스템 버스상에 모듈이 하나 추가되어야 한다.</li><li>CPU를 통하지 않고 한 번에 한 단어씩 직접 기억장치로부터 모든 데이터 블록을 전송한다.</li><li>전송이 완료되면 DMA모듈은 CPU에게 인터럽트 신호를 보내고 CPU는 전송의 시작과 끝 부분에만 관여한다.</li><li>사이클 스틸링: 버스를 사용하기 위해 CPU의 동작을 일시적으로 중단시키는 기법</li></ul><h2 id="채널"><a class="markdownIt-Anchor" href="#채널"></a> 채널</h2><ul><li>DMA 개념을 확장하여 구현한 입출력만을 위한 전용 처리장치</li><li>CPU처럼 독자적으로 주기억장치에 저장된 명령어를 처리할 수 있는 프로세스</li></ul><h3 id="종류-2"><a class="markdownIt-Anchor" href="#종류-2"></a> 종류</h3><ul><li>선택 채널: 채널 하나를 하나의 입출력장치가 독점해서 사용하는 방식</li><li>멀티플렉서 채널: 한 채널에 여러 개의 입출력장치를 연결하여 시분할 공유방식으로 입출력하는 저속 입출력 방식</li><li>블록 멀티플렉서 채널: 셀렉터 채널과 멀티플렉서 채널 방식을 결합한 방식</li></ul><h1 id="기억장치-인터리빙"><a class="markdownIt-Anchor" href="#기억장치-인터리빙"></a> 기억장치 인터리빙</h1><ul><li>인접한 메모리 위치를 서로 다른 뱅크에 둠으로 동시에 여러 곳에 접근할 수 있게 한다.</li><li>주기억장치의 구조적 개선으로 접근속도를 개선시키는 방법</li><li>MAR과 MBR을 연결한 것을 기억모듈이라고 한다.</li><li>블록단위 전송이 가능하므로 DMA에서 많이 사용한다.</li></ul><h1 id="재배치-레지스터"><a class="markdownIt-Anchor" href="#재배치-레지스터"></a> 재배치 레지스터</h1><ul><li>수행 중인 프로그램을 다른 곳으로 옮길 수 있도록 하는 레지스터</li><li>주기억장치 내 프로그램의 기준 주소가 이 레지스터에 기억된다.</li><li>기준 레지스터 = 재배치 레지스터</li></ul><h1 id="폴링"><a class="markdownIt-Anchor" href="#폴링"></a> 폴링</h1><ul><li>CPU가 특정 이벤트를 처리하기 위해 그 이벤트가 발생할 때까지 모든 연산을 모니터링하는데 쓴다.</li><li>단일 이벤트에 대해서는 유용하지만 프로그램이 길어지게 되면 그만큼 CPU 자원을 낭비하게 된다.</li></ul><h1 id="버퍼링"><a class="markdownIt-Anchor" href="#버퍼링"></a> 버퍼링</h1><ul><li>속도 차를 줄이기 위해 중간에서 데이터를 일시적으로 기억장소에 축적하는 방법</li><li>CPU와 저속 입출력장치의 작동속도를 조정한다.</li></ul><h2 id="단일-버퍼링"><a class="markdownIt-Anchor" href="#단일-버퍼링"></a> 단일 버퍼링</h2><ul><li>주기억장치 일부를 버퍼로 사용한다.</li><li>버퍼가 채워지거나 비워지는 동안 CPU는 다른 작업을 할 수 없다.</li></ul><h2 id="이중-버퍼링"><a class="markdownIt-Anchor" href="#이중-버퍼링"></a> 이중 버퍼링</h2><ul><li>2개의 버퍼를 이용해 단일 버퍼링의 단점을 보완하고 입출력과 CPU의 처리성능을 높이는 방법</li><li>입출력작업과 처리작업을 동시에 처리할 수 있다.</li></ul><h2 id="환형-버퍼링"><a class="markdownIt-Anchor" href="#환형-버퍼링"></a> 환형 버퍼링</h2><ul><li>여러 개의 버퍼를 원형으로 구성하여 수행하는 방식</li><li>CPU와 채널은 동시에 버퍼를 채우거나 비우는 일을 독립적으로 수행한다.</li><li>버퍼의 생산과 소비를 위해 버퍼의 수를 결정하는 게 성능에 매우 중요하다. (환형이기에)</li></ul><h1 id="보조기억장치"><a class="markdownIt-Anchor" href="#보조기억장치"></a> 보조기억장치</h1><ul><li>SASD: 순차 기억장치 =&gt; 테이프</li><li>DASD: 직접 접근 기억장치 =&gt; 나머지</li></ul><h2 id="광디스크"><a class="markdownIt-Anchor" href="#광디스크"></a> 광디스크</h2><ul><li>CD-ROM: 650MB</li><li>DVD: 4.7~17GB</li><li>WORM Disk: write once read memory =&gt; CD-R</li></ul><h2 id="디스크-용어"><a class="markdownIt-Anchor" href="#디스크-용어"></a> 디스크 용어</h2><ul><li>트랙: 디스크의 회전축을 중심으로 만들어진 동심원</li><li>섹터: 트랙을 몇 개의 부채꼴 모양으로 나눈 구간</li><li>실린더: 디스크의 중심축으로부터 동일선상에 위치한 동일 트랙들의 모임</li><li>클러스터: 여러 개의 섹터를 하나로 묶은 단위, 하드디스크에서 데이터를 저장하기 위한 기본 단위</li><li>파일할당 테이블: 디스크에 저장되어 있는 각각의 파일들에 대한 정보를 저장한 테이블</li><li>TPI: Track per Inch, 1인치 당 트랙의 수</li></ul><h2 id="보조기억장치-속도"><a class="markdownIt-Anchor" href="#보조기억장치-속도"></a> 보조기억장치 속도</h2><ul><li>레지스터 &gt; 캐시 &gt; 주기억장치 &gt; 보조기억장치</li><li>자기드럼 &gt; 하드디스크 &gt; 광디스크 &gt; 플로피디스크 &gt; 자기테이프</li></ul><h1 id="입출력-채널"><a class="markdownIt-Anchor" href="#입출력-채널"></a> 입출력 채널</h1><ul><li>IOP: Input Output Processor</li><li>입출력작업이 끝나면 CPU에게 인터럽트로 알려주며 입출력장치와 주기억장치 간의 속도 차이를 해결</li></ul><h2 id="채널의-기능"><a class="markdownIt-Anchor" href="#채널의-기능"></a> 채널의 기능</h2><ul><li>입출력 명령 해독</li><li>각각의 입출력장치에 명령 지시</li><li>지시된 입출력 명령의 실행을 제어</li></ul><h2 id="채널의-종류"><a class="markdownIt-Anchor" href="#채널의-종류"></a> 채널의 종류</h2><h3 id="셀렉터-채널"><a class="markdownIt-Anchor" href="#셀렉터-채널"></a> 셀렉터 채널</h3><ul><li>고속 입출력장치에 적합한 채널</li><li>입출력장치를 1:1로 전담</li><li>블록 단위 전송</li></ul><h3 id="멀티플렉서-채널"><a class="markdownIt-Anchor" href="#멀티플렉서-채널"></a> 멀티플렉서 채널</h3><ul><li>저속의 입출력장치 여러 개를 동시에 제어하는 채널</li><li>바이트 단위의 전송</li></ul><h3 id="블록-멀티플렉서-채널"><a class="markdownIt-Anchor" href="#블록-멀티플렉서-채널"></a> 블록 멀티플렉서 채널</h3><ul><li>여러 대의 고속 입출력장치를 블록단위로 처리</li></ul><h2 id="dma-2"><a class="markdownIt-Anchor" href="#dma-2"></a> DMA</h2><h3 id="사이클-스틸링"><a class="markdownIt-Anchor" href="#사이클-스틸링"></a> 사이클 스틸링</h3><ul><li>CPU가 메모리에서 명령어를 fetch하여 execute cycle 중에 있을 때 CPU가 메모리를 사용하지 않는 시간을 이용해 DMA를 행한다.</li><li>상태보존을 하지 않는다.</li></ul><blockquote><p>폴링은 주변장치의 상태보존을 하지 않음, 프로그램 제어하의 직접 입출력 방식</p></blockquote><h1 id="주소-지정방식"><a class="markdownIt-Anchor" href="#주소-지정방식"></a> 주소 지정방식</h1><ul><li>묵시적</li><li>즉시 주소 지정: 데이터가 명령어에 바로 있음</li><li>레지스터 주조 지정: 오퍼랜드가 메인 메모리의 주소가 아닌 레지스터를 참조</li><li>직접 주소 지정: 오퍼랜드에 실제 주소</li><li>레지스터 간접 주소 지정: 메모리 위치가 기억된 레지스터를 참조</li><li>인덱스 주소 지정: 오퍼랜드와 인덱스 레지스터의 내용이 더해져 유효번지가 결정</li><li>베이스 레지스터 주소 지정: 오퍼랜드와 베이스 레지스터 내용이 더해져 유효번지가 결정</li><li>상대 주소 지정: 오퍼랜드와 프로그램 카운터가 더해져 유효번지 결정</li><li>간접 주소 지정: 오퍼랜드가 메모리 내의 주소를 참조하여 유효번지를 계산해 메모리에 접근, 2번 메모리 참조</li></ul><h1 id="가상-기억장치"><a class="markdownIt-Anchor" href="#가상-기억장치"></a> 가상 기억장치</h1><ul><li>보조기억장치의 일부분을 주기억장치처럼 사용하는 것</li><li>매핑이 필요하다.</li></ul><h2 id="가상기억장치-구현방법"><a class="markdownIt-Anchor" href="#가상기억장치-구현방법"></a> 가상기억장치 구현방법</h2><h3 id="페이징"><a class="markdownIt-Anchor" href="#페이징"></a> 페이징</h3><ul><li>내부단편화 발생 가능</li></ul><h3 id="세그먼테이션"><a class="markdownIt-Anchor" href="#세그먼테이션"></a> 세그먼테이션</h3><ul><li>논리적 단위</li><li>기억장치 보호키 필요</li><li>외부단편화 발생 가능</li></ul><h1 id="스풀링"><a class="markdownIt-Anchor" href="#스풀링"></a> 스풀링</h1><ul><li>입출력할 데이터를 직접 I/O 장치로 보내지 않고 디스크에 모았다가 한꺼번에 입출력을 처리하는 방식</li><li>CPU와 입출력장치의 처리속도 차이에서 오는 대기 시간을 줄이기 위해 고안</li><li>버퍼와 비슷한 개념</li></ul><h1 id="컴파일러"><a class="markdownIt-Anchor" href="#컴파일러"></a> 컴파일러</h1><ul><li>고급 언어 프로그램을 목적프로그램으로 번역한 후 링킹작업을 통해 컴퓨터에서 실행 가능한 실행프로그램을 생성</li></ul><h1 id="인터프리터"><a class="markdownIt-Anchor" href="#인터프리터"></a> 인터프리터</h1><ul><li>고급 언어 프로그램을 한 줄 단위로 받아들여 번역하고 번역과 동시에 프로그램을 한 줄 단위로 즉시 실행시키는 프로그램</li><li>컴파일러에 비해 느리다.</li></ul><h1 id="절대로더"><a class="markdownIt-Anchor" href="#절대로더"></a> 절대로더</h1><ul><li>번역된 목적프로그램을 입력으로 받아들인 간단한 로더</li><li>기억장소 할당이나 연결을 사용자가 직업 지정</li><li>프로그래머가 절대 주소를 기억해야 한다.</li><li>다중 프로그래밍 방식에서 사용할 수 없음</li><li>소규모</li><li>모듈, 라이브러리 사용 불가</li></ul><h1 id="재배치-로더"><a class="markdownIt-Anchor" href="#재배치-로더"></a> 재배치 로더</h1><ul><li>주기억장치의 상태에 따라 재배치 가능한 목적프로그램을 주기억장치의 임의 공간에 적재할 수 있도록 하는 로더</li></ul><h1 id="링킹-로더"><a class="markdownIt-Anchor" href="#링킹-로더"></a> 링킹 로더</h1><ul><li>프로그램 적재 시에 필요한 프로그램들을 결합하여 2진 프로그램 이미지를 주기억장치에 적재</li></ul><h1 id="객체지향-운영체재"><a class="markdownIt-Anchor" href="#객체지향-운영체재"></a> 객체지향 운영체재</h1><ul><li>OOOS</li><li>운영체재 개발에 객체지향 프로그래밍 적용</li><li>객체: 모든 프로시저와 데이터를 묶어놓은 추상적 존재</li></ul><h1 id="펌웨어"><a class="markdownIt-Anchor" href="#펌웨어"></a> 펌웨어</h1><ul><li>마이크로 명령어로 작성된 프로그램</li><li>기계어 하부에 프로그래밍층을 형성</li></ul><h2 id="에뮬레이션"><a class="markdownIt-Anchor" href="#에뮬레이션"></a> 에뮬레이션</h2><ul><li>일종의 한 하드웨어 시스템에 부가장치를 부착하여 다른 하드웨어를 모방하는 것</li><li>하나의 컴퓨터가 다른 컴퓨터와 똑같이 행동하도록 만들어진 마이크로프로그래밍의 소프트웨어를 이용하는 기법</li></ul><h2 id="마이크로-다이어그노스틱스"><a class="markdownIt-Anchor" href="#마이크로-다이어그노스틱스"></a> 마이크로 다이어그노스틱스</h2><ul><li>시스템의 고장진단을 마이크로 프로그래밍에 의해 수행하는 것</li></ul><h1 id="마이크로-커널"><a class="markdownIt-Anchor" href="#마이크로-커널"></a> 마이크로 커널</h1><ul><li>운영체제의 커널 중에서 가장 기본적이고 핵심적인 기능만을 수행하는 부분만을 따로 구성한 모듈</li><li>높은 수준의 모듈화 제공</li></ul><blockquote><p>바인딩</p><ul><li>프로그램 내에서 변수 등을 실제 값으로 배정하는 것</li><li>명령문과 데이터를 주기억장치에 특정 위치로 옮기는 것</li></ul></blockquote><h1 id="기억장치-구성"><a class="markdownIt-Anchor" href="#기억장치-구성"></a> 기억장치 구성</h1><h2 id="단일-프로그래밍-시스템"><a class="markdownIt-Anchor" href="#단일-프로그래밍-시스템"></a> 단일 프로그래밍 시스템</h2><ul><li>주기억장치는 운영체제가 상주할 영역과 현재 수행될 사용자 프로그램이 적재될 영역으로 나뉜다.</li></ul><h2 id="다중-프로그래밍-시스템"><a class="markdownIt-Anchor" href="#다중-프로그래밍-시스템"></a> 다중 프로그래밍 시스템</h2><ul><li>여러 개의 프로세스를 처리</li><li>주기억장치 관리 기법이 필요하다.</li></ul><h3 id="연속-적재-방법"><a class="markdownIt-Anchor" href="#연속-적재-방법"></a> 연속 적재 방법</h3><ul><li>연속된 공간에 할당</li></ul><h3 id="분산-적재-방법"><a class="markdownIt-Anchor" href="#분산-적재-방법"></a> 분산 적재 방법</h3><ul><li>필요한 부분만 주기억장치에 적재하는 방법</li><li>페이지나 세그먼트로 구성</li></ul><h1 id="단일-사용자-연속기억장치-할당"><a class="markdownIt-Anchor" href="#단일-사용자-연속기억장치-할당"></a> 단일 사용자 연속기억장치 할당</h1><ul><li>주기억장치에 항상 한 프로그램만 적재된 가장 단순한 기법</li></ul><h2 id="상주모니터"><a class="markdownIt-Anchor" href="#상주모니터"></a> 상주모니터</h2><ul><li>CPU의 유휴시간을 극복하기 위해 작업의 묶음들을 자동으로 처리할 수 있는 운영체제</li><li>한 프로그램에서 다른 프로그램으로 제어가 자동적으로 넘어가도록 하기 위해 기억장치에 상주</li><li>입출력 시간동안 CPU는 유휴상태</li><li>사용자 공간보다 큰 프로그램은 실행이 불가능</li></ul><h2 id="오버레이-기법"><a class="markdownIt-Anchor" href="#오버레이-기법"></a> 오버레이 기법</h2><ul><li>주기억 장치 용량보다 더 큰 프로그램을 분할해 그 분할 된 프로그램을 순차적으로 같은 영역에 적재해 실행하는 방법</li><li>디스크에 프로그램을 유지하고 운영체제에 의해 기억장치로 교체시키는 방법</li><li>프로그램을 여러 개의 분할된 조각으로 나누는 일은 프로그래머가 담당</li></ul><h2 id="교체-기법"><a class="markdownIt-Anchor" href="#교체-기법"></a> 교체 기법</h2><ul><li>swipping</li><li>충분하지 못한 주기억장치를 가진 시스템에서 여러 개의 프로그램이 하나의 메모리에서 실행될 수 있도록 하기 위해 사용하는 기법</li><li>swap out: 보조기억장치로 이동</li><li>swap in: 주기억장치로 이동</li><li>오버레이 기능이 없으면 기억공간보다 작은 프로그램만 실행 가능</li></ul><h1 id="내부-단편화"><a class="markdownIt-Anchor" href="#내부-단편화"></a> 내부 단편화</h1><ul><li>하나의 분할에 작업을 할당하고 남은 공간</li></ul><h1 id="외부-단편화"><a class="markdownIt-Anchor" href="#외부-단편화"></a> 외부 단편화</h1><ul><li>대기 중인 작업보다 분할영역이 너무 적어 분할 전체가 빈 공간이 될 때</li></ul><h1 id="기억장치-통합"><a class="markdownIt-Anchor" href="#기억장치-통합"></a> 기억장치 통합</h1><ul><li><strong>인접된</strong> 공간을 하나의 공간으로 만드는 것</li></ul><h1 id="기억장치-집약"><a class="markdownIt-Anchor" href="#기억장치-집약"></a> 기억장치 집약</h1><ul><li>여러 개의 기억공간들을 하나의 큰 기억공간으로 만드는 것</li></ul><h1 id="기억장치-배치-기법"><a class="markdownIt-Anchor" href="#기억장치-배치-기법"></a> 기억장치 배치 기법</h1><ul><li>최적 적합</li><li>최초 적합</li><li>최악 적합</li></ul><h1 id="블록-사상"><a class="markdownIt-Anchor" href="#블록-사상"></a> 블록 사상</h1><ul><li>가상기억장치 내의 작업을 블록단위로 사상하는 것</li></ul><h1 id="페이징-기법"><a class="markdownIt-Anchor" href="#페이징-기법"></a> 페이징 기법</h1><h2 id="직접사상"><a class="markdownIt-Anchor" href="#직접사상"></a> 직접사상</h2><ul><li>페이지 사상테이블의 시작점 레지스터에 페이지 번호를 더해 주기억장치에서 그 페이지 시작주소를 구한 다음 변위를 더함으로 실주소를 계산한다.</li><li>프로세스의 가상기억장치를 구성하는 모든 페이지에 대한 항목은 페이지 테이블에 존재</li></ul><h2 id="연관사상"><a class="markdownIt-Anchor" href="#연관사상"></a> 연관사상</h2><ul><li>빠른 주소변환을 위해 고속의 연관기억장치를 이용해 페이지 사상표 전체를 넣는 방법</li></ul><h2 id="연관직접사상"><a class="markdownIt-Anchor" href="#연관직접사상"></a> 연관/직접사상</h2><ul><li>연관기억장치에는 페이지 사상테이블 중 지역성 있는 페이지를 넣고, 나머지는 직접사상</li></ul><h1 id="세그먼테이션-기법"><a class="markdownIt-Anchor" href="#세그먼테이션-기법"></a> 세그먼테이션 기법</h1><ul><li>가상주소를 분할형태가 일정한 배열이나 함수와 같은 논리적인 다양한 크기의 가변 단위로 주기억장치의 연속적인 공간에 적재하는 방법</li><li>외부단편화 발생 가능</li><li>순수 세그먼테이션 기법에서 가상주소 양식: 세그먼테이션 번호, 변위, 가상 주소</li><li>세그먼 테이블 사상테이블 형식: R, W, E(xecute), A(append)</li></ul><h1 id="페이징세그먼테이션-혼용"><a class="markdownIt-Anchor" href="#페이징세그먼테이션-혼용"></a> 페이징/세그먼테이션 혼용</h1><ul><li>세그먼트를 페이지화 하는 것</li><li>가상주소형식이 3차원 요소로 구성: V = (s, p, d)</li><li>세그먼트 번호, 페이지 번호, 변위</li><li>세그먼트의 사상테이블의 항이 세그먼트 주소를 가지고 있지 않고 페이지 사상테이블의 기준주소를 가지고 있다.</li></ul><blockquote><p>페이지 사상테이블 항목</p><ul><li>페이지 존재 비트</li><li>보조 기억장치 주소</li><li>페이지 프레임 번호</li></ul></blockquote><h1 id="페이지-호출-기법"><a class="markdownIt-Anchor" href="#페이지-호출-기법"></a> 페이지 호출 기법</h1><h2 id="요구-페이지-호출기법"><a class="markdownIt-Anchor" href="#요구-페이지-호출기법"></a> 요구 페이지 호출기법</h2><ul><li>수행 중인 프로세스에 의해 호출된 페이지나 세그먼트를 주기억장치로 옮기는 전략</li><li>호출된 페이지는 실제로 참조되는 페이지</li><li>페이지를 할당받기 위해 대기시간이 길다.</li></ul><h2 id="예상-페이지-호출기법"><a class="markdownIt-Anchor" href="#예상-페이지-호출기법"></a> 예상 페이지 호출기법</h2><ul><li>프로세스에 의해 요청될 페이지나 세그먼트를 미리 예측하여 프로세스가 요구하기 전에 주기억장치로 적재시키는 전략</li><li>예측 결정이 올바라야 실행시간이 감소한다.</li></ul><h1 id="페이지-교체-기법"><a class="markdownIt-Anchor" href="#페이지-교체-기법"></a> 페이지 교체 기법</h1><h2 id="opt"><a class="markdownIt-Anchor" href="#opt"></a> OPT</h2><ul><li>최적 교체</li><li>앞으로 가장 오랫동안 사용하지 않을 페이지를 교체하는 기법</li><li>실현 가능성이 없다.</li></ul><h2 id="무작위-페이지-교체"><a class="markdownIt-Anchor" href="#무작위-페이지-교체"></a> 무작위 페이지 교체</h2><ul><li>무작위로 교체</li><li>오버헤드가 적다.</li></ul><h2 id="fifo"><a class="markdownIt-Anchor" href="#fifo"></a> FIFO</h2><h2 id="lru"><a class="markdownIt-Anchor" href="#lru"></a> LRU</h2><ul><li>Least Recently Used</li><li>최근에 가장 오랫동안 사용하지 않은 페이지를 교체</li><li>계수기나 스택을 두어 계산한다.</li><li>스택 알고리즘</li></ul><h2 id="lfu"><a class="markdownIt-Anchor" href="#lfu"></a> LFU</h2><ul><li>Least Frequently Used</li><li>사용빈도가 가장 적은 페이지를 교체하는 기법</li><li>프로그램 실행 초기에 많이 사용된 페이지가 나중에도 프레임을 계속 차지할 수 있다.</li></ul><h2 id="nur"><a class="markdownIt-Anchor" href="#nur"></a> NUR</h2><ul><li>Not Used Recently</li><li>최근에 사용하지 않은 페이지를 교체하는 기법</li><li>각 페이지마다 참조 비트와 변형 비트를 사용</li></ul><h2 id="클록-페이지-교체"><a class="markdownIt-Anchor" href="#클록-페이지-교체"></a> 클록 페이지 교체</h2><ul><li><strong>원형 리스트</strong>를 사용해 페이지를 배열시켜 놓고 리스트의 포인터가 시계바늘이 돌아가는 것처럼 그 원형 리스트로 돌아가게 되는 것</li></ul><h2 id="scr"><a class="markdownIt-Anchor" href="#scr"></a> SCR</h2><ul><li>2차 기회 페이지 교체</li><li>가장 오랫동안 주기억장치에 있던 페이지 중 자주 사용되는 페이지의 교체를 방지하기 위한 것</li><li>FIFO 기법의 단점을 보완한 기법</li><li>Second Chance 기법</li><li>각 페이지마다 참조 비트를 두고 1일 경우 참조 비트를 0으로 바꿔 FIFO 리스트의 맨 마지막으로 이동시킨다.</li></ul><h1 id="시간-국부성"><a class="markdownIt-Anchor" href="#시간-국부성"></a> 시간 국부성</h1><ul><li>참조되는 기억장소가 가까운 미래에 계속 참조될 수 있다.</li><li>반복, 서부루틴, 스택, 계산, 집계</li></ul><h1 id="공간-국부성"><a class="markdownIt-Anchor" href="#공간-국부성"></a> 공간 국부성</h1><ul><li>하나의 기억장소가 참조되면 그 근처의 기억장소가 계속 참조될 수 있다.</li><li>배열 순회, 순차적 실행, 변수 집합</li></ul><h1 id="워킹-세트"><a class="markdownIt-Anchor" href="#워킹-세트"></a> 워킹 세트</h1><ul><li>지역성(국부성)을 이용해 페이지 부재율을 감소시키기 위한 개념</li><li>일정 시간 동안 자주 참조하는 페이지의 집합</li></ul><h2 id="스레싱"><a class="markdownIt-Anchor" href="#스레싱"></a> 스레싱</h2><ul><li>페이지 부재가 비정상적으로 많이 발생하여 프로그램이 처리보다 페이지 교체에 많은 시간을 소비함으로 시스템 처리량이 급격히 저하되는 현상</li></ul><h1 id="페이지-부재"><a class="markdownIt-Anchor" href="#페이지-부재"></a> 페이지 부재</h1><ul><li>프로세스 실행 시 참조할 페이지가 주기억장치에 없는 현상</li></ul><h1 id="페이지-크기"><a class="markdownIt-Anchor" href="#페이지-크기"></a> 페이지 크기</h1><h2 id="작을-경우"><a class="markdownIt-Anchor" href="#작을-경우"></a> 작을 경우</h2><ul><li>효과적인 워킹세트 확보</li><li>사상 테이블 크기 증가</li><li>기억공간 낭비</li><li>기억장치 효율을 좋다.</li></ul><h2 id="클-경우"><a class="markdownIt-Anchor" href="#클-경우"></a> 클 경우</h2><ul><li>페이지 부재 수 최소화</li><li>페이지 단편화 현상 초래</li><li>사상 테이블 크기 감소</li><li>입출력 효율 증가</li></ul><h1 id="요구-페이징-기법"><a class="markdownIt-Anchor" href="#요구-페이징-기법"></a> 요구 페이징 기법</h1><ul><li>페이지의 요구가 있을 때 주기억장치에 적재하는 기법</li><li>유효 또는 무효를 나타내는 비트가 페이지 사상테이블의 각 항목에 추가된다.</li></ul><h2 id="전역-교체"><a class="markdownIt-Anchor" href="#전역-교체"></a> 전역 교체</h2><ul><li>프로세스가 교체할 프레임을 그 프레임이 현재 다른 프로세스에 할당되어 있어도 그에 상관없이 전체 프레임 중에서 하나를 선택하여 그 프레임을 사용할 수 있도록 해준다.</li><li>한 프로세스에 할당된 프레임 수는 증가한다.</li><li>자신의 페이지 부재율을 조정할 수 없다.</li></ul><h2 id="지역-교체"><a class="markdownIt-Anchor" href="#지역-교체"></a> 지역 교체</h2><ul><li>각 프로세스가 그 프로세스에 할당된 프레임 중에서 하나를 선택해서 그 프레임을 사용할 수 있도록 해준다.</li><li>프로세스에 할당된 프레임 수는 변하지 않는다.</li></ul><h1 id="프로세스"><a class="markdownIt-Anchor" href="#프로세스"></a> 프로세스</h1><ul><li>PCB를 가진 프로그램</li><li>실기억장치에 저장된 프로그램</li><li>프로시저가 활동 중인 실체</li><li>비동기적 행위를 일으키는 주체</li><li>운영체제가 관리하는 실행 단위</li></ul><h1 id="프로세스-스케줄러"><a class="markdownIt-Anchor" href="#프로세스-스케줄러"></a> 프로세스 스케줄러</h1><ul><li>둘 이상의 프로세스가 적절히 실행될 수 있도록 컨트롤 한다.</li></ul><h2 id="작업-스케줄러"><a class="markdownIt-Anchor" href="#작업-스케줄러"></a> 작업 스케줄러</h2><ul><li>작업의 운선순위, 리소스의 할당 등을 판단해 처리율을 높이는 작업을 한다.</li></ul><h2 id="프로세스-상태"><a class="markdownIt-Anchor" href="#프로세스-상태"></a> 프로세스 상태</h2><ul><li>제출상태: submit</li><li>보류상태: hold, 스풀러에 의해 디스크에 수록되어 있는 상태</li><li>준비상태: ready, CPU가 사용가능한 상태, 처리를 기다리고 있는 상태</li><li>실행상태: running, 프로세스를 수행 중</li><li>대기상태: blocked, 입출력 처리가 끝날 때 까지 대기 큐에서 대기하는 상태</li><li>완료상태: complete</li></ul><h2 id="프로세스-관리-모듈"><a class="markdownIt-Anchor" href="#프로세스-관리-모듈"></a> 프로세스 관리 모듈</h2><ul><li>스풀러: 제출된 작업을 디스크에 수록하여 보류상태로 변환</li><li>작업스케줄러: 보류 상태 작업들 중 실행될 작업을 선정</li><li>프로세스 스케줄러: 여러 프로세스 중에서 실행될 프로세스를 선정</li><li>트래픽 제어기: 모든 프로세스의 상태를 파악하고 프로세스 관리 및 상태변환을 수행하며 프로세스 간의 통신과 동기화를 조정</li></ul><h2 id="프로세스-제어-블록"><a class="markdownIt-Anchor" href="#프로세스-제어-블록"></a> 프로세스 제어 블록</h2><ul><li>PCB</li><li>프로세스 생성시 만들어지며 모든 프로세스는 각기 고유의 PCB를 가진다.</li><li>프로세스 식별자</li><li>프로그램 카운터</li><li>우선순위</li><li>처리기 레지스터</li><li>기억장치 관리정보</li><li>입출력 정보</li><li>CPU 사용 시간, 시간 범위, 계정번호, 작업 번호 등</li></ul><h2 id="스레드"><a class="markdownIt-Anchor" href="#스레드"></a> 스레드</h2><ul><li>프로세스는 스레드를 담는 공간</li><li>실행점이 여러개</li><li>CPU가 하나인 시스템에서 병행실행 가능</li></ul><h1 id="스케줄러"><a class="markdownIt-Anchor" href="#스케줄러"></a> 스케줄러</h1><h2 id="장기-스케줄러"><a class="markdownIt-Anchor" href="#장기-스케줄러"></a> 장기 스케줄러</h2><ul><li>작업 스케줄러</li><li>디스크공간에 제출된 프로세스들을 선택하여 주기억장치로 적재하며 실행 빈도수가 적어 장기 스케줄링</li><li>프로세스가 종료되어 시스템을 떠날 때만 새로운 프로세스를 생성하기 위해 호출</li></ul><h2 id="단기-스케줄러"><a class="markdownIt-Anchor" href="#단기-스케줄러"></a> 단기 스케줄러</h2><ul><li>CPU 스케줄러, 디스패쳐</li><li>실행되어 있는 프로세스 중에서 한 프로세스를 선택하여 CPU를 할당</li></ul><h2 id="중기-스케줄러"><a class="markdownIt-Anchor" href="#중기-스케줄러"></a> 중기 스케줄러</h2><ul><li>CPU를 경쟁하는 프로세스들의 수를 줄여서 다중 프로그래밍의 정도를 완하하는 것</li></ul><h1 id="선점-스케줄링"><a class="markdownIt-Anchor" href="#선점-스케줄링"></a> 선점 스케줄링</h1><ul><li>우선순위가 높은 다른 프로세스가 현재 프로세스를 중단시키고 자신이 CPU를 차지할 수 있는 기법</li><li>SRT, RR, 선점 우선순위, 다단계 큐, 다단계 피드백 큐</li><li>시분할 시스템에 유용</li></ul><h1 id="비선점-스케줄링"><a class="markdownIt-Anchor" href="#비선점-스케줄링"></a> 비선점 스케줄링</h1><ul><li>한 프로세스가 CPU를 할당 받으면 다른 프로세스는 CPU를 점유하지 못하는 기법</li><li>우선순위, FIFO, SJF, HRN, 기한부 알고리즘</li><li>모든 프로세스에 공정하고 응답시간이 예측 가능</li></ul><h1 id="스케줄링-알고리즘"><a class="markdownIt-Anchor" href="#스케줄링-알고리즘"></a> 스케줄링 알고리즘</h1><h2 id="기한부-스케줄링"><a class="markdownIt-Anchor" href="#기한부-스케줄링"></a> 기한부 스케줄링</h2><ul><li>처리기 할당시간을 제한하여 작업 할당시간안에 반드시 종료되도록 하는 기법</li></ul><h2 id="우선순위-스케줄링-알고리즘"><a class="markdownIt-Anchor" href="#우선순위-스케줄링-알고리즘"></a> 우선순위 스케줄링 알고리즘</h2><ul><li>우선순위가 높은 것에 먼저 CPU를 할당하는 방식</li><li>FIFO 원리</li><li>기아현상 발생을 방지하기위해 우선순위를 높이는 에이징 기법이 있다.</li></ul><h2 id="fcfs"><a class="markdownIt-Anchor" href="#fcfs"></a> FCFS</h2><h2 id="sjf"><a class="markdownIt-Anchor" href="#sjf"></a> SJF</h2><ul><li>Shortest Job First</li><li>작업 수행시간이 가장 짧다고 판단되는 것을 먼저 수행</li></ul><h2 id="srt"><a class="markdownIt-Anchor" href="#srt"></a> SRT</h2><ul><li>비선점 스케줄링인 SJF를 선점형태로 변경한 기법</li><li>Short Remaining Time</li><li>가장 짧은 시간이 소요된다고 판단되는 프로세스를 먼저 수행</li><li>더 짧다고 판단되는 프로세스가 큐에 들어오면 언제라도 선점된다.</li><li>시분할 시스템에 유용</li></ul><h2 id="rr"><a class="markdownIt-Anchor" href="#rr"></a> RR</h2><ul><li>각 프로세스는 같은 크기의 CPU 시간을 할당받는다.</li><li>시분할 방식에 효과적이다.</li><li>할당시간이 크면 FCFS와 같고, 작은면 문맥교환 및 오버헤드가 자주 발생한다.</li></ul><h2 id="hrn"><a class="markdownIt-Anchor" href="#hrn"></a> HRN</h2><ul><li>Highest Response Ratio Next</li><li>실행시간이 긴 프로세스에 불리한 SJF 기법을 보완하기 위한 것</li><li>대기시간과 서비스 시간을 사용한다.</li><li>우선순위 = (대기시간 + 서비스시간) / 서비스 시간</li></ul><h2 id="fss"><a class="markdownIt-Anchor" href="#fss"></a> FSS</h2><ul><li>Fair Share Scheduling</li><li>프로세스들 집합 간에 프로세스의 스케줄링을 지원하며 UNIX 환경에서 서로 관계있는 사용자들에게 한정된 비용으로 시스템 자원을 사용할 수 있게 개발</li><li>사용자들은 그룹 짓는데 우선순위 RR 프로세스 스케줄러를 사용한다.</li></ul><h2 id="다단계-피드백-큐-스케줄링"><a class="markdownIt-Anchor" href="#다단계-피드백-큐-스케줄링"></a> 다단계 피드백 큐 스케줄링</h2><ul><li>Multi-level Feedback Queue Scheduling</li><li>여러 개의 큐를 두고 시간이 지나면 우선순위가 떨어지는 큐로 밀려나게 하는 것과 같이 실행시간이 긴 작업에 벌칙을 주는 방식</li><li>각 큐의 CPU 할당시간을 정할 수 있어 적응력이 커진다.</li></ul><h1 id="병행-프로세스"><a class="markdownIt-Anchor" href="#병행-프로세스"></a> 병행 프로세스</h1><ul><li>concurrent process</li><li>두 개 이상의 프로세스들이 동시에 존재하며 실행상태에 있는 것</li></ul><h1 id="우선순위-그래프"><a class="markdownIt-Anchor" href="#우선순위-그래프"></a> 우선순위 그래프</h1><ul><li>precedence graph</li><li>각 노드가 개개의 문에 대응하는 방향성 비순환 그래프</li><li>어떤 연산의 일부분이 가지는 우선순위 제약조건을 정의하는데 유용하다.</li><li>프로그래밍 언어에서는 사용이 곤란하다.</li></ul><h1 id="forkjoin"><a class="markdownIt-Anchor" href="#forkjoin"></a> Fork/join</h1><ul><li>최초로 병행 프로그램을 언어적으로 표현</li><li>Fork: 단일 연산을 2개의 독립적인 연산으로 분할시키는 방법</li><li>Join: 병행하는 2개의 연산을 하나로 재결합시키는 방법</li></ul><h1 id="병행문"><a class="markdownIt-Anchor" href="#병행문"></a> 병행문</h1><ul><li>parbegin/parend 표현방법을 사용하는 기법</li><li>1개의 프로세스가 여러 가닥의 병렬 프로세스로 분할되었다가 다시 한 가닥의 프로세스로 결합하는 것</li></ul><h1 id="masterslave"><a class="markdownIt-Anchor" href="#masterslave"></a> Master/Slave</h1><ul><li>Master는 연산 + 입출력</li><li>Slave 연산</li></ul><h1 id="약결합-시스템"><a class="markdownIt-Anchor" href="#약결합-시스템"></a> 약결합 시스템</h1><ul><li>각 프로세스마다 독립된 메로리를 가진 시스템</li><li>분산 처리 시스템</li><li>각 시스템마다 독립적인 운영체제</li><li>프로세스 간의 통신은 메세지 전달이나 원격 프로시저 호출을 통해 이뤄진다.</li></ul><h1 id="강결합-시스템"><a class="markdownIt-Anchor" href="#강결합-시스템"></a> 강결합 시스템</h1><ul><li>여러 개의 프로세스가 하나의 메모리를 공유하여 사용하는 시스템</li><li>다중처리 시스템</li><li>하나의 운영체제가 모든 프로세스와 시스템 하드웨어를 제어</li><li>프로세스 간의 통신은 공유메모리를 통해서 이뤄진다.</li></ul><h1 id="대칭-다중처리-구조"><a class="markdownIt-Anchor" href="#대칭-다중처리-구조"></a> 대칭 다중처리 구조</h1><ul><li>모든 프로세스가 동등한 입장의 대칭성을 가지고 있으며 구현 및 수해이 매우 복잡한 형태의 가장 강력한 시스템</li><li>한 운영체제를 동시에 수행할 수 있게 재진입 코드와 상호배제가 필요하다.</li></ul><h1 id="비동기-병행-프로세스"><a class="markdownIt-Anchor" href="#비동기-병행-프로세스"></a> 비동기 병행 프로세스</h1><ul><li>독립적 프로세스: 시스템에서 실행 중인 다른 프로세스에 영향을 받지 않고 주지도 않는 프로세스</li><li>유기적 프로세스: 프로세스가 가지는 동일한 입력에 대해 반드시 동일한 결과를 갖지는 않는다.</li></ul><h1 id="동기화-기법"><a class="markdownIt-Anchor" href="#동기화-기법"></a> 동기화 기법</h1><ul><li>Synchronization</li><li>두 개 이상의 프로세스를 한 시점에 동시에 처리할 수 없으므로 각 프로세스에 대한 처리 순서를 결정하는 상호배제의 한 형태</li><li>세마포어와 모니터 기법이 있다.</li></ul><blockquote><p>상호 배제</p><ul><li>공유자원을 어느 시점에서 단지 한 개의 프로세스만이 사용할 수 있도록 하며 다른 프로세스가 공유자원에 대해 접근하지 못하게 하는 기법</li></ul></blockquote><h2 id="임계구역"><a class="markdownIt-Anchor" href="#임계구역"></a> 임계구역</h2><ul><li>Critical Section</li><li>다중 프로그래밍 운영체제에서 여러 개의 프로세스가 공유하는 데이터 및 자원에 대하여 어느 한 시점에서 하나의 프로세스 자원 또는 데이터를 사용하도록 지정된 공유 자원을 의미하며 이를 보호구역이라 한다.</li></ul><h2 id="test-and-set"><a class="markdownIt-Anchor" href="#test-and-set"></a> Test and set</h2><ul><li>동시성을 제어하기 위한 동기화 명령어 중 하나로 하드웨어의 도움을 받아 수행</li><li>함수 조건을 비교할 때엔 한 프로세스가 점령을 하면 다른 프로세스가 개입을 할 수 없도록 선점해서 사용하는 개념</li><li>상호배제를 하는 기법</li></ul><h2 id="세마포어"><a class="markdownIt-Anchor" href="#세마포어"></a> 세마포어</h2><ul><li>semaphore</li><li>다익스트라가 제안</li><li>P와 V라는 2개의 연산에 의해 동기화를 유지</li><li>상호배제 원리 보장</li></ul><h2 id="시간종속-오류"><a class="markdownIt-Anchor" href="#시간종속-오류"></a> 시간종속 오류</h2><ul><li>프로세스들이 임의적으로 변수들을 공유할 때 발생하며 어떤 특정 순서로 실행이 될 때만 발생</li><li>프로세스가 자원에 대한 접근허가를 얻지 않고 그 자원을 연산하는 경우</li><li>프로세스가 자원 접근을 허용받고 나서 그 자원을 결코 해제하니 않는 경우</li><li>프로세스가 요청하지 않은 자원을 해제하는 경우</li><li>프로세스가 동일한 자원을 반복해서 요청하는 경우</li></ul><h1 id="생산자-소비사-문제"><a class="markdownIt-Anchor" href="#생산자-소비사-문제"></a> 생산자 소비사 문제</h1><ul><li>여러 개의 프로세스를 어떻게 동기화할 것인가에 대한 고전적인 문제</li><li>한정 버퍼 문제, Bounded-Buffer Problem</li><li>생산자는 데이터를 인덱스를 통해 배열에 저장하는 식으로 데이터를 생성하며 소비자는 데이터를 증가시키며 배열에 있는 데이터를 인덱스로 접근하여 소비</li></ul><h1 id="판독기기록기-문제"><a class="markdownIt-Anchor" href="#판독기기록기-문제"></a> 판독기/기록기 문제</h1><ul><li>다수의 프로세스가 하나의 데이터 객체를 공유하는 경우 한쪽 프로세스는 판독을 하려하고 다른 한쪽 프로세스는 기록을 하려고 할 때 발생하는 문제</li><li>기록기가 공유객체에 배타적 접근을 하도록 하는 것</li></ul><h1 id="병행-프로그래밍-언어"><a class="markdownIt-Anchor" href="#병행-프로그래밍-언어"></a> 병행 프로그래밍 언어</h1><ul><li>Ada: 구조화되고 통계학적 형태를 가지고 명령적, 객체지향적인 고급수준의 컴퓨터 프로그래밍 언어</li><li>CSP: 처음으로 병행시스템에서 상호작용 패턴을 표현하는 언어</li></ul><h1 id="프로세스-간의-통신"><a class="markdownIt-Anchor" href="#프로세스-간의-통신"></a> 프로세스 간의 통신</h1><ul><li>직접통신</li><li>간접통신: 메일 박스를 통해 메세지를 보내거나 받는다, 단방향 양방향 모두 가능</li></ul><h1 id="교착상태"><a class="markdownIt-Anchor" href="#교착상태"></a> 교착상태</h1><h2 id="필수조건"><a class="markdownIt-Anchor" href="#필수조건"></a> 필수조건</h2><ul><li>상호배제 조건: 자원은 한 번에 한 프로세스만 사용해야 한다.</li><li>점유와 대기 조건: 각 프로세스가 이미 자신에게 할당된 자원을 갖고 있으면서 다른 자원을 더 요구하고 있다.</li><li>비중단 조건: 프로세스에 할당된 자원은 스스로 반납하기 전에는 빼앗지 못한다.</li><li>환형대기 조건: 프로세스 간 환형사슬이 존재하여 각 프로세스는 다음 프로세스가 요구하는 자원을 가지고 있다.</li></ul><h2 id="자원할당-그래프"><a class="markdownIt-Anchor" href="#자원할당-그래프"></a> 자원할당 그래프</h2><ul><li>프로세스와 자원 간의 관계를 나타내는 그래프를 의미한다.</li></ul><h2 id="교착상태-확인방법"><a class="markdownIt-Anchor" href="#교착상태-확인방법"></a> 교착상태 확인방법</h2><ul><li>자원할당 그래프의 사이클이 존재하는지 확인한다.</li><li>사이클이 지원 유형에 하나라도 있으면 교착상태다.</li></ul><h2 id="교착상태-회피"><a class="markdownIt-Anchor" href="#교착상태-회피"></a> 교착상태 회피</h2><ul><li>프로세스 시작 거부</li><li>자원할당 거부: 은행원 알고리즘</li></ul><h2 id="교착상태-탐지"><a class="markdownIt-Anchor" href="#교착상태-탐지"></a> 교착상태 탐지</h2><h2 id="교착상태-복구"><a class="markdownIt-Anchor" href="#교착상태-복구"></a> 교착상태 복구</h2><h1 id="디스크-접근-시간"><a class="markdownIt-Anchor" href="#디스크-접근-시간"></a> 디스크 접근 시간</h1><ul><li>Access Time = Seek Time + Rotational Latency + Transfer time</li><li>탐색시간: 헤드를 적정 트랙으로 이동하는데 걸리는 시간</li><li>회전지연시간: 데이터가 현재 위치에서 디스크 헤드까지 회전하는 데 소요되는 시간</li><li>전송시간: 실제 바이트가 이동하는데 소요되는 시간</li></ul><h1 id="디스크-스케줄링"><a class="markdownIt-Anchor" href="#디스크-스케줄링"></a> 디스크 스케줄링</h1><h2 id="fcfs-2"><a class="markdownIt-Anchor" href="#fcfs-2"></a> FCFS</h2><h2 id="sstf"><a class="markdownIt-Anchor" href="#sstf"></a> SSTF</h2><ul><li>Shortest Seek Time First</li><li>탐색거리가 가장 짧은 트랙에 대한 요청을 먼저 서비스하는 기법</li><li>일괄 처리 시스템에 유용</li><li>대화형 시스템에는 부적합</li></ul><h2 id="scan"><a class="markdownIt-Anchor" href="#scan"></a> SCAN</h2><ul><li>SSTF가 갖는 탐색시간의 편차를 해소하기 위한 방법</li><li>현재 진행 중인 방향으로 가장 짧은 탐색거리에 있는 요청을 먼저 서비스</li><li>Denning이 개발</li><li>대부분의 디스크 스케줄링에서 기본 전략</li><li>진행하면서 들어온 요청도 처리</li><li>오버헤드가 작을 경우 가장 효율적</li></ul><h2 id="n-step-scan"><a class="markdownIt-Anchor" href="#n-step-scan"></a> N-step SCAN</h2><ul><li>진행하면서 들어온 요청은 따로 모아 반대방향 진행 때 처리</li></ul><h2 id="c-scan"><a class="markdownIt-Anchor" href="#c-scan"></a> C-SCAN</h2><ul><li>항상 바깥쪽에서 안쪽으로 움직이면서 가장 짧은 탐색거리를 갖는 요청을 서비스</li><li>안쪽 끝까지 이동하면 가장 바깥쪽 끝으로 이동하고 다시 안쪽으로 들어온다.</li></ul><h2 id="c-look"><a class="markdownIt-Anchor" href="#c-look"></a> C-LOOK</h2><ul><li>안쪽 끝까지 이동 후에 가장 바깥쪽 요청 트랙으로 이동한다.</li></ul><h2 id="sltf"><a class="markdownIt-Anchor" href="#sltf"></a> SLTF</h2><ul><li>Shortest Latency Time First</li><li>섹터 큐잉</li><li>회전 시간의 최적화를 위해 디스크 대기 큐에 있는 여러 요청을 섹터 위치에 따라 재정렬하고 가장 가까운 섹터를 먼저 서비스</li></ul><h1 id="ram-디스크"><a class="markdownIt-Anchor" href="#ram-디스크"></a> RAM 디스크</h1><ul><li>빠른 속도로 자료를 처리할 필요가 있을 때 주기억장치인 RAM의 일부를 보조기억장치인 디스크처럼 사용하는 것</li></ul><h1 id="블로킹"><a class="markdownIt-Anchor" href="#블로킹"></a> 블로킹</h1><ul><li>레코드의 입출력 효율을 높이기 위해 여러 개의 논리 레코드를 하나의 블록으로 묶는 것</li></ul><h1 id="버퍼링-2"><a class="markdownIt-Anchor" href="#버퍼링-2"></a> 버퍼링</h1><ul><li>주기억장치의 일부에 큐 방식으로 동작하는 버퍼</li><li>하나의 프로그램에서 CPU 연산과 I/O 연산을 중첩시켜 처리하는 방식</li></ul><h1 id="파일-구조"><a class="markdownIt-Anchor" href="#파일-구조"></a> 파일 구조</h1><h2 id="순차-파일"><a class="markdownIt-Anchor" href="#순차-파일"></a> 순차 파일</h2><ul><li>물리적 순서에 따라 저장</li></ul><h2 id="인덱스-순차파일"><a class="markdownIt-Anchor" href="#인덱스-순차파일"></a> 인덱스 순차파일</h2><ul><li>레코드를 키에 따라서 논리적 순서대로 저장하고 시스템은 각 레코드의 실제 주소가 저장된 색인을 관리</li><li>디스크에 적용되는 방식, 테이프 사용 불가</li></ul><h3 id="인덱스-순차파일-구성"><a class="markdownIt-Anchor" href="#인덱스-순차파일-구성"></a> 인덱스 순차파일 구성</h3><ul><li>Prime</li><li>Index<ul><li>마스터</li><li>실린더</li><li>트랙</li></ul></li><li>Overflow</li></ul><h2 id="직접-파일"><a class="markdownIt-Anchor" href="#직접-파일"></a> 직접 파일</h2><ul><li>물리적 주소를 통해 직접 액세스되는 파일</li><li>해싱 함수를 이용해 물리적 상대주소를 계산한 후 해당주소에 레코드를 저장</li><li>DASD의 물리적 주소를 통해 파일의 각 레코드에 직접접근이 가능하여 접근 및 기록의 순서에 제약이 없다.</li></ul><h1 id="파일-접근방식"><a class="markdownIt-Anchor" href="#파일-접근방식"></a> 파일 접근방식</h1><ul><li>queued access method: 레코드 순서를 미리 예상 가능할 때 사용</li><li>basic access method: 물리적 블록의 RW는 액세스 방식이 담당하고 블로킹 및 해체는 사용자가 담당한다.</li></ul><h1 id="디스크-공간할당"><a class="markdownIt-Anchor" href="#디스크-공간할당"></a> 디스크 공간할당</h1><h2 id="연속할당"><a class="markdownIt-Anchor" href="#연속할당"></a> 연속할당</h2><ul><li>집약 작업이 필요하다.</li><li>단편화가 발생할 수 있다.</li></ul><h2 id="불연속할당"><a class="markdownIt-Anchor" href="#불연속할당"></a> 불연속할당</h2><h3 id="섹터지향-할당"><a class="markdownIt-Anchor" href="#섹터지향-할당"></a> 섹터지향 할당</h3><ul><li>동일한 파일에 속하는 섹터들을 연결리스트로 구성하여 할당하는 방식</li><li>논리적 연결을 탐색하는데 오랜 시간이 필요하고 포인터를 저장할 공간이 필요하다.</li></ul><h3 id="블록할당"><a class="markdownIt-Anchor" href="#블록할당"></a> 블록할당</h3><ul><li>파일에 액세스할 때 해당 블록을 결정한 후 해당 섹터를 결정해야하는 기법</li><li>블록체인 기법</li><li>인덱스 블록체인 기법</li><li>블록지향 파일사상기법: 포인터 대신 FAT(할당 테이블)에 있는 블록번호를 사용하는 기법</li></ul><h1 id="파일-서술자"><a class="markdownIt-Anchor" href="#파일-서술자"></a> 파일 서술자</h1><ul><li>file desriptor, FCB</li><li>파일이름</li><li>파일구조</li><li>보조기억장치에서 파일 위치</li><li>보조기억장치 유형</li><li>액세스 제어정보</li><li>파일 유형</li><li>생성 일시, 제거 일시</li><li>최종 수정 일시</li><li>액세스 횟수</li></ul><h1 id="접근제어"><a class="markdownIt-Anchor" href="#접근제어"></a> 접근제어</h1><h2 id="접근제어-행렬"><a class="markdownIt-Anchor" href="#접근제어-행렬"></a> 접근제어 행렬</h2><ul><li>시스템 보호기법으로 행은 사용자 영역, 열은 객체를 나타낸다.</li></ul><h2 id="접근제어-리스트"><a class="markdownIt-Anchor" href="#접근제어-리스트"></a> 접근제어 리스트</h2><ul><li>ACL</li><li>각 객체에 댛나 리스트는 영역, 권한, 집합의 순서쌍으로 구성</li></ul><h2 id="자격-리스트"><a class="markdownIt-Anchor" href="#자격-리스트"></a> 자격 리스트</h2><ul><li>capability list</li><li>각 사용자 영역에 대한 자격들로 구성되며 객체와 그 객체에 허용된 연산 리스트</li></ul><h1 id="분산파일시스템"><a class="markdownIt-Anchor" href="#분산파일시스템"></a> 분산파일시스템</h1><ul><li>DFS, Distributed File System</li><li>여러 대의 서버에 걸쳐 분산되어 저장될 수 있는 계층형 파일시스템</li></ul><h1 id="데이터-압축"><a class="markdownIt-Anchor" href="#데이터-압축"></a> 데이터 압축</h1><h2 id="비손실-압축"><a class="markdownIt-Anchor" href="#비손실-압축"></a> 비손실 압축</h2><ul><li>Run Length: 문자의 반복을 줄임</li><li>동적 사전법: 출현빈도에 따라 이진트리나 해시테이블 구성 후 포인터로 대체</li></ul><h2 id="손실압축"><a class="markdownIt-Anchor" href="#손실압축"></a> 손실압축</h2><ul><li>이미지 압축</li><li>오디오 압축</li><li>비디오 압축</li></ul><h1 id="프로세스-테이블-정보"><a class="markdownIt-Anchor" href="#프로세스-테이블-정보"></a> 프로세스 테이블 정보</h1><ul><li>프로세스 고유번호, 상위 프로세스 고유번호 (PID, PPID)</li><li>사용자 이름, 사용자 그룹 이름 (UID, GID)</li><li>프로세스 현재 상태</li></ul><h1 id="장치-드라이버"><a class="markdownIt-Anchor" href="#장치-드라이버"></a> 장치 드라이버</h1><ul><li>장치드라이버 디렉터리는 /dev</li><li>시스템의 각종 디바이스들에 접근하기 위한 디바이스 드라이버들이 저장되어 있는 디렉터리</li><li>하드디스크에 차지하는 공간이 없는 가상 디렉터리</li></ul><h1 id="unix의-장치-분류"><a class="markdownIt-Anchor" href="#unix의-장치-분류"></a> UNIX의 장치 분류</h1><ul><li>블록 지향적: 입출력이 버퍼화되고 물리적인 입출력이 블록단위로 수행</li><li>문자 지향적: 입출력이 버퍼화되지 않고, 물리적 입출력이 문자 단위로 수행, Raw 인터페이스</li></ul><h1 id="unix의-파일"><a class="markdownIt-Anchor" href="#unix의-파일"></a> UNIX의 파일</h1><ul><li>일반 파일<ul><li>데이터 파일: 텍스트 데이터 파일, 이진 데이터 파일</li><li>실행가능 프로그램 파일</li></ul></li><li>디렉터리 파일</li><li>특수 파일: 주변장치들을 파일이름을 통해 접근 가능</li><li>파일이름에 공백이 와서는 안 된다.</li><li>255자까지 가능하다.</li></ul><h2 id="파일접근-자료구조"><a class="markdownIt-Anchor" href="#파일접근-자료구조"></a> 파일접근 자료구조</h2><ul><li>부트 블록</li><li>슈퍼 블록</li><li>i-node 블록: 각 파일에 대한 metadata가 기록된 고정된 크기의 구조체 블록<ul><li>파일 소유자 사용번호, 그룹번호</li><li>파일의 종류</li><li>데이터 블록의 주소</li><li>파일의 크기</li><li>파일이 생성, 사용, 변경된 시간</li><li>파일의 링크 수</li></ul></li><li>데이터 블록: 실제 파일블록을 저장하는 데 이용하는 블록</li></ul><h1 id="리디렉션"><a class="markdownIt-Anchor" href="#리디렉션"></a> 리디렉션</h1><ul><li>명령어 처리 시 입출력 방향을 지정할 때 사용</li></ul><blockquote><p>UNIX 시스템의 3가지 구성요소</p><ul><li>쉘</li><li>커널</li><li>어플리케이션</li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode 추천 패키지</title>
      <link href="/2017/10/17/VSCode-%EC%B6%94%EC%B2%9C-%ED%8C%A8%ED%82%A4%EC%A7%80/"/>
      <url>/2017/10/17/VSCode-%EC%B6%94%EC%B2%9C-%ED%8C%A8%ED%82%A4%EC%A7%80/</url>
      
        <content type="html"><![CDATA[<h1 id="필수-패키지"><a class="markdownIt-Anchor" href="#필수-패키지"></a> 필수 패키지</h1><ul><li>Auto Close Tag: 자동으로 태그를 닫아준다.</li><li>Auto Rename Tag: 자동으로 짝 태그의 이름을 바꿔준다.</li><li><s>Beautify</s>: 선택 영역 및 파일을 beautify</li><li>Bookmarks: 라인을 북마크해 shift + alt + L 키로 넘어다닐 수 있다.</li><li>Bracket Pair Colorizer: 괄호를 짝을 맞춰 색상을 입혀준다.</li><li>Code Runner: 해당 영역을 간단히 실행시켜볼 수 있다.</li><li>Color Highlight: 색상 코드가 색으로 표시된다.</li><li>Code Spell Checker: 오타를 잡아준다. (영문만)</li><li>Debugger for Chrome: 크롬 디버그 툴로 front 디버깅이 가능하다.</li><li>DotEnv: .env syntax 를 잡아준다.</li><li>EditorConfig for VS Code: .editorconfig 파일 설정을 불러와준다.</li><li>ESLint: JS Linting</li><li><s>Git History</s>: Git commit log 를 예쁘게 볼 수 있다. (Git Lens 에서 모두 확인 가능)</li><li>Git Lens: 라인별로 commit log 를 확인할 수 있다. 파일 비교도 가능하다.</li><li>Guides: 가이드라인이 진해진다.</li><li>Log File Highlighter: 이제 없으면 로그파일 못 보겠다.</li><li>Path Intellisense: 경로를 자동으로 잡아준다.</li><li>Prettier - Code formatter: Beautify 보다 더 좋다.</li><li>Project Manager: ctrl + shift + p 로 프로젝트를 빠르게 바꿀 수 있다.</li><li>REST Client: postman 과 같은 기능을 간단한 코드로 구현할 수 있다.</li><li>Trailing Space: 비어있는 부분을 하이라이트하고 저장시 자동으로 삭제해준다.</li><li>VS Live Share: Code 환경 간 세션 공유 가능</li><li>XML tools: xml 하이라이터</li></ul><h1 id="개발환경별-취향"><a class="markdownIt-Anchor" href="#개발환경별-취향"></a> 개발환경별 취향</h1><h2 id="css"><a class="markdownIt-Anchor" href="#css"></a> css</h2><ul><li>Sass</li></ul><h2 id="java"><a class="markdownIt-Anchor" href="#java"></a> java</h2><ul><li>Debugger for Java</li><li>Java Extension Pack</li><li>Java Test Runner</li><li>Maven for Java</li><li>Sprint Initialzr Java Support</li></ul><h2 id="javascript"><a class="markdownIt-Anchor" href="#javascript"></a> javascript</h2><ul><li>EJS language support: EJS syntax highlighter 중 제일 낫다.</li><li>JavaScript (ES6) code snippets</li><li>Veltur: Vue 매니아라면</li></ul><h2 id="php"><a class="markdownIt-Anchor" href="#php"></a> php</h2><ul><li>Laravel 5 Snippets: 라라벨 backend</li><li>laravel Blade Snippets: 라라벨 frontend</li><li>PHP Debug</li><li>PHP DocBlocker: 빠르게 주석을 만들 수 있다.</li><li>PHP Intellisense - Crane: PHP intellisense 모듈 중에 가장 똑똑하다.</li><li>PHP Namespace Resolver - 타입힌팅에 쓰이는 클래스를 바로 import 가능</li></ul><h2 id="python"><a class="markdownIt-Anchor" href="#python"></a> python</h2><ul><li>Python: Python 이 필요하다면</li><li>Anaconda Extension Pack</li></ul><h2 id="server"><a class="markdownIt-Anchor" href="#server"></a> server</h2><ul><li>Apache Conf: 아파치 속성을 많이 열어봐야 한다면</li><li>Docker: 도커를 쓴다면</li><li><s>ftp-kr</s>: FTP 환경에서 작업할 일이 있다면</li><li>sftp: ftp-kr 보다 적응되면 나은 것 같다.</li></ul><h2 id="기타"><a class="markdownIt-Anchor" href="#기타"></a> 기타</h2><ul><li>Markdown Shortcuts: markdown 의 폰트, 표 기능들을 쉽게 이용 가능하다.</li><li>vscode-pdf: PDF 파일도 열어보고 싶다면</li><li>Rainbow CSV: CSV 파일의 색깔을 입혀준다.</li></ul><h1 id="테마-및-아이콘"><a class="markdownIt-Anchor" href="#테마-및-아이콘"></a> 테마 및 아이콘</h1><h2 id="테마"><a class="markdownIt-Anchor" href="#테마"></a> 테마</h2><ul><li>Dracula Official: 드라큘라 테마</li><li>Shades of Purple: 보라색 테마</li></ul><h2 id="아이콘"><a class="markdownIt-Anchor" href="#아이콘"></a> 아이콘</h2><ul><li>vscode-icons: 주관적으로 제일 예쁘다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>자료구조</title>
      <link href="/2017/10/15/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/"/>
      <url>/2017/10/15/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="자료"><a class="markdownIt-Anchor" href="#자료"></a> 자료</h1><ul><li>현실세계로부터 관찰이나 측정을 통해서 수집된 사실이나 값</li><li>자료형태는 숫자로 표현되는 수치값이나 문자들로 구성되는 스트링을 포함</li></ul><h1 id="정보"><a class="markdownIt-Anchor" href="#정보"></a> 정보</h1><ul><li>어떤 상황에 대한 적절한 의사결정을 할 수 있게 하는 데이터의 유효한 해석이 나 상호 관계</li><li>자료가 처리되어 발생하는 결과</li><li>한시성</li><li>비소모성</li><li>공공성</li><li>독점성</li></ul><h1 id="자료구조"><a class="markdownIt-Anchor" href="#자료구조"></a> 자료구조</h1><ul><li>데이터를 효율적으로 사용할 수 있도록 자료의 특성에 따라 분류하여 구조를 만들어서 저장해 둔 것</li><li>단순 자료구조: integer, float, char 등 단일자료</li><li>선형 자료구조: 리스트, 스택, 큐</li><li>비선형 자료구조: 트리, 그래프</li><li>파일구조: 보조기억장치에 저장되는 대용량의 자료구조</li></ul><h1 id="알고리즘"><a class="markdownIt-Anchor" href="#알고리즘"></a> 알고리즘</h1><ul><li>유한한 단계를 통해 문제를 해결하기 위한 절차나 방법</li><li>입력, 출력, 명확성, 정확성, 유한성, 효율성, 일반성</li></ul><h2 id="순서도"><a class="markdownIt-Anchor" href="#순서도"></a> 순서도</h2><ul><li>사다리꼴 입출력</li><li>타원 터미널</li><li>마름모 비교, 판단</li><li>육각형 준비</li></ul><h1 id="추상"><a class="markdownIt-Anchor" href="#추상"></a> 추상</h1><ul><li>자세한 정보는 감추고 사용자가 자료를 사용하는 데 필요한 정보만 인터페이스를 통해 외부로 노출하는 것</li></ul><h1 id="프로시져"><a class="markdownIt-Anchor" href="#프로시져"></a> 프로시져</h1><ul><li>추상화 제공</li><li>재사용 가능</li><li>여러 프로그래머가 같은 문제를 해결할 수 있게 도와줌</li><li>구조 파악이 쉽다</li></ul><h2 id="프로시져-간-자료-전달-방법"><a class="markdownIt-Anchor" href="#프로시져-간-자료-전달-방법"></a> 프로시져 간 자료 전달 방법</h2><ul><li>Call By Value: 값에 의한 호출, 프로시저를 호출하기 전에 실인수의 값을 계산하고 값을 호출시에 대응되는 국소적 변수인 가인수에 대입함으로써 전달하는 방식</li><li>Call By Reference: 참조에 의한 호출, 주소와 포인터 등 실인수를 참조하기 위한 정보가 가인수에 전달되어 동일한 데이터를 참조하게 되어 호출된 프로시저에서 참조하는 값이 변경되면 실인수의 값도 동일하게 변경된다.</li></ul><h1 id="재귀"><a class="markdownIt-Anchor" href="#재귀"></a> 재귀</h1><ul><li>함수가 직접 자신을 호출하는 방식</li></ul><h1 id="공간-복잡도"><a class="markdownIt-Anchor" href="#공간-복잡도"></a> 공간 복잡도</h1><ul><li>Space Complexity, 프로그램을 실행시켜 완료하는 데 필요로 하는 공간의 양</li></ul><h2 id="고정-공간"><a class="markdownIt-Anchor" href="#고정-공간"></a> 고정 공간</h2><p>프로그램 입출력의 횟수나 크기와 관계없는 공간 요구</p><h2 id="가변-공간"><a class="markdownIt-Anchor" href="#가변-공간"></a> 가변 공간</h2><ul><li>특정 인스턴스에 의존하는 크기를 가진 구조화 변수들이 필요로 하는 공간</li></ul><h1 id="시간-복잡도"><a class="markdownIt-Anchor" href="#시간-복잡도"></a> 시간 복잡도</h1><ul><li>프로그램의 기능을 수행하기 위해 프로그램이 취한 단계수로 표현하는 것</li></ul><h2 id="빅오"><a class="markdownIt-Anchor" href="#빅오"></a> 빅오</h2><ul><li>f(n) = O(g(n))은 모든 n, n &gt;= n0에 대해 f(n) &lt;= cg(n)인 조건을 만족하는 두 양의 정수 c와 n0이 존재하기만 하면 f(n) = O(g(n))이다.</li></ul><h1 id="배열"><a class="markdownIt-Anchor" href="#배열"></a> 배열</h1><ul><li>같은 자료형과 같은 크기를 가진 원소가 순서를 가지고 만들어진 집합</li><li>인덱스에 의해 참조</li></ul><h2 id="순서-리스트"><a class="markdownIt-Anchor" href="#순서-리스트"></a> 순서 리스트</h2><ul><li>나열한 원소들 간에 순서를 가지고 있는 리스트</li><li>평균 이동 횟수 (n+1)/2, 삭제 시 (n-1)/2</li><li>삽입 삭제시 전체를 밀어야되지만, 기억장소 효율은 가장 좋다.</li></ul><h2 id="연결-리스트"><a class="markdownIt-Anchor" href="#연결-리스트"></a> 연결 리스트</h2><ul><li>공간 제약이 없다.</li><li>삽입 삭제가 효율적이다.</li></ul><h2 id="주소-저장"><a class="markdownIt-Anchor" href="#주소-저장"></a> 주소 저장</h2><ul><li>행 우선: 시작주소 + (행 _ 전체 열 크기 + 열) _ 원소 크기</li><li>열 우선: 시작주소 + (열 _ 전체 행 크기 + 행) _ 원소 크기</li></ul><h1 id="희소행렬"><a class="markdownIt-Anchor" href="#희소행렬"></a> 희소행렬</h1><ul><li>행렬의 대부분 원소가 0일 경우 기억공간의 낭비가 발생하므로 0이 아닌 원소만 추출하여 [행 번호, 열 번호, 원소] 쌍으로 2차원 배열에 저장하는 방식</li><li>연산 측면에선 반복적인 패턴을 찾을 수 없어 비효율적</li></ul><h1 id="전치행렬"><a class="markdownIt-Anchor" href="#전치행렬"></a> 전치행렬</h1><ul><li>행과 열을 바꾼 것, B = A^T로 표현</li><li>A^T = A면 대칭행렬</li></ul><h1 id="스택"><a class="markdownIt-Anchor" href="#스택"></a> 스택</h1><ul><li>한 끝에서 삽입과 삭제가 일어나는 순서 리스트</li><li>LIFO</li></ul><h2 id="시스템-스택"><a class="markdownIt-Anchor" href="#시스템-스택"></a> 시스템 스택</h2><ul><li>함수가 호출될 때마다 프로그램은 활성 레코드 또는 스택이라는 구조를 생성하고 시스템 스택의 top pointer에 적재한다.</li></ul><h2 id="스택의-적용"><a class="markdownIt-Anchor" href="#스택의-적용"></a> 스택의 적용</h2><ul><li>부프로그램 호출 시 복귀 주소 저장</li><li>함수 호출의 순서 제어</li><li>인터럽트 복귀 주소 저장</li><li>중위 표기식을 후위 표기식으로 변환</li><li>후위 표기법으로 표현된 산술식 연산</li><li>0-주소 지정방식의 명령어 자료 저장소</li><li>재귀 프로그램의 순서 제어</li><li>컴파일러를 이용한 언어 번역</li></ul><h1 id="큐"><a class="markdownIt-Anchor" href="#큐"></a> 큐</h1><ul><li>리스트의 한 쪽에선 원소를 삽입하고 다른 쪽에서는 삭제만 하는 구조</li><li>FIFO</li><li>front pointer: 가장 먼저 삽입된 자료의 포인터</li><li>rear pointer: 가장 나중에 삽입된 자료의 포인터</li><li>초기 조건: front == rear = -1</li><li>공백: front == rear = 1 &amp;&amp; front == rear</li><li>가득참: rear = n - 1</li></ul><h2 id="원형큐"><a class="markdownIt-Anchor" href="#원형큐"></a> 원형큐</h2><ul><li>큐가 가득 찬 후에 첫 번째 큐를 Q[0]에 위치하게 조정하는 배열 이동은 시간이 많이 걸려 원형으로 만듦</li><li>초기 조건: front == rear == 0</li><li>삽입 위치: rear = (rear + 1) % n</li><li>삭제 위치: front = (front + 1) % n</li><li>공백: front == rear</li><li>가득참: front == (rear + 1) % n</li></ul><h2 id="큐의-적용"><a class="markdownIt-Anchor" href="#큐의-적용"></a> 큐의 적용</h2><ul><li>작업 버퍼 큐</li><li>프로세스 스케줄링</li><li>큐잉 시뮬레이션</li></ul><h1 id="데크"><a class="markdownIt-Anchor" href="#데크"></a> 데크</h1><ul><li>원소의 삽입과 삭제가 리스트의 양쪽 끝에서 이뤄지는 자료구조</li><li>스택과 큐의 결합</li><li>Double Ended Queue</li></ul><h2 id="스크롤"><a class="markdownIt-Anchor" href="#스크롤"></a> 스크롤</h2><ul><li>입력 제한 테크</li><li>한 쪽에선 삭제만 가능</li></ul><h2 id="셀프"><a class="markdownIt-Anchor" href="#셀프"></a> 셀프</h2><ul><li>출력 제한 데크</li><li>한 쪽에선 삽입만 가능</li></ul><h1 id="스택-수식-계산"><a class="markdownIt-Anchor" href="#스택-수식-계산"></a> 스택 수식 계산</h1><ul><li>우선순위: 승제 &gt; 가감 &gt; 시프트 &gt; 비교 &gt; 등가 &gt; 비트 &gt; 논리</li></ul><h1 id="연결-리스트-2"><a class="markdownIt-Anchor" href="#연결-리스트-2"></a> 연결 리스트</h1><blockquote><p>순서 리스트의 문제점</p><ul><li>삽입 삭제시 많은 이동</li><li>할당 공간 부족시 재할당</li><li>표현방법과 기억 공간의 크기가 달라지면 컴파일부터 다시 실행</li></ul></blockquote><h2 id="비사용-기억공간"><a class="markdownIt-Anchor" href="#비사용-기억공간"></a> 비사용 기억공간</h2><ul><li>기억 공간이 필요하여 요청하는 경우 할당해 줄 수 있는 공간</li></ul><h2 id="연결-리스트의-응용"><a class="markdownIt-Anchor" href="#연결-리스트의-응용"></a> 연결 리스트의 응용</h2><ul><li>다항식 표현</li></ul><h2 id="이중-연결-리스트"><a class="markdownIt-Anchor" href="#이중-연결-리스트"></a> 이중 연결 리스트</h2><ul><li>링크의 방향을 양방향으로 이동할 수 있어 검색 효율성이 좋다.</li></ul><blockquote><p>원형 연결 리스트에서 헤드 노드를 사용하는 이유<br>모든 원소가 환형으로 연결되어 있기 때문에 무한 루프에 빠질 수 있어 헤드 노드를 두어 리스트의 시작을 알린다.</p></blockquote><h1 id="트리"><a class="markdownIt-Anchor" href="#트리"></a> 트리</h1><ul><li>정보의 검색 및 자료 보관을 위해 널리 사용되고 있는 자료구조</li><li>사이클을 포함하지 않는 연결 그래프의 일종</li><li>계층적 자료구조</li><li>노드와 각 노드를 연결하는 간선으로 구성</li><li>임의의 노드에서 다른 노드로의 연결은 하나만 가능하다.</li><li>루트 노드는 하나만 존재</li><li>트리의 부분 집합은 하나의 트리, 이 것을 서브 트리라고 한다.</li><li>노드 연결에 순환이 존재하지 않는다.</li></ul><h2 id="균형트리"><a class="markdownIt-Anchor" href="#균형트리"></a> 균형트리</h2><ul><li>B-tree, AVL tree, Red-black tree</li></ul><h2 id="용어"><a class="markdownIt-Anchor" href="#용어"></a> 용어</h2><ul><li>노드: 자료를 담는 영역</li><li>간선: 노드 간의 연결 선</li><li>차수: 하위 노드의 개수</li><li>레벨: 계층 구조의 노드의 위치 값</li><li>높이 또는 깊이: 루트에서 터미널 노드까지의 레벨의 개수</li><li>터미널 노드: 최하위 노드</li><li>포리스트: 루트 노드를 제거하고 생기는 서브 트리들</li></ul><h1 id="이진-트리"><a class="markdownIt-Anchor" href="#이진-트리"></a> 이진 트리</h1><ul><li>모든 노드의 차수가 2 이하인 특수한 형태의 트리</li><li>순서트리의 특성을 가지므로 노드의 위치 또는 순서가 중요한 의미를 가진다.</li><li>편향 이진 트리: 단말노드를 제외한 트리의 구성 노드들이 왼쪽 또는 오른쪽 자식 노드만을 가지는 형태의 트리</li><li>전 이진 트리: 단말노드를 제외한 노드들이 왼쪽 자식과 오른쪽 자식 노드를 모두 가지고 있는 형태의 트리</li><li>포화 이진 트리: 단말노드를 제외한 모든 노드의 차수가 2이면서 최하위 자식 노드들이 모두 차여 있는 형태의 트리</li><li>완전 이진 트리: 루트 노드에서부터 하위 레벨로 순차적으로 왼쪽 자식, 오른쪽 자식 노드 순으로 추가된 트리의 형태</li><li>균형 이진 트리: 단말 노드의 레벨 값의 차이가 1 이하인 형태 (완전 이진 트리와 포화 이진 트리를 포함)</li><li>일차원 배열(완전 이진트리로 가정)과 연결 리스트로 표현하는 방법</li></ul><h2 id="이진-트리-순회"><a class="markdownIt-Anchor" href="#이진-트리-순회"></a> 이진 트리 순회</h2><ul><li>중위 순회: 좌 루트 우</li><li>후위 순회: 좌 우 루트</li><li>전위 순회: 루트 좌 우</li></ul><h2 id="이진-트리-정렬"><a class="markdownIt-Anchor" href="#이진-트리-정렬"></a> 이진 트리 정렬</h2><ul><li>루트부터 비교하면서 작으면 왼쪽 자식, 크면 오른쪽 자식</li><li>완성되면 중위 순회</li></ul><h2 id="스레드-이진-트리"><a class="markdownIt-Anchor" href="#스레드-이진-트리"></a> 스레드 이진 트리</h2><ul><li>터미널 노드의 null 값의 링크를 조상 노드에 연결해 알고리즘 성능을 향상시키는 방식</li></ul><h1 id="히프"><a class="markdownIt-Anchor" href="#히프"></a> 히프</h1><ul><li>완전 이진 트리의 자료구조</li><li>가장 큰 값이나 가장 작은 값이 완전 이진 트리의 루트에 항상 존재하는 자료구조</li><li>데이터 목록에서 가장 작은 값이나 가장 큰 값을 빠르게 찾을 수 있도록 구성된 자료구조</li></ul><h2 id="우선순위-큐"><a class="markdownIt-Anchor" href="#우선순위-큐"></a> 우선순위 큐</h2><ul><li>FIFO를 지키면서 우선순위가 부여된 원소는 큐에서 위치와 상관 없이 먼저 출력되는 구조</li><li>배열, 연결리스트, 히프로 표현이 가능하다.</li><li>히프 사용시 O(logn)의 복잡도</li></ul><h1 id="이진-탐색-트리"><a class="markdownIt-Anchor" href="#이진-탐색-트리"></a> 이진 탐색 트리</h1><ul><li>이진 트리의 구조로 자료 검색 삭제 및 삽입에 효율적인 자료구조</li><li>원소들은 유일한 키 값을 가지며 좌측 서브 트리는 루트 값보다 작은 값들로 구성된 이진 탐색트리고 우측 서브 트리는 루트의 값보다 큰 값들로 구성된 이진 탐색 트리로 구성</li><li>중간 노드 삭제시 왼쪽 서브트리의 최대 원소와 오른쪽 서브트리의 최소 원소를 비교하여 중간 노드 값으로 올린다.</li><li>최대 높이는 n, 최소 높이는 log₂(n)</li></ul><h1 id="선택-트리"><a class="markdownIt-Anchor" href="#선택-트리"></a> 선택 트리</h1><ul><li>N개의 원소를 임의의 개수로 나눈 원소를 가진 K개의 목록을 합병 정렬할 목적으로 구성</li></ul><h2 id="승자-트리"><a class="markdownIt-Anchor" href="#승자-트리"></a> 승자 트리</h2><ul><li>2개의 자식 노드 중 값이 작은 노드가 승자가 되어 상위 부모 노드로 올라가는 트리</li></ul><h2 id="패자-트리"><a class="markdownIt-Anchor" href="#패자-트리"></a> 패자 트리</h2><ul><li>승자 대신 패자 원소를 나타내고 승자는 상위 부모 노드에 올린다.</li></ul><h1 id="포리스트"><a class="markdownIt-Anchor" href="#포리스트"></a> 포리스트</h1><ul><li>서로 연결되지 않은 여러 개의 서브 트리로 구성된 구조</li><li>자료 접근에 어려움이 있어 이진 트리로 변환해야 한다.</li></ul><blockquote><ul><li>이진트리에서 루트 레벨이 1로 시작할 때 레벨 i에서 최대 노드의 수는 2^(i-1) 개 이다.</li><li>이진트리에서 깊이가 i라면 최대 노드 수는 2^i-1개다.</li></ul></blockquote><h1 id="그래프"><a class="markdownIt-Anchor" href="#그래프"></a> 그래프</h1><ul><li>공집합이 아닌 정점들의 유한집합과 공집합도 허용하는 간선들의 유한집합으로 구성</li><li>완전 그래프: 최대 수의 간선을 가지는 그래프</li><li>가중 그래프: 간선에 가중치가 할당된 그래프</li></ul><h2 id="그래프의-표현"><a class="markdownIt-Anchor" href="#그래프의-표현"></a> 그래프의 표현</h2><ul><li>인접 행렬: 간선이 있으면 1 없으면 0</li><li>인접 리스트: vertex와 link로 표현</li></ul><h2 id="그래프-순회"><a class="markdownIt-Anchor" href="#그래프-순회"></a> 그래프 순회</h2><ul><li>깊이 우선 탐색: 스택</li><li>너비 우선 탐색: 큐</li><li>신장 트리: 그래프의 간선들로만 구성되고 그래프의 모든 정점을 포함하는 트리, 사이클이 포함되면 안된다.</li></ul><h1 id="최소-비용-신장-트리"><a class="markdownIt-Anchor" href="#최소-비용-신장-트리"></a> 최소 비용 신장 트리</h1><ul><li>모든 정점들을 가장 적은 수의 간선과 비용으로 연결하는 트리</li><li>비용은 거리 및 시간을 의미한다.</li><li>Prim, Kruskal, Sollin 알고리즘이 있다.</li></ul><h2 id="prim"><a class="markdownIt-Anchor" href="#prim"></a> Prim</h2><ul><li>가중치가 적은 간선을 선택해 가는 방식</li></ul><h2 id="kruskal"><a class="markdownIt-Anchor" href="#kruskal"></a> Kruskal</h2><ul><li>탐욕적 방법</li><li>매번 선택마다 전체에서 가장 좋다고 생각하는 간선을 선택</li></ul><h1 id="그래프의-응용"><a class="markdownIt-Anchor" href="#그래프의-응용"></a> 그래프의 응용</h1><h2 id="pertcpm"><a class="markdownIt-Anchor" href="#pertcpm"></a> PERT/CPM</h2><ul><li>Program Evaluation and Review Technique / Critical Path Method</li><li>PERT: 프로젝트에 필요한 전체 작업의 상호관계를 표현하는 방법</li><li>CPM: 프로젝트 완성에 필요한 작업을 나열하고 작업에 필요한 소요 기간을 예측하는 데 사용하는 기법</li><li>상세 계획을 수립하기 쉽고 변화나 변경에 대해 바로 대처할 수 있고 네트워크상 문제점을 파악할 수 있고 중점관리가 가능하나 작성에 많은 시간이 든다.</li></ul><h2 id="최단-경로"><a class="markdownIt-Anchor" href="#최단-경로"></a> 최단 경로</h2><ul><li>Dijkstra 알고리즘: 첫 번째 정점 a에서 최단 경로의 길이인 두 번째 정점을 찾는 알고리즘</li></ul><h1 id="탐색"><a class="markdownIt-Anchor" href="#탐색"></a> 탐색</h1><ul><li>주어진 리스트에서 원하는 키를 찾는 것</li><li>비교 탐색방법: 탐색 대상의 키를 비교하여 탐색하는 방법, 순차 탐색, 이진 탐색, 이진 트리 탐색</li><li>계산 탐색방법: 계수적인 성질을 이용하여 계산으로 탐색을 하는 방법, 해싱</li></ul><h2 id="순차-탐색"><a class="markdownIt-Anchor" href="#순차-탐색"></a> 순차 탐색</h2><ul><li>주어진 리스트에서 탐색키와 같은 레코드를 검색하는 방법</li><li>O(n)</li></ul><h2 id="이진-탐색"><a class="markdownIt-Anchor" href="#이진-탐색"></a> 이진 탐색</h2><ul><li>이미 정렬되어 있는 리스트에서 절반을 쪼개가며 값을 찾는 방식</li><li>O(logn)</li></ul><h2 id="피보나치-탐색"><a class="markdownIt-Anchor" href="#피보나치-탐색"></a> 피보나치 탐색</h2><ul><li>피보나치 수열을 이용해 중간 값을 계산해 속도가 빠르다.</li></ul><h1 id="정렬"><a class="markdownIt-Anchor" href="#정렬"></a> 정렬</h1><ul><li>내부 정렬: 리스트가 작아 주기억장치에서 모두 정렬이 가능</li><li>외부 정렬: 외부 기억장치를 이용해 정렬</li><li>비교식 정렬: 비교하고자 하는 각 키 값들을 한 번에 2개씩 비교하여 교환하는 방식</li><li>분산식 정렬: 키 값을 기준으로 하여 자료를 여러 개의 부분 집합으로 분해하여 각 부분집합을 정렬함으로써 전체를 정렬하는 방식</li></ul><h2 id="삽입-정렬"><a class="markdownIt-Anchor" href="#삽입-정렬"></a> 삽입 정렬</h2><ul><li>정렬되어 있는 값들을 삽입하고자 하는 값과 비교하여 큰 값들은 뒤로 이동한 후 삽입하는 방법</li><li>O(n^2)</li><li>두번 째 원소를 기준으로 이전의 레코드들과 비교하여 적절한 위치를 찾아 삽입하는 방식</li></ul><h2 id="쉘-정렬"><a class="markdownIt-Anchor" href="#쉘-정렬"></a> 쉘 정렬</h2><ul><li>매개변수 값을 정하여 매개변수의 값만큼 간격을 가지는 레코드들을 여러 개의 서브 파일로 구성하면서 각 서브 파일을 삽입 정렬방식으로 배열하는 과정을 반복하는 것</li><li>interval은 전체 레코드의 개수의 절반인 <code>interval = n/2</code>에서 시작해 매번 <code>interval = interval / 2</code>로 interval 값이 0보다 큰 경우에 반복 수행한다.</li><li>O(n^1.25)</li></ul><h2 id="퀵-정렬"><a class="markdownIt-Anchor" href="#퀵-정렬"></a> 퀵 정렬</h2><ul><li>기준값인 피벗을 중심으로 큰 원소들은 오른쪽 부분집합으로 분할하여 정렬하는 방법</li><li>분할 정복기법</li><li>정렬할 자료들을 기준값을 중심으로 2개의 부분집합으로 분할하는 작업과 기준값보다 작으면 왼쪽 부분집합으로 크면 오른쪽 부분집합으로 정렬하는 정복 작업을 부분 집합의 크기가 1 이하가 될 때까지 반복한다.</li><li>O(nlog₂n), 최악 O(n^2)</li></ul><h2 id="버블-정렬"><a class="markdownIt-Anchor" href="#버블-정렬"></a> 버블 정렬</h2><ul><li>인접한 2개의 레코드를 비교하여 위치를 서로 교환하는 방식</li><li>한 회전을 거치면 리스트의 마지막의 가장 큰 레코드가 남게 된다.</li><li>O(n^2)</li></ul><h2 id="2원-합병-정렬"><a class="markdownIt-Anchor" href="#2원-합병-정렬"></a> 2원 합병 정렬</h2><ul><li>이미 정렬된 2개 이상의 배열이 있을 때 이들을 합쳐서 하나의 정렬된 배열을 만드는 것</li><li>O(nlogn)</li></ul><h2 id="히프-정렬"><a class="markdownIt-Anchor" href="#히프-정렬"></a> 히프 정렬</h2><ul><li>O(nlogn)</li><li>히프 트리를 이용해 정렬하는 방식으로 항상 가장 큰 원소가 루트 노드가 되고 삭제 연산을 수행하면 항상 루트 노드의 원소를 삭제하여 반환하게 된다.</li></ul><h2 id="선택-정렬"><a class="markdownIt-Anchor" href="#선택-정렬"></a> 선택 정렬</h2><ul><li>단순한 정렬방법</li><li>이동하면서 가장 작은 값을 앞으로 보낸다.</li><li>O(n^2)</li><li>데이터 양이 적을 때 아주 좋은 성능을 낼 수 있다.</li></ul><h2 id="기수-정렬"><a class="markdownIt-Anchor" href="#기수-정렬"></a> 기수 정렬</h2><ul><li>큐를 이용하여 자릿수 (digit) 별로 정렬하는 방식</li><li>부동소숫점 정렬 불가능</li><li>O(dn)</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vee-Validate Custom Validation</title>
      <link href="/2017/10/15/Vee-Validate-Custom-Validation/"/>
      <url>/2017/10/15/Vee-Validate-Custom-Validation/</url>
      
        <content type="html"><![CDATA[<p>커스텀 validation을 추가해야할 때가 있다.<br>created에 $validator 인스턴스를 확장해주면 된다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.$validator.extend(<span class="string">'customRule'</span>, &#123;</span><br><span class="line">    getMessage: <span class="function"><span class="keyword">function</span>(<span class="params">field, args</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'오류 메세지'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    validate: <span class="function"><span class="keyword">function</span>(<span class="params">value, args</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 체크 로직</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>모듈형태거나 전역설정이면 <code>import { Validator } from 'vee-validate';</code> 후에 <code>Validator.extend</code>로 접근하면 된다.</p><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><p>추가한 룰 이름으로 v-validate 속성에 넣어주면 끝이다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"help"</span> <span class="attr">v-validate</span>=<span class="string">"'required|customeRule'"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="스크립트-상에서-추가"><a class="markdownIt-Anchor" href="#스크립트-상에서-추가"></a> 스크립트 상에서 추가</h2><p>attach 메소드로 붙히면 된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$validator.attach(<span class="string">"help"</span>, <span class="string">"customRule"</span>);</span><br></pre></td></tr></table></figure><p>다른 사용법은 <a href="https://vee-validate.logaretm.com/rules.html#custom-rules" target="_blank" rel="external nofollow noopener noreferrer">공식문서</a>를 참조하자</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel - Migration으로 FK 생성이 안될 때</title>
      <link href="/2017/10/11/Laravel-Migration%EC%9C%BC%EB%A1%9C-FK-%EC%83%9D%EC%84%B1%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2017/10/11/Laravel-Migration%EC%9C%BC%EB%A1%9C-FK-%EC%83%9D%EC%84%B1%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>참조할 테이블의 PK가 increment로 정의되어 있고, 연결할 테이블의 FK가 integer로 되어있는데, SQL Syntax ERROR가 날 경우에 다음과 같이 처리하면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>increment가 기본적으로 unsigned이기 때문에 외래키를 걸 컬럼이 unsigned인지 확인해보자.<br>(컬럼 타입이 완전히 같은지 확인해보자.)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// FK</span></span><br><span class="line">$table-&gt;integer(<span class="string">'pk_id'</span>)-&gt;unsigned();</span><br><span class="line"></span><br><span class="line"><span class="comment">// PK</span></span><br><span class="line">$table-&gt;increment(<span class="string">'id'</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><code>ALTER TABLE CONSTRAINT FORIEN KEY</code> 구문에 문제가 있는 줄 알고 한참 삽질</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>컴퓨터네트워크</title>
      <link href="/2017/10/05/%EC%BB%B4%ED%93%A8%ED%84%B0%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/"/>
      <url>/2017/10/05/%EC%BB%B4%ED%93%A8%ED%84%B0%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="컴퓨터-통신망"><a class="markdownIt-Anchor" href="#컴퓨터-통신망"></a> 컴퓨터 통신망</h1><p>단말기와 단말기 사이를 전송매체가 연결하여 데이터를 주고받는 행위</p><h2 id="컴퓨터-통신망의-역사"><a class="markdownIt-Anchor" href="#컴퓨터-통신망의-역사"></a> 컴퓨터 통신망의 역사</h2><ul><li>1958 - SAGE: 최초의 컴퓨터 통신 시스템, 대공방어장치</li><li>1961 - TSS: 최초의 시분할 통신시스템, Time Sharing System</li><li>1968 - ARPA: 최초의 패킷 교환방식</li><li>1968 - ALOHA: 하와이 대학 최초의 무선 패킷 교환 통신망</li><li>1974 - SNA: 체계화된 컴퓨터 통신망, System Network Architecture</li></ul><h2 id="컴퓨터-통신망의-목적"><a class="markdownIt-Anchor" href="#컴퓨터-통신망의-목적"></a> 컴퓨터 통신망의 목적</h2><ul><li>자원의 공유와 신뢰도 향상</li><li>처리 기능의 부산과 프로세스 간 통신제공</li><li>시스템 간 호환성 확대</li><li>최소의 비용으로 최대의 성능 제공</li></ul><blockquote><p><strong>통신망의 목적</strong><br>자원의 공유와 신뢰도 향상 및 처리기능의 분산과 프로세스 간의 통신 제공</p></blockquote><h2 id="컴퓨터-통신망의-서비스"><a class="markdownIt-Anchor" href="#컴퓨터-통신망의-서비스"></a> 컴퓨터 통신망의 서비스</h2><ul><li>데이터</li><li>음성</li><li>이미지</li><li>영상</li><li>멀티미디어</li></ul><h1 id="데이터-통신-시스템"><a class="markdownIt-Anchor" href="#데이터-통신-시스템"></a> 데이터 통신 시스템</h1><ul><li>데이터 처리계: 컴퓨터</li><li>데이터 전송계: 단말, 데이터 전송장치, 통신제어장치 등</li></ul><h2 id="데이터-단말장치"><a class="markdownIt-Anchor" href="#데이터-단말장치"></a> 데이터 단말장치</h2><ul><li>DTE: Data Terminal Equipment</li><li>전송할 데이터를 부호로 변환하거나 처리하는 장치</li><li>컴퓨터, 프린터, 터미널</li></ul><h3 id="데이터-단말장치-기능"><a class="markdownIt-Anchor" href="#데이터-단말장치-기능"></a> 데이터 단말장치 기능</h3><ul><li>입출력 기능</li><li>데이터 수집과 저장</li><li>데이터 처리</li><li>통신, 통신제어</li></ul><h2 id="데이터-회선종단장치"><a class="markdownIt-Anchor" href="#데이터-회선종단장치"></a> 데이터 회선종단장치</h2><ul><li>DCE: Data Circuit terminating Equipment</li><li>신호변환장치</li><li>DTE에서 처리된 신호를 변환하거나 통신회선상에 놓여 있는 신호를 변환하는 장치</li><li>모뎀, 랜 어댑터, DSU 등이 해당</li></ul><h3 id="데이터-회선종단장치-기능"><a class="markdownIt-Anchor" href="#데이터-회선종단장치-기능"></a> 데이터 회선종단장치 기능</h3><ul><li>신호변환</li><li>전송신호의 동기제어</li><li>송수신 확인 기능</li><li>전송오류검출 및 정정 기능</li></ul><h2 id="통신-소프트웨어"><a class="markdownIt-Anchor" href="#통신-소프트웨어"></a> 통신 소프트웨어</h2><ul><li>컴퓨터 상호 간에 접속하여 정보를 교환할 수 있게 하는 소프트웨어</li></ul><h3 id="응용-소프트웨어"><a class="markdownIt-Anchor" href="#응용-소프트웨어"></a> 응용 소프트웨어</h3><ul><li>특정 분야에 대해 망의 접근을 가능케 하는 소프트웨어</li><li>메세지 핸들링 시스템</li></ul><h3 id="상호접속-소프트웨어"><a class="markdownIt-Anchor" href="#상호접속-소프트웨어"></a> 상호접속 소프트웨어</h3><ul><li>망내의 각 지점을 서로 연계하여 작동하도록 기능하는 소프트웨어</li><li>프로토콜</li><li>X.25, TCP/IP</li></ul><h1 id="컴퓨터-통신망-프로토콜"><a class="markdownIt-Anchor" href="#컴퓨터-통신망-프로토콜"></a> 컴퓨터 통신망 프로토콜</h1><ul><li>특정 단말기 사이의 상호통신을 위한 규약</li></ul><h2 id="프로토콜-3요소"><a class="markdownIt-Anchor" href="#프로토콜-3요소"></a> 프로토콜 3요소</h2><ul><li>문법: syntax</li><li>타이밍</li><li>의미: semantic</li></ul><h2 id="프로토콜-주요-기능"><a class="markdownIt-Anchor" href="#프로토콜-주요-기능"></a> 프로토콜 주요 기능</h2><ul><li>흐름제어</li><li>오류제어</li><li>순서화 전달</li><li>주소지정</li><li>다중화</li><li>전송</li><li>분할과 병합</li><li>캡슐화</li><li>연결</li></ul><h2 id="계층"><a class="markdownIt-Anchor" href="#계층"></a> 계층</h2><h3 id="물리-계층"><a class="markdownIt-Anchor" href="#물리-계층"></a> 물리 계층</h3><ul><li>회선구성, 데이터 전송방식, 접속형태, 물리적인 링크 설정 유지 해제 의 기능</li><li>V.24, V.28(RS-232C)</li><li>X.21, X.21bis</li><li>I.430, I.431 ISDN</li></ul><h3 id="데이터링크-계층"><a class="markdownIt-Anchor" href="#데이터링크-계층"></a> 데이터링크 계층</h3><ul><li>노드 대 노드 전달, 주소 지정, 전송되는 데이터 동기 확인, 흐름제어, 오류 제어</li><li>HDLC</li><li>LAN의 LCC, MAC</li><li>LAPB</li></ul><h3 id="네트워크-계층"><a class="markdownIt-Anchor" href="#네트워크-계층"></a> 네트워크 계층</h3><ul><li>발신지 대 목적지 전달, 논리주소 지정, 주소 변환, 논리적 링크 구성, 라우팅, 다중화</li><li>IP</li><li>ICMP, ARP, RARP</li></ul><h3 id="전송-계층"><a class="markdownIt-Anchor" href="#전송-계층"></a> 전송 계층</h3><ul><li>데이터 전송 종단 간의 신뢰성 제어, 포트 주소 지정, 분할과 병합, 연결제어</li><li>TCP, UDP</li></ul><h3 id="세션-계층"><a class="markdownIt-Anchor" href="#세션-계층"></a> 세션 계층</h3><ul><li>송수신 프로세스 간의 연결 확립, 연결 해제, 송신권 제어, 동기점 표시</li></ul><h3 id="표현-계층"><a class="markdownIt-Anchor" href="#표현-계층"></a> 표현 계층</h3><ul><li>통신을 위한 데이터 포맷 형태의 변환기능, 데이터 암호화, 데이터 압축, 네트워크 안전성 보장</li></ul><h3 id="응용계층"><a class="markdownIt-Anchor" href="#응용계층"></a> 응용계층</h3><ul><li>사용자가 직접 접하는 부분</li></ul><h1 id="전송-코드"><a class="markdownIt-Anchor" href="#전송-코드"></a> 전송 코드</h1><h2 id="보도-코드"><a class="markdownIt-Anchor" href="#보도-코드"></a> 보도 코드</h2><ul><li>Baudot code</li><li>이진수로 만들어진 코드화된 최초의 문자표</li><li>국제 전신인쇄기에서 사용</li></ul><h2 id="ascii-코드"><a class="markdownIt-Anchor" href="#ascii-코드"></a> ASCII 코드</h2><ul><li>American Standard Code for Information Interchange</li><li>미국 표준기구에 정한 표준 부호</li><li>7개의 정보 비트와 1개의 패리티 비트로 구성</li><li>7개의 정보비트로 128개 조합 가능</li><li>숫자와 영문자 모두 사용</li><li>짝, 홀 패리티에 의해 오류 발생 여부를 알 수 있음</li></ul><h2 id="ebcdic-코드"><a class="markdownIt-Anchor" href="#ebcdic-코드"></a> EBCDIC 코드</h2><ul><li>확장 이진화 10진 코드</li><li>Extended Binary Coded decimal Interchange Code</li><li>BCD 코드를 확장</li><li>256개의 비트패턴이나 문자로 표현</li></ul><h1 id="전송방식"><a class="markdownIt-Anchor" href="#전송방식"></a> 전송방식</h1><h2 id="단방향"><a class="markdownIt-Anchor" href="#단방향"></a> 단방향</h2><ul><li>Simplex</li><li>라디오, TV, 전광판</li></ul><h2 id="반이중"><a class="markdownIt-Anchor" href="#반이중"></a> 반이중</h2><ul><li>Half-duplex</li><li>양방향 전송이 가능하지만 동시에는 불가능</li><li>무전기, 팩스</li></ul><h2 id="전이중"><a class="markdownIt-Anchor" href="#전이중"></a> 전이중</h2><ul><li>Full-duplex</li><li>양방향 전송가능, 두 개의 전송 채널이 필요</li><li>전송 효율이 높으나 비용이 많이 듦</li><li>전화</li></ul><h2 id="직렬-전송"><a class="markdownIt-Anchor" href="#직렬-전송"></a> 직렬 전송</h2><ul><li>serial transmission</li><li>전송하고자 하는 각 데이터 비트를 직렬화한 뒤 하나의 통신회선을 이용해 한 비트씩 순차적으로 전송하는 방식</li><li>원거리 전송에 적합</li><li>저속 통신 방식이 사용</li></ul><h2 id="병렬-전송"><a class="markdownIt-Anchor" href="#병렬-전송"></a> 병렬 전송</h2><ul><li>perallel transmission</li><li>전송하고자 하는 데이터를 비트별로 통신회선을 따로 두고 동시에 복수 비트를 한꺼번에 전송</li><li>근거리 데이터 전송에 이용</li><li>고속 전송에 적합</li></ul><h2 id="베이스밴드-전송"><a class="markdownIt-Anchor" href="#베이스밴드-전송"></a> 베이스밴드 전송</h2><ul><li>디지털 데이터를 그대로 보내거나 전송부호로 변환시켜 전송하는 방식</li><li>RZ, NRZ, AMI, Manchester, CMI 등이 전송부호로 사용</li><li>주로 LAN에 사용</li><li>가까운 거리</li></ul><h2 id="브로드밴드-전송"><a class="markdownIt-Anchor" href="#브로드밴드-전송"></a> 브로드밴드 전송</h2><ul><li>하나의 전송매체에 여러 채널의 데이터를 실어서 동시에 전송하는 방식</li><li>데이터 신호보다 높은 반송파에 실어서 변조를 거친 후 전송하기 때문에 원거리 전송에 유리</li><li>하나의 전송매체로 멀티미디어 서비스 제공 가능</li><li>주파수 분할 다중화에 적합</li><li>홈 네트워크와 케이블 TV</li></ul><h1 id="전송모드"><a class="markdownIt-Anchor" href="#전송모드"></a> 전송모드</h1><h2 id="동기식-전송"><a class="markdownIt-Anchor" href="#동기식-전송"></a> 동기식 전송</h2><ul><li>전송된 데이터를 정확히 수신하기 위해 송수신 측 간의 타임이을 일치시켜 전송하는 방식</li><li>데이터를 한 묶음의 문자열로 전송할 수 있음</li><li>비트마다 동기를 취해 긴 데이터를 송신할 수 있다.</li><li>전송효율과 전송속도가 높음</li></ul><h2 id="비동기식-전송"><a class="markdownIt-Anchor" href="#비동기식-전송"></a> 비동기식 전송</h2><ul><li>전송하고자 하는 문자 앞 뒤에 시작 비트와 정지 비트를 첨부하여 전송하는 방식</li><li>동기는 바이트 단위로 이뤄지며 저속용 데이터 전송에 사용</li></ul><h1 id="전송효율"><a class="markdownIt-Anchor" href="#전송효율"></a> 전송효율</h1><h2 id="코드효율"><a class="markdownIt-Anchor" href="#코드효율"></a> 코드효율</h2><ul><li>코드효율 = 실제정보 비트 수 / 전체 정보 비트 수</li></ul><h2 id="전송효율-2"><a class="markdownIt-Anchor" href="#전송효율-2"></a> 전송효율</h2><ul><li>전송효율 = 정보 비트 수 / 전체 비트 수</li></ul><h2 id="전체효율"><a class="markdownIt-Anchor" href="#전체효율"></a> 전체효율</h2><ul><li>전체효율 = 코드효율 X 전송효율</li><li>실제 전송되는 전체 비트 중에서 실제 데이터가 차지하는 비율</li></ul><blockquote><p><strong>위상변조</strong><br>잡음에 강하고, 레벨 변화의 영향을 적게 받으며, 일정한 크기의 대역폭을 필요로 한다.<br>간단한 회로 구성</p></blockquote><blockquote><p><strong>동기화</strong><br>송신 측과 수신 측 사이에 정보를 보내는 시점을 합의하는 절차</p></blockquote><blockquote><p><strong>PCM</strong><br>신호를 양자화, 표본화, 부호화하여 펄스 변조하는 불연속 펄스 변조<br>펄스코드변조</p></blockquote><h1 id="전송매체"><a class="markdownIt-Anchor" href="#전송매체"></a> 전송매체</h1><h2 id="꼬임선-케이블"><a class="markdownIt-Anchor" href="#꼬임선-케이블"></a> 꼬임선 케이블</h2><ul><li>두 가닥의 절연된 구리선이 균일하게 서로 감겨 있는 형태</li></ul><h3 id="utp"><a class="markdownIt-Anchor" href="#utp"></a> UTP</h3><ul><li>Unshielded Twisted Pair, 비 차폐 이중 꼬임선</li><li>가격 저렴, 설치가 쉽고 유연하다</li><li>랜선</li><li>최대 100m</li><li>RJ-45 커넥터</li></ul><h3 id="stp"><a class="markdownIt-Anchor" href="#stp"></a> STP</h3><ul><li>Shielded Twisted Pair, 차폐 이중 꼬임선</li><li>UTP에 비해 비쌈</li><li>외부전류로부터 보호를 위해 금속박막을 접지하는 특별한 커넥터를 사용해 설치가 복잡</li><li>백본의 최대 사용길이는 100m로 제한</li></ul><h2 id="동축-케이블"><a class="markdownIt-Anchor" href="#동축-케이블"></a> 동축 케이블</h2><ul><li>내부 단일 전선과 외부 도체로 구성</li><li>이중 나선보다 처리율이 좋다</li><li>베이스밴드와 브로드밴드 전송 방법을 사용할 수 있다.</li><li>수백 Mbps의 고속전송이 가능</li><li>바다나 땅에 묻어도 성능에 큰 지장이 없음</li><li>전력 손실이 적고 높은 주파수에서 빠른 데이터 전송 가능</li><li>차폐성이 좋아 간섭이 적음</li><li>1km 마다 리피터를 필요로 한다.</li></ul><h3 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h3><ul><li>RG-8, 9, 11: 굵은 이더넷</li><li>RG-58: 얇은 이더넷</li><li>RG-75: TV</li></ul><h3 id="얇은-동축-케이블"><a class="markdownIt-Anchor" href="#얇은-동축-케이블"></a> 얇은 동축 케이블</h3><ul><li>Thin 이더넷 또는 10BASE-2</li><li>반드시 같은 케이블로만 연결해야한다.</li><li>최대 사용 길이는 185m</li></ul><h3 id="굵은-동축-케이블"><a class="markdownIt-Anchor" href="#굵은-동축-케이블"></a> 굵은 동축 케이블</h3><ul><li>Thick 이더넷 또는 10BASE-5</li><li>네트워크 백본으로 사용</li><li>최대 사용길이는 500m</li><li>설치와 취급이 어렵다.</li></ul><h2 id="광섬유"><a class="markdownIt-Anchor" href="#광섬유"></a> 광섬유</h2><ul><li>유리 세관이나 다른 투명한 재료를 섬유로 하여 그 내부에 적당한 굴절률을 분포시켜 부호화된 신호의 빛이 전송될 수 있도록 한 전송매체</li><li>넓은 대역폭</li><li>케이블 다발이 아주 작고 무게가 가벼움</li><li>감쇠도가 현저히 낮다, 간섭에 강하다.</li><li>오류 발생이 적으나 탭을 이용해 분기선을 내기가 힘들다.</li><li>넓은 리피터 설치 간격</li><li>multi mode, single mode</li><li>광송신기는 전기신호를 광신호로, 광수신기는 반대로</li><li>설치시에 기술력이 필요</li></ul><h3 id="단일-모드"><a class="markdownIt-Anchor" href="#단일-모드"></a> 단일 모드</h3><ul><li>단계 지수 광섬유를 사용</li><li>광선을 수평에 가까운 작은 영역의 각도로만 제한</li><li>광원을 고도로 집중</li></ul><h3 id="다중-모드"><a class="markdownIt-Anchor" href="#다중-모드"></a> 다중 모드</h3><ul><li>광원으로 나온 여러 개의 광선이 중심부에서 서로 다른 경로를 가지고 이동</li></ul><h2 id="무선통신매체"><a class="markdownIt-Anchor" href="#무선통신매체"></a> 무선통신매체</h2><h3 id="지상-마이크로파"><a class="markdownIt-Anchor" href="#지상-마이크로파"></a> 지상 마이크로파</h3><ul><li>Terrestrial microwave</li><li>접시형 파라볼라 안테나</li><li>안테나의 직경은 10ft 내외로 안테나를 고정하고 수신 안테나 방향으로 가느다란 빔을 발사</li><li>장애물이 없는 고지대에 위치</li></ul><h3 id="위상-마이크로파"><a class="markdownIt-Anchor" href="#위상-마이크로파"></a> 위상 마이크로파</h3><ul><li>통신위성은 마이크로파 중계국으로 2개 또는 그 이상의 지상 송신국을 서로 연결</li><li>어떤 주파수 대역을 수신해 이를 증폭해서 아날로그 전송ㅇ르 하거나, 재생해 디지털 전송으로 다른 주파수로 송신</li><li>사용 빈도수가 높은 국제간의 통신용으로서 가장 좋은 매체</li><li>위성전송의 주파수 범위는 1~10GHz</li></ul><h3 id="라디오파"><a class="markdownIt-Anchor" href="#라디오파"></a> 라디오파</h3><ul><li>다방향성</li><li>AM, FM, 초단파(VHF), 극초단파(UHF)</li><li>감쇠 정도가 낮고 대역 확산의 경우 여러 주파수를 동시에 사용 가능</li><li>특정 주파수를 사용하고 있는 네트워크와 인접하지 않은 곳에서 주파수 대역을 재사용 가능</li><li>30MHz ~ 10GHz</li><li>대기 반사에 기인한 상호 간의 간섭을 일으키지 않음</li><li>주요한 손상 요인은 다중경로 간섭이다.</li></ul><h1 id="통신선로"><a class="markdownIt-Anchor" href="#통신선로"></a> 통신선로</h1><h2 id="점대점-선로"><a class="markdownIt-Anchor" href="#점대점-선로"></a> 점대점 선로</h2><ul><li>point to point</li><li>연결 개수가 많아질수록 성능이 좋지만, 전송 매체의 길이가 증가해 비용이 많이 든다.</li><li>네트워크 트래픽이 많은 구간에는 전송매체의 수를 늘리고 않은 구간은 줄이는 게 해결책</li></ul><h2 id="멀티드롭-선로"><a class="markdownIt-Anchor" href="#멀티드롭-선로"></a> 멀티드롭 선로</h2><ul><li>브로드캐스팅 방식</li><li>전송매체 하나에 여러 단말기를 공유하여 연결</li><li>분기장치를 설치하고 3개소 이상의 지점을 연결하는 방식</li><li>사용률이 낮은 여러 단말기들을 하나의 회선에 여러 개 접속해서 회선사용효율을 높이는 것이 가능해진다.</li><li>버스 방식</li></ul><h1 id="네트워크-형태"><a class="markdownIt-Anchor" href="#네트워크-형태"></a> 네트워크 형태</h1><h2 id="스타형"><a class="markdownIt-Anchor" href="#스타형"></a> 스타형</h2><ul><li>중앙의 제어 스테이션으로부터 모든 장치는 점대점 방식 연결</li><li>고장 발견이 쉽다</li></ul><h2 id="버스형"><a class="markdownIt-Anchor" href="#버스형"></a> 버스형</h2><ul><li>버스에 모든 노드가 연결</li><li>버스의 끝에는 terminator를 둔다.</li><li>노드의 고장이 망 다른부분에 전혀 영향을 미치지 않는다.</li><li>보통 CSMA/CD 방식 사용</li></ul><h2 id="링형"><a class="markdownIt-Anchor" href="#링형"></a> 링형</h2><ul><li>단방향 점대점 형태</li><li>분산 제어와 checking, recovery가 간으하나 노드의 변경이나 추가가 비교적 어렵다.</li><li>노드의 고장에 대처하기 어렵다.</li><li>광섬유에 잘 맞음</li></ul><h2 id="허브트리형"><a class="markdownIt-Anchor" href="#허브트리형"></a> 허브/트리형</h2><ul><li>허브에 연결된 스타형</li></ul><h2 id="메시형"><a class="markdownIt-Anchor" href="#메시형"></a> 메시형</h2><ul><li>단말기들이 모두 연결된 형태</li></ul><h1 id="데이터-교환"><a class="markdownIt-Anchor" href="#데이터-교환"></a> 데이터 교환</h1><h2 id="회선교환"><a class="markdownIt-Anchor" href="#회선교환"></a> 회선교환</h2><h2 id="축적교환"><a class="markdownIt-Anchor" href="#축적교환"></a> 축적교환</h2><ul><li>데이터를 송신 측의 교환기에 임시 저장시켰다가 수신 측 터미널에 전송하는 방식</li></ul><h3 id="메세지-교환-방식"><a class="markdownIt-Anchor" href="#메세지-교환-방식"></a> 메세지 교환 방식</h3><ul><li>각 메세지마다 전송경로를 결정하고 수신측 주소를 붙여 전송</li><li>전송 메세지는 추후 검색이 가능</li><li>응답시간이 느려 대화형 데이터 전송에는 부적합</li></ul><h3 id="패킷-교환-방식"><a class="markdownIt-Anchor" href="#패킷-교환-방식"></a> 패킷 교환 방식</h3><ul><li>메세지를 일정한 길이의 패킷으로 분할하여 전송하는 방식</li><li>네트워크 계층</li><li>회선 이용률이 매우 높다</li><li>송신 측으로 분할되어 전송된 데이터를 수신 측에서 재결합</li><li>응답시간이 빨라 대화형 데이터 전송에 적합</li></ul><h2 id="교환-방식"><a class="markdownIt-Anchor" href="#교환-방식"></a> 교환 방식</h2><h3 id="회선-교환-방식"><a class="markdownIt-Anchor" href="#회선-교환-방식"></a> 회선 교환 방식</h3><ul><li>데이터를 전송할 때마다 통신경로를 설정하여 데이터를 교환하는 방식</li><li>회선의 설정, 데이터의 이도으, 회선의 단절</li><li>매번 통신경로를 설정</li><li>통신경로 접속시간이 1초 이내</li><li>길이가 길고 통신 밀도가 높은 데이터 통신에 유리</li><li>접속된 동안엔 두 시스템 간의 통신회선이 독점</li></ul><h3 id="메세지-교환-방식-2"><a class="markdownIt-Anchor" href="#메세지-교환-방식-2"></a> 메세지 교환 방식</h3><ul><li>축적 교환 방식으로 데이터의 논리적 단위인 메세지를 교환</li><li>교환기가 메세지를 받았다가 보내주는 방식</li><li>회선 효율이 증대</li><li>비동기 전송이 가능</li><li>연결 설정이 불필요</li><li>다중 전달이 쉽다</li><li>실시간이나 빠른 응답시간에는 부적합</li><li>지연이 상적으로 길다</li><li>음성 신호 전송에는 불가능</li></ul><h3 id="패킷-교환-방식-2"><a class="markdownIt-Anchor" href="#패킷-교환-방식-2"></a> 패킷 교환 방식</h3><ul><li>수신 측 주소에 따라 적당한 통신경로를 선택해 전송하는 교환 방식</li><li>전송하고자 하는 정보를 일정한 크기의 데이터로 분할하여 송수신 주소인 헤더를 각각 부가한 패킷 단위로 전송</li><li>데이터그램과 가상회선 방식</li><li>경로 설정, 트래픽 제어, 오류 제어</li><li>오류 발생시 해당 패킷만 복구하면 됨</li><li>회선 다중화로 효율 증대</li><li>교환기에 축적 전송 가능</li><li>부가서비스 제공</li><li>패킷이 파일화 되진 않는다.</li></ul><h1 id="다중화기"><a class="markdownIt-Anchor" href="#다중화기"></a> 다중화기</h1><ul><li>하나의 전송로에 여러 개의 데이터 신호를 혼합시켜 전송하는 방법</li><li>다수의 저속회선 사용자를 하나의 고속전용선에 접속시켜 통신망을 이용가능하게 한다.</li><li>시분할 다중화, 주파수분할 다중화 방식이 있다.</li></ul><h1 id="집중화기"><a class="markdownIt-Anchor" href="#집중화기"></a> 집중화기</h1><ul><li>수신 단말기로의 데이터 전송을 위해 여러 단말기로부터 데이터를 고속전용선에서 조합하거나 형태를 변경시킬 수 있는 장치</li><li>N개의 선을 M개의 선으로 출력</li><li>실제 전송할 데이터가 있는 단말에만 회선을 동적 할당</li></ul><h1 id="단말기"><a class="markdownIt-Anchor" href="#단말기"></a> 단말기</h1><ul><li>터미널</li><li>컴퓨터나 컴퓨팅 시스템에 데이터를 입력하거나 표시하는데 쓰이는 하드웨어적인 기기</li></ul><h2 id="종류-2"><a class="markdownIt-Anchor" href="#종류-2"></a> 종류</h2><ul><li>텍스트 터미널: 테긋트 입력 및 표시를 위한 직렬 컴퓨터 인터페이스</li><li>단순 단말기: 덤 터미널, 기계식 타자기가 하는 것처럼 똑같은 제한된 기능</li><li>그래픽 단말기: 씬 클라이언트, RDP, X11과 같은 프로토콜 사용</li></ul><h1 id="베이스밴드-신호"><a class="markdownIt-Anchor" href="#베이스밴드-신호"></a> 베이스밴드 신호</h1><ul><li>단말에서 출력되는 디지털 정보를 부호화하여 변조과정을 거치지 않고 전송하는 방식</li><li>고주파 영역이 차단될 수 있어 베이스밴드 신호를 전송로에 적합하게만 변환한다.</li><li>단극, 복류, 단류 RZ, 복류 RZ, NRZ, 바이폴라, 맨체스터, 차분적 맨체스터, CMI 등의 전송방식</li></ul><h1 id="변복조기"><a class="markdownIt-Anchor" href="#변복조기"></a> 변복조기</h1><ul><li>모뎀</li></ul><h2 id="단말장치-주요기능"><a class="markdownIt-Anchor" href="#단말장치-주요기능"></a> 단말장치 주요기능</h2><ul><li>입출력 기능</li><li>전송제어 기능</li><li>기억 기능: 일시적 데이터 저장</li></ul><h2 id="신호변환장치의-주요기능"><a class="markdownIt-Anchor" href="#신호변환장치의-주요기능"></a> 신호변환장치의 주요기능</h2><ul><li>신호 변환 기능</li><li>전송신호의 동기 제어기능</li><li>송수신 확인 기능</li><li>전송오류의 검출 및 정정 기능</li></ul><h2 id="변복조"><a class="markdownIt-Anchor" href="#변복조"></a> 변복조</h2><ul><li>아날로그 신호를 디지털 신호로 변환하거나 그 반대</li></ul><h1 id="디지털-데이터-네트워크-인터페이스"><a class="markdownIt-Anchor" href="#디지털-데이터-네트워크-인터페이스"></a> 디지털 데이터 네트워크 인터페이스</h1><ul><li>DCE와 DTE 사이의 경계조건의 규정</li><li>X.20, X.21, X.25, X.28, X.29</li></ul><h1 id="음향-결합기"><a class="markdownIt-Anchor" href="#음향-결합기"></a> 음향 결합기</h1><ul><li>공중전화교환망 (PSTN)</li><li>수화기를 모뎀 위에 얹어 놓으면 송화기에서 들리는 소리를 매개로 데이터를 주고 받게되는 원리</li><li>주파수 편이변조 방식을 사용(FSK)</li><li>저속 데이터 전송(600bps, 1200bps)</li></ul><h1 id="전처리장치"><a class="markdownIt-Anchor" href="#전처리장치"></a> 전처리장치</h1><ul><li>전방처리기, FEP, Front-End Processor</li><li>호스트 컴퓨터와 단말기 사이에 설치되어 입출력 작업을 전담하도록 개발된 특수용도의 컴퓨터</li><li>데이터 교환 기능, 프로토콜 변환기능, 통신 회선 및 터미널의 제어, 전송 메세지 검사 기능 등</li></ul><h2 id="폴링셀렉팅-방식"><a class="markdownIt-Anchor" href="#폴링셀렉팅-방식"></a> 폴링/셀렉팅 방식</h2><ul><li>polling / selecting</li><li>폴링과 선택에서 송수신을 권유하는 것</li><li>하나의 통신회선상에 3개 이상의 단말이 있는 분기회선에 있어 단말기 상호간 데이터링크를 확립하는 방식</li></ul><h2 id="라운드-로빈-방식"><a class="markdownIt-Anchor" href="#라운드-로빈-방식"></a> 라운드 로빈 방식</h2><ul><li>시분할 시스템</li></ul><blockquote><p><strong>다중화</strong><br>정적인 채널의 공유 방안, 채널에서 주파수 대역이나 타임슬롯을 사전에 할당, 입출력의 비트율(용량)이 일치한다.</p></blockquote><h1 id="통신제어"><a class="markdownIt-Anchor" href="#통신제어"></a> 통신제어</h1><h2 id="임의접근제어"><a class="markdownIt-Anchor" href="#임의접근제어"></a> 임의접근제어</h2><ul><li>discretionary access control</li><li>시스템상의 객체에 대한 접근을 개인 또는 그룹의 식별자를 기반으로 한다.</li></ul><h2 id="부-네트워크"><a class="markdownIt-Anchor" href="#부-네트워크"></a> 부 네트워크</h2><ul><li>대규모 네트워크를 구성하는 데 있어 개별적인 소규모 네트워크를 의미</li></ul><h2 id="통신제어-구조"><a class="markdownIt-Anchor" href="#통신제어-구조"></a> 통신제어 구조</h2><ul><li>회선접속부, 전송제어부, 연산부</li></ul><h3 id="원격처리장치"><a class="markdownIt-Anchor" href="#원격처리장치"></a> 원격처리장치</h3><ul><li>RP, Remote Processor</li><li>단말기와 접속해 복수단말회선의 집선 역할과 동시에 단말기 제어, 정보량의 제어 등의 기능을 수행한 후 한 가닥의 고속통신회선에 의해 주 컴퓨터로 송신</li></ul><h3 id="전처리장치-2"><a class="markdownIt-Anchor" href="#전처리장치-2"></a> 전처리장치</h3><ul><li>통신회선 및 단말기 제어의 지능, 다중화기능, 데이터의 형식변환 및 메세지 통신제어</li><li>마이크로 프로세서 내장</li></ul><h3 id="후처리장치"><a class="markdownIt-Anchor" href="#후처리장치"></a> 후처리장치</h3><ul><li>주 컴퓨터 후단에 설치되어 주 컴퓨터가 수신한 데이터 중 별도로 처리할 필요가 있을 때 사용하는 장치</li></ul><h1 id="통신-기능"><a class="markdownIt-Anchor" href="#통신-기능"></a> 통신 기능</h1><ul><li>통신망 운영 및 관리</li><li>전송상 오류검출과 정정</li><li>통신회선의 효율적인 활용</li><li>통신회선의 접속과 데이터링크 확립</li><li>링크의 개방, 상태 감시</li><li>통신회선 차단</li><li>최적의 경로선택 및 제어</li><li>보안</li></ul><h2 id="통신-기능의-종류"><a class="markdownIt-Anchor" href="#통신-기능의-종류"></a> 통신 기능의 종류</h2><ul><li>온라인 처리 방식</li><li>오프라인 처리 방식</li><li>실시간 처리 방식</li><li>일괄 처리 방식: Batch Processing</li></ul><h1 id="네트워크-아키텍쳐"><a class="markdownIt-Anchor" href="#네트워크-아키텍쳐"></a> 네트워크 아키텍쳐</h1><ul><li>컴퓨터와 단말기 또는 망의 기능이 서로 알맞게 나눠 최적의 상태로 통신망이 구축되게하는 기본 구조나 기술</li></ul><h2 id="osi-7-레이어"><a class="markdownIt-Anchor" href="#osi-7-레이어"></a> OSI 7 레이어</h2><ul><li>네트워크 의존계층: 물 데 네</li><li>전송계층: 전</li><li>응용지향계층: 세 표 응</li><li>상위 계층에서 하위계층으로 데이터가 전달되면서 헤더정보가 추가 전달</li><li>하위 계층에서 상위계층으로 데이터가 전달되면서 헤더정보가 삭제</li><li>헤더가 삭제되는 과정을 decapsulation</li></ul><h2 id="이진동기통신"><a class="markdownIt-Anchor" href="#이진동기통신"></a> 이진동기통신</h2><ul><li>BSC, Binary Synchronous Communication</li><li>1964년 IBM에서 개발되어 사용되고 있는 데이터링크 프로토콜</li><li>점대점 방식과 다중점 구성에 쓰인다.</li><li>정지-대기 ARQ, 흐름제어, 오류 정정 등을 사용하는 반이중 전송방식 지원</li></ul><h2 id="이진동기통신-프레임"><a class="markdownIt-Anchor" href="#이진동기통신-프레임"></a> 이진동기통신 프레임</h2><ul><li>프레임은 2개 이상의 동기 문자로 시작</li><li>SYN SYN STX data ETX BCC(블록검사 계산 LRC CRC)</li><li>다중 블록 프레임의 경우 STX data <em>ITX</em> BCC STX data ETX BCC</li></ul><h2 id="hdlc"><a class="markdownIt-Anchor" href="#hdlc"></a> HDLC</h2><ul><li>고급 데이털이크 제어, High level DataLink Control</li><li>비트중심 프로토콜</li><li>불균형 구성: 하나의 장치가 주국이며 기타 다른 모든 장치는 종국</li><li>대칭 구성</li><li>균형 구성</li></ul><h3 id="통신모드"><a class="markdownIt-Anchor" href="#통신모드"></a> 통신모드</h3><ul><li>정규응답모드: NRM, 종국은 전송 전 반드시 주국의 허가가 필요</li><li>비동기응답모드: ARM, 채널이 사용되지 않으면 주국 허가 없이 전송 가능</li><li>비동기균형모드: ABM, 모든 지국이 동등하며 점대점으로 연결된 조합국만 사용</li></ul><h3 id="프레임"><a class="markdownIt-Anchor" href="#프레임"></a> 프레임</h3><ul><li>정보 프레임: I프레임, 사용자 데이터와 그에 관련된 제어정보 전송</li><li>감시 프레임: S프레임, 제어정보 전송 및 데이터링크 계층의 흐름제어와 오류제어</li><li>무번호 프레임: U프레임, 시스템 관리를 위해 예약, 링크 자체를 관리할 목적</li><li>시작 플래그, 주소, 제어, 정보, FCS, 종료 플래그로 구성</li></ul><h1 id="표준화"><a class="markdownIt-Anchor" href="#표준화"></a> 표준화</h1><h2 id="itu-t"><a class="markdownIt-Anchor" href="#itu-t"></a> ITU-T</h2><ul><li>ITU 산하의 표준화 기구로 전화, 팩스, 패킷 교환 데이터 통신 등의 공중 통신망에 대한 국제 표준화를 담당</li></ul><h2 id="iso"><a class="markdownIt-Anchor" href="#iso"></a> ISO</h2><ul><li>1946년 창설되어 다양한 분야의 표준을 개발하기 위한 국제 표준화 기구</li></ul><h2 id="isoc"><a class="markdownIt-Anchor" href="#isoc"></a> ISOC</h2><ul><li>인터넷 설계 및 운영을 위한 조정 위원회</li></ul><h2 id="ieee"><a class="markdownIt-Anchor" href="#ieee"></a> IEEE</h2><ul><li>미국전기전자학회 LAN 표준화</li></ul><h2 id="fcc"><a class="markdownIt-Anchor" href="#fcc"></a> FCC</h2><ul><li>미국연방통신위원회</li></ul><blockquote><p><strong>클록 드리프트</strong><br>클록 속도가 달라 비트 간 발생시간이 다르거나, 송수신단의 독립적인 두 개의 클록이 정확하게 일치되지 않는 클록의 어긋남</p></blockquote><h1 id="비트-동기"><a class="markdownIt-Anchor" href="#비트-동기"></a> 비트 동기</h1><ul><li>각 비트마다 타이밍을 맞추는 것</li><li>7~8비트로 구성된 비트열을 하나의 단위로서 타이밍을 취한다.</li><li>동기 방식: 비트 위치를 알려주는 동기신호를 사용하는 방식</li><li>비동기 방식: 정보 처음에 정보의 시작을 상대에게 알려주는 비트를 첨가</li><li>동기 신호를 보낸 송수신 측에서 동기를 취한 다음 일정한 주기로 신호를 구분하는 방법</li></ul><h1 id="주소-지정"><a class="markdownIt-Anchor" href="#주소-지정"></a> 주소 지정</h1><h2 id="물리-주소"><a class="markdownIt-Anchor" href="#물리-주소"></a> 물리 주소</h2><ul><li>컴퓨터의 메인 메모리를 접근할 때 사용하는 주소</li><li>기억장치의 주소 레지스터에 적재</li></ul><h2 id="논리-주소"><a class="markdownIt-Anchor" href="#논리-주소"></a> 논리 주소</h2><ul><li>실제 주소와 구분하여 사용자 관점에서 본 논리적인 프로그램의 주소</li><li>mapping 하드웨어에 의해 실제주소로 변경</li></ul><h2 id="포트-주소"><a class="markdownIt-Anchor" href="#포트-주소"></a> 포트 주소</h2><ul><li>물리적인 전용선은 하나이지만 여러 응용 프로그램이 서로 나눠 사용하기 위해 도출된 개념</li><li>MAC 주소: 데이터 링크 계층 주소 (노드 대 노드)</li><li>IP 주소: 네트워크 계층 주소(호스트 대 호스트)</li><li>PORT 주소: 전송계층 주소(프로세스 대 프로세스)</li></ul><h2 id="기호-주소"><a class="markdownIt-Anchor" href="#기호-주소"></a> 기호 주소</h2><ul><li>Symbolic Address</li><li>정보의 위치와 무관하게 특정 언어, 함수 또는 다른 정보를 지정하는데 쓰이는 레이블</li><li>프로그램에서 기억 장소를 지정하는데 사용하는 영숫자 레이블</li><li>프로그램을 작성할 때 사람이 알기 쉽게 적당한 명칭을 붙혀 표시한 주소</li></ul><h1 id="오류-제어"><a class="markdownIt-Anchor" href="#오류-제어"></a> 오류 제어</h1><h2 id="오류-제어-방식"><a class="markdownIt-Anchor" href="#오류-제어-방식"></a> 오류 제어 방식</h2><ul><li>오류에 중복성을 부가하는 방식: 패리티 비트, 해밍 코드, 순환 중복 검사</li><li>전송 방법에 중복성을 부가하는 방식: 반송대조 방식(에코 검사), 3연속 전송방식</li></ul><h2 id="오류-정정-방식"><a class="markdownIt-Anchor" href="#오류-정정-방식"></a> 오류 정정 방식</h2><ul><li>자동반복요청 방식(ARQ)</li><li>순방향 오류정정 방식(FEC)</li></ul><h2 id="패리티-비트-검사"><a class="markdownIt-Anchor" href="#패리티-비트-검사"></a> 패리티 비트 검사</h2><h2 id="블록합-검사"><a class="markdownIt-Anchor" href="#블록합-검사"></a> 블록합 검사</h2><ul><li>패리티 비트가 각 문자에 대해 짝수의 배수만큼 비트에 오류가 발생하면 오류를 검출하지 못하는 단점을 보완</li><li>수직 수평 패리티 비트 검사를 통해 오류 검출</li></ul><h2 id="순환-중복-검사"><a class="markdownIt-Anchor" href="#순환-중복-검사"></a> 순환 중복 검사</h2><ul><li>CRC, 귀환 오류 제어</li><li>다항식을 이용</li><li>CRC는 나머지로 작용</li></ul><h2 id="전진-오류-수정"><a class="markdownIt-Anchor" href="#전진-오류-수정"></a> 전진 오류 수정</h2><ul><li>FEC, Forward Error Correction</li><li>문자나 프레임에 부가적인 정보를 추가해 오류가 존재하는 경우 수신 측이 오류검출뿐 아니라 정확한 정보가 어떤 것인지 수신한 비트열로부터 유추할 수 있는 방식</li><li>데이터 비트 프레임에 잉여 비트를 추가해 오류를 검출, 수정한다.</li></ul><h2 id="넘버링-방법"><a class="markdownIt-Anchor" href="#넘버링-방법"></a> 넘버링 방법</h2><ul><li>해밍 코드 방식에 준한 방법</li></ul><h1 id="흐름-제어"><a class="markdownIt-Anchor" href="#흐름-제어"></a> 흐름 제어</h1><ul><li>송수신 양측 간 처리속도가 다른 경우에 데이터 양이나 통신속도가 수신 측의 처리 능력을 초과하지 않도록 조정하는 기능</li></ul><h2 id="정지-대기-방식"><a class="markdownIt-Anchor" href="#정지-대기-방식"></a> 정지-대기 방식</h2><ul><li>각 프레임을 보낸 후 확인 응답을 기다리고 다음 프레임을 전송</li><li>ACK, NAK</li><li>가장 간단한 형태며 한 번에 1개의 프레임만 전송 가능</li><li>거리가 멀 수록 전송 효율이 떨어짐</li></ul><h2 id="슬라이딩-윈도우"><a class="markdownIt-Anchor" href="#슬라이딩-윈도우"></a> 슬라이딩 윈도우</h2><ul><li>여러 개의 프레임을 전송함으로써 효율을 높인 방식</li><li>송신 측은 수신 측으로부터 확인 메세지를 받지 않더라도 윈도우의 한도까지 계속 프레임을 전송할 수 있으므로 전송 효율이 높다.</li></ul><h1 id="혼잡-제어"><a class="markdownIt-Anchor" href="#혼잡-제어"></a> 혼잡 제어</h1><ul><li>체증제어</li><li>통신 네트워크로 유입되어 전송되는 정보량을 조절하여 네트워크가 혼잡해지지 않게 조절하는 것</li></ul><h2 id="tcp-혼잡제어"><a class="markdownIt-Anchor" href="#tcp-혼잡제어"></a> TCP 혼잡제어</h2><ul><li>셀프 클록 방식</li></ul><h2 id="aimd"><a class="markdownIt-Anchor" href="#aimd"></a> AIMD</h2><ul><li>Additive Increase/Multiplicative Decrease</li><li>패킷을 하나씩 보내고 문제없으면 윈도우의 크기를 1씩 증가시키면서 전송하는 방법</li><li>실패 또는 타임아웃시 크기를 절반으로 감소</li><li>네트워크가 혼잡해진 다음에야 대역폭을 줄이는 방법</li></ul><h2 id="느린-시작"><a class="markdownIt-Anchor" href="#느린-시작"></a> 느린 시작</h2><ul><li>slow start</li><li>패킷이 문제 없이 도착하면 ACK 패킷마다 윈도우의 크기를 1씩 늘린다.</li><li>한 주기가 지나면 창 크기가 2배가 된다.</li><li>혼잡 시에 윈도우의 크기를 1로 감소시킨다.</li></ul><h2 id="빠른-재전송"><a class="markdownIt-Anchor" href="#빠른-재전송"></a> 빠른 재전송</h2><ul><li>잘 도착한 마지막 패킷의 순번을 ACK에 실어서 보낸다.</li><li>순번이 3번 중복되면 재전송을 하고, 윈도우 크기를 줄인다.</li></ul><h2 id="빠른-회복"><a class="markdownIt-Anchor" href="#빠른-회복"></a> 빠른 회복</h2><ul><li>혼잡해지면 윈도우 크기를 반으로 줄여 선형 증가시키는 방법</li></ul><h1 id="주파수분할-다중화"><a class="markdownIt-Anchor" href="#주파수분할-다중화"></a> 주파수분할 다중화</h1><ul><li>FDM</li><li>주파수 대역을 여러 개의 작은 주파수 대역으로 분할하여 데이터를 동시에 전달하는 방식</li><li>TV 방송</li><li>간섭이 발생하지 않게 채널과 채널 사이에 보호대역(Guard Band)가 있다.</li></ul><h1 id="시분할-다중화"><a class="markdownIt-Anchor" href="#시분할-다중화"></a> 시분할 다중화</h1><ul><li>TDM</li><li>하나의 회선 전체를 일정한 시간 간격을 두고 반복해서 각각의 단말에 데이터를 할당하는 방식</li></ul><h2 id="동기식"><a class="markdownIt-Anchor" href="#동기식"></a> 동기식</h2><ul><li>기존 시분할 다중화 방식</li><li>실제로 데이터가 없어도 타임슬롯이 할당되어 낭비될 수 있음</li></ul><h2 id="비동기식"><a class="markdownIt-Anchor" href="#비동기식"></a> 비동기식</h2><ul><li>실제로 보낼 데이터가 있는 단말에만 동적으로 각 채널에 타임슬롯을 할당하는 방식</li><li>대역폭에 낭비를 줄이고 전송 효율 증가</li><li>주소 정보가 데이터에 첨가</li></ul><h1 id="시간-홈-예약-방법"><a class="markdownIt-Anchor" href="#시간-홈-예약-방법"></a> 시간 홈 예약 방법</h1><ul><li>전송 데이터가 있는 경우에만 타임 슬롯을 배정하여 전송하는 방법</li><li>고정길이의 데이터와 함께 주소 정보로 구성되는 셀을 챈러에 차례로 할당해 효율적으로 타임슬롯을 배정</li></ul><blockquote><p><strong>ARQ</strong><br>자동 반복 요구, Automatic Repeat reQuest</p></blockquote><blockquote><p><strong>Checksum</strong><br>데이터의 정확성을 검사하기 위한 용도로 사용되는 오류 검출 방식<br>1의 보수 연산을 사용</p></blockquote><h1 id="osi"><a class="markdownIt-Anchor" href="#osi"></a> OSI</h1><h2 id="응용-계층"><a class="markdownIt-Anchor" href="#응용-계층"></a> 응용 계층</h2><ul><li>FTP, Telnet, SMTP, DB 등</li></ul><h2 id="표현-계층-2"><a class="markdownIt-Anchor" href="#표현-계층-2"></a> 표현 계층</h2><ul><li>표준 방식으로 데이터를 코딩하는 문제를 다룬다.</li><li>단말기의 데이터 표현 방법이 서로 다르면 상대방의 데이터를 이해할 수 있도록 적절하게 변환하는 과정이 필요</li><li>데이터 암호화, 압축, 코드 변환</li></ul><h2 id="세션-계층-2"><a class="markdownIt-Anchor" href="#세션-계층-2"></a> 세션 계층</h2><ul><li>사용자에게 원격 파일 전송이나 원격 접속 등 세션 기능을 제공</li><li>대화 제어, 토큰 제어, 동기 기능 제공</li><li>세션 연결의 설정과 종료, 반이중, 동기, 예외보고</li><li>T.62, ISO 8327</li></ul><h2 id="전송계층"><a class="markdownIt-Anchor" href="#전송계층"></a> 전송계층</h2><ul><li>송신 프로세스와 수신 프로세스를 직접 연결하는 end-to-end 통신 기능 제공</li><li>전송오류율, 전송속도, 흐름제어, 목적지 주소 지정, 메세지 우선권, 무결성 보장, 다중화</li></ul><h2 id="네트워크-계층-2"><a class="markdownIt-Anchor" href="#네트워크-계층-2"></a> 네트워크 계층</h2><ul><li>라우팅 문제를 처리</li><li>전송 데이터를 패킷이라고 부른다.</li><li>경로 배정 및 중계, 통신망 연결 접속, 흐름제어, 순서제어</li><li>X.25</li></ul><h2 id="데이터링크-계층-2"><a class="markdownIt-Anchor" href="#데이터링크-계층-2"></a> 데이터링크 계층</h2><ul><li>물리계층을 통해 전송되는 데이터의 물리적 전송오류를 해결</li><li>전송 데이터를 프레임이라고 부른다.</li><li>두 단말기가 1:1로 직접 연결된 환경에서 데이터 전송기능을 지원</li><li>흐름제어, 노드 대 노드의 주소지정, 전송제어, 오류제어</li></ul><h2 id="물리-계층-2"><a class="markdownIt-Anchor" href="#물리-계층-2"></a> 물리 계층</h2><ul><li>물리적 인터페이스</li><li>비트열의 데이터를 받아 전기적 신호로 변환 후 전송매체를 통해 수신측에 전송</li><li>DTE, DCE 간의 인터페이스</li><li>RS-232C</li></ul><blockquote><p>하위 계층에서 상위 계층으로 데이터가 이동할 때 헤더는 삭제되고<br>상위 계층에서 하위 계층으로 데이터가 이동할 때 헤더는 추가된다.</p></blockquote><h1 id="tcpip"><a class="markdownIt-Anchor" href="#tcpip"></a> TCP/IP</h1><ul><li>ARPA에서 갭라한 네트워크를 통해 컴퓨터가 통신하는 방법을 규정</li><li>물리, 데이터링크, 네트워크, 전송, 응용 계층으로 구성</li><li>TCP/IP의 응용계층은 OSI의 세션, 표현, 응용을 합친 계층</li></ul><blockquote><p><strong>PDU</strong><br>프로토콜 데이터 단위<br>계층 구성의 프로토콜에서 상위 프로토콜 계층으로부터 송신을 위해 주어지는 데이터 단위<br>LLC의 부계층에서 만들어 진다.<br>응용계층: 메세지, 전송계층: 세그먼트, 네트워크계층: 데이터그램, 데이터링크계층: 프레임</p></blockquote><h1 id="ip"><a class="markdownIt-Anchor" href="#ip"></a> IP</h1><ul><li>인터넷 프로토콜</li><li>신뢰성을 제공하지 않는 비연결형 데이터그램 프로토콜</li><li>패킷을 분할, 병합하는 기능 수행</li><li>헤더 체크섬만 제공</li><li>클래스 A~C는 유니캐스팅에서 사용하고 클래스 D는 멀티캐스팅에 사용, 클래스 E는 예비주소체계</li><li>A에서 C로 갈수록 규모가 작은 네트워크</li></ul><h1 id="udp"><a class="markdownIt-Anchor" href="#udp"></a> UDP</h1><ul><li>사용자 데이터그램 프로토콜, User Datagram Protocol</li><li>상위계층에서 받은 데이터를 IP 프로토콜에 전달하지만 데이터그램이 목적지까지 제대로 도착했는지 확인하지 않음</li><li>포로토콜을 처리하는 기능이 작아 TCP보다 처리가 빠르다.</li><li>헤더, 데이터 모두 체크섬 기능 제공</li><li>헤더는 송신포트, 수신포트, 길이, 체크섬으로 구성</li></ul><h1 id="tcp"><a class="markdownIt-Anchor" href="#tcp"></a> TCP</h1><ul><li>분할 단위는 세그먼트</li><li>연결형 서비스 제공</li><li>신뢰성 있는 데이터 전송 보장</li><li>전이중 방식</li><li>헤더는 송신, 수신포트, 순서번호, 응답번호, 데이터 오프셋, 예약, 윈도우, 체크섬, 긴급 포인터로 구성</li></ul><blockquote><p><strong>피기백킹</strong><br>piggybacking, 수신한 패킷에 대한 확인 응답을 전송하는 패킷에 포함하여 같이 전송</p></blockquote><h2 id="tcp-헤더-플래그-비트"><a class="markdownIt-Anchor" href="#tcp-헤더-플래그-비트"></a> TCP 헤더 플래그 비트</h2><ul><li>URG: 긴급 포인터 필드가 유효한지</li><li>ACK: 응답번호 필드가 유효한지</li><li>PSH: 현제 세그먼트의 데이터를 상위 계층에 즉시 전달하도록 지시</li><li>RST: 연결의 리셋이나 유효하지 않은 세그먼트에 대한 응답</li><li>SYN: 연결 설정 요구</li><li>FIN: 연결 종료 의사</li></ul><h1 id="주소변환"><a class="markdownIt-Anchor" href="#주소변환"></a> 주소변환</h1><h2 id="arp"><a class="markdownIt-Anchor" href="#arp"></a> ARP</h2><ul><li>주소 결정 프로토콜, Address Resolution Protocol</li><li>IP 주소를 MAC 주소로 변환</li></ul><h2 id="rarp"><a class="markdownIt-Anchor" href="#rarp"></a> RARP</h2><ul><li>역순 주소 결정 프로토콜, Reverse Address Resolution Protocol</li><li>MAC 주소를 IP 주소로 변환</li></ul><h1 id="icmp"><a class="markdownIt-Anchor" href="#icmp"></a> ICMP</h1><ul><li>Echo request, Echo reply: 반향 요청, 반향 응답, 네트워크의 신뢰성을 검증</li><li>Destination unreachable: 목적지 도착 불가능</li><li>Source quench: 소스 억제</li><li>Time Exceeded: 실행시간 초과</li><li>인터넷 환경에서 오류 처리를 지원하는용도로 사용</li><li>IP 패킷의 데이터 부분에 캡슐화되어 송신 호스트로 전달</li></ul><h1 id="igmp"><a class="markdownIt-Anchor" href="#igmp"></a> IGMP</h1><ul><li>임의의 호스트가 멀티캐스트 그룹에 가입하거나 탈퇴할 때 사용하는 프로토콜</li><li>자신이 IGMP 메세지에 표시된 멀티캐스트 주소의 멤버임을 다른 호스트와 라우터에 알리는 용도</li></ul><h1 id="dhcp"><a class="markdownIt-Anchor" href="#dhcp"></a> DHCP</h1><ul><li>Dynamic Host Configuration Protocol, 동적 호스트 설정 통신규약</li><li>TCP/IP 통신을 실행하기 위해 필요한 설정 정보를 자동적으로 할당, 관리하기 위한 통신규약</li><li>RFC 1541에 규정</li><li>DHCP를 사용하지 않는 경우에는 각 컴퓨터마다 IP 주소가 수작업으로 입력되어야 한다.</li><li>네트워크 관리자가 중앙에서 IP 주소를 관리하고 할당하며, 컴퓨터가 네트워크의 다른 장소에 접속되었을 때 자동으로 새롱누 IP 주소를 전송</li><li>IP 주소가 일정 시간 동안만 컴퓨터에서 유효하도록 하는 임대 개념</li></ul><h1 id="ipv6"><a class="markdownIt-Anchor" href="#ipv6"></a> IPv6</h1><ul><li>128 비트</li></ul><h1 id="lan"><a class="markdownIt-Anchor" href="#lan"></a> LAN</h1><ul><li>단일 기관 소유</li><li>연결성</li><li>경로 선택이 필요 없음</li><li>광대역 전송매체 사용으로 고속통신 가능</li><li>높은 신뢰도</li><li>자원 공유</li><li>분산 처리</li><li>분산 제어</li><li>정보 교환</li></ul><h2 id="스타형-별형-lan"><a class="markdownIt-Anchor" href="#스타형-별형-lan"></a> 스타형 / 별형 LAN</h2><h2 id="버스형-lan"><a class="markdownIt-Anchor" href="#버스형-lan"></a> 버스형 LAN</h2><ul><li>보통 CSMA/CD 방식 이용, 토큰 버스 방식도 이용</li></ul><blockquote><p><strong>베이스 밴드</strong><br>특정 반송파를 변조하기 위해 사용되는 모든 신호에 의해 얻어지는 주파수 대역<br>기저대역</p></blockquote><h3 id="csmacd"><a class="markdownIt-Anchor" href="#csmacd"></a> CSMA/CD</h3><ul><li>Carrier Sense Multiple Access with Collision Detection</li><li>반송파 감지 다중 접속 및 충돌탐지</li><li>호스트가 회선의 상태를 감시하여 충돌을 피하는 방식</li><li>충돌이 확인되면 일정시간 대기 후 다시 충돌을 확인하고 충돌이 감지되지 않을 경우 데이터를 전송</li><li>IEEE 802.3</li><li>버스형 네트워크</li></ul><h3 id="토큰-버스"><a class="markdownIt-Anchor" href="#토큰-버스"></a> 토큰 버스</h3><ul><li>IEEE 802.4</li><li>물리적으로는 버스구조, 논맂거으로는 링형태의 구성</li><li>부하 증가에 딸느 영향이 적다.</li><li>부하가 적어도 기본적인 오버헤드</li></ul><h2 id="링형-lan"><a class="markdownIt-Anchor" href="#링형-lan"></a> 링형 LAN</h2><ul><li>광섬유의 특성에 잘 맞는 형태</li></ul><h3 id="토큰-링"><a class="markdownIt-Anchor" href="#토큰-링"></a> 토큰 링</h3><ul><li>IEEE 802.5</li><li>부하의 증가에 따른 영향을 적게 받음</li><li>부하가 적어도 기본적인 오버헤드가 있다.</li></ul><h2 id="트리형-허브형-lan"><a class="markdownIt-Anchor" href="#트리형-허브형-lan"></a> 트리형 / 허브형 LAN</h2><h2 id="메시형-lan"><a class="markdownIt-Anchor" href="#메시형-lan"></a> 메시형 LAN</h2><h2 id="전송-매체에-따른-분류"><a class="markdownIt-Anchor" href="#전송-매체에-따른-분류"></a> 전송 매체에 따른 분류</h2><ul><li>이중 꼬임선 LAN</li><li>동축 케이블 LAN</li><li>광섬유 LAN</li><li>무선 LAN: RF, Microwave, 적외선, 위성파</li></ul><h2 id="전송-방식에-따른-분류"><a class="markdownIt-Anchor" href="#전송-방식에-따른-분류"></a> 전송 방식에 따른 분류</h2><ul><li>베이스밴드 LAN: 신호 변조 없이 송신하는 방식, 중소규모 형태</li><li>브로드밴드 LAN: 모뎀 등에 의해 변조시켜 송신하는 방법, 주파수 변조와 위상 변조, 대규모</li></ul><h2 id="매체접근-방법에-의한-분류"><a class="markdownIt-Anchor" href="#매체접근-방법에-의한-분류"></a> 매체접근 방법에 의한 분류</h2><ul><li>고정할당방식: FDM, TDM</li><li>랜덤할당방식: ALOHA, CSMA, CSMA/CD</li><li>요구할당방식: token passing, register, insertion, slotted</li></ul><h1 id="근거리-통신망의-구성요소"><a class="markdownIt-Anchor" href="#근거리-통신망의-구성요소"></a> 근거리 통신망의 구성요소</h1><h2 id="하드웨어"><a class="markdownIt-Anchor" href="#하드웨어"></a> 하드웨어</h2><ul><li>서버 컴퓨터</li><li>리피터: 케이블에 전송되는 전기적인 데이터 신호를 재생하고 중계하는 장치, 물리계층</li><li>허브: 클라이언트들을 네트워크에 연결하는 가장 기본적인 공유연결장치, 물리계층</li><li>브리지: 서로 다른 두 네트워크를 연결할 때 사용하는 가장 기본적인 장치, 물리 데이터링크 계층</li><li>라우터: 서로 다른 세그먼트 간에 브로드캐스트 패킷이 전달되지 않도록 트래픽을 분리하는 역할 및 원격지에 있는 랜과 랜을 연결해주는 역할, 물리 데이터링크, 네트워크 계층</li><li>LAN 스위치: 데이터 전송 시 멀티미디어 데이터가 많은 경우 각 노드 간에 패킷 재전송 작업이 많이 발생하여 네트워크 성능이 떨어지고 대역폭 부족이 발생하는데 이런 문제점을 해결하기 위한 장비</li><li>게이트웨이: 사용하는 매체나 각종 프로토콜이 일치하지 않는 서로 다른 네트워크 구조의 네트워크 사용자끼리도 통신이 가능하도록 해주는 장치</li></ul><h2 id="ciu"><a class="markdownIt-Anchor" href="#ciu"></a> CIU</h2><ul><li>Computer Interface Unit</li><li>컴퓨터 접속장치 및 네트워크 연결장비</li><li>랜 카드, 허브, 브리지, 라우터, 스위치, 게이트웨이 장비 등</li></ul><h2 id="biu"><a class="markdownIt-Anchor" href="#biu"></a> BIU</h2><ul><li>Basic Information Unit</li><li>네트워크에서 데이터 전송 시 사용되는 기본 정보 단위</li></ul><h2 id="통신망-노드"><a class="markdownIt-Anchor" href="#통신망-노드"></a> 통신망 노드</h2><ul><li>컴퓨터 네트워크는 컴퓨터, 데이터 통신망, 단말장치 등으로 구성</li></ul><h2 id="lan의-논리-링크-제어"><a class="markdownIt-Anchor" href="#lan의-논리-링크-제어"></a> LAN의 논리 링크 제어</h2><h3 id="llc-계층"><a class="markdownIt-Anchor" href="#llc-계층"></a> LLC 계층</h3><ul><li>논리링크제어, Logical Link Control</li><li>슬라이딩 윈도우 프로토콜 사용</li></ul><h3 id="mac-계층"><a class="markdownIt-Anchor" href="#mac-계층"></a> MAC 계층</h3><ul><li>공유 버스 방식의 이더넷</li><li>토큰 링 방식</li></ul><h2 id="ieee-802-프레임-형식"><a class="markdownIt-Anchor" href="#ieee-802-프레임-형식"></a> IEEE 802 프레임 형식</h2><ul><li>IEEE 802.3에서 제정한 1-persistent CSMA/CD 방식의 근거리 통신망 환경에 관해 규정한 표준안</li></ul><h3 id="8023-이더넷-프레임-구조"><a class="markdownIt-Anchor" href="#8023-이더넷-프레임-구조"></a> 802.3 이더넷 프레임 구조</h3><ul><li>필드 크기는 바이트</li><li>Preamble, Start delimiter, destination addr, source addr, length, data, pad, checksum</li></ul><blockquote><p><strong>MAU</strong><br>Media Attachment Unit<br>호스트 컴퓨터상의 부착 유닛 인터페이스 포트를 UTP 또는 동축 케이블 등과 같은 이더넷 네트워크 매체에 접속하기 위한 장치</p></blockquote><h1 id="공통키-암호-방식"><a class="markdownIt-Anchor" href="#공통키-암호-방식"></a> 공통키 암호 방식</h1><ul><li>관용암호 방식, Conventional Encryption System</li><li>환자 암호: Substitution Cipher 평문 문자를 암호문 문자로 일대일 대응시켜 암호화하는 방식</li><li>전치 암호: Transpose Cipher 평문 문자의 순서를 어떤 특별한 절차에 따라 재배치하여 평문을 암호화 하는 방식, 순열 암호</li><li>적 암호: Product Cipher 암호 강도를 향상시키기 위해 전치와 환자를 혼합한 암호 방식</li></ul><h1 id="공개키-암호-방식"><a class="markdownIt-Anchor" href="#공개키-암호-방식"></a> 공개키 암호 방식</h1><h1 id="키-분배-프로토콜"><a class="markdownIt-Anchor" href="#키-분배-프로토콜"></a> 키 분배 프로토콜</h1><ul><li>키 분배: 키가 생성된 위치로부터 암호 알고리즘에서 사용된 위치로 암호화 키를 전송하는 과정</li><li>키 사전분배: key predistribution 한 가입자가 키를 만들어 상대 가입자 또는 양측 가입자에게 전달하는 방식</li><li>키 동의: key agreement 암호 방식을 이용하려는 상대자가 서로 키를 설정하는데 공동으로 참여하는 방식</li></ul><blockquote><p><strong>DES</strong><br>CBC, CFB, OFD, ECB 모드</p></blockquote><blockquote><p><strong>베스천 호스트</strong><br>철저한 방어정책이 구현된 방화벽<br>외부로부터의 일차적인 연결을 받아들이는 시스템</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel - Migration 특정 파일만 실행하기</title>
      <link href="/2017/09/26/Laravel-Migration-%ED%8A%B9%EC%A0%95-%ED%8C%8C%EC%9D%BC%EB%A7%8C-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0/"/>
      <url>/2017/09/26/Laravel-Migration-%ED%8A%B9%EC%A0%95-%ED%8C%8C%EC%9D%BC%EB%A7%8C-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>전체를 migration 하지 않고 부분만 migration하고 싶을 때 다음과 같이 하면 된다.</p><h1 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h1><p>database/migrations 아래에 selected 폴더를 생성하고 옮기고 싶은 마이그레이션 파일을 넣는다.</p><p>path 옵션을 주어 selected 폴더만 migrate한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan migrate --path=<span class="string">"database/migrations/selected"</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>파일을 직접지정해서 실행하는 방법은 없나보다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Alpine Linux AWS Cli 설치</title>
      <link href="/2017/09/21/Alpine-Linux-AWS-Cli-%EC%84%A4%EC%B9%98/"/>
      <url>/2017/09/21/Alpine-Linux-AWS-Cli-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>차례대로 실행만 해주면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python 설치 안 된 경우</span></span><br><span class="line"><span class="comment"># $ apt install python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip 설치</span></span><br><span class="line">$ curl -O https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">$ python get-pip.py --user</span><br><span class="line"></span><br><span class="line"><span class="comment"># PATH 등록</span></span><br><span class="line">$ <span class="built_in">export</span> PATH=~/.<span class="built_in">local</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># aws cli 설치</span></span><br><span class="line">$ pip install awscli --upgrade --user</span><br><span class="line"></span><br><span class="line">$ aws --version</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aws </tag>
            
            <tag> alpine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSHD 보안 - fail2ban, port 변경</title>
      <link href="/2017/09/21/SSHD-%EB%B3%B4%EC%95%88-fail2ban-port-%EB%B3%80%EA%B2%BD/"/>
      <url>/2017/09/21/SSHD-%EB%B3%B4%EC%95%88-fail2ban-port-%EB%B3%80%EA%B2%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="실패한-로그인-ip-확인"><a class="markdownIt-Anchor" href="#실패한-로그인-ip-확인"></a> 실패한 로그인 IP 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cat /var/<span class="built_in">log</span>/secure | grep <span class="string">'sshd.*Failed'</span> | grep -Po <span class="string">"[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+"</span> | sort | uniq -c</span><br><span class="line"></span><br><span class="line"><span class="comment"># 실패 카운트와 IP</span></span><br><span class="line">6 100.34.214.24</span><br><span class="line">6 101.109.152.219</span><br><span class="line">6 101.164.141.36</span><br></pre></td></tr></table></figure><p>기본 포트를 사용 중이라면 어마어마한 IP 목록이 나올 것이다.</p><h1 id="ssh-포트-변경"><a class="markdownIt-Anchor" href="#ssh-포트-변경"></a> SSH 포트 변경</h1><h2 id="ssh-설정-변경"><a class="markdownIt-Anchor" href="#ssh-설정-변경"></a> SSH 설정 변경</h2><p>/etc/ssh/sshd_config 에 포트 설정을 변경한다.</p><figure class="highlight bash"><figcaption><span>/etc/ssh/sshd_config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Port 2020</span><br></pre></td></tr></table></figure><h2 id="selinux-포트-추가"><a class="markdownIt-Anchor" href="#selinux-포트-추가"></a> SElinux 포트 추가</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ semanage port -a -t ssh_port_t -p tcp 2020</span><br></pre></td></tr></table></figure><h2 id="방화벽-포트-추가"><a class="markdownIt-Anchor" href="#방화벽-포트-추가"></a> 방화벽 포트 추가</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ firewall-cmd --permanent --zone=public --add-port=2020/tcp</span><br><span class="line">$ firewall-cmd --reload</span><br></pre></td></tr></table></figure><h2 id="ssh-재시작"><a class="markdownIt-Anchor" href="#ssh-재시작"></a> SSH 재시작</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl restart sshd</span><br></pre></td></tr></table></figure><h1 id="fail2ban"><a class="markdownIt-Anchor" href="#fail2ban"></a> Fail2ban</h1><p>일정 시도 이상을 실패하면 해당 IP 를 차단시키는 Fail2ban 을 설치하자</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># repo가 없다면</span></span><br><span class="line"><span class="comment"># $ yum install -y epel-release</span></span><br><span class="line"></span><br><span class="line">$ yum install -y fail2ban</span><br></pre></td></tr></table></figure><h2 id="ssh-설정-추가"><a class="markdownIt-Anchor" href="#ssh-설정-추가"></a> SSH 설정 추가</h2><p>/etc/fail2ban/jail.local 또는 jail.conf 를 열어 [sshd] 의 enabled 속성을 true 로 변경한다.</p><h2 id="서비스-시작"><a class="markdownIt-Anchor" href="#서비스-시작"></a> 서비스 시작</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> fail2ban</span><br><span class="line">$ systemctl start fail2ban</span><br></pre></td></tr></table></figure><h1 id="더-쉬운-방법"><a class="markdownIt-Anchor" href="#더-쉬운-방법"></a> 더 쉬운 방법</h1><p>쉘스크립트로 포트변경, 방화벽 룰 추가, Fail2ban 까지 한 방에 끝내버리자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://raw.githubusercontent.com/FunctionClub/Fail2ban/master/fail2ban.sh &amp;&amp; bash fail2ban.sh 2&gt;&amp;1 | tee fail2ban.log</span><br></pre></td></tr></table></figure><p>명령문에 따라 입력만 해주면 된다. 자세한 설명은 <a href="https://github.com/FunctionClub/Fail2ban" target="_blank" rel="external nofollow noopener noreferrer">FunctionClub/Fail2ban</a> 참고하자.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> centos </tag>
            
            <tag> fail2ban </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>컴퓨터시스템구조</title>
      <link href="/2017/09/19/%EC%BB%B4%ED%93%A8%ED%84%B0%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B5%AC%EC%A1%B0/"/>
      <url>/2017/09/19/%EC%BB%B4%ED%93%A8%ED%84%B0%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B5%AC%EC%A1%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="컴퓨터의-역사"><a class="markdownIt-Anchor" href="#컴퓨터의-역사"></a> 컴퓨터의 역사</h1><h2 id="세대별-구분"><a class="markdownIt-Anchor" href="#세대별-구분"></a> 세대별 구분</h2><h3 id="1세대"><a class="markdownIt-Anchor" href="#1세대"></a> 1세대</h3><ul><li>진공관</li><li>프로그램 내장방식</li><li>전력소모 크고 발열 심함</li><li>기계어, 어셈블리어</li></ul><h3 id="2세대"><a class="markdownIt-Anchor" href="#2세대"></a> 2세대</h3><ul><li>트랜지스터</li><li>진공관 컴퓨터에서 1/100 축소</li><li>고급언어 (COBOL)</li></ul><h3 id="3세대"><a class="markdownIt-Anchor" href="#3세대"></a> 3세대</h3><ul><li>집적회로 (IC: Integrated Circuit)</li><li>고급언어 (베이직)</li></ul><h3 id="4세대"><a class="markdownIt-Anchor" href="#4세대"></a> 4세대</h3><ul><li>고밀도 집적회로 (LSI: Large Scale Integrated circuit)</li><li>초고밀도 집적회로 (VLSI: Very Large Scale Integrated Circuit)</li><li>PC</li><li>고급언어, 문제지향적 언어</li></ul><h1 id="컴퓨터-시스템의-전체적-구성"><a class="markdownIt-Anchor" href="#컴퓨터-시스템의-전체적-구성"></a> 컴퓨터 시스템의 전체적 구성</h1><h2 id="시스템-버스"><a class="markdownIt-Anchor" href="#시스템-버스"></a> 시스템 버스</h2><ul><li>CPU, 기억장치, I/O 장치들을 상호 연결해주는 중심 통로</li><li>단방향 어드레스 버스, 양방향 데이터 버스, 양방향 제어버스로 구성</li></ul><h2 id="입력장치"><a class="markdownIt-Anchor" href="#입력장치"></a> 입력장치</h2><h2 id="출력장치"><a class="markdownIt-Anchor" href="#출력장치"></a> 출력장치</h2><h2 id="기억장치"><a class="markdownIt-Anchor" href="#기억장치"></a> 기억장치</h2><h2 id="중앙처리장치"><a class="markdownIt-Anchor" href="#중앙처리장치"></a> 중앙처리장치</h2><ul><li>연산장치, 제어장치, 레지스터로 구성</li></ul><table><thead><tr><th>사람</th><th>컴퓨터</th></tr></thead><tbody><tr><td>감각</td><td>입력장치</td></tr><tr><td>뇌세포</td><td>기억장치</td></tr><tr><td>신경망</td><td>중앙처리장치</td></tr><tr><td>움직임</td><td>출력장치</td></tr></tbody></table><h2 id="운영체제"><a class="markdownIt-Anchor" href="#운영체제"></a> 운영체제</h2><ul><li>HW와 SW 자원을 관리하고 제어</li><li>편리한 인터페이스 제공</li><li>입출력의 보조적 기능 수행</li><li>오류 처리</li></ul><h3 id="자원관리"><a class="markdownIt-Anchor" href="#자원관리"></a> 자원관리</h3><ul><li>프로세스 관리</li><li>주기억장치 관리</li><li>보조기억장치 관리</li><li>입출력장치 관리</li><li>파일 관리</li></ul><blockquote><p>컴파일러, 인트프리터: 고급언어를 기계어로 변환하기 위한 번역기</p></blockquote><h2 id="분류"><a class="markdownIt-Anchor" href="#분류"></a> 분류</h2><h3 id="성능과-규모"><a class="markdownIt-Anchor" href="#성능과-규모"></a> 성능과 규모</h3><ul><li>마이크로 컴퓨터: 현재 범용컴퓨터</li><li>미니컴퓨터: 멀티유저 시스템</li><li>메인프레임: 범용목적의 대형컴퓨터, 다수의 터미널 사용</li><li>슈퍼컴퓨터</li></ul><h3 id="구조"><a class="markdownIt-Anchor" href="#구조"></a> 구조</h3><ul><li>병렬컴퓨터: 동시에 여러 개의 마이크로프로세서 사용</li><li>분산컴퓨터: 데이터가 네트워크 상에 분산되어 있을 때</li><li>클라우드컴퓨터</li></ul><h3 id="사용목적"><a class="markdownIt-Anchor" href="#사용목적"></a> 사용목적</h3><ul><li>전용컴퓨터: 군사용, 기상예보용, 천문학 등</li><li>범용컴퓨터: 여러 분야의 다양한 업무 처리할 목적으로 설계된 컴퓨터 (과학계산, 통계 등)</li></ul><h3 id="처리방법"><a class="markdownIt-Anchor" href="#처리방법"></a> 처리방법</h3><ul><li>일괄처리 컴퓨터: 일정 시점 단위로 한꺼번에 처리</li><li>실시간 처리 컴퓨터: real-time, 온라인 처리 시스템, 즉시처리 시스템</li></ul><h3 id="자료표현"><a class="markdownIt-Anchor" href="#자료표현"></a> 자료표현</h3><ul><li>디지털 컴퓨터</li><li>아날로그 컴퓨터: 자료를 입력받아 곡선이나 그래프로 출력하는 컴퓨터</li><li>하이브리드 컴퓨터: 아날로그, 디지털 데이터 모두 처리, A/D (Analog-Digital conveter) 변환기, D/A(Digital-Analog converter)로 데이터 변형 출력 가능</li></ul><h2 id="발달과정"><a class="markdownIt-Anchor" href="#발달과정"></a> 발달과정</h2><table><thead><tr><th>특징</th><th>컴퓨터</th></tr></thead><tbody><tr><td>최초 기계식</td><td>마크원</td></tr><tr><td>최초 전자식</td><td>ENIAC</td></tr><tr><td>최초 프로그램내장</td><td>EDSAC</td></tr><tr><td>최초 상업용</td><td>UNIVAC-I</td></tr></tbody></table><blockquote><p>진공관 &gt; TR &gt; IC &gt; LSI &gt; VLSI<br><strong>폰노이만 모델</strong>: 기억장치에 프로그램과 데이터를 넣고 순서대로 처리하는 방식 (프로그램 내장방식)<br><strong>시스템버스</strong>: 어드레스 버스, 데이터 버스, 제어 버스</p></blockquote><h1 id="컴퓨터-명령어"><a class="markdownIt-Anchor" href="#컴퓨터-명령어"></a> 컴퓨터 명령어</h1><h2 id="주소필드"><a class="markdownIt-Anchor" href="#주소필드"></a> 주소필드</h2><ul><li>mode, operation code, address 필드로 구성</li><li>mode = 0 =&gt; 주소가 직접번지, mode = 1 =&gt; 주소가 간접번지</li><li>주소필드는 <strong>주소 || 레지스터 || 데이터</strong>를 나타냄</li><li>16bit 명령어의 경우: 1bit, 3bit, 12bit</li></ul><h3 id="3주소-명령어"><a class="markdownIt-Anchor" href="#3주소-명령어"></a> 3주소 명령어</h3><ul><li>범용 레지스터 구조의 컴퓨터에서 사용</li><li>연산코드와 3개의 주소필드로 구성</li><li>프로그램은 간단하나 명령어의 길이가 너무 길다</li></ul><h3 id="2주소-명령어"><a class="markdownIt-Anchor" href="#2주소-명령어"></a> 2주소 명령어</h3><ul><li>범용 레지스터 구조의 컴퓨터에서 사용</li><li>연산코드와 2개의 주소필드로 구성</li><li>연산시에 주소1의 내용은 실행 후에 출력값으로 저장되므로 원래 주소1의 내용은 없어진다.</li></ul><h3 id="1주소-명령어"><a class="markdownIt-Anchor" href="#1주소-명령어"></a> 1주소 명령어</h3><ul><li>단일 <strong>누산기</strong> 방식의 컴퓨터에서 사용</li><li>ACC와 Operand의 연산결과는 다시 ACC에 저장되는 형식</li><li>입력으로 사용된 누산기는 결과값이 저장되어 원래 값은 없어진다.</li></ul><h3 id="0주소-명령어"><a class="markdownIt-Anchor" href="#0주소-명령어"></a> 0주소 명령어</h3><ul><li>STACK</li></ul><h2 id="주소지정방식"><a class="markdownIt-Anchor" href="#주소지정방식"></a> 주소지정방식</h2><h3 id="의미주소지정"><a class="markdownIt-Anchor" href="#의미주소지정"></a> 의미주소지정</h3><ul><li>Implied Addressing Mode</li><li>묵시적 주소지정방식</li><li>데이터의 위치를 지정하지 않아도 묵시적으로 정해져 있음</li><li>PUSH, POP: Stack Pointer 사용</li><li>SHL, SHR: ACC의 내용을 시프트</li><li>명령어가 짧다</li></ul><h3 id="즉치주소지정"><a class="markdownIt-Anchor" href="#즉치주소지정"></a> 즉치주소지정</h3><ul><li>Immediated Addressing Mode</li><li>Operand의 내용이 연산에 사용될 실제 데이터</li><li>프로그램상에서 레지스터나 변수의 초기값을 설정하는데 사용</li></ul><h3 id="레지스터-주소지정"><a class="markdownIt-Anchor" href="#레지스터-주소지정"></a> 레지스터 주소지정</h3><ul><li>Register Addressing Mode</li><li>레지스터에 데이터가 존재</li><li>레지스터를 지정하는 오퍼랜드가 4bit라면 16개의 레지스터를 지정할 수 있음</li><li>메모리를 액세스하지 않아 실행시간 단축</li><li>데이터를 저장하는 공간이 레지스터로 한정</li></ul><h3 id="레지스터-간접주소지정"><a class="markdownIt-Anchor" href="#레지스터-간접주소지정"></a> 레지스터 간접주소지정</h3><ul><li>Register Indirect Addressing Mode</li><li>레지스터의 내용이 유효주소가 되기 때문에 지정된 레지스터의 내용이 메모리 주소가 되어 유효 데이터를 가져옴</li><li>레지스터가 10bit면 2^10B, 20bit면 1MB의 메모리 영역을 지정 가능</li><li>데이터 인출을 위해 한 번만 메모리를 액세스하면 된다.</li></ul><h3 id="직접주소지정"><a class="markdownIt-Anchor" href="#직접주소지정"></a> 직접주소지정</h3><ul><li>Direct Addressing Mode</li><li>오퍼랜드가 데이터의 유효주소</li><li>데이터 인출을 위해 한 번만 메모리 액세스</li></ul><h3 id="간접주소지정"><a class="markdownIt-Anchor" href="#간접주소지정"></a> 간접주소지정</h3><ul><li>Indirect Addressing Mode</li><li>오퍼랜드의 데이터가 가리키는 기억장소의 데이터가 유효주소 (2번)</li><li>오퍼랜드가 nbit면 최대 2^n개의 주소공간</li><li>명령어의 I비트가 0이면 직접주소, 1이면 간접주소</li></ul><h3 id="상대주소지정"><a class="markdownIt-Anchor" href="#상대주소지정"></a> 상대주소지정</h3><ul><li>Relative Addressing Mode</li><li>명령어의 주소필드에 PC(Program Counter) 값이 더해져서 유효주소가 결정되는 방식</li><li>기준 주소는 명령어의 주소, 변위는 PC</li><li>주로 분기명령어에서 사용</li></ul><h3 id="인덱스된-주소지정"><a class="markdownIt-Anchor" href="#인덱스된-주소지정"></a> 인덱스된 주소지정</h3><ul><li>Indexed Addressing Mode</li><li>인덱스 레지스터의 내용과 주소필드의 내용이 더해져서 유효주소가 결정</li><li>기준 주소는 명령어의 주소, 변위는 인덱스 레지스터</li></ul><h3 id="베이스-레지스터-주소지정"><a class="markdownIt-Anchor" href="#베이스-레지스터-주소지정"></a> 베이스 레지스터 주소지정</h3><ul><li>Base Register Addressing Mode</li><li>베이스 레지스터의 내용과 주소필드의 내용이 더해져서 유효주소가 결정</li><li>기준 주소가 베이스 레지스터, 변위는 명령어의 주소필드</li></ul><h2 id="명령어의-종류"><a class="markdownIt-Anchor" href="#명령어의-종류"></a> 명령어의 종류</h2><h3 id="데이터-전송명령"><a class="markdownIt-Anchor" href="#데이터-전송명령"></a> 데이터 전송명령</h3><ul><li>데이터가 변경되지 않고 위치만 옮기는 명령</li></ul><table><thead><tr><th>명령어</th><th>부호</th><th>기능</th></tr></thead><tbody><tr><td>load</td><td>LD</td><td>mem =&gt; reg</td></tr><tr><td>store</td><td>ST</td><td>reg =&gt; mem</td></tr><tr><td>move</td><td>MOV</td><td>reg 간 전송</td></tr><tr><td>input</td><td>IN</td><td>입력장치 =&gt; reg</td></tr><tr><td>output</td><td>OUT</td><td>reg =&gt; 출력장치</td></tr><tr><td>push</td><td>PUSH</td><td>reg =&gt; stack</td></tr><tr><td>pop</td><td>POP</td><td>stack =&gt; reg</td></tr></tbody></table><h3 id="데이터-처리-명령"><a class="markdownIt-Anchor" href="#데이터-처리-명령"></a> 데이터 처리 명령</h3><ul><li>실제로 연산이 이뤄지는 명령</li><li>산술연산명령어, 논리연산명령어, 비트처리명령어, 시프트명령어로 구분</li></ul><p><strong>산술연산</strong></p><table><thead><tr><th>명령어</th><th>부호</th><th>기능</th></tr></thead><tbody><tr><td>add</td><td>ADD</td><td>덧셈</td></tr><tr><td>subtract</td><td>SUB</td><td>뺄셈</td></tr><tr><td>multiply</td><td>MUL</td><td>곱셈</td></tr><tr><td>increment</td><td>INC</td><td>mem, reg 1 증가</td></tr><tr><td>decrement</td><td>DEC</td><td>mem, reg 1 감소</td></tr><tr><td>negate</td><td>NEG</td><td>2의 보수</td></tr><tr><td>add with carry</td><td>ADDC</td><td>올림수와 함께 덧셈</td></tr></tbody></table><p><strong>논리연산</strong></p><table><thead><tr><th>명령어</th><th>부호</th><th>기능</th></tr></thead><tbody><tr><td>AND</td><td>AND</td><td>특정부분 0으로 셋</td></tr><tr><td>clear</td><td>CLR</td><td>모든 비트 0으로 셋</td></tr><tr><td>clear carry</td><td>CLRC</td><td>캐리비트를 0으로 셋</td></tr><tr><td>enable interrupt</td><td>EI</td><td>인터럽트 가능</td></tr><tr><td>disable interrupt</td><td>DI</td><td>인터럽트 불가능</td></tr></tbody></table><p><strong>시프트</strong></p><table><thead><tr><th>명령어</th><th>부호</th><th>기능</th></tr></thead><tbody><tr><td>logical shift right</td><td>SHR</td><td>오른쪽 논리 시프트</td></tr><tr><td>logical shift left</td><td>SHL</td><td>왼쪽 논리 시프트</td></tr><tr><td>rotate right</td><td>ROR</td><td>현재값 유지하면서 오른쪽 자리이동</td></tr><tr><td>rotate lest</td><td>ROL</td><td>현재값 유지하면서 왼쪽 자리이동</td></tr></tbody></table><h3 id="프로그램-제어명령"><a class="markdownIt-Anchor" href="#프로그램-제어명령"></a> 프로그램 제어명령</h3><p>조건에 따라 PC가 변경되어 수행순서가 달라진다</p><table><thead><tr><th>명령어</th><th>부호</th><th>기능</th></tr></thead><tbody><tr><td>branch</td><td>BR</td><td>지정된 주소로 분기</td></tr><tr><td>jump</td><td>JMP</td><td>지정된 주소로 점프</td></tr><tr><td>skip</td><td>SKP</td><td>PC값 증가 후 다음 명령으로 skip</td></tr><tr><td>call</td><td>CALL</td><td>PC값 저장, 서브루틴 콜</td></tr><tr><td>return</td><td>RET</td><td>리턴 주소를 PC에 저장</td></tr><tr><td>compare</td><td>CMP</td><td>두 수 크기 비교</td></tr></tbody></table><h2 id="프로그램-인터럽트"><a class="markdownIt-Anchor" href="#프로그램-인터럽트"></a> 프로그램 인터럽트</h2><h3 id="외부-인터럽트"><a class="markdownIt-Anchor" href="#외부-인터럽트"></a> 외부 인터럽트</h3><ul><li>입출력장치, 전원 등 외부 요인으로 발생</li><li>입출력장치의 데이터 전송 요구, 정보전송의 마감, timeout, 전원공급이 끊어질 때 발생</li><li>프로그램 외적인 상황에서 발생</li></ul><h3 id="내부-인터럽트"><a class="markdownIt-Anchor" href="#내부-인터럽트"></a> 내부 인터럽트</h3><ul><li>올바르지 않은 명령어나 데이터 사용시 발생</li><li>overflow, div 0, stack overflow, 메모리 보호영역 침범 등</li><li>프로그램 자체에서 주로 발생</li></ul><h3 id="소프트웨어-인터럽트"><a class="markdownIt-Anchor" href="#소프트웨어-인터럽트"></a> 소프트웨어 인터럽트</h3><ul><li>특수한 CALL 명령어로 프로그래머가 원하는 위치에서 인터럽트 발생</li><li>supervisor call instruction</li><li>사용자 모드엥서 supervisor 모드로 CPU 상태를 변환</li></ul><h3 id="외부-인터럽트-처리"><a class="markdownIt-Anchor" href="#외부-인터럽트-처리"></a> 외부 인터럽트 처리</h3><ol><li>외부 인터럽트 발생</li><li>CPU는 현재 수행하는 명령어의 실행 사이클 종료</li><li>다음 실행할 PC의 내용을 스택에 저장</li><li>인터럽트 서비스 루틴의 시작주소를 PC에 저장</li><li>인터럽트 처리 후 스택영역에 저장된 PC를 복구</li><li>프로그램 복귀 후 계속 실행</li></ol><h2 id="복합-단축-명령어-컴퓨터"><a class="markdownIt-Anchor" href="#복합-단축-명령어-컴퓨터"></a> 복합, 단축 명령어 컴퓨터</h2><h3 id="cisc"><a class="markdownIt-Anchor" href="#cisc"></a> CISC</h3><ul><li>Complex Instruction Set Computer</li><li>다양한 데이터와 주소방식 제공</li><li>많은 명령어와 주소지정방식을 구현하기 위해 많은 하드웨어 필요</li><li>실행속도가 느림</li></ul><h3 id="risc"><a class="markdownIt-Anchor" href="#risc"></a> RISC</h3><ul><li>Reduced Instruction Set Computer</li><li>Load와 Store를 제외하고는 레지스터 간의 연산으로 구성</li><li>고정된 명령어 형식 사용</li><li>복잡한 간접주소지정방식은 사용하지 않음</li></ul><h1 id="시스템-버스-2"><a class="markdownIt-Anchor" href="#시스템-버스-2"></a> 시스템 버스</h1><ul><li>컴퓨터 시스템의 각각의 장치를 연결하여 정보를 전송하는 공유전송매체</li><li>CPU를 중심으로 주기억장치, 보조기억장치, 입력장치, 출력장치가 데이터를 주고받는 통로</li></ul><h2 id="주소버스"><a class="markdownIt-Anchor" href="#주소버스"></a> 주소버스</h2><ul><li>Address Bus</li><li>주기억장치에 데이터를 읽기/쓰기 위해서 주소를 지정하기 위한 선들의 집합</li><li>단방향 전송</li><li>주소 버스가 16bit이면 2^16 =&gt; 65536개의 주소 지정</li></ul><h2 id="데이터버스"><a class="markdownIt-Anchor" href="#데이터버스"></a> 데이터버스</h2><ul><li>각각의 장치들 사이의 데이터를 전송하는 선들의 집합</li><li>양방향 전송</li><li>버스의 폭은 주소를 지정하고 한 번에 R/W하는 비트의 수</li><li>주소당 32bit 씩 데이터를 전송한다면 데이터 버스의 수는 32개</li></ul><h2 id="제어버스"><a class="markdownIt-Anchor" href="#제어버스"></a> 제어버스</h2><ul><li>CPU, I/O장치, Memory 장치를 제어하는 신호선들의 집합</li><li>인터럽트 요구 신호</li><li>인터럽트 승인 신호</li><li>버스요구 신호</li><li>버스승인 신호</li><li>기억장치 읽기 신호</li><li>기억장치 쓰기 신호</li><li>입출력장치 읽기 신호</li><li>입출력장치 쓰기 신호</li><li>리셋 신호</li><li>버스 클록</li><li>전송 확인 (transfer acknowledge)</li></ul><h2 id="동기식버스"><a class="markdownIt-Anchor" href="#동기식버스"></a> 동기식버스</h2><ul><li>클록 펄스에 의해 데이터 전송이 발생</li><li>마스터와 슬레이브는 모두 같은 클록 펄스에 동기</li><li>인터페이스 회로가 간단</li><li>클록의 주기보다 짧은 동작은 다음 주기까지 기다려야하는 단덤</li></ul><h2 id="비동기식버스"><a class="markdownIt-Anchor" href="#비동기식버스"></a> 비동기식버스</h2><ul><li>핸드셰이킹 프로토콜 사용</li><li>속도의 차이가 많은 장치에서 사용</li><li>복잡</li><li>소규모에선 비동기, 중형이상에선 동기방식을 주로 사용</li></ul><h2 id="버스중재"><a class="markdownIt-Anchor" href="#버스중재"></a> 버스중재</h2><ul><li>동시에 여러 장치에서 버스를 요구할 때 필요 = 버스 경합</li></ul><h3 id="중앙집중식-중재방식"><a class="markdownIt-Anchor" href="#중앙집중식-중재방식"></a> 중앙집중식 중재방식</h3><ul><li>centralized arbitration scheme</li><li>시스템 내에 중재기가 1개</li></ul><h3 id="분산식-중재방식"><a class="markdownIt-Anchor" href="#분산식-중재방식"></a> 분산식 중재방식</h3><ul><li>decentralized arbitration scheme</li><li>여러 개의 버스중재기가 존재</li></ul><blockquote><p>대표적 버스 중재기: 데이지 체인, 폴링 방식</p></blockquote><h2 id="내부버스"><a class="markdownIt-Anchor" href="#내부버스"></a> 내부버스</h2><ul><li>칩들 사이에 신호를 전달</li></ul><h2 id="외부버스"><a class="markdownIt-Anchor" href="#외부버스"></a> 외부버스</h2><p>내부 버스를 경유해 CPU와 상호간을 연결하는 버스</p><h3 id="vme"><a class="markdownIt-Anchor" href="#vme"></a> VME</h3><ul><li>VMEbus 컴퓨터 버스 표준</li><li>모토로라, 톰슨 사 등이 개발한 32bit, 64bit 버스 규격</li></ul><h3 id="멀티-버스"><a class="markdownIt-Anchor" href="#멀티-버스"></a> 멀티 버스</h3><ul><li>인텔에서 개발한 범용 버스 시스템</li><li>현재 산업용으로 사용</li><li>멀티플렉서를 통해 다른 소자와 데이터를 송수신</li><li>다중처리 가능</li><li>마스터나 슬레이브로 동작</li><li>마스터는 버스사용권을 얻어 데이터 전송 가능</li><li>슬레이브는 스스로 버스를 제어할 수 없음</li></ul><h3 id="isa-버스"><a class="markdownIt-Anchor" href="#isa-버스"></a> ISA 버스</h3><ul><li>Industry Standard Architecture bus</li><li>CPU와 각종 주변장치를 연결하여 정보를 전달하는 버스 설계 규격</li><li>AT 버스라고도 한다.</li><li>16bit 버스 구조, 현재는 PCI 버스로 대체</li></ul><h3 id="eisa-버스"><a class="markdownIt-Anchor" href="#eisa-버스"></a> EISA 버스</h3><ul><li>Extended Industry Standard Architecture bus</li><li>32bit ISA 버스</li><li>비싸서 사용 안함</li></ul><h3 id="vesa-로컬-버스"><a class="markdownIt-Anchor" href="#vesa-로컬-버스"></a> VESA 로컬 버스</h3><ul><li>Video Electronics Standards Association local bus</li><li>버스 제어기를 통하지 않고 직접 CPU와 데이터를 송수신하는 방식</li></ul><h3 id="pci-버스"><a class="markdownIt-Anchor" href="#pci-버스"></a> PCI 버스</h3><ul><li>ISA, EISA, VESA의 후속</li><li>32bit, 64bit 사용 가능</li><li>CPU의 종류가 달라도 CPU와 버스 사이의 브릿지 회로만 있으면 사용 가능</li><li>독자적으로 작업을 처리할 수 있음</li></ul><h3 id="gpib-버스"><a class="markdownIt-Anchor" href="#gpib-버스"></a> GPIB 버스</h3><ul><li>General Purpose Interface bus</li><li>병렬 데이터를 전송하고 제어할 수 있는 버스</li><li>테스트 및 측정장치를 컴퓨터와 연결하여 자동 테스트 시스템을 만든다.</li></ul><h1 id="마이크로-연산"><a class="markdownIt-Anchor" href="#마이크로-연산"></a> 마이크로 연산</h1><ul><li>레지스터 사이의 전송정보 동작</li><li>Micro Operation</li></ul><h2 id="레지스터-종류"><a class="markdownIt-Anchor" href="#레지스터-종류"></a> 레지스터 종류</h2><ul><li>소자는 플립플롭</li><li>고유의 주소값을 가진다.</li><li>MAR, PC, SP, R0 등</li><li>데이터 레지스터, 주소 레지스터, 상태 레지스터로 구분</li><li>범용 레지스터 (GPR), 특수레지스터 (SPR)로 구분</li></ul><h2 id="주소-레지스터"><a class="markdownIt-Anchor" href="#주소-레지스터"></a> 주소 레지스터</h2><ul><li>Address Register</li></ul><h3 id="mar"><a class="markdownIt-Anchor" href="#mar"></a> MAR</h3><ul><li>메모리 주소 레지스터</li><li>주소를 먼저 지정</li></ul><h3 id="pc"><a class="markdownIt-Anchor" href="#pc"></a> PC</h3><ul><li>프로그램 카운터</li><li>다음 명령어의 주소를 지정</li><li>PC의 내용은 MAR로 전송되고 MAR의 내용이 주소 버스를 통해 메모리 주소를 지정</li></ul><h3 id="sp"><a class="markdownIt-Anchor" href="#sp"></a> SP</h3><ul><li>스택 포인터</li><li>서브루틴 또는 인터럽트가 발생시 현재 레지스터의 내용을 저장하는데 레지스터를 저장하기 위한 스택 영역 메모리의 주소를 기억</li></ul><h3 id="cmar"><a class="markdownIt-Anchor" href="#cmar"></a> CMAR</h3><ul><li>Control Memory Address Register</li><li>마이크로프로그램이 있는 메모리의 주소를 기억</li></ul><h3 id="xr"><a class="markdownIt-Anchor" href="#xr"></a> XR</h3><ul><li>인덱스 레지스터</li><li>기준 되는 주소에 XR의 변위값을 더해서 유효 주소를 발생</li><li>데이터 블록 전송에 사용</li></ul><h3 id="br"><a class="markdownIt-Anchor" href="#br"></a> BR</h3><ul><li>베이스 레지스터</li><li>베이스 레지스터에 기준이 되는 주소가 있고 여기에 변위값이 더해져 유효주소를 발생</li></ul><h2 id="데이터-레지스터"><a class="markdownIt-Anchor" href="#데이터-레지스터"></a> 데이터 레지스터</h2><h3 id="mbr"><a class="markdownIt-Anchor" href="#mbr"></a> MBR</h3><ul><li>Memory Buffer Register</li><li>주기억장치에서 데이터를 읽거나 데이터를 주기억장치에 기록할 때 사용되는 레지스터</li></ul><h3 id="acc"><a class="markdownIt-Anchor" href="#acc"></a> ACC</h3><ul><li>ACCucmulator</li><li>연산장치의 입력값을 저장하거나 연산이 끝난 후의 결과값을 저장</li><li>ACC =&gt; MBR =&gt; 데이터 버스 =&gt; 주기억장치 저장</li></ul><h3 id="tr"><a class="markdownIt-Anchor" href="#tr"></a> TR</h3><ul><li>T buffer = Temporary Register</li><li>연산 중에 중간값을 임시 저장</li></ul><h3 id="psr"><a class="markdownIt-Anchor" href="#psr"></a> PSR</h3><ul><li>Program Status Register</li><li>CPU에서 수행되고 있는 프로그램의 상태정보를 기억하고 있는 레지스터</li><li>Carry, Negative, oVerflow, Zero, Interrupt 플래그의 내용 표시</li></ul><h2 id="레지스터-전송"><a class="markdownIt-Anchor" href="#레지스터-전송"></a> 레지스터 전송</h2><h3 id="직렬전송"><a class="markdownIt-Anchor" href="#직렬전송"></a> 직렬전송</h3><ul><li>한 클록에 1bit씩 전송</li><li>워드 타임 (Word time): 4bit 모두 전송하는데 걸리는 시간</li></ul><h3 id="병렬전송"><a class="markdownIt-Anchor" href="#병렬전송"></a> 병렬전송</h3><ul><li>데이터 전송이 한 클록 펄스 동안 이루어지는 전송</li></ul><h2 id="산술-마이크로-연산"><a class="markdownIt-Anchor" href="#산술-마이크로-연산"></a> 산술 마이크로 연산</h2><p>덧셈, 뺄셈, 1 증가, 1 감소, 보수</p><img data-src="https://i.imgur.com/KFwfVba.jpg"><h2 id="논리-마이크로-연산"><a class="markdownIt-Anchor" href="#논리-마이크로-연산"></a> 논리 마이크로 연산</h2><h3 id="set"><a class="markdownIt-Anchor" href="#set"></a> SET</h3><ul><li>특정 비트를 강제로 1로 만들 때 사용</li><li>OR 연산</li></ul><h3 id="mask"><a class="markdownIt-Anchor" href="#mask"></a> MASK</h3><ul><li>특정 비트를 강제로 0으로 만들 때 사용</li><li>AND 연산</li></ul><h3 id="selective-complement"><a class="markdownIt-Anchor" href="#selective-complement"></a> Selective Complement</h3><ul><li>특정 비트를 강제로 보수로 만들 때 사용</li><li>XOR 연산</li></ul><h2 id="시프트-마이크로-연산"><a class="markdownIt-Anchor" href="#시프트-마이크로-연산"></a> 시프트 마이크로 연산</h2><h3 id="논리-시프트"><a class="markdownIt-Anchor" href="#논리-시프트"></a> 논리 시프트</h3><ul><li>Logical Shift</li><li>버리고 0 삽입</li></ul><h3 id="순환-시프트"><a class="markdownIt-Anchor" href="#순환-시프트"></a> 순환 시프트</h3><ul><li>Circular Shift = Rotate</li><li>버린걸 반대편 끝으로 삽입</li></ul><h3 id="산술-시프트"><a class="markdownIt-Anchor" href="#산술-시프트"></a> 산술 시프트</h3><ul><li>Arithmatic Shift</li><li>부호 비트를 고려하여 수행되는 시프트</li><li>부호 비트는 남기고 데이터 비트만 시프트</li></ul><h1 id="처리장치의-구성요소"><a class="markdownIt-Anchor" href="#처리장치의-구성요소"></a> 처리장치의 구성요소</h1><ul><li>ALU: 제어장치에서 명령어를 해독한 다음 실질적으로 연산을 수행하는 장치</li><li>연산장치는 산술연산장치와 논리연산장치로 구성</li></ul><h2 id="단일-누산기-cpu의-내부-버스"><a class="markdownIt-Anchor" href="#단일-누산기-cpu의-내부-버스"></a> 단일 누산기 CPU의 내부 버스</h2><h3 id="3개의-레지스터-간-병렬전송"><a class="markdownIt-Anchor" href="#3개의-레지스터-간-병렬전송"></a> 3개의 레지스터 간 병렬전송</h3><ul><li>레지스터가 n비트면 6n개의 신호선</li></ul><h3 id="단일-버스에-연결된-레지스터-선택회로"><a class="markdownIt-Anchor" href="#단일-버스에-연결된-레지스터-선택회로"></a> 단일 버스에 연결된 레지스터 선택회로</h3><ul><li>4개의 레지스터 선택시 2X4 디코더 필요</li></ul><h2 id="alu"><a class="markdownIt-Anchor" href="#alu"></a> ALU</h2><ul><li>산술/논리 연산장치 = Arithmatic and Logical Unit</li><li>산술, 논리, 시프트 등을 수행하는 장치</li><li>가산기(산술연산장치), 시프트, 논리연산회로, 보수기(complementer), 상태레지스터(PSR)로 구성</li></ul><h3 id="산술연산장치"><a class="markdownIt-Anchor" href="#산술연산장치"></a> 산술연산장치</h3><ul><li>전가산기를 이용한 병렬 가산기</li><li>n비트의 2진 병렬가산기는 n개의 전가산기로 구성</li></ul><img data-src="https://i.imgur.com/QntOIgI.png"><h3 id="상태-레지스터와-flag"><a class="markdownIt-Anchor" href="#상태-레지스터와-flag"></a> 상태 레지스터와 flag</h3><ul><li>C: Carry bit</li><li>S: Sign bit</li><li>Z: Zero bit, 값이 0일시 1로 셋</li><li>V: oVerflow bit</li><li>연산 결과에 따라 1 또는 0</li></ul><h3 id="논리연산장치"><a class="markdownIt-Anchor" href="#논리연산장치"></a> 논리연산장치</h3><ul><li>AND, OR, NOT, XOR</li><li>멀티플렉서와 조합논리회로 (&amp; | ! ^) 게이트를 이용하여 구성 가능</li></ul><h3 id="시프터"><a class="markdownIt-Anchor" href="#시프터"></a> 시프터</h3><h3 id="제어단어"><a class="markdownIt-Anchor" href="#제어단어"></a> 제어단어</h3><ul><li>Control word</li><li>하드와이어드 제어방식과 마이크로프로그램 제어방식 (제어장치 구현방법)</li><li>마이크로 프로그램 제어방식은 제어장치 내의 기억장치에 마이크로 명령어를 저장하여 마이크로 연산을 순차적으로 수행시키는데 이 마이크로 명령어를 제어단어라고 한다.</li></ul><h2 id="파이프라인-처리구조"><a class="markdownIt-Anchor" href="#파이프라인-처리구조"></a> 파이프라인 처리구조</h2><ul><li>명령어 파이프라인: CPU에서 명령어를 읽어 순차적으로 실행, 하나의 명령어가 실행되는 도중에 다른 명령어 실행을 시작하는 식으로 동시에 여러 개의 명령어를 실행하는 기법</li></ul><h2 id="실행과정"><a class="markdownIt-Anchor" href="#실행과정"></a> 실행과정</h2><ul><li>명령어 인출: Instruction Fetch</li><li>명령어 해독: Instruction Decode</li><li>오퍼랜드 인출: Operand Fetch</li><li>실행: Excute</li></ul><h1 id="마이크로프로그램-제어"><a class="markdownIt-Anchor" href="#마이크로프로그램-제어"></a> 마이크로프로그램 제어</h1><ul><li>마이크로 명령어들의 집합</li></ul><h2 id="제어장치"><a class="markdownIt-Anchor" href="#제어장치"></a> 제어장치</h2><ul><li>주기억장치에 있는 프로그램, 명령어를 순서대로 읽어옴</li><li>명령어를 해독</li><li>각 장치에 신호를 보내 프로그램 처리</li></ul><h3 id="제어장치-제어기능"><a class="markdownIt-Anchor" href="#제어장치-제어기능"></a> 제어장치 제어기능</h3><ul><li>오퍼레이션 부분과 오퍼랜드로 구성 (Op Code와 Address)</li><li>명령어 수행단계는 인출단계와 실행단계로 나뉨</li></ul><h3 id="제어장치-구성"><a class="markdownIt-Anchor" href="#제어장치-구성"></a> 제어장치 구성</h3><ul><li>IR (Instruction Register): 명령 레지스터, 주기억 장치에서 인출된 명령어를 기억하는 레지스터</li><li>Instruction Decoder: 명령 해독기, 명령 레지스터로부터 명령코드를 받아서 해독하고 결과는 제어신호 발생기에 전송</li><li>제어신호 발생기: 타이밍 발생회로와 제어회로로 구성</li><li>Program Counter: 프로그램 계수기, 다음 실행될 명령어를 가진 주기억장치의 주소를 기억하는 레지스터</li></ul><h3 id="명령어-수행-과정"><a class="markdownIt-Anchor" href="#명령어-수행-과정"></a> 명령어 수행 과정</h3><ol><li>PC의 주소를 MAR로 전송</li><li>MAR 번지에 있는 명령어를 읽어 MBR로 전송, PC 1 증가</li><li>MBR에서 IR로 전송, OP Code와 주소필드를 각각 해독기와 주소 레지스터로 전송</li><li>MAR에서 데이터와 Operand 주소를 계산하고 주기억장치에 접근</li><li>제어신호 발생기에서는 연산자를 해독하여 명령수행을 위한 제어신호 발생</li><li>반복</li></ol><h2 id="명령어-사이클"><a class="markdownIt-Anchor" href="#명령어-사이클"></a> 명령어 사이클</h2><table><thead><tr><th>상태</th><th>기능</th></tr></thead><tbody><tr><td>Fetch</td><td>1. 명령어를 주기억장치에서 읽음<br>2. 명령어 해독<br>3. 1사이클이면 실행 후 fetch로 이동<br>4. 아니면 유효주소를 계산해 간접주소면 indirect, 직접이면 execute</td></tr><tr><td>Indirect</td><td>1. 주소를 주기억장치에서 읽음<br>2. 간접주소이면 다시 indirect<br>3. 분기명령이면 실행 후 fetch<br>4. 아니면 execute</td></tr><tr><td>Execute</td><td>1. 데이터를 주기억장치에서 읽음<br>2. 실행 후 fetch</td></tr><tr><td>Interrupt</td><td>1. PC 내용을 스택에 저장<br>2. PC는 인터럽트 시작주소로 변경<br>3. PSR I bit에 1 처리<br>4. 인터럽트 처리루틴의 fetch로 이동</td></tr></tbody></table><table><thead><tr><th>플리플롭</th><th>메이저 상태</th></tr></thead><tbody><tr><td>0 0</td><td>Fetch</td></tr><tr><td>0 1</td><td>Indirect</td></tr><tr><td>1 0</td><td>Execute</td></tr><tr><td>1 1</td><td>Interrupt</td></tr></tbody></table><h3 id="fetch-cycle"><a class="markdownIt-Anchor" href="#fetch-cycle"></a> Fetch Cycle</h3><ol><li>MAR &lt;= PC</li><li>MBR &lt;= M[MAR], PC &lt;= PC + 1</li><li>IR &lt;= MBR</li></ol><h3 id="indirect-cycle"><a class="markdownIt-Anchor" href="#indirect-cycle"></a> Indirect Cycle</h3><ol><li>MAR &lt;= IR(addr)</li><li>MBR &lt;= M[MAR]</li><li>IR(addr) &lt;= MBR</li></ol><h3 id="execute-cycle"><a class="markdownIt-Anchor" href="#execute-cycle"></a> Execute Cycle</h3><ul><li>ADD X<ol><li>MBR &lt;= M[MAR]</li><li>AC &lt;= AC + MBR</li></ol></li><li>LDA X: X번지에서 데이터를 읽어 누산기에 저장하는 명령어 (LOAD)<ol><li>MBR &lt;= M[MAR]</li><li>AC &lt;= MBR</li></ol></li><li>STA X: 누산기의 내용을 X번지에 저장하는 명령어 (STORE)<ol><li>M[MAR] &lt;= AC</li></ol></li><li>ISZ X: X번지의 내용을 1증가 시키고 결과값이 0이면 다음 명령어를 실행하지 않고 건너뛰는 명령 (Increment &amp; Skip if Zero)<ol><li>MBR &lt;= M[MAR]</li><li>MBR &lt;= MBR + 1</li><li>M[MAR] &lt;= MBR, if( MBR = 0 ) then ( PC &lt;= PC + 1 )</li></ol></li><li>AND X: 누산기와 X번지 내용을 AND 연산해 결과값을 누산기에 저장하는 명령어<ol><li>MBR &lt;= M[MAR]</li><li>AC &lt;= AC &amp; MBR</li></ol></li></ul><h3 id="interrupt-cycle"><a class="markdownIt-Anchor" href="#interrupt-cycle"></a> Interrupt Cycle</h3><ol><li>MBR &lt;= PC</li><li>MAR &lt;= SP, PC &lt;= ISR (Inturrupt Service Routine)</li><li>M[MAR] &lt;= MBR</li></ol><h2 id="마이크로-연산-2"><a class="markdownIt-Anchor" href="#마이크로-연산-2"></a> 마이크로 연산</h2><p>한 개의 클록펄스 동안 레지스터의 데이터가 실행하는 기본 동작</p><h2 id="수평-마이크로-명령어"><a class="markdownIt-Anchor" href="#수평-마이크로-명령어"></a> 수평 마이크로 명령어</h2><ul><li>제어신호필드, 조건분기필드, 주소필드</li><li>마이크로 명령어는 0, 1로 제어신호 출력</li><li>한 개의 비트가 하나의 마이크로 연산을 지정</li><li>조건분기필드는 branch에 사용</li><li>주소필드는 다음에 실행될 마이크로 명령어의 주소 지정</li><li>동작속도가 빠르고 하드웨어를 효율적으로 사용하는 장점</li><li>긴 제어단어가 필요해 비용이 많이 드는 단점</li></ul><h2 id="수직-마이크로-명령어"><a class="markdownIt-Anchor" href="#수직-마이크로-명령어"></a> 수직 마이크로 명령어</h2><ul><li>디코딩을 통해 제어신호 발생</li><li>제어단어의 비트 수가 줄어든다</li><li>nbit로 2^n개의 마이크로 연산 표시 가능</li><li>디코더 필요</li></ul><h2 id="단일-사이클-제어"><a class="markdownIt-Anchor" href="#단일-사이클-제어"></a> 단일 사이클 제어</h2><p>모든 레지스터의 이동은 클록 펄스에 의해 제어</p><ul><li>마이크로 사이클: 하나의 마이크로 연산이 수행되는 과정</li><li>마이크로 사이클 타임</li><li>마이크로 오퍼레이션: 마이크로 사이클 동작</li><li>동기식과 비동기식으로 구분</li><li>하드웨어 제어방식</li><li>1개의 클록 사이클에 1개의 명령어를 실행</li></ul><h3 id="동기-고정식"><a class="markdownIt-Anchor" href="#동기-고정식"></a> 동기 고정식</h3><ul><li>가장 수행시간이 긴 것을 사이클 타임으로 설정</li><li>모든 마이크로 연산의 시간이 유사한 경우 사용</li><li>구현 간단</li><li>CPU 처리시간 낭비 발생</li></ul><h3 id="동기-가변식"><a class="markdownIt-Anchor" href="#동기-가변식"></a> 동기 가변식</h3><ul><li>유사한 것끼리 몇 개의 군으로 모아서 마이크로 사이클 타임을 설정</li><li>CPU의 성능을 높이고 전체적으로 속도 향상</li><li>제어 복잡</li></ul><h3 id="비동기식"><a class="markdownIt-Anchor" href="#비동기식"></a> 비동기식</h3><ul><li>각각의 마이크로 연산에 대해 서로 다른 마이크로 사이클 타임을 설정</li><li>하나의 마이크로 연산이 끝나면 다음 마이크로 연산 타임이 신호가 발생</li><li>복잡해서 안 사용함</li></ul><h2 id="하드웨어-제어"><a class="markdownIt-Anchor" href="#하드웨어-제어"></a> 하드웨어 제어</h2><p>2X2bit 인 경우 4개의 AND 게이트와 2개의 반가산기 필요</p><h2 id="파이프라인-제어"><a class="markdownIt-Anchor" href="#파이프라인-제어"></a> 파이프라인 제어</h2><p>하나의 프로세서를 서로 다른 기능을 가진 여러 개의 서브 프로세서로 나누어 각 프로세서가 동시에 서로 다른 데이터를 처리하도록 하는 기법</p><h1 id="명령어-집합"><a class="markdownIt-Anchor" href="#명령어-집합"></a> 명령어 집합</h1><h2 id="마이크로-명령어의-형식"><a class="markdownIt-Anchor" href="#마이크로-명령어의-형식"></a> 마이크로 명령어의 형식</h2><ul><li>연산 필드</li><li>조건 필드: 상태 비트 조건 선택 필드</li><li>분기 필드</li><li>주소 필드: 다음 주소 지정</li></ul><h2 id="처리장치"><a class="markdownIt-Anchor" href="#처리장치"></a> 처리장치</h2><h3 id="명령어-해독기"><a class="markdownIt-Anchor" href="#명령어-해독기"></a> 명령어 해독기</h3><ul><li>instruction decoder</li><li>op code를 해독하고 연산의 시작주소를 결정</li></ul><h3 id="제어주소-레지스터"><a class="markdownIt-Anchor" href="#제어주소-레지스터"></a> 제어주소 레지스터</h3><ul><li>CAR = Control Address Register</li><li>제어 메모리의 주소를 지정하는 레지스터</li><li>다음 실행할 마이크로 명령어의 주소를 저장</li></ul><h3 id="제어기억장치"><a class="markdownIt-Anchor" href="#제어기억장치"></a> 제어기억장치</h3><ul><li>Control Memory</li><li>마이크로프로그램이 저장된 내부기억장치</li></ul><h3 id="제어-버퍼-레지스터"><a class="markdownIt-Anchor" href="#제어-버퍼-레지스터"></a> 제어 버퍼 레지스터</h3><ul><li>CBR = Control Buffer Register</li><li>제어 메모리에서 읽은 마이크로 명령어를 일시적으로 저장하는 레지스터</li></ul><h3 id="서브루틴-레지스터"><a class="markdownIt-Anchor" href="#서브루틴-레지스터"></a> 서브루틴 레지스터</h3><ul><li>SBR = Subroutine Register</li><li>서브루틴이 발생한 경우 현재 제어주소 레지스터(CAR)의 내용을 일시적으로 저장하는 레지스터</li></ul><h3 id="순서제어-모듈"><a class="markdownIt-Anchor" href="#순서제어-모듈"></a> 순서제어 모듈</h3><ul><li>Sequencing Module</li><li>마이크로 명령어의 실행순서를 결정하는 모듈</li></ul><h2 id="명령어-주소-결정"><a class="markdownIt-Anchor" href="#명령어-주소-결정"></a> 명령어 주소 결정</h2><ol><li>제어주소 레지스터 1 증가</li><li>무조건 분기와 상태 비트 조건에 따른 조건부 분기</li><li>명령어의 op code로부터 제어기억장치의 주소로 매핑</li><li>서브루틴 call, return</li></ol><h2 id="제어기"><a class="markdownIt-Anchor" href="#제어기"></a> 제어기</h2><h3 id="순서-레지스터와-디코더를-이용한-방식"><a class="markdownIt-Anchor" href="#순서-레지스터와-디코더를-이용한-방식"></a> 순서 레지스터와 디코더를 이용한 방식</h3><ul><li>각 상태마다 하나의 출력신호가 발생하도록 디코더를 사용</li><li>nbit의 순서 레지스터는 n개의 플리플롭과 게이트로 구성</li><li>2bit의 경우 2^2 = 4개의 상태 표시, 2X4 디코더 필요</li></ul><h3 id="상태-플리플롭을-이용한-제어방식"><a class="markdownIt-Anchor" href="#상태-플리플롭을-이용한-제어방식"></a> 상태 플리플롭을 이용한 제어방식</h3><ul><li>각 상태에 한 개의 플립플롭이 필요</li><li>한 순간에 여러 개의 플립플롭 중에 단 한 개만 1이 된다.</li><li>다수의 플립플롭이 필요</li><li>상태 수가 증가하면 상당히 복잡해진다</li><li>설계는 간편</li></ul><h2 id="cisc-2"><a class="markdownIt-Anchor" href="#cisc-2"></a> CISC</h2><ul><li>Complex Instruction Set Computer</li><li>다양한 어드레싱 기능</li><li>명령어 길이와 실행시간이 가변적</li><li>명령어 복잡</li></ul><h2 id="risc-2"><a class="markdownIt-Anchor" href="#risc-2"></a> RISC</h2><ul><li>CPU의 명령어 개수를 줄여 하드웨어 구조를 좀 더 간단하게 만드는 방식</li><li>높은 처리속도</li><li>단순 구조</li><li>주기억장치 액세스 명령어의 제한</li><li>주소지정방식의 단순화</li></ul><blockquote><p>사상(Mapping): 각 명령어의 실행 전용 루틴을 찾는 것</p></blockquote><h1 id="기억장치-2"><a class="markdownIt-Anchor" href="#기억장치-2"></a> 기억장치</h1><h2 id="참조-지역성"><a class="markdownIt-Anchor" href="#참조-지역성"></a> 참조 지역성</h2><h3 id="공간적-지역성"><a class="markdownIt-Anchor" href="#공간적-지역성"></a> 공간적 지역성</h3><ul><li>Spatial locality</li><li>특정 데이터가 참조되면 그 부근의 데이터가 참조될 확률이 높아짐</li></ul><h3 id="시간적-지역성"><a class="markdownIt-Anchor" href="#시간적-지역성"></a> 시간적 지역성</h3><ul><li>특정 데이터를 액세스하면 빠른 시간 내에 그 데이터를 다시 참조하는 확률이 높음</li><li>캐시의 이유</li></ul><h2 id="기억장치-성능평가-요인"><a class="markdownIt-Anchor" href="#기억장치-성능평가-요인"></a> 기억장치 성능평가 요인</h2><ul><li>기억용량: capacity</li><li>접근시간: access time</li><li>사이클타임: 하나의 액세스 시작부터 다음 액세스를 시작할 때까지의 시간</li><li>기억장치 대역폭: bandwidth 1초동안 송수신할 수 있는 비트 수</li><li>가격</li></ul><blockquote><p>속도 순서: 레지스터 &gt; 캐시 &gt; 주기억장치 &gt; 보조기억장치 (디스크 &gt; 테이프)</p></blockquote><h2 id="주기억장치"><a class="markdownIt-Anchor" href="#주기억장치"></a> 주기억장치</h2><blockquote><p>폰 노이만 병목현상: 주기억장치를 이용하는데 CPU와 입출력장치가 경쟁해 주기억장치에 병목 현상이 발생하는 것</p></blockquote><h3 id="복수모듈기억장치"><a class="markdownIt-Anchor" href="#복수모듈기억장치"></a> 복수모듈기억장치</h3><ul><li>독자적으로 데이터를 저장할 수 있는 기억장치 모듈을 여러 개 가진 기억장치</li><li>기억장치 버스를 시분할하여 사용</li></ul><h3 id="메모리-인터리빙"><a class="markdownIt-Anchor" href="#메모리-인터리빙"></a> 메모리 인터리빙</h3><p>CPU가 각 모듈로 전송할 주소를 교대로 배치한 후 차례대로 전송하여 여러 모듈을 병행 접근하는 기법</p><ul><li>기억장치 접근시간을 효율적으로 높임</li><li>캐시, 고속 DMA 전송에 사용</li><li>각 모듈을 번갈아가며 접근 가능</li></ul><h3 id="연관기억장치"><a class="markdownIt-Anchor" href="#연관기억장치"></a> 연관기억장치</h3><ul><li>CAM = Content Addressable Memory)</li><li>워드에 접근하여 원하는 정보를 찾는 기억장치</li><li>bit serial, bit parallel 구조</li><li>내용에 의한 검색</li><li>캐시 내부에서 사용</li><li>외부 인자와 내용을 비교하기 위해 병렬판독논리회로, 하드웨어 장치가 필요</li></ul><h2 id="캐시기억장치"><a class="markdownIt-Anchor" href="#캐시기억장치"></a> 캐시기억장치</h2><ul><li>주기억장치보다 빠른 기억소자로 구성해 CPU와 주기억장치 속도차를 줄임</li><li>주기억장치에서 캐시로 워드를 전송할 때 그 주위 워드도 같이 전송됨 =&gt; 그 블록을 캐시로 이동</li><li>히트: 액세스하려는 단어가 캐시에 있을 경우</li><li>미스: 액세스하려는 단어가 캐시에 없을 경우</li><li>캐시에 공간이 없으면 희생 블록을 선택해야한다.</li></ul><blockquote><p>적중률 = 히트 수 / 전체 메모리 참조 수<br>교체알고리즘: FIFO, random, LRU (미사용 중 가장 오래된 것부터), LFU (최소 사용부터)</p></blockquote><h3 id="캐시-사상방식"><a class="markdownIt-Anchor" href="#캐시-사상방식"></a> 캐시 사상방식</h3><ul><li>직접사상: tag와 index 필요, 캐시와 주기억장치 인덱스 부분이 같은 경우에만 데이터가 저장</li><li>연관사상: 데이터와 주기억장치의 주소도 함께 저장</li><li>집합연관사상: 캐시 인덱스에 서로 다른 2개 이상의 데이터 블록을 저장</li></ul><h2 id="가상기억장치"><a class="markdownIt-Anchor" href="#가상기억장치"></a> 가상기억장치</h2><ul><li>대용량 보조기억장치 일부를 주기억장치로 사용</li><li>프로그램 명령어가 사용하는 주소를 가상주소, 주기억장치에 접근하기 위한 주소를 물리적 주소</li><li>CPU에서 참조하는 가상주소는 주기억장치의 실제 주소로 변환되어야 하며 이 것을 사상(mapping) 이라고 함</li><li>사상방식에는 페이징 기법과 세그먼트 기법이 있다.</li></ul><h3 id="페이징-기법"><a class="markdownIt-Anchor" href="#페이징-기법"></a> 페이징 기법</h3><ul><li>가상기억공간과 실제기억공간의 프로그램 블록의 크기가 같고 각 블록의 크기도 모두 동일할 때 이 블록을 페이지라고 한다.</li><li>주기억장치에서 페이지를 찾지 못하는 경우를 page fault</li></ul><h3 id="세그먼트-기법"><a class="markdownIt-Anchor" href="#세그먼트-기법"></a> 세그먼트 기법</h3><ul><li>프로그램의 논리적 구조에 따라 세그먼트를 다양하게 나누는 방법</li></ul><h2 id="보조기억장치"><a class="markdownIt-Anchor" href="#보조기억장치"></a> 보조기억장치</h2><h3 id="자기디스크"><a class="markdownIt-Anchor" href="#자기디스크"></a> 자기디스크</h3><ul><li>블록: 자기디스크에서 주소에 의해 지정될 수 있는 정보의 단위</li><li>트랙: 디스크 표면의 동심원</li><li>헤드가 트랙을 지나가며 R/W</li><li>액세스 암: 금속 끝에 헤드가 달려 있음</li><li>이동 헤드 디스크: 플로피</li><li>고정 헤드 디스크: 하드</li><li>탐색시간: 헤드를 트랙까지 이동하는데 걸리는 시간</li><li>회전지연시간: 섹터의 시작주소에 헤더가 도달하는데 걸리는 시간</li><li>전송시간: 섹터에서 데이터를 읽어 주기억장치로 옮기는 데 걸리는 시간</li><li>디스크 access time = seek time + rotational delay + transfer time</li></ul><h3 id="자기테이프"><a class="markdownIt-Anchor" href="#자기테이프"></a> 자기테이프</h3><ul><li>순차접근방식</li><li>용량이 커 장시간 보관 용도로 사용</li><li>DEBDIC 코드는 9트랙, BCD 코드는 7트랙</li><li>BPI: Byte Per Inch 1인치당 저장하는 바이트 수</li><li>시작점은 BOT 끝점은 EOT</li><li>IRG: Inter Record Gap 레코드 사이의 갭</li><li>IBG: Inter Block Gap 블록 사이의 갭</li></ul><h2 id="raid"><a class="markdownIt-Anchor" href="#raid"></a> RAID</h2><p>Redundant Array of Inexpensive Disks<br>여러 개의 하드를 하나듸 하드로 다루는 방법</p><ul><li>하드웨어 RAID: 안정적이지만 고가</li><li>소프트웨어 RAID: 운영체제에서 레이드 구성, 신뢰성은 떨어져도 저렴하게 데이터 저장 가능</li><li>디스크 인터리빙: 데이터를 여러 개의 디스크에 분산 저장하는 기술</li></ul><h3 id="raid-0"><a class="markdownIt-Anchor" href="#raid-0"></a> RAID-0</h3><ul><li>빠른 입출력을 목적으로 하는 데이터를 여러 개의 하드에 분산 저장하는 스트라이핑 방법 사용</li><li>하나의 디스크에 저장하는데 걸리는 시간을 여러 개의 디스크에 동시적으로 분산하여 저장하는 방식</li><li>동영상 편집과 출판에 적합</li><li>장애 발생시 뻑남</li></ul><h3 id="raid-1"><a class="markdownIt-Anchor" href="#raid-1"></a> RAID-1</h3><ul><li>미러링 기법</li><li>한 드라이브에 기록되는 모든 데이터를 다른 드라이브로 복사</li><li>하드 용량을 50%만 사용가능</li></ul><h3 id="raid-2"><a class="markdownIt-Anchor" href="#raid-2"></a> RAID-2</h3><ul><li>에러 검출 능력이 없는 드라이브를 위해 검사 디스크를 추가하고 해밍코드로 에러 검출 및 정정</li><li>요즘은 오류 검출기능을 달고 나와서 거의 안씀</li></ul><h3 id="raid-3"><a class="markdownIt-Anchor" href="#raid-3"></a> RAID-3</h3><ul><li>RAID-0의 빠른 I/O에 에러 보정 기술이 추가</li><li>별도의 패리티 드라이브를 사용</li><li>장애시 패리티 정보를 이용한 복구 가능</li></ul><h3 id="raid-4"><a class="markdownIt-Anchor" href="#raid-4"></a> RAID-4</h3><ul><li>RAID-3에다가 각 드라이브에 데이터를 블록 단위로 분산 저장</li><li>데이터 출력시 빠른 성능이지만 저장시 패리티 블록도 변경해야하는 단점</li><li>최소 3개의 드라이브</li></ul><h3 id="raid-5"><a class="markdownIt-Anchor" href="#raid-5"></a> RAID-5</h3><ul><li>RAID-3과 4의 단점 보완</li><li>패리티 갱신을 위한 디스크 액세스가 분산되어 패리티 디스크에 대한 병목현상이 사라져 쓰기를 병렬로 수행 가능</li></ul><h3 id="raid-6"><a class="markdownIt-Anchor" href="#raid-6"></a> RAID-6</h3><ul><li>RIAD-5에 다차원 패리티 체계를 구축한 시스템</li><li>2개의 패리티 블록을 저장</li><li>쓰기시 2개의 패리티를 갱신해야함</li></ul><h2 id="광기억장치"><a class="markdownIt-Anchor" href="#광기억장치"></a> 광기억장치</h2><h3 id="cd-rom"><a class="markdownIt-Anchor" href="#cd-rom"></a> CD-ROM</h3><ul><li>Compact Disk Read Only Memory</li><li>데이터는 트랙에 따라 순차적 저장</li><li>액세스는 순차적이 아닌 직접 액세스 방식</li></ul><h3 id="dvd"><a class="markdownIt-Anchor" href="#dvd"></a> DVD</h3><ul><li>용량은 4.7~8.5GB</li><li>2장의 얇은 디스크가 겹쳐져 있는 형태</li></ul><blockquote><p>1ns = 10^-9 s</p></blockquote><h1 id="입출력-제어기"><a class="markdownIt-Anchor" href="#입출력-제어기"></a> 입출력 제어기</h1><h2 id="입출력장치"><a class="markdownIt-Anchor" href="#입출력장치"></a> 입출력장치</h2><ul><li>데이터를 저장하고 시스템에서 처리한 결과를 출력</li></ul><h2 id="입출력장치-제어기"><a class="markdownIt-Anchor" href="#입출력장치-제어기"></a> 입출력장치 제어기</h2><ul><li>입출력장치를 움직이는 구동장치</li><li>보통 입출력 장치에 포함</li></ul><h2 id="입출력장치-인터페이스"><a class="markdownIt-Anchor" href="#입출력장치-인터페이스"></a> 입출력장치 인터페이스</h2><ul><li>입출력 포트 = I/O port</li><li>CPU 내부 레지스터와 입출력장치 간의 정보전송을 제어</li></ul><h2 id="입출력-버스"><a class="markdownIt-Anchor" href="#입출력-버스"></a> 입출력 버스</h2><ul><li>데이터 전달 경로</li><li>고성능 시스템에서는 입출력 제어기를 통해 주기억장치 버스에 연결</li></ul><h2 id="주기억장치-버스"><a class="markdownIt-Anchor" href="#주기억장치-버스"></a> 주기억장치 버스</h2><ul><li>주소 버스</li><li>데이터 버스</li><li>제어 버스</li></ul><blockquote><p>CPU에 의한 입출력 =&gt; DMA에 의한 입출력 =&gt; 채널에 의한 입출력</p></blockquote><h1 id="버스"><a class="markdownIt-Anchor" href="#버스"></a> 버스</h1><ul><li>버스에 연결된 장치는 master와 slave로 나뉨</li><li>master는 데이터 전달회선의 사용권 획득 및 실제 데이터 전송에 필요한 데이터를 제어</li><li>slave는 데이터 전달에 필요한 작업을 하는 장치</li></ul><h2 id="주기억장치버스"><a class="markdownIt-Anchor" href="#주기억장치버스"></a> 주기억장치버스</h2><ul><li>주기억장치의 데이터 버스 비트 수는 주기억장치 워드의 비트수와 같다</li><li>R/W</li></ul><h2 id="입출력-버스-2"><a class="markdownIt-Anchor" href="#입출력-버스-2"></a> 입출력 버스</h2><ul><li>입출력에만 이용</li><li>한 쪽에는 입출력 인터페이스, 다른 쪽에는 입출력 제어기</li><li>입출력 데이터 버스의 비트 수는 1Byte</li><li>양방향</li><li>주소버스의 bit는 장치번호의 bit 수와 같다.</li></ul><h2 id="버스-중재-방식"><a class="markdownIt-Anchor" href="#버스-중재-방식"></a> 버스 중재 방식</h2><h3 id="중앙집중식-병렬중재"><a class="markdownIt-Anchor" href="#중앙집중식-병렬중재"></a> 중앙집중식 병렬중재</h3><ul><li>centralized parallel arbitration</li><li>하나의 버스에 하나의 중재기를 사용하는 방식</li><li>모든 장치는 각각 버스 요청과 버스 허용회선에 의해 중재기에 연결됨</li><li>중재기 내의 장치들의 우선순위를 정해주는 논리회로가 있어야한다.</li></ul><h3 id="데이지-체인"><a class="markdownIt-Anchor" href="#데이지-체인"></a> 데이지 체인</h3><ul><li>직렬중재 = daisy chain</li><li>중재기 버스 사용의 우선순위는 외부 데이지 체인 하드웨어에서 결정</li><li>우선순위 높은 장치가 버스를 독점할 수 있다.</li><li>직렬연결이라 한 장치가 고장나면 다음 장치는 버스허용신호를 못 받는다.</li></ul><h3 id="폴링"><a class="markdownIt-Anchor" href="#폴링"></a> 폴링</h3><ul><li>polling = 주기적 검사방식</li><li>버스중재기가 각 master에게 버스 사용 여부를 체크하는 방식</li><li>하드웨어 폴링: 버스 중재를 위해 폴링 회선이 따로 중재기와 각 장치에 연결, 중재기가 각 장치의 고유번호를 순차적으로 발생시키므로 버스 사용권을 받기까지 시간이 길다.</li><li>소프트웨어 폴링: 폴링의 순서를 CPU가 관리하는 방식으로 우선 순위 또는 융통성이 좋다. 하드웨어보다 느리다.</li></ul><h2 id="전송-제어-방식"><a class="markdownIt-Anchor" href="#전송-제어-방식"></a> 전송 제어 방식</h2><h3 id="스트로브-제어"><a class="markdownIt-Anchor" href="#스트로브-제어"></a> 스트로브 제어</h3><ul><li>데이터 전송시간을 맞추기 위해 제어회선이 추가</li><li>제어회선을 통해 송수신측에 데이터를 전송할 때 제어신호를 보낸다.</li><li>수신쪽에서 데이터를 받았는지, 송신쪽에서 데이터를 보냈는지 확인 불가</li></ul><h3 id="핸드쉐이킹"><a class="markdownIt-Anchor" href="#핸드쉐이킹"></a> 핸드쉐이킹</h3><h1 id="입출력장치-인터페이스-2"><a class="markdownIt-Anchor" href="#입출력장치-인터페이스-2"></a> 입출력장치 인터페이스</h1><table><thead><tr><th>Busy Done</th><th>입출력 데이터 버퍼 상태</th></tr></thead><tbody><tr><td>0 0</td><td>입출력장치 휴지 상태</td></tr><tr><td>0 1</td><td>금지 상태</td></tr><tr><td>1 0</td><td>입출력 작업 중 상태</td></tr><tr><td>1 1</td><td>입력 데이터 버퍼에서 데이터를 읽거나 출력 데이터 버퍼에서 데이터를 기억시킬 수 있는 상태</td></tr></tbody></table><h2 id="데이터-전달방법"><a class="markdownIt-Anchor" href="#데이터-전달방법"></a> 데이터 전달방법</h2><h3 id="직렬전송방식"><a class="markdownIt-Anchor" href="#직렬전송방식"></a> 직렬전송방식</h3><p>입출력장치 인터페이스 내에 있는 입출력 데이터 버퍼는 시프트 레지스터</p><h3 id="병렬전송방식"><a class="markdownIt-Anchor" href="#병렬전송방식"></a> 병렬전송방식</h3><p>CPU 내의 레지스터 사이 데이터 전송방법과 같다.</p><h2 id="에러-체크"><a class="markdownIt-Anchor" href="#에러-체크"></a> 에러 체크</h2><ul><li>패리티 비트: 데이터를 첨가하는 비트가 1bit</li><li>되울림: echo back 키보드에 입력한 문자를 화면에 나타내어 확인</li><li>입출력 반복: retry 한 바이트가 잘못 읽어지면 반복해서 읽어오는 방식</li><li>오류검사/수정코드: 오류가 검출될 때 수정할 수 있는 기능이 있음</li></ul><h1 id="입출력-제어기-2"><a class="markdownIt-Anchor" href="#입출력-제어기-2"></a> 입출력 제어기</h1><h2 id="주기억장치-사상-입출력"><a class="markdownIt-Anchor" href="#주기억장치-사상-입출력"></a> 주기억장치 사상 입출력</h2><p>하나의 공통된 버스를 공유하는 입출력 시스템에서 주소를 지정하는 방식으로는 기억장치사상 입출력 방식과 고립형 입출력 방식이 있다.</p><h3 id="기억장치-사상-입출력"><a class="markdownIt-Anchor" href="#기억장치-사상-입출력"></a> 기억장치 사상 입출력</h3><ul><li>하나의 주소공간</li><li>공통의 버스와 제어선</li></ul><h3 id="고립형-입출력"><a class="markdownIt-Anchor" href="#고립형-입출력"></a> 고립형 입출력</h3><ul><li>입출력장치의 주소영역은 주기억장치의 주소영역과는 별도로 지정</li><li>분리된 제어신호</li><li>2개의 제어선으로 지정된 주소가 주기억장치 워드에 해당되는지 입출력을 위한 인터페이스 레지스터를 지정하는 것인지 구분</li></ul><h2 id="cpu에-의한-입출력"><a class="markdownIt-Anchor" href="#cpu에-의한-입출력"></a> CPU에 의한 입출력</h2><h3 id="프로그램에-의한-입출력-방식"><a class="markdownIt-Anchor" href="#프로그램에-의한-입출력-방식"></a> 프로그램에 의한 입출력 방식</h3><ul><li>CPU가 입출력장치의 처음부터 끝까지 제어</li><li>저속 컴퓨터에 적합</li><li>매번 플래그 검사를 해야하기 때문에 가장 비효율적</li></ul><h3 id="인터럽트-처리에-의한-입출력-방식"><a class="markdownIt-Anchor" href="#인터럽트-처리에-의한-입출력-방식"></a> 인터럽트 처리에 의한 입출력 방식</h3><ul><li>전송할 데이터가 준비되면 인터페이스가 CPU에 입출력을 요청하는 인터럽트 발생</li></ul><h3 id="dma를-사용한-입출력"><a class="markdownIt-Anchor" href="#dma를-사용한-입출력"></a> DMA를 사용한 입출력</h3><ul><li>CPU의 개입 없이 입출력장치와 주기억장치 사이에 데이터를 직접 전송시키는 방법</li><li>Direct Memory Access</li><li>DMA에 의한 입출력이 수행되면 CPU는 주기억장치 버스를 제어하지 못함</li><li>DMA 제어기 신호: 버스 요청, 버스 승인, 인터럽트 신호</li><li>DMA 전송 방식<ul><li>DMA burst transfer: DMA 대량전송 방식, DMA가 주기억장치 제어권을 가지고 있을 때 여러 개의 워드로 구성된 블록이 연속으로 전송</li><li>사이클 스틸 방식: 한 번에 하나의 데이터 원드를 전송하고 주기억장치의 버스 제어를 CPU에 돌려줌</li></ul></li></ul><h2 id="채널에-의한-입출력"><a class="markdownIt-Anchor" href="#채널에-의한-입출력"></a> 채널에 의한 입출력</h2><ul><li>DMA는 초기화 데이터가 필요하며, 여러 입출력장치가 있을 때 많은 DMA 제어기가 필요</li><li>입출력 장치와 직접 통신하는 전용 프로세서</li><li>CPU와 동급의 성능</li><li>고유의 입출력 명령어를 인출하고 실행</li><li>산술, 논리, 연산작업 수행 가능</li></ul><h3 id="selector-channel"><a class="markdownIt-Anchor" href="#selector-channel"></a> selector channel</h3><ul><li>선택된 입출력장치의 모든 동작이 완료될 때까지 어느 한 입출력장치의 전용인 것처럼 운용되는 채널</li><li>고속 입출력 장치와 입출력을 위해 사용</li><li>burst 방식으로 블록 데이터 전송</li></ul><h3 id="바이트-멀티플렉서-채널"><a class="markdownIt-Anchor" href="#바이트-멀티플렉서-채널"></a> 바이트 멀티플렉서 채널</h3><ul><li>하나의 채널에 저속에 많은 입출력장치를 구동시키는데 알맞은 방식</li><li>채널을 시분할 공유</li></ul><h3 id="블록-멀티플렉서-채널"><a class="markdownIt-Anchor" href="#블록-멀티플렉서-채널"></a> 블록 멀티플렉서 채널</h3><ul><li>동시에 여러 고속 입출력장치를 공유하여 데이터를 고속으로 전송</li><li>대형 컴퓨터</li></ul><blockquote><p>채널 제어기의 연결형태: 고정 채널 제어기, 가변 채널 제어기<br>CPU가 DMA제어에 보내는 초기화정보: R/W를 수행할 주기억장치의 시작주소, 전송할 데이터 워드 카운트, R/W 전송모드 지정, 입출력 수행할 장치주소</p></blockquote><h1 id="컴퓨터-시스템의-성능"><a class="markdownIt-Anchor" href="#컴퓨터-시스템의-성능"></a> 컴퓨터 시스템의 성능</h1><ul><li>처리능력: Throughput 작업량</li><li>처리속도: response time</li><li>신뢰도: reliability 정확하게 해결하는지</li><li>사용 가능도: usability 신속하게 사용 가능한지</li></ul><h2 id="처리속도"><a class="markdownIt-Anchor" href="#처리속도"></a> 처리속도</h2><h3 id="mips"><a class="markdownIt-Anchor" href="#mips"></a> MIPS</h3><ul><li>Millions of Instruction Per Second</li><li>1초에 처리되는 총 명령어의 수</li><li>1MIPS는 1초에 106개 명령어</li></ul><h3 id="mflops"><a class="markdownIt-Anchor" href="#mflops"></a> MFLOPS</h3><ul><li>Millions of Floating-Point Operation Per Second</li><li>메가플롭스</li><li>부동 소숫점 처리 속도를 나타내는 단위</li><li>1MFLOPS는 초당 10^6개 부동소수점 연산 가능</li></ul><h1 id="병렬컴퓨터"><a class="markdownIt-Anchor" href="#병렬컴퓨터"></a> 병렬컴퓨터</h1><h2 id="플린의-분류"><a class="markdownIt-Anchor" href="#플린의-분류"></a> 플린의 분류</h2><h3 id="sisd"><a class="markdownIt-Anchor" href="#sisd"></a> SISD</h3><ul><li>Single Instruction stream, Single Data stream</li><li>명령어가 하나씩 순차로 실행</li><li>현재 많이 쓰는 컴퓨터 구조</li></ul><h3 id="simd"><a class="markdownIt-Anchor" href="#simd"></a> SIMD</h3><ul><li>Single Instruction stream, Multiple Data stream</li><li>배열처리기 = array processor</li><li>모든 처리기들의 동작은 모두 하나의 제어장치의 지시를 받음</li></ul><h3 id="misd"><a class="markdownIt-Anchor" href="#misd"></a> MISD</h3><ul><li>여러 개의 처리기에서 수행되는 명령어는 다르지만 전체적으로 하나의 데이터 스트림을 갖고 있는 형태</li><li>사용하지 않음</li></ul><h3 id="mimd"><a class="markdownIt-Anchor" href="#mimd"></a> MIMD</h3><ul><li>대부분의 다중 프로세서 시스템과 다중 컴퓨터시스템</li><li>처리기들간의 상호작용 정도에 따라 밀결합 시스템, 소결합 시스템으로 나뉨</li><li>밀결합 시스템: tightly coupled system, 공유기억장치구조, 다중 프로세서 시스템</li><li>소결합 시스템: loosely coupled system, 지역기억장치를 가진 독립적인 컴퓨터 모듈, 프로세서 간 메세지 방식 통신, 다중 컴퓨터 시스템</li></ul><h2 id="팽의-분류"><a class="markdownIt-Anchor" href="#팽의-분류"></a> 팽의 분류</h2><p>병렬 수행정도에 따라 분류</p><ul><li>WSBS: Word-Serial, Bit-Serial</li><li>WPBS: Word-Parallel, Bit-Serial</li><li>WSBP: Word-Serial, Bit-Parallel</li><li>WPBP: Word-Parallel, Bit-Parallel</li></ul><p>WBSP는 가장 많이 사용하는 방식으로 한 번에 한 워드씩 처리</p><h2 id="구조에-의한-분류"><a class="markdownIt-Anchor" href="#구조에-의한-분류"></a> 구조에 의한 분류</h2><ul><li>분산처리: 하드웨어 자원이 프로세스 작업에 대해 상대적으로 약하게 결합하여 동작하는 것, 컴퓨터 네트워크 등</li><li>병렬처리: 프로세스 작업에 대해 강하게 결합되어 동작하는 것, 다중컴퓨터, 다중처리기로 구분됨</li></ul><h3 id="공유기억장치-시스템"><a class="markdownIt-Anchor" href="#공유기억장치-시스템"></a> 공유기억장치 시스템</h3><ul><li>공유기억장치를 갖는 다중처리기구조는 처리기와 기억장치 모듈사이에 완전한 연결성이 있는 강결합 시스템</li><li>기억장치 요청이 지역적인지 비지역적인지를 판단하기 위해 기억장치 대응장치(MMU: Memory Mapping Unit)이 필요</li></ul><h3 id="메세지-전달-시스템"><a class="markdownIt-Anchor" href="#메세지-전달-시스템"></a> 메세지 전달 시스템</h3><ul><li>데이터 통신이 메세지를 통해 이뤄짐</li><li>메세지는 여러 개의 고정된 길이를 갖는 패킷으로 구성</li><li>단순성과 확장성의 성질을 포함해 대규모에서 좋은 성능</li></ul><h2 id="다중-프로세서의-고려사항"><a class="markdownIt-Anchor" href="#다중-프로세서의-고려사항"></a> 다중 프로세서의 고려사항</h2><ul><li>병렬성</li><li>기억장치 (충돌, 접근 효율성, 캐시 일관성)</li><li>스케줄링</li><li>동기화</li><li>시스템 균형</li></ul><h1 id="병렬처리기"><a class="markdownIt-Anchor" href="#병렬처리기"></a> 병렬처리기</h1><h2 id="파이프라인-처리기"><a class="markdownIt-Anchor" href="#파이프라인-처리기"></a> 파이프라인 처리기</h2><p>시간적 병렬성 활용</p><blockquote><p>파이프라인: 하나의 프로세스를 서로 다른 기능을 가진 여러 개의 서브프로세스로 나ㅜ너 각 서브프로세스가 서로 다른 데이터를 취급하도록 하는 방식</p></blockquote><h2 id="배열-처리기"><a class="markdownIt-Anchor" href="#배열-처리기"></a> 배열 처리기</h2><ul><li>처리장치(PE)를 배열 형태로 갖고 있음</li><li>PE는 레지스터, 연산장치, 지역기억장치로 구성</li><li>PE는 상호연결망에 의해 데이터 교환 가능</li><li>벡터, 행렬 계산에 사용</li></ul><h2 id="다중처리기"><a class="markdownIt-Anchor" href="#다중처리기"></a> 다중처리기</h2><ul><li>multiple processor</li><li>시스템상의 여러 처리기들에 여러 개의 독립적인 작업을 각각 배정하여 2개 이상의 처리기를 동시에 수행할 수 있는 기능을 갖춘 시스템</li><li>하드웨어 시스템 구성은 주로 기억장치와 처리기, 기억장치와 입출력 채널 간 상호연결구조에 의해 결정</li></ul><h2 id="데이터-흐름-컴퓨터"><a class="markdownIt-Anchor" href="#데이터-흐름-컴퓨터"></a> 데이터 흐름 컴퓨터</h2><ul><li>프로그램 내의 모든 명령어를 수행에 필요한 피연산자들이 모두 준비될 때 명령어의 순서와 관계없이 수행시키는 것</li><li>Data Driven 방식</li></ul><h2 id="vlsi-처리기"><a class="markdownIt-Anchor" href="#vlsi-처리기"></a> VLSI 처리기</h2><ul><li>병렬 알고리즘을 직접 하드웨어로 구현하는 처리기</li><li>파이프라인 기법을 이용한 다중처리 기법</li><li>systolic array 구조가 있는데 영상이나 신호처리를 위한 특수분야에 사용</li></ul><h1 id="상호연결망-구조"><a class="markdownIt-Anchor" href="#상호연결망-구조"></a> 상호연결망 구조</h1><p>처리요소를 가진 병렬시스템에서 처리요소와 기억장치 사이를 연결해주는 네트워크</p><ul><li>대역폭: bandwidth 네트워크를 통해 전송될 수 있는 최대 데이터 전송률, 단위는 MB/s</li><li>네트워크 지연: 네트워크를 통해 메세지 전송시 소요되는 지연시간</li><li>기능성: functionality 네트워크 데이터 경로설정, 동기화, 인터럽트 처리 및 메세지 송수신과 같은 동작을 어느정도 지원해 주는지</li><li>확장가능성: scalability 새로운 하드웨어 추가시 네트워크 확장이 가능한지</li><li>하드웨어 복잡성: hardware complexity 네트워크 구현시 필요한 하드웨어, 부품의 수와 복잡성</li></ul><h2 id="정적-상호연결망"><a class="markdownIt-Anchor" href="#정적-상호연결망"></a> 정적 상호연결망</h2><h3 id="성형"><a class="markdownIt-Anchor" href="#성형"></a> 성형</h3><p>허브에 모두 연결됨</p><h3 id="선형"><a class="markdownIt-Anchor" href="#선형"></a> 선형</h3><p>노드가 차례대로 연결</p><h3 id="링형"><a class="markdownIt-Anchor" href="#링형"></a> 링형</h3><p>선형의 끝이 연결된 원형</p><h3 id="2진-트리"><a class="markdownIt-Anchor" href="#2진-트리"></a> 2진 트리</h3><p>완전한 트리형태, 통신거리가 상대적으로 김</p><h3 id="펫-트리"><a class="markdownIt-Anchor" href="#펫-트리"></a> 펫 트리</h3><p>채널의 크기가 상위계층으로 올라갈 수록 커져서 상위 수준에서의 병목현상 해결</p><h3 id="메시-토러스"><a class="markdownIt-Anchor" href="#메시-토러스"></a> 메시, 토러스</h3><p>노드가 2차원 사방으로 연결, 배열처리기에 적합</p><h3 id="하이퍼큐브"><a class="markdownIt-Anchor" href="#하이퍼큐브"></a> 하이퍼큐브</h3><ul><li>처리기의 수가 증가하면 연결점 및 하드웨어가 급증하므로 많은 처리기를 연결할 때 좋은 효율</li><li>높은 확장성</li><li>모든 노드가 같은 경로배정방법 사용 가능</li></ul><h2 id="동적-상호연결망"><a class="markdownIt-Anchor" href="#동적-상호연결망"></a> 동적 상호연결망</h2><h3 id="버스-2"><a class="markdownIt-Anchor" href="#버스-2"></a> 버스</h3><ul><li>단일 버스 구조: 미니컴퓨터나 마이크로 컴퓨터에서 사용</li><li>다중 버스 구조: 고성능 시스템</li></ul><h3 id="크로스바"><a class="markdownIt-Anchor" href="#크로스바"></a> 크로스바</h3><ul><li>네트워크 규모가 커지면 비용이 크지만 지역적인 기반구조로 유용</li><li>P개의 처리기와 M개의 기억장치 모듈을 동시에 연결</li></ul><h3 id="다단계-네트워크"><a class="markdownIt-Anchor" href="#다단계-네트워크"></a> 다단계 네트워크</h3><ul><li>multistage network</li><li>근원지와 목적지 사이에 여러 개의 스위치 요소가 있는 상호연결망</li></ul><h1 id="파이프라이닝"><a class="markdownIt-Anchor" href="#파이프라이닝"></a> 파이프라이닝</h1><ul><li>어떤 일을 실행하는 데 있어서 하나의 일을 여러 단계로 나눠 중첩하여 실행함으로써 선능을 높이는 방법</li><li>수행 단계별로 2단계, 4단계, 6단계가 있다.</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue Developer Tools 켜기</title>
      <link href="/2017/09/13/Vue-Developer-Tools-%EC%BC%9C%EA%B8%B0/"/>
      <url>/2017/09/13/Vue-Developer-Tools-%EC%BC%9C%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>Devtools inspection is not available because it’s in production mode 란 메세지와 함께<br>Vue 개발자 도구가 표시되지 않을 경우에 script 상단에 아래 구문을 추가한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.devtools = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h1 id="개발자-도구에-vue-탭이-없을-때"><a class="markdownIt-Anchor" href="#개발자-도구에-vue-탭이-없을-때"></a> 개발자 도구에 Vue 탭이 없을 때</h1><p><code>ctrl+shift+i</code> 키를 Vue 탭이 보일 때 까지 반복해서 눌러준다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> laravel </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5로 업그레이드</title>
      <link href="/2017/09/12/Laravel-upgrade-5-4-to-5-5/"/>
      <url>/2017/09/12/Laravel-upgrade-5-4-to-5-5/</url>
      
        <content type="html"><![CDATA[<p>Laravel 5.4 에서 5.5 로 업그레이드 후기</p><h1 id="업그레이드"><a class="markdownIt-Anchor" href="#업그레이드"></a> 업그레이드</h1><p><a href="https://laravel.com/docs/5.5/upgrade" target="_blank" rel="external nofollow noopener noreferrer">공홈</a>을 참조해도 된다.<br><code>composer.json</code>에서 아래 패키지의 버전을 바꿔준다.</p><h2 id="dependencies"><a class="markdownIt-Anchor" href="#dependencies"></a> dependencies</h2><ul><li>laravel/framework: 5.5.*</li><li>phpunit/phpunit: ~6.0</li></ul><h2 id="dev-dependencies"><a class="markdownIt-Anchor" href="#dev-dependencies"></a> dev-dependencies</h2><ul><li>filp/whoops: ~2.0</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ composer clearcache</span><br><span class="line">$ composer update</span><br></pre></td></tr></table></figure><h1 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h1><h2 id="session-db-문제"><a class="markdownIt-Anchor" href="#session-db-문제"></a> Session, DB 문제</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan cache:clear</span><br></pre></td></tr></table></figure><h2 id="const-update_at-문제"><a class="markdownIt-Anchor" href="#const-update_at-문제"></a> const UPDATE_AT 문제</h2><p><code>const UPDATED_AT = null;</code>처럼 timestamps 필드 중 하나를 disable 했을 때 5.5 버전에선 오류가 발생한다.<br>아래 처럼 모델에 <code>setUpdatedAt</code> 함수를 추가해주면 된다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setUpdatedAt</span><span class="params">($value)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="request-has-문제"><a class="markdownIt-Anchor" href="#request-has-문제"></a> request has 문제</h2><p><code>request-&gt;has</code>와 같은 기능으로 동작하려면 <code>request-&gt;filled</code>로 바꿔줘야한다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 5.5에서는 name 값이 비던 안 비던 true</span></span><br><span class="line"><span class="keyword">if</span> ($request-&gt;has(<span class="string">'name'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이게 구버전 has의 기능과 동일하다.</span></span><br><span class="line"><span class="comment">// name 값이 있을 경우만 true</span></span><br><span class="line"><span class="keyword">if</span> ($request-&gt;filled(<span class="string">'name'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel - Socialite InvalidStateException</title>
      <link href="/2017/09/12/Laravel-Socialite-InvalidStateException/"/>
      <url>/2017/09/12/Laravel-Socialite-InvalidStateException/</url>
      
        <content type="html"><![CDATA[<p>가끔 가다가 인증이 안 되는 경우가 있다.</p><h1 id="해결법"><a class="markdownIt-Anchor" href="#해결법"></a> 해결법</h1><h2 id="stateless"><a class="markdownIt-Anchor" href="#stateless"></a> stateless</h2><p><code>Socialite::driver('인증 타입')-&gt;stateless()-&gt;user();</code> 로 가져오자.</p><h2 id="session-명-변경"><a class="markdownIt-Anchor" href="#session-명-변경"></a> session 명 변경</h2><p><code>config/session.php</code>의 <strong>cookie</strong> 값을 변경해준다.</p><h2 id="session-domain-변경"><a class="markdownIt-Anchor" href="#session-domain-변경"></a> session domain 변경</h2><p><code>config/session.php</code>의 <strong>domain</strong> 값을 null 에서 내 도메인으로 변경한다.</p><p>그리고 아래 두 명령어를 실행해주자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan cache:clear</span><br><span class="line">$ composer dump-autoload</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>socialite 설명에선 나오지 않았지만, Socialite 구문을 <code>try/catch</code>로 감싸주는게 좋았다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  $user = Socialite::driver(<span class="string">'facebook'</span>)-&gt;stateless()-&gt;user();</span><br><span class="line">&#125; <span class="keyword">catch</span> (\<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">  <span class="keyword">return</span> redirect()-&gt;route(<span class="string">'login'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel Query Logging, 쿼리 로그</title>
      <link href="/2017/09/06/Laravel-Query-Logging/"/>
      <url>/2017/09/06/Laravel-Query-Logging/</url>
      
        <content type="html"><![CDATA[<p>Laravel DebugBar 를 이용하는게 편하지만 dump 나 json 리턴시에 DebugBar 가 보이지 않으므로 직접 찍어줘야하는 경우가 많다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment"># DB 파사드를 추가한다.</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">DB</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">your_func</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 로그를 enable 시키고</span></span><br><span class="line">  DB::enableQueryLog();</span><br><span class="line">  <span class="comment">// 쿼리를 여기에 실행한다.</span></span><br><span class="line">  Member::where(<span class="string">'조건'</span>, <span class="string">'값'</span>)-&gt;get();</span><br><span class="line">  Product::find(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 쿼리 로그를 찍는다.</span></span><br><span class="line">  $queryLogs = DB::getQueryLog();</span><br><span class="line">  dump($queryLogs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="결과"><a class="markdownIt-Anchor" href="#결과"></a> 결과</h1><p>배열에 query, bindings (preparedStatement 를 위한 것), time 이 상세하게 나온다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Debugbar와 BrowserSync의 충돌 해결</title>
      <link href="/2017/08/24/Laravel-5-4-Debugbar%EC%99%80-BrowserSync%EC%9D%98-%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0/"/>
      <url>/2017/08/24/Laravel-5-4-Debugbar%EC%99%80-BrowserSync%EC%9D%98-%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0/</url>
      
        <content type="html"><![CDATA[<p>Laravel Mix로 browserSync 옵션을 활성화 시에 Debugbar가 생기지 않는 오류가 발생할 경우 (스크립트 단에서 JSON parse 오류가 발생한다)<br>다음과 같이 설정해주면 된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight js"><figcaption><span>webpack.mix.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mix.browserSync(&#123;</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    <span class="comment">// artisan serve시의 주소</span></span><br><span class="line">    target: <span class="string">"localhost:8000"</span>,</span><br><span class="line">    reqHeaders: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// host를 직접 지정해준다.</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        host: <span class="string">"localhost:3000"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cannot start container iptables failed</title>
      <link href="/2017/08/19/Cannot-start-container-iptables-failed/"/>
      <url>/2017/08/19/Cannot-start-container-iptables-failed/</url>
      
        <content type="html"><![CDATA[<h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><p>Container를 다시 올릴 때 다음과 같은 오류로 올라가지 않는 경우가 있다.<br>docker kill이 아닌 stop, rm으로 container를 지웠을 때 뭔가 충돌이 나는 것 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Error response from daemon: Cannot start container aca936f2822fce32235e627ff539c58b74b2f4e66cfa701de47ce609e2590d13: iptables failed: iptables -t nat -A DOCKER -p tcp -d 0/0 --dport 50000 -j DNAT --to-destination 172.17.0.10:50000 ! -i docker0: iptables: No chain/target/match by that name.</span><br><span class="line"> (<span class="built_in">exit</span> status 1)</span><br></pre></td></tr></table></figure><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>이 중 마음에 드는 방법으로 해결하면 된다.</p><h2 id="서비스-restart"><a class="markdownIt-Anchor" href="#서비스-restart"></a> 서비스 restart</h2><p>docker 서비스를 restart 한다.</p><h2 id="iptables-rule-추가"><a class="markdownIt-Anchor" href="#iptables-rule-추가"></a> iptables rule 추가</h2><p>오류 메세지에 필요한 rule을 추가한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ iptables -t filter -N DOCKER</span><br><span class="line">$ iptables -t nat -N DOCKER</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS CodeCommit 사용하기</title>
      <link href="/2017/08/18/AWS-CodeCommit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>/2017/08/18/AWS-CodeCommit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>AWS 에서 제공하는 Cloud Git Repository 인 CodeCommit 으로 소스코드를 관리해보자.</p><h1 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h1><p>공식 문서가 아주 잘 되어있다. 문서를 보고 시작해도 된다.</p><ul><li><a href="http://docs.aws.amazon.com/ko_kr/codecommit/latest/userguide/setting-up-ssh-unixes.html" target="_blank" rel="external nofollow noopener noreferrer">Mac</a></li><li><a href="http://docs.aws.amazon.com/ko_kr/codecommit/latest/userguide/setting-up-ssh-windows.html" target="_blank" rel="external nofollow noopener noreferrer">Windows</a></li></ul><h2 id="iam-유저-생성"><a class="markdownIt-Anchor" href="#iam-유저-생성"></a> IAM 유저 생성</h2><p>IAM 에서 유저를 만든 뒤에 <strong>AWSCodeCommitFullAccess</strong> 권한을 추가한다.</p><h2 id="키-파일-업로드"><a class="markdownIt-Anchor" href="#키-파일-업로드"></a> 키 파일 업로드</h2><p>ssh 키를 생성하고 Public Key 파일(id_rsa.pub)을 해당 유저의 <strong>Security credentials</strong> 메뉴에서 업로드한다.<br>키가 등록되면 <strong>SSH key ID</strong>가 보이는데 메모해 놓자.</p><h2 id="config"><a class="markdownIt-Anchor" href="#config"></a> config</h2><p>사용할 유저의 ssh config 를 설정해줘야한다.<br>User 에 들어가는 값은 위에서 적어놓은 <strong>SSH key ID</strong> 값이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.ssh/config</span><br><span class="line"></span><br><span class="line"><span class="comment"># 아래 내용을 맨 위에 넣어주자.</span></span><br><span class="line">Host git-codecommit.*.amazonaws.com</span><br><span class="line">  User EXAMPLEEXAMPLEEXAMPLE</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 저장한 뒤 권한을 바꿔준다.</span></span><br><span class="line">chmod 600 ~/.ssh/config</span><br></pre></td></tr></table></figure><h2 id="테스트"><a class="markdownIt-Anchor" href="#테스트"></a> 테스트</h2><p>설정이 완료된 후에 서울리젼으로 ssh 연결을 시도해보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ssh git-codecommit.ap-northeast-2.amazonaws.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 다음과 같은 메세지가 리턴되면 성공이다.</span></span><br><span class="line">You have successfully authenticated over SSH. You can use Git to interact with AWS CodeCommit. Interactive shells are not supported.Connection to git-codecommit.</span><br><span class="line">ap-northeast-2.amazonaws.com closed by remote host.</span><br><span class="line">Connection to git-codecommit.ap-northeast-2.amazonaws.com closed.</span><br></pre></td></tr></table></figure><h1 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h1><p>이제 AWS CodeCommit 과 내 소스를 연결시켜보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 이미 존재하는 프로젝트의 경우</span></span><br><span class="line">$ git remote remove origin</span><br><span class="line">$ git remote add origin ssh://git-codecommit.ap-northeast-2.amazonaws.com/v1/repos/레파지토리명</span><br><span class="line"></span><br><span class="line"><span class="comment"># 처음 시작하는 경우</span></span><br><span class="line">$ git <span class="built_in">clone</span> ssh://git-codecommit.ap-northeast-2.amazonaws.com/v1/repos/레파지토리명</span><br><span class="line"></span><br><span class="line"><span class="comment"># 권한이 없거나 ssh 계정을 물어볼 때</span></span><br><span class="line"><span class="comment"># origin의 path 앞에 SSH key ID를 추가하자</span></span><br><span class="line">$ git remote add origin ssh://EXAMPLEEXAMPLEEXAMPLE@git-codecommit.ap-northeast-2.amazonaws.com/v1/repos/레파지토리명</span><br></pre></td></tr></table></figure><p><code>git pull origin master</code>시에 정상적으로 가져오는 걸 확인할 수 있다.</p><h2 id="ssh-연동이-잘-되지-않을시"><a class="markdownIt-Anchor" href="#ssh-연동이-잘-되지-않을시"></a> ssh 연동이 잘 되지 않을시</h2><p>메뉴얼대로 따라해도 연동이 안될 때는 당황하지 말고 <code>IAM &gt; Users &gt; Security credentials</code>에서 <code>HTTPS Git credentials for AWS CodeCommit</code>를 만들어주고 CodeCommit Repository 연결을 <code>http</code>로 하면 된다.</p><h1 id="webhook"><a class="markdownIt-Anchor" href="#webhook"></a> Webhook</h1><p>Github, Bitbucket 와 달리 Webhook 설정하는 법이 조금은 복잡하다. (GCP 의 Pub/Sub 와 비슷한 느낌)</p><blockquote><p>CodeDeploy 서비스를 사용하면 쉬워질 것 같은데, 그럼 CodePipeline 도 쓰고 싶을 것 같고 CI 세팅을 해야되고 다음 기회에</p></blockquote><h2 id="lambda"><a class="markdownIt-Anchor" href="#lambda"></a> Lambda</h2><p>람다는 웹(URL)으로 호출할 수 있는 Javascript function 이다.</p><h3 id="설정-2"><a class="markdownIt-Anchor" href="#설정-2"></a> 설정</h3><p>먼저 <strong>Lambda &gt; 함수 &gt; 함수생성 &gt; 새로 작성</strong> 메뉴에서 webhook 이란 이름의 함수를 생성한다.<br><strong>트리거 구성</strong> 메뉴에서 CodeCommit 을 선택하고 입력 폼을 잘 채워주자.</p><img data-src="https://i.imgur.com/qpDqsjv.png"><p><strong>기존 브랜치로 푸시, master 브랜치</strong>를 선택했다.<br><strong>사용자 지정데이터</strong>에는 webhook 을 걸 URL 경로를 넣어준다. (예: <a href="https://yourdomain.com/webhook" target="_blank" rel="external nofollow noopener noreferrer">https://yourdomain.com/webhook</a>)</p><h3 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h3><p>이미 세팅된 <a href="https://gist.github.com/babelop/42e5580b7898719887516649b3053bc7" target="_blank" rel="external nofollow noopener noreferrer">함수</a>를 사용하자.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>)</span><br><span class="line"><span class="keyword">const</span> https = <span class="built_in">require</span>(<span class="string">"https"</span>)</span><br><span class="line"></span><br><span class="line">exports.handler = <span class="function">(<span class="params">event, context, callback</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> webhook_url = event.Records[<span class="number">0</span>].customData</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!webhook_url) &#123;</span><br><span class="line">    <span class="keyword">let</span> error = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Web-hook URL not provided as custom data."</span>)</span><br><span class="line">    callback(error)</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"POST web-hook to "</span> + webhook_url)</span><br><span class="line">    <span class="keyword">let</span> options = url.parse(webhook_url)</span><br><span class="line">    options[<span class="string">"method"</span>] = <span class="string">"POST"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> req = https.request(options, res =&gt; &#123;</span><br><span class="line">      <span class="keyword">let</span> body = <span class="string">""</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Status:"</span>, res.statusCode)</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Headers:"</span>, <span class="built_in">JSON</span>.stringify(res.headers))</span><br><span class="line">      res.setEncoding(<span class="string">"utf8"</span>)</span><br><span class="line">      res.on(<span class="string">"data"</span>, chunk =&gt; (body += chunk))</span><br><span class="line">      res.on(<span class="string">"end"</span>, () =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Successfully triggered web-hook."</span>)</span><br><span class="line">        <span class="comment">// If we know it's JSON, parse it.</span></span><br><span class="line">        <span class="keyword">if</span> (res.headers[<span class="string">"content-type"</span>] === <span class="string">"application/json"</span>) &#123;</span><br><span class="line">          body = <span class="built_in">JSON</span>.parse(body)</span><br><span class="line">        &#125;</span><br><span class="line">        callback(<span class="literal">null</span>, body)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    req.on(<span class="string">"error"</span>, callback)</span><br><span class="line">    req.end()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>https 커넥션이 아닌 경우 <code>http</code> 모듈을 사용해서 request 를 보내면 될 것 같다.</p><p>등록 후엔 <strong>CodeCommit &gt; 트리거 &gt; webhook &gt; 트리거 테스트</strong>를 진행하면 정상적으로 호출이 된다.</p><h2 id="로그"><a class="markdownIt-Anchor" href="#로그"></a> 로그</h2><p>호출 로그는 <strong>CloudWatch &gt; 로그</strong>에서 생성한 Lambda 명으로 확인할 수 있다.</p><p>로그 스트림이 설정되지 않았을 경우엔 <strong>Lambda &gt; 구성 &gt; 기존 역할</strong>에 표시된 역할(Rule)이 해당 Lambda 함수를 잡고 있는지 확인해야한다.<br><strong>IAM &gt; Rules &gt; 해당 룰 &gt; Permissions</strong>에서 <strong>Show policy</strong>를 누르면 <strong>Resource 속성</strong>에서 확인할 수 있고 다르다면 제대로 연결시켜주면 된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><blockquote><p><a href="https://aws.amazon.com/ko/blogs/korea/week-in-review-28-08-17/" target="_blank" rel="external nofollow noopener noreferrer">AWS Korea week in review</a>에 소개되었다.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> aws </tag>
            
            <tag> codecommit </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Log Permission 문제</title>
      <link href="/2017/08/18/Laravel-5-4-Log-Permission-Denied/"/>
      <url>/2017/08/18/Laravel-5-4-Log-Permission-Denied/</url>
      
        <content type="html"><![CDATA[<p>웹 서버의 유저로 로그 파일이 생성되어야 하는데, 어느 순간부터 root:root 권한을 달고 daliy log 가 생성되는 경우가 있다.</p><p>여러가지 경우의 수가 있는데, 맞는 조건을 찾아서 Permission 오류가 발생하지 않게 처리해보자.</p><h1 id="selinux"><a class="markdownIt-Anchor" href="#selinux"></a> selinux</h1><p>storage 에는 쓰기권한이 있어야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chcon -R -t httpd_sys_rw_content_t storage</span><br></pre></td></tr></table></figure><h1 id="webserver-user"><a class="markdownIt-Anchor" href="#webserver-user"></a> WebServer user</h1><p>웹 서버의 유저가 다르게 설정 되어있을 때 권한이 바뀔 수 있다.<br>서버 설정을 열어서 유저가 제대로 설정되어 있는지 확인해보자.</p><figure class="highlight plain"><figcaption><span>nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br></pre></td></tr></table></figure><h1 id="php-fpm-user"><a class="markdownIt-Anchor" href="#php-fpm-user"></a> php-fpm user</h1><p>php-fpm 에서 설정하는 user 와 group 이 다르게 설정 되어 있을 때 권한이 바뀔 수 있다.<br>php-fpm 설정을 열어 유저가 제대로 설정되어 있는지 확인해보자.</p><figure class="highlight plain"><figcaption><span>php-fpm.d/www.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user &#x3D; nginx</span><br><span class="line">group &#x3D; nginx</span><br><span class="line"></span><br><span class="line">listen.owner &#x3D; nginx</span><br><span class="line">listen.group &#x3D; nginx</span><br></pre></td></tr></table></figure><h1 id="log-rotate"><a class="markdownIt-Anchor" href="#log-rotate"></a> log rotate</h1><p>로그 파일이 너무 커지는 걸 막기위해 log rotate 설정이 되어있다면 권한이 바뀔 수 있다.<br>logrotate 가 cron 에 물려 있는지 설정을 확인해보자.</p><figure class="highlight bash"><figcaption><span>/etc/logroate.d/*</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">pwd</span></span><br><span class="line">/etc/logroate.d</span><br><span class="line"></span><br><span class="line">$ vi nginx</span><br><span class="line">$ vi php-fpm</span><br></pre></td></tr></table></figure><h1 id="cron-사용시"><a class="markdownIt-Anchor" href="#cron-사용시"></a> cron 사용시</h1><p>crontab 의 경우 root 유저로 실행이 되면 cron 에서 Laravel 을 호출할 때 log 가 root 권한으로 생성될 수 있다.</p><h2 id="로그-분기"><a class="markdownIt-Anchor" href="#로그-분기"></a> 로그 분기</h2><p>log 파일을 생성하는 프로세스별로 분기해서 해결할 수 있다. <a href="https://stackoverflow.com/questions/27674597/laravel-daily-log-created-with-wrong-permissions" target="_blank" rel="external nofollow noopener noreferrer">Stackoverflow</a> 참조</p><figure class="highlight php"><figcaption><span>bootstrap/app.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$app-&gt;configureMonologUsing(<span class="function"><span class="keyword">function</span><span class="params">(Monolog\Logger $monolog)</span> </span>&#123;</span><br><span class="line">    $filename = storage_path(<span class="string">'logs/laravel-'</span>.php_sapi_name().<span class="string">'.log'</span>);</span><br><span class="line">    $handler = <span class="keyword">new</span> Monolog\Handler\RotatingFileHandler($filename);</span><br><span class="line">    $monolog-&gt;pushHandler($handler);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>설정을 추가해 놓으면 logs 폴더 하위에 다음과 같이 로그가 분기되어 생성된다.</p><figure class="highlight bash"><figcaption><span>storage/logs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -al .</span><br><span class="line">-rw-r--r-- 1 nginx nginx        718 Aug 18 10:56 laravel-fpm-fcgi-2017-08-18.log</span><br></pre></td></tr></table></figure><p>cron 은 root 에서 실행되나 user shell 에서 Laravel 프로세스를 실행하는 경우 root 에 의해 log 가 생성되었다면 다음과 같이 permission 을 변경해서 생성해야한다. <a href="https://blog.asamaru.net/2017/03/08/laravel-log-files-permisson-change/" target="_blank" rel="external nofollow noopener noreferrer">Post</a> 참조</p><figure class="highlight php"><figcaption><span>bootstrap/app.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$app-&gt;configureMonologUsing(<span class="function"><span class="keyword">function</span><span class="params">(Monolog\Logger $monolog)</span> </span>&#123;</span><br><span class="line">    $filename = storage_path(<span class="string">'/logs/laravel-'</span> . php_sapi_name() . <span class="string">'.log'</span>);</span><br><span class="line">    <span class="comment">// 5번째 파라미터로 666 권한을 넘긴다.</span></span><br><span class="line">    $handler = <span class="keyword">new</span> Monolog\Handler\RotatingFileHandler($filename, <span class="number">0</span>, \Monolog\Logger::DEBUG, <span class="keyword">true</span>, <span class="number">0666</span>);</span><br><span class="line">    $monolog-&gt;pushHandler($handler);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>RotatingFileHandler 의 Parameter 는 <a href="https://github.com/Seldaek/monolog/blob/master/src/Monolog/Handler/RotatingFileHandler.php#L47" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 참조하자.<br>666 으로 생성 시엔 굳이 <code>php_sapi_name()</code>을 사용하지 않아도 된다. (rw 권한이 모두에게 있으니까)</p><h2 id="setfacl"><a class="markdownIt-Anchor" href="#setfacl"></a> setfacl</h2><p>다른 해결 방법으로는 ACL 을 수정해 logs 폴더 자체를 해당 user:group 이 편집할 수 있게 처리하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">pwd</span></span><br><span class="line">/public_html/storage/logs</span><br><span class="line"></span><br><span class="line">$ setfacl -d -m u:nginx:rwx .</span><br><span class="line"></span><br><span class="line">$ getfacl .</span><br><span class="line">default:user:nginx:rwx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 삭제</span></span><br><span class="line">$ setfacl -d -x u:nginx .</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>Laravel 프로젝트 시작시 <code>bootstrap/app.php</code> 안에 로그를 분기 로직을 넣고 개발하는 게 좋아보인다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker로 LEMP Stack 구축하기</title>
      <link href="/2017/08/14/LEMP-with-Docker/"/>
      <url>/2017/08/14/LEMP-with-Docker/</url>
      
        <content type="html"><![CDATA[<p>이 포스트 전에 웹서버 세팅을 하나씩 설치해서 띄워보는 걸 권장하고<br>Docker, SSH Login, LetsEncrypt, sed 명령어의 사용법을 알고 있어야 한다.<br>구성할 서버 스택은 다음과 같다.</p><ul><li><strong>Docker</strong></li><li><strong>Docker-compose</strong></li><li>Host 에 사용될 Linux (Centos7)</li><li>Alpain Linux</li><li>Nginx ^1.13</li><li>MariaDB ^10.2</li><li>PHP ^7.1</li><li>Laravel =5.4</li><li>LetsEncrypt</li><li>HTTP2</li><li>Redis</li></ul><h1 id="docker-설치"><a class="markdownIt-Anchor" href="#docker-설치"></a> Docker 설치</h1><p><a href="/2017/07/23/Install-docker-docker-compose-to-centos/">이전 포스트</a>를 참조하자.</p><h1 id="container-쇼핑"><a class="markdownIt-Anchor" href="#container-쇼핑"></a> Container 쇼핑</h1><p><a href="https://hub.docker.com/" target="_blank" rel="external nofollow noopener noreferrer">Docker Hub</a>에서 마음에 드는 Container 를 사용해도 되지만, 생각처럼 돌아가는 Container 는 다음과 같았다.</p><ul><li><a href="https://hub.docker.com/r/richarvey/nginx-php-fpm/" target="_blank" rel="external nofollow noopener noreferrer">nginx-php-fpm</a> (2M)</li><li><a href="https://hub.docker.com/_/mariadb/" target="_blank" rel="external nofollow noopener noreferrer">official mariadb</a> (10M)</li><li><a href="https://hub.docker.com/r/bitnami/redis/" target="_blank" rel="external nofollow noopener noreferrer">bitnami redis</a> (500K)</li></ul><blockquote><p><strong>왜 <a href="https://github.com/laradock/laradock" target="_blank" rel="external nofollow noopener noreferrer">Laradock</a>을 안 썼죠?</strong></p><ol><li>Laradock 에서 caddy 를 사용하지 않고 nginx 와 certbot 만을 이용해 http2 환경을 구성하는 예제가 없었다.</li><li>그래도 시도해봤으나 certbot 인증시에 DocumentRoot 를 잡지 못하는 현상을 삽질로 매꿀 시간이 없었다.</li><li>Git repo 를 Clone 받아서 Docker-compose 로 Container 를 구동하기 때문에 추후 ECS 에 적용할 수가 없는 구조였다.</li><li>직접 구축해보고 싶었다.</li></ol></blockquote><h1 id="세팅"><a class="markdownIt-Anchor" href="#세팅"></a> 세팅</h1><h2 id="nginx-php-fpm"><a class="markdownIt-Anchor" href="#nginx-php-fpm"></a> nginx-php-fpm</h2><p>Laravel 용 및 튜닝을 위해 Docker hub 의 이미지 대신 Git repo 의 이미지를 Clone 해서 세팅을 해보자.</p><blockquote><p>내용 추가 중…</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> docker </tag>
            
            <tag> linux </tag>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS ECS 부수기</title>
      <link href="/2017/08/11/AWS-ECS-%EB%B6%80%EC%88%98%EA%B8%B0/"/>
      <url>/2017/08/11/AWS-ECS-%EB%B6%80%EC%88%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>ECS 는 서울 리젼이 아직 없어서 그런가, 구글링해도 사용할만한 데이터가 너무 적었다.<br>(기초 설명은 잘 되있다. 하지만 Hello World Application 을 올리려고 ECS 를 쓰는 건 아니니까…)</p><h1 id="용어"><a class="markdownIt-Anchor" href="#용어"></a> 용어</h1><h2 id="cluster"><a class="markdownIt-Anchor" href="#cluster"></a> Cluster</h2><blockquote><p>Amazon ECS 클러스터는 작업을 배치할 수 있는 컨테이너 인스턴스의 논리적 그룹화입니다.<br>이 공식 설명을 보고 Cluster 에 대한 감을 잡기가 쉽지 않았다.</p></blockquote><ul><li>간단히하면 Docker Container 를 올리는 EC2 Instance 이다.</li><li>K8S 의 그 클러스터이다.</li></ul><h2 id="task"><a class="markdownIt-Anchor" href="#task"></a> Task</h2><ul><li>Task 는 작업이라고 번역되며, 하나의 Task Definition JSON 은 하나의 Docker-compose YAML 이라고 보자.</li></ul><h2 id="container-definition"><a class="markdownIt-Anchor" href="#container-definition"></a> Container Definition</h2><ul><li>배포되는 각 컨테이너의 정의</li><li>파드의 개념</li></ul><h2 id="task-definition"><a class="markdownIt-Anchor" href="#task-definition"></a> Task Definition</h2><ul><li>컨테이너의 집합인 Task의 정의</li><li>파드의 개념</li></ul><h2 id="service"><a class="markdownIt-Anchor" href="#service"></a> Service</h2><blockquote><p>Amazon ECS 는 단일 ECS 클러스터에서 작업 정의에 지정된 수(“원하는 개수”)의 인스턴스를 동시에 실행 및 관리할 수 있게 해줍니다.<br>어떤 이유로 작업이 실패 또는 중지되는 경우 Amazon ECS 서비스 스케줄러가 작업 정의의 다른 인스턴스를 시작하여 이를 대체하고 서비스의 원하는 작업 수를 유지합니다.</p></blockquote><ul><li>Task 를 자동으로 관리할 수 있게 하는 기능, LB 나 Auto Scaling 모두 여기서 적용이 된다.</li><li>롤링 업데이트 시에 배포 및 오토 스케일링을 담당한다.</li><li>K8S의 서비스, 디플로이먼트, 레플리카세트의 역할</li></ul><h2 id="repository"><a class="markdownIt-Anchor" href="#repository"></a> Repository</h2><p>AWS Docker 레지스트리 서비스로 AWS Private DockerHub 라고 보자.</p><h1 id="네트워크-모드"><a class="markdownIt-Anchor" href="#네트워크-모드"></a> 네트워크 모드</h1><table><thead><tr><th>모드</th><th>내용</th></tr></thead><tbody><tr><td>default</td><td>네트워크 모드 기본값으로 bridge와 같음</td></tr><tr><td>awsvpc</td><td>AWS에서만 제공되는 네트워크 모드 (ENI가 Task 자체 VPC의 IP 주소할당)</td></tr><tr><td>bridge</td><td>DockerContainer를 호스트와 같은 네트워크에 배치해 라우팅 없이 컨테이너 접근 가능</td></tr><tr><td>host</td><td>Task가 배치되는 호스트의 네트워크를 공유하는 모드 (Fargate 사용 불가)</td></tr><tr><td>none</td><td>Task에 속한 컨테이너의 외부 접근이 불가능하고 포트 매핑 사용불가</td></tr></tbody></table><h1 id="볼륨-생성"><a class="markdownIt-Anchor" href="#볼륨-생성"></a> 볼륨 생성</h1><p>-v 또는 --volume 으로 Host 의 폴더를 Mount 하는 기능이 꼭 필요한데, 설정 창에선 찾기가 너무 힘들었다.<br>ECS 에서는 <strong>작업 정의 생성</strong> 시에 하단에 <strong>볼륨 추가</strong> 를 꼭 먼저 클릭해 볼륨부터 추가해야한다.</p><img data-src="https://i.imgur.com/C4iUL0x.png"><p>이름엔 --name 옵션 사용하듯이 닉네임을 넣고<br>소스 경로엔 Host directory 경로를 넣자.</p><p>추가가 되면 <strong>컨테이너 추가</strong> 시에 <strong>탑재 지점</strong> 메뉴의 <strong>소스 볼륨</strong> select box 에서 선택할 수 있다.</p><img data-src="https://i.imgur.com/BJrFNCX.png"><p>이 짓을 하는 것보단 <a href="https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/task_definition_parameters.html" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a>의 Task Definition JSON Parameter 를 보고 JSON 으로 때려박는게 편하다.</p><p>예시 JSON 은 아래와 같다.<br>(3306 과 3307 을 열고 Host 의 Data 폴더를 Mount 하는 기본 구성의 MariaDB Image)</p><figure class="highlight json"><figcaption><span>mariadb</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"requiresAttributes"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"value"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"com.amazonaws.ecs.capability.docker-remote-api.1.21"</span>,</span><br><span class="line">      <span class="attr">"targetId"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"targetType"</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"taskDefinitionArn"</span>: <span class="string">"your task definition arn"</span>,</span><br><span class="line">  <span class="attr">"networkMode"</span>: <span class="string">"bridge"</span>,</span><br><span class="line">  <span class="attr">"status"</span>: <span class="string">"ACTIVE"</span>,</span><br><span class="line">  <span class="attr">"revision"</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">"taskRoleArn"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"containerDefinitions"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"volumesFrom"</span>: [],</span><br><span class="line">      <span class="attr">"memory"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"extraHosts"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"dnsServers"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"disableNetworking"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"dnsSearchDomains"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"portMappings"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"hostPort"</span>: <span class="number">3306</span>,</span><br><span class="line">          <span class="attr">"containerPort"</span>: <span class="number">3306</span>,</span><br><span class="line">          <span class="attr">"protocol"</span>: <span class="string">"tcp"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"hostPort"</span>: <span class="number">3307</span>,</span><br><span class="line">          <span class="attr">"containerPort"</span>: <span class="number">3307</span>,</span><br><span class="line">          <span class="attr">"protocol"</span>: <span class="string">"tcp"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"hostname"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"essential"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"entryPoint"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"mountPoints"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"containerPath"</span>: <span class="string">"/var/lib/mysql"</span>,</span><br><span class="line">          <span class="attr">"sourceVolume"</span>: <span class="string">"dbdata"</span>,</span><br><span class="line">          <span class="attr">"readOnly"</span>: <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"maria"</span>,</span><br><span class="line">      <span class="attr">"ulimits"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"dockerSecurityOptions"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"environment"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"name"</span>: <span class="string">"MYSQL_DATABASE"</span>,</span><br><span class="line">          <span class="attr">"value"</span>: <span class="string">"db"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"name"</span>: <span class="string">"MYSQL_PASSWORD"</span>,</span><br><span class="line">          <span class="attr">"value"</span>: <span class="string">"db_pw"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"name"</span>: <span class="string">"MYSQL_ROOT_PASSWORD"</span>,</span><br><span class="line">          <span class="attr">"value"</span>: <span class="string">"root_pw"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"name"</span>: <span class="string">"MYSQL_USER"</span>,</span><br><span class="line">          <span class="attr">"value"</span>: <span class="string">"db_user"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"links"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"workingDirectory"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"readonlyRootFilesystem"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"image"</span>: <span class="string">"mariadb:latest"</span>,</span><br><span class="line">      <span class="attr">"command"</span>: [</span><br><span class="line">        <span class="string">"mysqld"</span>,</span><br><span class="line">        <span class="string">"--character-set-server=utf8"</span>,</span><br><span class="line">        <span class="string">"--collation-server=utf8_general_ci"</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"user"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"dockerLabels"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"logConfiguration"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"cpu"</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"privileged"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"memoryReservation"</span>: <span class="number">500</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"placementConstraints"</span>: [],</span><br><span class="line">  <span class="attr">"volumes"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"host"</span>: &#123;</span><br><span class="line">        <span class="attr">"sourcePath"</span>: <span class="string">"/ecs/dbdata"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"dbdata"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"family"</span>: <span class="string">"mariadb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="고민"><a class="markdownIt-Anchor" href="#고민"></a> 고민</h2><p>Container 를 Task 별로 생성해야하는데, 그럼 Task JSON 에서 link 옵션을 연결할 수가 없다. 이 경우엔 어떻게 Task Definition 을 짜야되나?<br>EC2 에 접근해서 매번 link 를 생성해서 다시 올려야되나?</p><p>이 부분을 해결하기 위해선 <a href="https://github.com/awslabs/ecs-task-kite" target="_blank" rel="external nofollow noopener noreferrer">ecs-task-kite</a>를 사용하거나 VPC 를 구성해 수동으로 연결해 주는 방법 밖에 없다.</p><p>쉬운 방법으로 가자면 DB 는 (모든 컨테이너가 하나의 데이터를 바라봐야하는) <code>RDS</code>나 <code>ElastiCache</code>처럼 AWS 의 서비스 사용하고 VPC 를 구성해 Backend, Frontend 단의 서버만 ECS Task 를 만들어서 가변적으로 돌리는 게 좋아보인다.</p><p>물론 동기화를 할 수도 있는데… 삽질할 시간에 더 잘 나온 포스팅을 기다려본다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>그냥 모니터링 컨테이너 하나 더 띄우고, HAProxy 컨테이너 올리고 EC2 에 다 때려박고 싶다.</p><blockquote><p><a href="https://aws.amazon.com/ko/blogs/korea/week-in-review-28-08-17/" target="_blank" rel="external nofollow noopener noreferrer">AWS Korea week in review</a>에 소개되었다.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aws </tag>
            
            <tag> docker </tag>
            
            <tag> ecs </tag>
            
            <tag> linux </tag>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>일본 우편번호(주소) 검색 API</title>
      <link href="/2017/08/11/%EC%9D%BC%EB%B3%B8-%EC%9A%B0%ED%8E%B8%EB%B2%88%ED%98%B8-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%83%89-API/"/>
      <url>/2017/08/11/%EC%9D%BC%EB%B3%B8-%EC%9A%B0%ED%8E%B8%EB%B2%88%ED%98%B8-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%83%89-API/</url>
      
        <content type="html"><![CDATA[<p>다음 우편번호 검색 API 처럼 일본 우편번호 검색도 간단히 구현할 수 있다.<br><a href="https://zipaddress.net/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 내용을 확인할 수 있지만, 더 쉽게 써보자.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">id</span>=<span class="string">"zip"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onClick</span>=<span class="string">"search_addr();"</span>&gt;</span>住所検索<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"address"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 스크립트를 로드 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//api.zipaddress.net/sdk/zipaddr.min.js"</span> <span class="attr">async</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> searchAddr = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> $zip = $(<span class="string">"#zip"</span>)</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> zip = $zip.val()</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// 일본 우편번호는 7자리로 고정되어있다.</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// sample 6800001</span></span></span><br><span class="line">    if (zip &amp;&amp; zip.length === 7) &#123;</span><br><span class="line"><span class="actionscript">      ZA.request(zip, <span class="function"><span class="keyword">function</span><span class="params">(data, err)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $address = $(<span class="string">"#address"</span>)</span></span><br><span class="line">        if (err) &#123;</span><br><span class="line"><span class="actionscript">          $address.val(<span class="string">""</span>)</span></span><br><span class="line">          $zip.focus()</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> alert(data.message)</span></span><br><span class="line">        &#125;</span><br><span class="line">        $address.val(data.fullAddress)</span><br><span class="line">        $address.focus()</span><br><span class="line">      &#125;)</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">      alert(<span class="string">"郵便番号に誤りがあります。"</span>)</span></span><br><span class="line">      $zip.focus()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>주소지명으로 검색하는 API 는 찾아볼 수 없었다.<br>역시 주소검색은 다음</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Centos7 Timezone 변경하기</title>
      <link href="/2017/08/09/CentOS7-Timezone-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/"/>
      <url>/2017/08/09/CentOS7-Timezone-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="기존-방식"><a class="markdownIt-Anchor" href="#기존-방식"></a> 기존 방식</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 기존 설정 백업</span></span><br><span class="line">$ mv /etc/localtime /etc/localtime.bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># 타임존 연결</span></span><br><span class="line">$ ln -s /usr/share/zoneinfo/Asia/Seoul /etc/localtime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 백업을 안하고 바로 연결시</span></span><br><span class="line">$ ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime</span><br></pre></td></tr></table></figure><h1 id="timedatectl"><a class="markdownIt-Anchor" href="#timedatectl"></a> timedatectl</h1><p>timedatectl 명령어를 사용해 쉽게 바꿀 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 한줄로 깔끔하게</span></span><br><span class="line">$ timedatectl <span class="built_in">set</span>-timezone Asia/Seoul</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>시간날 때 세팅용 쉘을 만들어야겠다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - 다형성 관계</title>
      <link href="/2017/08/02/Laravel-5-4-Polymorphic-Relations/"/>
      <url>/2017/08/02/Laravel-5-4-Polymorphic-Relations/</url>
      
        <content type="html"><![CDATA[<p>댓글 테이블이 있고 이 댓글은 여러 테이블에서 사용된다고 치자.<br>그럼 댓글 테이블에 type과 type_id를 가져가야할 것이다.<br>이 때 사용할 수 있는 관계가 다형성 관계(릴레이션)인데, <a href="https://laravel.com/docs/5.4/eloquent-relationships#polymorphic-relations" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a>의 설명이 조금은 부족하다고 느꼈다. 파헤쳐보자.</p><h1 id="morphto"><a class="markdownIt-Anchor" href="#morphto"></a> morphTo</h1><p>morphTo는 type과 type_id를 가진, 여러 테이블로 연결되어야할 테이블에서 사용하는 릴레이션 메소드이다.<br>공식 문서에는 데이터를 가져온 뒤 릴레이션을 연결하는 예시만 있고, Eager 로딩 (With 구문을 사용하는 방법) 후 specific한 필드를 사용하게 변경하는 경우에 대한 정보는 없다.</p><h2 id="기본-문법"><a class="markdownIt-Anchor" href="#기본-문법"></a> 기본 문법</h2><figure class="highlight php"><figcaption><span>YourModel.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YourModel</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 다형성 관계를 가질 함수를 data로 정의했다</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">data</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;morphTo();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이렇게 정의시에 <code>YourModel::with('data')-&gt;get()</code> 으로 호출하면 불러와져야되지만, 필드명, 모델명이 정확하지 않으면 쿼리 호출조차 되지 않는다.<br>(심지어 에러도 발생하지 않는다)</p><h2 id="필드명-정의"><a class="markdownIt-Anchor" href="#필드명-정의"></a> 필드명 정의</h2><p>먼저 morphTo의 <a href="https://github.com/laravel/framework/blob/5.4/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php#L133-L150" target="_blank" rel="external nofollow noopener noreferrer">소스코드</a>를 를 살펴보자.</p><figure class="highlight php"><figcaption><span>morphTo</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Define a polymorphic, inverse one-to-one or many relationship.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  string  $name</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  string  $type</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  string  $id</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> \Illuminate\Database\Eloquent\Relations\MorphTo</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">morphTo</span><span class="params">($name = null, $type = null, $id = null)</span></span></span><br></pre></td></tr></table></figure><p><strong>name</strong>, <strong>type</strong>, <strong>id</strong>를 파라미터로 받는다. 그럼 파라미터를 넘겨보자.</p><figure class="highlight php"><figcaption><span>YourModel.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YourModel</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">data</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// morphTo의 paremeter로 null, 타입필드명, 타입인덱스 필드명을 넘긴다.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;morphTo(<span class="keyword">null</span>, <span class="string">'type'</span>, <span class="string">'type_idx'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>여기서 <strong>name</strong>엔 도대체 뭘 넣어야 되는거야? 라고 의문이 생길 수가 있다.<br>함수 내에서 <strong>name</strong> 변수는 <code>$this-&gt;getMorphs(Str::snake($name), $type, $id);</code> 에만 딱 한 번 사용된다.</p></blockquote><p>getMorphs 함수를 따라가보자.</p><figure class="highlight php"><figcaption><span>getMorphs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getMorphs</span><span class="params">($name, $type, $id)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// $type과 $id가 명시되면 그 값을 먼저 반환한다.</span></span><br><span class="line">  <span class="keyword">return</span> [$type ?: $name.<span class="string">'_type'</span>, $id ?: $name.<span class="string">'_id'</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>주석처럼 <strong>type</strong>과 <strong>id</strong>가 명시되면 <strong>name</strong>값은 사용되지 않는 쓰레기 값이 되어버린다.<br>따라서 <code>null</code>로 넘겨주면 된다.</p><h2 id="타입-모델-바인딩"><a class="markdownIt-Anchor" href="#타입-모델-바인딩"></a> 타입-모델 바인딩</h2><p>타입과 인덱스를 명시하면 드디어 오류메세지가 노출된다.<br>내가 정의한 type명을 가진 Class가 없다 라는 내용인데, 이제 타입과 모델을 연결시켜보자.</p><p>이 때 사용할 수 있는 메소드가 <a href="https://laravel.com/docs/5.4/eloquent-relationships#polymorphic-relations" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a>에서 조금 스크롤을 내리면 있는 <strong>Custom Polymorphic Types</strong>에 잘 설명되어 있다.</p><p>하지만 등록하는 부분에 대한 설명이 **You may register the morphMap in the boot function of your AppServiceProvider or create a separate service provider if you wish.**라고 되어있다. 즉 AppServiceProvider에 넣던지 Service Provider로 생성이다.</p><p>한 모델에만 쓸 건데 전체에 등록을 할 필요가 없으니, 사용할 모델에 기능을 넣어보자.</p><figure class="highlight php"><figcaption><span>YourModel.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Relation을 사용해야한다.</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Relations</span>\<span class="title">Relation</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YourModel</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 이 메소드는 모델이 initialize될 때 실행된다.</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">boot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">parent</span>::boot();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 여기에 타입 별로 모델을 바인딩한다.</span></span><br><span class="line">    Relation::morphMap([</span><br><span class="line">      <span class="comment">// type이 product일 경우 id는 product_id를 가리킨다.</span></span><br><span class="line">      <span class="string">'product'</span> =&gt; <span class="string">'App\Models\Product'</span>,</span><br><span class="line">      <span class="comment">// type이 order일 경우 id는 order_id를 가리킨다.</span></span><br><span class="line">      <span class="string">'order'</span> =&gt; <span class="string">'App\Models\Order'</span></span><br><span class="line">    ]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">data</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// morphTo의 paremeter로 null, 타입필드명, 타입인덱스 필드명을 넘긴다.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;morphTo(<span class="keyword">null</span>, <span class="string">'type'</span>, <span class="string">'type_idx'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>완벽해졌다. 이제 오류 없이 실행되는 것을 확인할 수 있다.</p><h1 id="morphone"><a class="markdownIt-Anchor" href="#morphone"></a> morphOne</h1><p>문서 상에는 설명 되지 않은 morphOne 이란 메소드도 있다.<br>morphMany는 관계가 설정된 값을 배열로 반환하지만 morphOne은 하나의 데이터로 반환한다. (hasOne과 hasMany처럼)</p><p>구조는 다음과 같다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">morphOne</span><span class="params">($related, $name, $type = null, $id = null, $localKey = null)</span></span></span><br></pre></td></tr></table></figure><h1 id="morphtomany"><a class="markdownIt-Anchor" href="#morphtomany"></a> morphToMany</h1><h1 id="morphedbymany"><a class="markdownIt-Anchor" href="#morphedbymany"></a> morphedByMany</h1><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>다대다 다형성 관계 메소드 (morphToMany, morphedByMany)의 경우는 나중에 사용하게 되면 정리해야겠다.<br>Relation 메소드들은 문서를 대충 훑고 API Docs를 직접 까보는게, 효율적인 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Multi DB Connection</title>
      <link href="/2017/07/31/Laravel-5-4-Multi-Database-Connection/"/>
      <url>/2017/07/31/Laravel-5-4-Multi-Database-Connection/</url>
      
        <content type="html"><![CDATA[<p>여러 데이터베이스에서 데이터를 가져와야되는 경우가 있다. (마이그레이션 또는 발송 모듈 DB의 분기 등등)<br>라라벨에선 아주 쉽게 설정이 가능하다.</p><h1 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h1><p><strong>config/database.php</strong>에 새로운 커넥션 정보를 넣어주자.<br>새 커낵션은 <code>mysql_new</code> 라고 이름지었다.</p><figure class="highlight php"><figcaption><span>config/database.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'connections'</span> =&gt; [</span><br><span class="line">    <span class="comment">// 기본 커넥션</span></span><br><span class="line">    <span class="string">'mysql'</span> =&gt; [</span><br><span class="line">      ...</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 새 친구</span></span><br><span class="line">    <span class="string">'mysql_new'</span> =&gt; [</span><br><span class="line">      <span class="string">'driver'</span> =&gt; <span class="string">'mysql'</span>,</span><br><span class="line">      <span class="string">'host'</span> =&gt; <span class="string">'111.111.111.111'</span>,</span><br><span class="line">      <span class="string">'port'</span> =&gt; <span class="string">'3306'</span>,</span><br><span class="line">      <span class="string">'database'</span> =&gt; <span class="string">'test'</span>,</span><br><span class="line">      <span class="string">'username'</span> =&gt; <span class="string">'test'</span>,</span><br><span class="line">      <span class="string">'password'</span> =&gt; <span class="string">'test1234'</span>,</span><br><span class="line">      <span class="string">'unix_socket'</span> =&gt; <span class="string">''</span>,</span><br><span class="line">      <span class="string">'charset'</span> =&gt; <span class="string">'utf8'</span>,</span><br><span class="line">      <span class="string">'collation'</span> =&gt; <span class="string">'utf8_general_ci'</span>,</span><br><span class="line">      <span class="string">'prefix'</span> =&gt; <span class="keyword">null</span>,</span><br><span class="line">      <span class="string">'engine'</span> =&gt; <span class="keyword">null</span></span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h1 id="모델"><a class="markdownIt-Anchor" href="#모델"></a> 모델</h1><p>새 커넥션에 사용할 모델을 만들어주고, 모델에서 연결할 커넥션을 설정해주자.</p><figure class="highlight php"><figcaption><span>model.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldMember</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 커넥션 변수를 다시 설정해주면 끝</span></span><br><span class="line">    <span class="keyword">protected</span> $connection = <span class="string">'mysql_new'</span>;</span><br><span class="line">    <span class="keyword">protected</span> $table = <span class="string">'test'</span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="사용"><a class="markdownIt-Anchor" href="#사용"></a> 사용</h1><p>기존 모델 사용법과 똑같다. 아주 간단하다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>쉘 스크립트 if 조건변수</title>
      <link href="/2017/07/30/shell-script-if-condition/"/>
      <url>/2017/07/30/shell-script-if-condition/</url>
      
        <content type="html"><![CDATA[<p>쉘 스크립트의 비교 변수 몇 가지를 알아보자.</p><h1 id="파일-상태-비교"><a class="markdownIt-Anchor" href="#파일-상태-비교"></a> 파일 상태 비교</h1><table><thead><tr><th>연산자</th><th>기능</th><th>예시</th></tr></thead><tbody><tr><td>-a</td><td>file_exists</td><td>[ -a /etc/passwd ]</td></tr><tr><td>-d</td><td>file_exists &amp;&amp; is_dir</td><td>[ -d /etc ]</td></tr><tr><td>-f</td><td>file_exists &amp;&amp; is_file</td><td>[ -f /etc/passwd ]</td></tr><tr><td>-s</td><td>file_exists &amp;&amp; not empty</td><td>[ -s /etc/passwd ]</td></tr><tr><td>-w</td><td>해당 유저로 쓰기 가능</td><td>[ -w test.txt ]</td></tr><tr><td>-x</td><td>해당 유저로 실행 가능</td><td>[ -x <a href="http://test.sh" target="_blank" rel="external nofollow noopener noreferrer">test.sh</a> ]</td></tr><tr><td>-N</td><td>마지막 파일 읽은 시점부터 변경점이 있는지</td><td>[ -N test.txt ]</td></tr><tr><td>-O</td><td>해당 유저의 파일인지</td><td>[ -O test.txt ]</td></tr><tr><td>-G</td><td>해당 그룹의 파일인지</td><td>[ -G test.txt ]</td></tr><tr><td>-nt</td><td>B파일보다 A파일이 새로운지</td><td>[ A_file -nt B_file ]</td></tr><tr><td>-ot</td><td>B파일보다 A파일이 오래됬는지</td><td>[ A_file -ot B_file ]</td></tr></tbody></table><h1 id="숫자-비교"><a class="markdownIt-Anchor" href="#숫자-비교"></a> 숫자 비교</h1><table><thead><tr><th>연산자</th><th>기능</th><th>예시</th></tr></thead><tbody><tr><td>-lt</td><td>Less than</td><td>[ 0 -lt 1 ]</td></tr><tr><td>-le</td><td>Less than or Equal</td><td>[ 1 -le 1 ]</td></tr><tr><td>-eq</td><td>Equal</td><td>[ 1 -eq 1 ]</td></tr><tr><td>-gt</td><td>Greater than</td><td>[ 1 -gt 0 ]</td></tr><tr><td>-ge</td><td>Greater than or Equal</td><td>[ 1 -ge 1 ]</td></tr><tr><td>-ne</td><td>Not Equal to</td><td>[ 1 -ne 0 ]</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>number_format의 반대 함수</title>
      <link href="/2017/07/29/php-opposite-of-number-format/"/>
      <url>/2017/07/29/php-opposite-of-number-format/</url>
      
        <content type="html"><![CDATA[<p>number_format 으로 쉽게 comma 가 들어간 숫자를 만들 수 있는데,<br>이 반대 방법은 preg_replace 를 통해 comma 를 제거한 뒤에 다시 int 로 형변환을 해야한다.</p><p>더 간단하게 변경할 수 있는 방법은 바로 <strong>filter_var</strong>를 사용하는 것이다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$formatted_nubmer = number_format(<span class="number">10000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $formatted_number; <span class="comment">// 10,000;</span></span><br><span class="line"></span><br><span class="line">$number = filter_var($formatted_nubmer, FILTER_SANITIZE_NUMBER_INT);</span><br><span class="line"><span class="comment">// FILTER_SANITIZE_NUMBER_INT 상수가 너무 길어서 외우기가 힘들다면 519</span></span><br><span class="line">$number2 = filter_var($formatted_nubmer, <span class="number">519</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $number; <span class="comment">// 10000;</span></span><br><span class="line"><span class="keyword">echo</span> $number2; <span class="comment">// 10000;</span></span><br></pre></td></tr></table></figure><h1 id="필터-옵션"><a class="markdownIt-Anchor" href="#필터-옵션"></a> 필터 옵션</h1><p>필터 상수에 대해 궁금해졌다면 <a href="https://php.net/manual/en/filter.filters.php" target="_blank" rel="external nofollow noopener noreferrer">공홈</a>을 참조하자.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker와 Docker-compose 제대로 설치하기</title>
      <link href="/2017/07/23/Install-docker-docker-compose-to-centos/"/>
      <url>/2017/07/23/Install-docker-docker-compose-to-centos/</url>
      
        <content type="html"><![CDATA[<p>구글링하면 너무 예전 버전 (1버전 대)의 설치방법만 나와있다.</p><p>영문을 따라할 수 있으면 <a href="https://docs.docker.com/engine/installation/linux/docker-ce/centos/" target="_blank" rel="external nofollow noopener noreferrer">공홈</a>을 보고하면 된다.</p><h1 id="docker-설치"><a class="markdownIt-Anchor" href="#docker-설치"></a> Docker 설치</h1><h2 id="옛-버전-삭제"><a class="markdownIt-Anchor" href="#옛-버전-삭제"></a> 옛 버전 삭제</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum remove docker \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><p>서비스를 내리고 docker를 삭제해도 <code>/var/lib/docker/</code> 폴더는 지워지지 않고 여기에 기존 데이터가 모두 남아있다.</p><h2 id="필수-패키지-설치"><a class="markdownIt-Anchor" href="#필수-패키지-설치"></a> 필수 패키지 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"><span class="comment"># docker repo를 등록한다.</span></span><br><span class="line">$ sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"><span class="comment"># yum package를 업데이트</span></span><br><span class="line">$ sudo yum makecache fast</span><br></pre></td></tr></table></figure><h2 id="다운로드"><a class="markdownIt-Anchor" href="#다운로드"></a> 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install docker-ce</span><br></pre></td></tr></table></figure><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl start docker</span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line">$ sudo docker --version</span><br><span class="line">Docker version 17.06.0-ce, build 02c1d87</span><br></pre></td></tr></table></figure><h1 id="docker-compose-설치"><a class="markdownIt-Anchor" href="#docker-compose-설치"></a> Docker-compose 설치</h1><h2 id="다운로드-2"><a class="markdownIt-Anchor" href="#다운로드-2"></a> 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># root로 로그인해야한다.</span></span><br><span class="line">$ curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` &gt; /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure><h2 id="실행-권한-부여"><a class="markdownIt-Anchor" href="#실행-권한-부여"></a> 실행 권한 부여</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설치 확인</span></span><br><span class="line">$ docker-compose --version</span><br><span class="line">docker-compose version 1.14.0, build 1719ceb</span><br></pre></td></tr></table></figure><p>설치가 완료되었다.</p><h1 id="centos6에서-설치하기"><a class="markdownIt-Anchor" href="#centos6에서-설치하기"></a> Centos6에서 설치하기</h1><p>centos6 버전에서는 위의 설치방법으로 Docker를 설치할 수 없다. (RHEL7 버전 전용이기에)<br>다음과 같이 설치하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ yum install http://mirrors.yun-idc.com/epel/6/i386/epel-release-6-8.noarch.rpm</span><br><span class="line"></span><br><span class="line">$ yum install -y docker-io</span><br><span class="line"></span><br><span class="line">$ service docker start</span><br><span class="line"></span><br><span class="line">$ chkconfig docker on</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> docker </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Error response from daemon: reference does not exist</title>
      <link href="/2017/07/23/Docker-Error-response-from-daemon-reference-does-not-exist/"/>
      <url>/2017/07/23/Docker-Error-response-from-daemon-reference-does-not-exist/</url>
      
        <content type="html"><![CDATA[<p>Docker rmi명령어로 이미지를 삭제하는데 <code>Error response from daemon: reference does not exist</code> 오류가 나면서 이미지 삭제가 안 되는 경우 다음과 같이 하면된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>구글링하면 다시 설치하거나 cache를 비우거나 하라는데 해결되진 않았고 쉽게 접근하면 된다.<br>그냥 <strong>이미지 폴더를 날리자</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl stop docker</span><br><span class="line">$ sudo rm -rf /var/lib/docker</span><br><span class="line">$ sudo systemctl start docker</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> docker </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 폴더 구조</title>
      <link href="/2017/07/23/Linux-Directory-Structure/"/>
      <url>/2017/07/23/Linux-Directory-Structure/</url>
      
        <content type="html"><![CDATA[<p>윈도우도 Program Files 가 무슨 폴더인지 보자마자 알듯 리눅스도 폴더명이 친숙해지면 더 쉬워지지 않을까 했다. (보통 /home, /etc, /var, /tmp 정도만 왔다 갔다 하니까)<br>이 정도만 정리해 놓으면 CPU 정보를 볼때 왜 /proc/cpuinfo를 까야되는지 한 번에 감이 올 것 같다.</p><h1 id="directory-structure"><a class="markdownIt-Anchor" href="#directory-structure"></a> Directory Structure</h1><table><thead><tr><th>경로</th><th>설명</th></tr></thead><tbody><tr><td>/</td><td>Root</td></tr><tr><td>/bin</td><td>기본 명령어 프로그램 (ex. ls, cp)</td></tr><tr><td>/dev</td><td>장치 파일</td></tr><tr><td>/etc</td><td>시스템 설정 및 사용자 정보, 네트워킹 설정 파일</td></tr><tr><td>/home</td><td>유저 폴더</td></tr><tr><td>/lib</td><td>실행파일이 사용할 수 있는 공유 라이브러리 코드 파일</td></tr><tr><td>/proc</td><td>시스템 통계</td></tr><tr><td>/sys</td><td>장치와 시스템 인터페이스 제공</td></tr><tr><td>/sbin</td><td>시스템 실행 파일</td></tr><tr><td>/tmp</td><td>임시 파일</td></tr><tr><td>/usr</td><td>리눅스 시스템 파일 (사용자 파일이 아님)</td></tr><tr><td>/var</td><td>변수 서브디렉토리로 프로그램 런타임 정보 기록</td></tr><tr><td>/boot</td><td>커널 부트 로더 파일</td></tr><tr><td>/media</td><td>제거 가능한 미디어를 위한 마운트 포인트</td></tr><tr><td>/opt</td><td>제3자 소프트웨어 파일</td></tr><tr><td>/usr/include</td><td>C컴파일러 헤더파일</td></tr><tr><td>/usr/info</td><td>GNU 정보 매뉴얼</td></tr><tr><td>/usr/local</td><td>관리자 소프트웨어 설치 파일</td></tr><tr><td>/usr/man</td><td>매뉴얼 페이지</td></tr><tr><td>/usr/share</td><td>다른 유닉스 머신과 작업해야 할 파일</td></tr><tr><td>/vmlinuz 또는 /boot/vmlinuz</td><td>리눅스 커널</td></tr></tbody></table><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><a href="https://github.com/torvalds/linux" target="_blank" rel="external nofollow noopener noreferrer">Linux Kernel</a>을 이해하는 그 날까지</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel - Log::debug vs logger</title>
      <link href="/2017/07/20/Laravel-Log-debug-vs-logger/"/>
      <url>/2017/07/20/Laravel-Log-debug-vs-logger/</url>
      
        <content type="html"><![CDATA[<p>로그를 찍기 위해서 Log 파사드 또는 logger 헬퍼 함수를 사용할 수 있다.</p><p>두 함수의 차이점은 무엇일까?</p><h1 id="logdebug"><a class="markdownIt-Anchor" href="#logdebug"></a> Log::debug</h1><ul><li>Log 파사드가 정의되어있어야 한다. <code>use Log;</code></li><li>NULL 값이 들어올시 <strong>NULL이 로그에 출력</strong>된다.</li></ul><h1 id="logger"><a class="markdownIt-Anchor" href="#logger"></a> logger</h1><ul><li>헬퍼함수라 Log 파사드 없이 사용 가능하다.</li><li>NULL 값이 들어올시 아무 내용도 찍히지 않는다.</li><li>debug 레벨이 기본이라, 다른 레벨의 로그를 찍으려면 <code>logger()-&gt;error('에러 로그');</code> 처럼 함수를 하나 더 호출해야한다.</li><li>단, info 레벨 로그는 <code>info();</code> 헬퍼 함수를 사용할 수 있다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - 일본으로 메일 보내기</title>
      <link href="/2017/07/18/Laravel-5-4-Mail-to-Japan/"/>
      <url>/2017/07/18/Laravel-5-4-Mail-to-Japan/</url>
      
        <content type="html"><![CDATA[<p>일본 통신사 중 소프트뱅크와 AU는 UTF8 메일이 깨져서 들어간다. (도코모는 정상적)<br>Laravel 뿐아니라 일본으로 메일을 보내고 싶다면, 이 포스팅의 방식대로 접근하면 된다.</p><h1 id="iso-2022-jp"><a class="markdownIt-Anchor" href="#iso-2022-jp"></a> iso-2022-jp</h1><p>먼저 인코딩을 iso-2022-jp로 바꿔줘야한다.</p><blockquote><p>테스트 결과 JIS 인코딩과 같다.<br>SJIS 인코딩도 있는데 위 인코딩에 몇가지 특수문자가 추가된 형태이다.</p></blockquote><p>AppServiceProvider에 메일 인코딩을 전역으로 설정하자.</p><figure class="highlight php"><figcaption><span>app/Providers/AppServiceProvider.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">use</span> <span class="title">Swift</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Swift_DependencyContainer</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Swift_Preferences</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">register</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// laravel의 메일 패키지는 Swift이므로 당황하지말자</span></span><br><span class="line">    Swift::init(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="comment">// 헤더를 추가하고</span></span><br><span class="line">      Swift_DependencyContainer::getInstance()</span><br><span class="line">        -&gt;register(<span class="string">'mime.qpheaderencoder'</span>)</span><br><span class="line">        -&gt;asAliasOf(<span class="string">'mime.base64headerencoder'</span>);</span><br><span class="line">      <span class="comment">// 인코딩을 변경한다.</span></span><br><span class="line">      Swift_Preferences::getInstance()-&gt;setCharset(<span class="string">'iso-2022-jp'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="7bit"><a class="markdownIt-Anchor" href="#7bit"></a> 7bit</h1><p>위키를 참조해보면 iso-2022는 문자열을 7bit 또는 8bit로 표현하는 기술이다. 근데, 소프트뱅크 문서에 7bit로 달란다.<br>메일 폼을 열어서 build시에 인코딩 바이트를 변경하자.</p><figure class="highlight php"><figcaption><span>app/Mail/YourMailForm.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">use</span> <span class="title">Swift_Mime_ContentEncoder_PlainContentEncoder</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YourMailForm</span> <span class="keyword">extends</span> <span class="title">Mailable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;subject(<span class="string">'ご注文を承りました。'</span>)</span><br><span class="line">            -&gt;view(<span class="string">'mail.your_mail_view'</span>)</span><br><span class="line">            -&gt;withSwiftMessage(<span class="function"><span class="keyword">function</span><span class="params">($message)</span> </span>&#123;</span><br><span class="line">              <span class="comment">// 전역으로 설정한 뒤에 이 메소드를 빼보고 테스트를 못 해봤다.</span></span><br><span class="line">              <span class="comment">// 다음 분이 빼고 테스트 부탁드려요 : )</span></span><br><span class="line">              $message-&gt;setCharset(<span class="string">'iso-2022-jp'</span>)</span><br><span class="line">              <span class="comment">// 인코딩 바이트를 바꿔준다.</span></span><br><span class="line">              -&gt;setEncoder(<span class="keyword">new</span> Swift_Mime_ContentEncoder_PlainContentEncoder(<span class="string">'7bit'</span>));</span><br><span class="line">          &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="mailview"><a class="markdownIt-Anchor" href="#mailview"></a> mail.view</h1><p>가장 중요한 것은 Mail View에서도 charset meta tag를 등록해줘야 한다는 것이다.<br>이 걸 세팅안하고 얼마나 삽질을 해댔는지, 없던 이두근이 생길지경.</p><figure class="highlight php"><figcaption><span>resources/view/mail/your_mail_view.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=iso-2022-jp"</span>&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>이렇게 세팅을 하고 메일을 보내면 정상적으로 보내지는 걸 확인할 수 있다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>세 가지만 기억하자.</p><ul><li>iso-2022-jp</li><li>7bit</li><li>meta[charset=“iso-2022-jp”]</li></ul>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS 용어 정리</title>
      <link href="/2017/07/16/AWS-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/07/16/AWS-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<p>AWS의 생태계에 들어가기 위해선 먼저 용어에 익숙해져야 될 것 같았다.<br>사용법은 쉬운데… 약어가 처음 접하는 사람에게 조금 부담스러웠다.</p><h1 id="용어"><a class="markdownIt-Anchor" href="#용어"></a> 용어</h1><table><thead><tr><th>서비스명</th><th>약어</th><th>설명</th></tr></thead><tbody><tr><td><strong>Elastic Compute Cloud</strong></td><td>EC2</td><td>클라우드 서버</td></tr><tr><td>EC2 Container Service</td><td>ECS</td><td>Docker 컨테이너 서버</td></tr><tr><td><strong>Elastic Load Balancing</strong></td><td>ELB</td><td>트래픽, 부하 분산 서비스</td></tr><tr><td>Lambda</td><td>-</td><td>클라우드 Function</td></tr><tr><td>Scale Up</td><td>-</td><td>인스턴스 물리용량 증가</td></tr><tr><td>Scale Out</td><td>-</td><td>인스턴스 복제</td></tr><tr><td><strong>Auto Scaling</strong></td><td>-</td><td>인스턴스 Scale 자동화</td></tr><tr><td><strong>Route 53</strong></td><td>-</td><td>DNS 서비스</td></tr><tr><td><strong>Virtual Private Cloud</strong></td><td>VPC</td><td>내부망 구축 서비스</td></tr><tr><td><strong>Relational Database Service</strong></td><td>RDS</td><td>RDBMS 구축 서비스</td></tr><tr><td>DynamoDB</td><td>-</td><td>NoSQL 구축 서비스</td></tr><tr><td><strong>Simple Storage Service</strong></td><td>S3</td><td>데이터 스토리지 서비스 (파일서버)</td></tr><tr><td><strong>CloudFront</strong></td><td>-</td><td>CDN 서비스</td></tr><tr><td>Glacier</td><td>-</td><td>저렴한 스토리지 서비스 (주로 백업용)</td></tr><tr><td><strong>Elastic Block Store</strong></td><td>EBS</td><td>EC2의 가상 하드디스크</td></tr><tr><td>Identity and Access Management</td><td>IAM</td><td>인증, 권한 부여</td></tr><tr><td><strong>CloudWatch</strong></td><td>-</td><td>AWS 리소스 모니터링</td></tr><tr><td>Elastic Beanstalk</td><td>EB</td><td>PaaS</td></tr><tr><td>LightSail</td><td>-</td><td>저렴한 EC2 (VPS)</td></tr></tbody></table><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>전체적으로 GCP보다 용어가 직관적이지 않은 느낌 (App Engine, Compute Engine을 보면 얼마나 멋진가)이였는데, 풀어 놓고 적어보니 GCP도 AE, CE 이렇게 적으면 못 알아 먹었겠구나.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> aws </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aws </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>unpkg cdn 사용하기 (jsdelivr)</title>
      <link href="/2017/07/16/unpkg-cdn/"/>
      <url>/2017/07/16/unpkg-cdn/</url>
      
        <content type="html"><![CDATA[<p>최근 소스들을 까보다가 발견했는데, npm에 등록된 패키지를 CDN으로 바로 활용 가능한 서비스가 있다.<br>바로 <a href="https://unpkg.com/#/" target="_blank" rel="external nofollow noopener noreferrer">unpkg</a>이다. 리젼은 <a href="https://unpkg.com/#/stats" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인 가능하다.</p><h1 id="사용"><a class="markdownIt-Anchor" href="#사용"></a> 사용</h1><p>사용법은 엄청나게 간단하다.<br>node_modules 폴더 안에 있는 구조를 URL에 그대로 입력만 해주면 된다.<br>몇 가지 예로 확인해보자.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- React --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/react@15.3.1/dist/react.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Lodash --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/lodash@4.17.4/lodash.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Bootstrap css --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>node_modules 안의 경로가 생각나지 않는다 라면 폴더 경로까지만으로 웹에서 접근해보자.<br>예를 들어 <a href="https://unpkg.com/bootstrap@4.0.0-alpha.6/" target="_blank" rel="external nofollow noopener noreferrer">Bootstrap4</a>라면 <a href="https://unpkg.com/bootstrap@4.0.0-alpha.6/" target="_blank" rel="external nofollow noopener noreferrer">https://unpkg.com/bootstrap@4.0.0-alpha.6/</a> 까지만 들어가면 폴더 구조가 보인다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>블로그의 스크립트도 unpkg로 바꿨는데, 로딩속도가 1초 가까이 줄어든 느낌이다.</p><h1 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h1><p>unpkg로 스크립트를 가져오는 도중에 503 timeout 에러가 발생해서 블로그가 동작하지 않았었다.<br>같은 방법으로 동작하지만 좀 더 reliable한 서비스인 <a href="https://www.jsdelivr.com/" target="_blank" rel="external nofollow noopener noreferrer">jsdelivr</a>를 사용하자.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - 로그인(Auth) 붙히기</title>
      <link href="/2017/07/09/Laravel-5-4-Login-with-Auth/"/>
      <url>/2017/07/09/Laravel-5-4-Login-with-Auth/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/06/06/Laravel-5-4-Eloquent-Model/">이전 포스팅</a>에서 데이터를 가져왔으니, 로그인을 구현해보자.</p><h1 id="basic-auth"><a class="markdownIt-Anchor" href="#basic-auth"></a> Basic Auth</h1><p>라라벨에서 제공하는 회원가입, 로그인, 비밀번호 찾기 기능을 사용하고 싶다면 artisan 명령어로 간단하게 시작할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan make:auth</span><br></pre></td></tr></table></figure><p>명령어를 실행하면 <strong>resources/views/auth</strong> 폴더에 뷰가 <strong>app/Http/Controllers/Auth</strong>에 로직이 생성되고 <strong>routes/web.php</strong>에 라우팅이 등록된다.<br>DB도 같이 만들고 싶다면 <a href="https://laravel.com/docs/5.4/authentication" target="_blank" rel="external nofollow noopener noreferrer">Docs</a>를 따라하자.</p><h2 id="다른-테이블-사용"><a class="markdownIt-Anchor" href="#다른-테이블-사용"></a> 다른 테이블 사용</h2><p>제공된 user 테이블을 안 쓰려면 커스터마이징이 필요하다.</p><h3 id="설정-변경"><a class="markdownIt-Anchor" href="#설정-변경"></a> 설정 변경</h3><p><strong>config/auth.php</strong> 파일로 이동해 다른 모델을 등록하자.</p><figure class="highlight php"><figcaption><span>config/auth.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="string">'providers'</span> =&gt; [</span><br><span class="line">  <span class="string">'users'</span> =&gt; [</span><br><span class="line">    <span class="string">'driver'</span> =&gt; <span class="string">'eloquent'</span>,</span><br><span class="line">    <span class="comment">// 여기에 사용할 모델을 등록한다.</span></span><br><span class="line">    <span class="string">'model'</span> =&gt; App\Models\Member::class,</span><br><span class="line">  ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><p>config 안의 파일을 변경하면 config:clear를 실행해 혹시 모를 캐시를 날려주자</p></blockquote><p>그리고 <strong>app/Models/Member.php</strong>로 이동해 내 모델을 라라벨 기본 인증 모듈을 사용할 수 있게 추가해야한다.</p><figure class="highlight php"><figcaption><span>app/Models/Member.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span></span><br><span class="line"><span class="comment">// 라라벨 인증 사용</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</span><br><span class="line"><span class="comment">// 비밀번호 변경 메일을 위해 필요한 trait</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Authenticatable 를 상속받는다.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Member</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Notifiable trait를 추가한다.</span></span><br><span class="line">  <span class="keyword">use</span> <span class="title">Notifiable</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> $guarded = [</span><br><span class="line">    <span class="string">'member_id'</span>, <span class="string">'remember_token'</span></span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> $hidden = [</span><br><span class="line">    <span class="string">'password'</span>, <span class="string">'remember_token'</span>,</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="인증-필드-변경"><a class="markdownIt-Anchor" href="#인증-필드-변경"></a> 인증 필드 변경</h3><p>Basic Auth는 기본 필드를 email로 잡고 있기 때문에 id 필드를 사용하게 변경해야한다.</p><figure class="highlight php"><figcaption><span>app/Http/Controllers/Auth/LoginController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// username 메소드를 추가</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">username</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 반환할 필드를 선언한다.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">'id'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="회원가입-후-자동로그인"><a class="markdownIt-Anchor" href="#회원가입-후-자동로그인"></a> 회원가입 후 자동로그인</h2><p>회원가입이 성공하면 세션을 생성해줘야한다.</p><figure class="highlight php"><figcaption><span>app/Http/Controllers/Auth/RegisterController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// registered 메소드를 Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">registered</span><span class="params">(Request $request, $user)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 세션 생성</span></span><br><span class="line">  Auth::attempt([</span><br><span class="line">    <span class="string">'id'</span> =&gt; $request-&gt;input(<span class="string">'id'</span>),</span><br><span class="line">    <span class="string">'password'</span> =&gt; $request-&gt;input(<span class="string">'password'</span>)</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response(<span class="keyword">null</span>, <span class="number">204</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ajax-처리"><a class="markdownIt-Anchor" href="#ajax-처리"></a> ajax 처리</h2><h3 id="로그인"><a class="markdownIt-Anchor" href="#로그인"></a> 로그인</h3><p>로그인을 ajax로 처리해야될 경우 커스터마이징이 필요하다.</p><figure class="highlight php"><figcaption><span>app/Http/Controllers/Auth/LoginController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// authenticated 메소드를 Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">authenticated</span><span class="params">(Request $request, $user)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 인증이 된 경우 페이지 전환이 아닌 전환될 페이지를 json으로 반환한다.</span></span><br><span class="line">  <span class="keyword">if</span> ($request-&gt;ajax()) &#123;</span><br><span class="line">    <span class="keyword">return</span> response()-&gt;json([</span><br><span class="line">      <span class="string">'href'</span> =&gt; url()-&gt;previous()</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> abort(<span class="number">405</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="비밀번호-찾기"><a class="markdownIt-Anchor" href="#비밀번호-찾기"></a> 비밀번호 찾기</h3><p>비밀번호 찾기를 ajax로 처리해야될 경우 커스터마이징이 필요하다.</p><figure class="highlight php"><figcaption><span>app/Http/Controllers/Auth/ForgotPasswordController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sendResetLinkEmail</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">$this</span>-&gt;validateId($request);</span><br><span class="line">  <span class="comment">// email이 아닌 아이디로 검색을 해 메일을 찾고 싶다면</span></span><br><span class="line">  $data = Member::where(<span class="string">'id'</span>, $request-&gt;only(<span class="string">'id'</span>))</span><br><span class="line">    -&gt;first([<span class="string">'email'</span>]);</span><br><span class="line"></span><br><span class="line">  $email = <span class="keyword">isset</span>($data-&gt;email) ? $data-&gt;email : <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 여기서 email이 User Model(Member Model)에 바인딩된다.</span></span><br><span class="line">  <span class="comment">// 아래의 sendPasswordResetNotification 메소드에서 $this-&gt;email 값이다.</span></span><br><span class="line">  $response = <span class="keyword">$this</span>-&gt;broker()-&gt;sendResetLink([</span><br><span class="line">    <span class="string">'email'</span> =&gt; $email</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 리턴 값을 변경해주자.</span></span><br><span class="line">  <span class="keyword">return</span> response()-&gt;json([</span><br><span class="line">    <span class="string">'email'</span> =&gt; $email</span><br><span class="line">  ], $response == Password::RESET_LINK_SENT ? <span class="number">200</span> : <span class="number">500</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="routing-예외"><a class="markdownIt-Anchor" href="#routing-예외"></a> routing 예외</h2><p>ajax 요청으로 바꿨다면 굳이 필요없는 기본 route는 등록할 필요가 없다. (예를 들면 로그인 페이지)<br>먼저 <strong>routes/web.php</strong>에서 <code>Auth::routes();</code> 를 지워주고 라라벨 route 파일을 열어보자.</p><figure class="highlight php"><figcaption><span>vendor/laravel/Illuminate/Routing/Router.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 994 라인</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">auth</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// Authentication Routes...</span></span><br><span class="line">  <span class="keyword">$this</span>-&gt;get(<span class="string">'login'</span>, <span class="string">'Auth\LoginController@showLoginForm'</span>)-&gt;name(<span class="string">'login'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;post(<span class="string">'login'</span>, <span class="string">'Auth\LoginController@login'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;post(<span class="string">'logout'</span>, <span class="string">'Auth\LoginController@logout'</span>)-&gt;name(<span class="string">'logout'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Registration Routes...</span></span><br><span class="line">  <span class="keyword">$this</span>-&gt;get(<span class="string">'register'</span>, <span class="string">'Auth\RegisterController@showRegistrationForm'</span>)-&gt;name(<span class="string">'register'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;post(<span class="string">'register'</span>, <span class="string">'Auth\RegisterController@register'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Password Reset Routes...</span></span><br><span class="line">  <span class="keyword">$this</span>-&gt;get(<span class="string">'password/reset'</span>, <span class="string">'Auth\ForgotPasswordController@showLinkRequestForm'</span>)-&gt;name(<span class="string">'password.request'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;post(<span class="string">'password/email'</span>, <span class="string">'Auth\ForgotPasswordController@sendResetLinkEmail'</span>)-&gt;name(<span class="string">'password.email'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;get(<span class="string">'password/reset/&#123;token&#125;'</span>, <span class="string">'Auth\ResetPasswordController@showResetForm'</span>)-&gt;name(<span class="string">'password.reset'</span>);</span><br><span class="line">  <span class="keyword">$this</span>-&gt;post(<span class="string">'password/reset'</span>, <span class="string">'Auth\ResetPasswordController@reset'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>입맛에 맞게 web.php로 가져와 사용하자.</p><h2 id="notification-예외"><a class="markdownIt-Anchor" href="#notification-예외"></a> notification 예외</h2><p>Noticifation은 사용자에게 빠르게 알림을 보낼 수 있는 기능이지만, 정해져 있는 템플릿을 사용하므로 커스터마이징이 되게 힘들다.<br>비밀번호 찾기시에 보낼 메일을 정해진 템플릿을 사용할 수 없다면 메소드를 수정하자.</p><figure class="highlight php"><figcaption><span>app/Models/Member.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 이 메소드를 override해야한다.</span></span><br><span class="line"><span class="comment">// 첫 파라미터는 비밀번호 인증용 token이 들어온다.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sendPasswordResetNotification</span><span class="params">($token)</span> </span>&#123;</span><br><span class="line">  Mail::to(<span class="keyword">$this</span>-&gt;email)-&gt;send(<span class="keyword">new</span> PasswordReset($token));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="auth"><a class="markdownIt-Anchor" href="#auth"></a> Auth</h1><p>Basic Auth를 사용하는데 건드려야 되는 곳이 많으므로 Auth 모듈만 사용하는게 정신건강에 좋다고 본다.<br>(Bootstrap 기반의 Laravel에 딱 맞는 모양을 입은 프로젝트라면 기본 인증이 좋겠지만)</p><h2 id="로그인-2"><a class="markdownIt-Anchor" href="#로그인-2"></a> 로그인</h2><p><strong>먼저 사용할 모델에 Authenticatable 클래스를 상속 받자</strong><br>그리고 LoginController에서 <strong>Auth::attempt()</strong> 메소드를 실행하면 끝이다.</p><figure class="highlight php"><figcaption><span>app/Http/Controllers/LoginController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  $password = $request-&gt;password;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(Auth::attempt([ <span class="string">'id'</span> =&gt; $request-&gt;id, <span class="string">'password'</span> =&gt; $password ]))&#123;</span><br><span class="line">    <span class="keyword">return</span> response(<span class="keyword">null</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> abort(<span class="number">401</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="not-bcrypt"><a class="markdownIt-Anchor" href="#not-bcrypt"></a> not bcrypt</h3><p>Auth 모듈은 기본으로 bcrypt를 사용해 비밀번호를 암호화하고 비교하는데 다른 암호화 방식을 사용해야하는 경우가 있다.<br>bcrypt를 사용하지 않게 처리해보자.</p><figure class="highlight php"><figcaption><span>app/Models/Member.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 이 메소드를 override 해야한다.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getAuthPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// bcrypt 비교를 하지 않기 위해 강제로 해시를 생성한다.</span></span><br><span class="line">  <span class="keyword">return</span> Hash::make(<span class="keyword">$this</span>-&gt;password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이제 <strong>Auth::attempt()</strong> 메소드에 패스워드를 넘길 때 암호화를 해주고 넘기면 된다.</p><h2 id="n개의-세션"><a class="markdownIt-Anchor" href="#n개의-세션"></a> N개의 세션</h2><p>관리자와 회원은 같은 세션을 사용하면 안 된다. 세션을 분기해보자.</p><h3 id="모델-생성"><a class="markdownIt-Anchor" href="#모델-생성"></a> 모델 생성</h3><p>먼저 모델을 하나 만들고 Authenticatable 클래스를 상속받는다.</p><figure class="highlight php"><figcaption><span>app/Models/Admin.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Admin</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 속성은 테이블에 맞게 알아서 정리하자</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="설정-추가"><a class="markdownIt-Anchor" href="#설정-추가"></a> 설정 추가</h3><p>만든 모델을 Laravel Auth에서 사용한다고 등록을 해줘야한다.</p><figure class="highlight php"><figcaption><span>config/auth.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">  <span class="string">'guards'</span> =&gt; [</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 아래에 등록된 provider를 admin이란 이름의 guard로 사용</span></span><br><span class="line">    <span class="string">'admin'</span> =&gt; [</span><br><span class="line">      <span class="string">'driver'</span>   =&gt; <span class="string">'session'</span>,</span><br><span class="line">      <span class="string">'provider'</span> =&gt; <span class="string">'admin'</span></span><br><span class="line">    ]</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">'providers'</span> =&gt; [</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 방금 만든 모델을 Auth의 Provider로 등록</span></span><br><span class="line">    <span class="string">'admin'</span> =&gt; [</span><br><span class="line">      <span class="string">'driver'</span>   =&gt; <span class="string">'eloquent'</span>,</span><br><span class="line">      <span class="string">'model'</span> =&gt; App\Models\Admin::class</span><br><span class="line">    ]</span><br><span class="line">  ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>passowrds 속성은 제공되는 password_resets 기능을 사용할 경우에만 추가해주면 된다.</p><h3 id="미들웨어"><a class="markdownIt-Anchor" href="#미들웨어"></a> 미들웨어</h3><p>관리자 세션이 인증된 사람만 관리자 페이지에 접근할 수 있어야한다.<br><strong>php artisan make:middleware Admin</strong> 명령어를 실행해 Admin Middleware를 만들자.</p><figure class="highlight php"><figcaption><span>app/Http/Middleware/Admin.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Auth</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Closure</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Admin</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">($request, Closure $next)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// admin session이 있는 경우만 request를 진행한다.</span></span><br><span class="line">    <span class="keyword">if</span> (Auth::guard(<span class="string">'admin'</span>)-&gt;check()) &#123;</span><br><span class="line">      <span class="keyword">return</span> $next($request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 아닐경우 관리자 로그인 페이지로 넘긴다.</span></span><br><span class="line">    <span class="keyword">return</span> redirect()-&gt;route(<span class="string">'admin.login'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>그리고 Http Kernel에 방금 만든 Admin Middleware를 라우팅에서 사용할 수 있게 등록해준다.</p><figure class="highlight php"><figcaption><span>app/Http/Kernel.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">protected</span> $routeMiddleware = [</span><br><span class="line">    <span class="string">'auth'</span> =&gt; \Illuminate\Auth\Middleware\Authenticate::class,</span><br><span class="line">    <span class="string">'auth.basic'</span> =&gt; \Illuminate\Auth\Middleware\AuthenticateWithBasicAuth::class,</span><br><span class="line">    <span class="string">'bindings'</span> =&gt; \Illuminate\Routing\Middleware\SubstituteBindings::class,</span><br><span class="line">    <span class="string">'can'</span> =&gt; \Illuminate\Auth\Middleware\Authorize::class,</span><br><span class="line">    <span class="string">'guest'</span> =&gt; \App\Http\Middleware\RedirectIfAuthenticated::class,</span><br><span class="line">    <span class="string">'throttle'</span> =&gt; \Illuminate\Routing\Middleware\ThrottleRequests::class,</span><br><span class="line">    <span class="comment">// admin 이름으로 Admin Middleware를 호출할 수 있게 등록</span></span><br><span class="line">    <span class="string">'admin'</span> =&gt; \App\Http\Middleware\Admin::class,</span><br><span class="line">  ];</span><br></pre></td></tr></table></figure><p>새로운 라우팅 파일로 관리하기 위해 RouteServiceProvider에 설정을 추가한다.</p><figure class="highlight php"><figcaption><span>app/Providers/RouteServiceProvider.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">map</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">$this</span>-&gt;mapAdminRoutes();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">mapAdminRoutes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// /admin 으로 들어오는 요청에 대해 처리한다.</span></span><br><span class="line">    Route::prefix(<span class="string">'admin'</span>)</span><br><span class="line">    <span class="comment">// 이런식으로 한 번에 추가할 수도 있다. 하지만 except 함수를 쓸 수 없는 것 같고,</span></span><br><span class="line">    <span class="comment">// 라우팅 페이지에서 미들웨어를 등록해주는 게 더 편했다.</span></span><br><span class="line">    <span class="comment">// -&gt;middleware(['web', 'admin'])</span></span><br><span class="line">      -&gt;middleware(<span class="string">'web'</span>)</span><br><span class="line">      -&gt;namespace(<span class="keyword">$this</span>-&gt;namespace)</span><br><span class="line">    <span class="comment">// routes/admin.php 파일을 관리자 라우팅 파일로 등록한다.</span></span><br><span class="line">      -&gt;group(base_path(<span class="string">'routes/admin.php'</span>));</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>마지막으로 라우팅 파일에 미들웨어를 넣어준다.</p><figure class="highlight php"><figcaption><span>routes/admin.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// admin middleware를 사용하고, namespace에 admin.을 추가한다.</span></span><br><span class="line">Route::group([<span class="string">'middleware'</span> =&gt; <span class="string">'admin'</span>, <span class="string">'as'</span> =&gt; <span class="string">'admin.'</span>], <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 이 라우팅은 route('admin.main') 으로 접근이 가능해진다.</span></span><br><span class="line">  Route::get(<span class="string">'/'</span>, <span class="string">'AdminController@index'</span>)-&gt;name(<span class="string">'main'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="활용"><a class="markdownIt-Anchor" href="#활용"></a> 활용</h3><p>기존 Auth 메소드들에 guard만 추가해주면 쉽게 사용 가능하다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">Auth::guard(<span class="string">'admin'</span>)-&gt;attepmt();</span><br><span class="line">Auth::guard(<span class="string">'admin'</span>)-&gt;check();</span><br><span class="line">Auth::guard(<span class="string">'admin'</span>)-&gt;user();</span><br><span class="line">Auth::guard(<span class="string">'admin'</span>)-&gt;logout();</span><br></pre></td></tr></table></figure><h2 id="로그아웃"><a class="markdownIt-Anchor" href="#로그아웃"></a> 로그아웃</h2><p><strong>Auth::logout()</strong> 메소드를 호출하면 된다.</p><h1 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h1><h2 id="세션-아이디"><a class="markdownIt-Anchor" href="#세션-아이디"></a> 세션 아이디</h2><p>라라벨에선 로그인을 할 때 세션아이디를 새로운 값으로 엎어쳐버린다.<br>따라서 같은 환경에서 접근했는데, 로그인을 하면 다른 사용자가 되는 경우가 생긴다.<br>(로그아웃시에는 그대로다.)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 로그인 전에 세션아이디를 가져와</span></span><br><span class="line">$old_session_id = Session::getId();</span><br><span class="line"><span class="comment">// 로그인이 성공하면 DB에서 등록된 세션값을 업데이트하자.</span></span><br></pre></td></tr></table></figure><h1 id="소셜-로그인"><a class="markdownIt-Anchor" href="#소셜-로그인"></a> 소셜 로그인</h1><p><code>laravel/socialite</code> 패키지를 설치하고 아주 쉽게 연동이 가능하다.</p><h2 id="세팅"><a class="markdownIt-Anchor" href="#세팅"></a> 세팅</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require laravel/socialite</span><br></pre></td></tr></table></figure><p>기본 socialite 패키지는 <code>facebook</code>, <code>twitter</code>, <code>linkedin</code>, <code>google</code>, <code>github</code> or <code>bitbucket</code> 만 연동이 가능하므로 다른 소셜 로그인을 연동하고 싶을 경우 <a href="https://socialiteproviders.github.io/" target="_blank" rel="external nofollow noopener noreferrer"><code>Socialite Providers</code></a> 패키지를 사용하면 된다.</p><blockquote><p>Socialite Providers 사이트에는 Naver, Kakao, BattleNet(?) 등의 소셜 연동이 가능한 패키지가 무수히 많다.</p></blockquote><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><a href="/2017/11/03/Laravel-5-5-JWT-Auth-Guide">JWT 인증</a>과 같이본다면 Laravel을 사용한 실무에서 필요한 인증은 다 마무리한 셈일 듯</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP 7.1에서 mcrypt 대체하기</title>
      <link href="/2017/07/07/PHP-7-1%EC%97%90%EC%84%9C-mcrypt-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0/"/>
      <url>/2017/07/07/PHP-7-1%EC%97%90%EC%84%9C-mcrypt-%EB%8C%80%EC%B2%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="mcrypt"><a class="markdownIt-Anchor" href="#mcrypt"></a> MCRYPT</h1><p>암호화 함수인 mcrypt 가 PHP 7.1 버전부터 Deprecated 되었다.<br>왜 사라졌는지는 <a href="https://paragonie.com/blog/2015/05/if-you-re-typing-word-mcrypt-into-your-code-you-re-doing-it-wrong" target="_blank" rel="external nofollow noopener noreferrer">링크</a>에 자세하게 나와있다.</p><h2 id="기존-소스"><a class="markdownIt-Anchor" href="#기존-소스"></a> 기존 소스</h2><p>PHP 구버전에서는 mcrypt 와 MCRYPT_RIJNDAEL_128 알고리즘을 통해 AES128 이 구현되어 있을 것이다.<br><strong>MCRYPT_RIJNDAEL_128</strong>은 <strong>AES 128</strong>과 <strong>동일</strong>하다.</p><blockquote><p>타 언어와는 조금 다른데, 호환을 위해선 pkcs5 padding 으로 변경해주는 작업이 필요하다.<br>php mcrypt function 의 기본 패딩은 zeros padding)</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 이런 식이거나</span></span><br><span class="line">$ciphertext = mcrypt_encrypt(MCRYPT_RIJNDAEL_128, $key, pkcs5_pad($plaintext), MCRYPT_MODE_CBC, $iv);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이런 식일 것</span></span><br><span class="line">$td = mcrypt_module_open(<span class="string">"rijndael-128"</span>, <span class="string">""</span>, <span class="string">"cbc"</span>, <span class="string">""</span>);</span><br><span class="line">@mcrypt_generic_init($td, $key, $iv);</span><br><span class="line">$ciphertext = @mcrypt_generic($td, pkcs5_pad($plaintext));</span><br><span class="line">mcrypt_generic_deinit($td);</span><br><span class="line">mcrypt_module_close($td);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pkcs5_pad</span><span class="params">($text, $blocksize = <span class="number">16</span>)</span> </span>&#123;</span><br><span class="line">  $pad = $blocksize - (strlen($text) % $blocksize);</span><br><span class="line">  <span class="keyword">return</span> $text . str_repeat(chr($pad), $pad);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="대안"><a class="markdownIt-Anchor" href="#대안"></a> 대안</h2><p>PHP 5.3 부터 사용 가능한 <strong>openssl_encrypt</strong> 함수를 쓰면 된다. (openssl 확장 모듈이 설치되어야한다.)</p><h1 id="openssl"><a class="markdownIt-Anchor" href="#openssl"></a> OPENSSL</h1><h2 id="encrypt"><a class="markdownIt-Anchor" href="#encrypt"></a> Encrypt</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$ciphertext = openssl_encrypt($plaintext, <span class="string">'AES-128-CBC'</span>, $key, OPENSSL_RAW_DATA, $iv);</span><br><span class="line"><span class="comment">// decrypt에서 오류가 발생해 PKCS5로 패딩을 맞춰주고 보내야한다면.</span></span><br><span class="line">$ciphertext = openssl_encrypt(pkcs5_pad($plaintext), <span class="string">'AES-128-CBC'</span>, $key, OPENSSL_RAW_DATA, $iv);</span><br></pre></td></tr></table></figure><h2 id="decrypt"><a class="markdownIt-Anchor" href="#decrypt"></a> Decrypt</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$plaintext = openssl_decrypt($ciphertext, <span class="string">'AES-128-CBC'</span>, $key, OPENSSL_RAW_DATA, $iv);</span><br><span class="line"><span class="comment">// unpad가 필요하다면</span></span><br><span class="line">$plaintext = pkcs5_unpad(openssl_decrypt($ciphertext, <span class="string">'AES-128-CBC'</span>, $key, OPENSSL_RAW_DATA, $iv));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pkcs5_unpad</span><span class="params">($text)</span> </span>&#123;</span><br><span class="line">  $pad = ord($text&#123;strlen($text)<span class="number">-1</span>&#125;);</span><br><span class="line">  <span class="keyword">if</span> ($pad &gt; strlen($text)) &#123;</span><br><span class="line">    <span class="keyword">return</span> $text;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!strspn($text, chr($pad), strlen($text) - $pad)) &#123;</span><br><span class="line">    <span class="keyword">return</span> $text;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> substr($text, <span class="number">0</span>, <span class="number">-1</span> * $pad);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="pkcs5-vs-pkcs7"><a class="markdownIt-Anchor" href="#pkcs5-vs-pkcs7"></a> PKCS5 vs PKCS7</h2><p><strong>openssl_encrypt</strong>의 default padding 은 PKCS7 padding 인데, 어떻게 호환이 되는 것일까?<br><a href="https://social.msdn.microsoft.com/Forums/en-US/09fef7b7-b568-4895-8e52-f386be80aa2d/pkcs7-padding-in-net-vs-pkcs5-padding-in-java?forum=csharpgeneral" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 해답을 찾았다.</p><blockquote><p>The difference between the PKCS#5 and PKCS#7 padding mechanisms is the block size;<br>PKCS#5 padding is defined for 8-byte block sizes, PKCS#7 padding would work for any block size from 1 to 255 bytes.<br>So fundamentally PKCS#5 padding is a subset of PKCS#7 padding for 8 byte block sizes.<br>so, data encrypted with PKCS#5 is able to decrypt with PKCS#7, but data encrypted with PKCS#7 may not be able to decrypt with PKCS#5.</p></blockquote><h2 id="triple-des"><a class="markdownIt-Anchor" href="#triple-des"></a> triple des</h2><p><code>des-ede3-cbc</code>가 triple des 알고리즘이다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// Encrypt</span></span><br><span class="line">openssl_encrypt($text, <span class="string">"des-ede3-cbc"</span>, $key, OPENSSL_RAW_DATA, $iv);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decrypt</span></span><br><span class="line">openssl_decrypt($ciphertext, <span class="string">"des-ede3-cbc"</span>, $key, OPENSSL_RAW_DATA, $iv);</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>카카오페이가 PHP 5 버전만 지원해 문의해봤지만 계획이 없어 이번 기회에 모듈을 다 뜯어봤는데 MCRYPT 만 만져주면 정상적으로 결제가 되었다.</p><p>곧 이 짓을 안해도 될 듯하다.</p><img data-src="https://i.imgur.com/QBA9xnP.jpg"><p>이러다가 다시 선형대수학 공부하겠어.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> openssl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Paypal 기부 버튼 만들기</title>
      <link href="/2017/07/02/Paypal-%EA%B8%B0%EB%B6%80-%EB%B2%84%ED%8A%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>/2017/07/02/Paypal-%EA%B8%B0%EB%B6%80-%EB%B2%84%ED%8A%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>기존에 Paypal 버튼을 만들기가 되게 복잡했는데, 최근 <a href="http://Paypal.Me" target="_blank" rel="external nofollow noopener noreferrer">Paypal.Me</a> 가 생기면서 아주 간단해졌다!</p><p><a href="https://www.paypal.com/KR/webapps/mpp/paypal-me?locale.x=ko_KR" target="_blank" rel="external nofollow noopener noreferrer">Paypal.Me</a>에 들어가서 서비스 가입만 하면 된다.<br><em>Paypal 계정이 없으면 가입 후에 계좌 인증이 필요하다</em></p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><p>아래 소스를 추가해주자.<br>기존 페이팔 버튼의 소스에서 action 부분만 변경해주었다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://www.paypal.me/GracefulLight/3 으로 금액을 붙혀 보내면 초기 금액을 설정할 수 있다. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"https://www.paypal.me/GracefulLight"</span> <span class="attr">method</span>=<span class="string">"get"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"10"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"image"</span> <span class="attr">src</span>=<span class="string">"https://www.paypalobjects.com/webstatic/en_US/i/buttons/PP_logo_h_100x26.png"</span> <span class="attr">alt</span>=<span class="string">"Donate"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="결과"><a class="markdownIt-Anchor" href="#결과"></a> 결과</h1><img data-src="https://i.imgur.com/rHzzZUM.png"><p>새삼 예쁜 것 같다.</p>]]></content>
      
      
      
        <tags>
            
            <tag> paypal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS7 LEMP Stack 설치하기 (HTTP2, PHP7.1, Maria, Letsencrypt)</title>
      <link href="/2017/06/10/CentOS7-LEMP-Stack-%EC%A0%81%EC%9A%A9/"/>
      <url>/2017/06/10/CentOS7-LEMP-Stack-%EC%A0%81%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="lemp"><a class="markdownIt-Anchor" href="#lemp"></a> LEMP</h1><p>Linux, Nginx, MariaDB, PHP</p><blockquote><p><strong>Why LEMP instead of LNMP?</strong><br>We go with LEMP due to the pronunciation for Nginx: Engine-X (en-juhn-ecks).<br>Think of how in English, the article an is used instead of a for hour even though it begins with a consonant.<br>The importance is the sound of the first letter rather than its written representation.<br>Besides, LEMP is actually pronounceable and doesn’t sound like reciting the alphabet.</p></blockquote><h1 id="php"><a class="markdownIt-Anchor" href="#php"></a> PHP</h1><p>repo 를 등록하고 설치하는 방법이 있지만 php71 등의 이름으로 설정해야되서 번거롭다.<br>yum 명령어의 --enablerepo 옵션을 사용해 php71 repository 를 가져오자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># php repo를 가져오기</span></span><br><span class="line">$ yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</span><br><span class="line"></span><br><span class="line">$ vi /etc/yum.repos.d/remi-php71.repo</span><br><span class="line"></span><br><span class="line">[remi-php71]</span><br><span class="line">name=Remi\<span class="string">'s PHP 7.1 RPM repository for Enterprise Linux 7 - $basearch</span></span><br><span class="line"><span class="string">#baseurl=http://rpms.remirepo.net/enterprise/7/php71/$basearch/</span></span><br><span class="line"><span class="string">mirrorlist=http://rpms.remirepo.net/enterprise/7/php71/mirror</span></span><br><span class="line"><span class="string"># 이 값을 1로 바꿔준다.</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$ yum -y install php php-fpm php-devel php-curl php-mcrypt php-mysql php-xmlrpc php-mbstring php-zip 등등</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$ systemctl start php-fpm</span></span><br><span class="line"><span class="string">$ systemctl enable php-fpm</span></span><br></pre></td></tr></table></figure><h1 id="maria"><a class="markdownIt-Anchor" href="#maria"></a> Maria</h1><p><a href="/2016/12/23/CentOS-Maria-DB-%EC%84%A4%EC%B9%98/">예전 포스팅</a>으로 대체한다. 설치방법은 똑같고 버전만 다르게 해주면 된다.<br>설치 후 서비스 실행만 <code>systemctl</code> 명령어로 해주자.</p><h2 id="xtrabackup"><a class="markdownIt-Anchor" href="#xtrabackup"></a> Xtrabackup</h2><p>이제 mysqldump 를 좀 놓아주고 Incremental Backup 을 해주자.<br>이게 왜 좋은지는 <a href="https://www.percona.com/software/mysql-database/percona-xtrabackup/feature-comparison" target="_blank" rel="external nofollow noopener noreferrer">공홈</a>이나 <a href="http://www.yes24.com/24/goods/12982561?scode=032&amp;OzSrank=1" target="_blank" rel="external nofollow noopener noreferrer">책</a>이나 다른 블로그에 자세히 설명되어있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># xtrabackup 설치</span></span><br><span class="line">$ yum -y install xtrabackup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 증분백업을 위해 전체 백업이 한 번 필요하다.</span></span><br><span class="line"><span class="comment"># root가 아닌 유저일 경우 해당 DB를 백업하기 위해 PROCESS 등 여러 권한을 추가해야한다.</span></span><br><span class="line"><span class="comment"># (로그 메세지로 추가하라고 나온다.)</span></span><br><span class="line">$ innobackupex --user=<span class="string">'root'</span> --password=<span class="string">'암호'</span> --databases=<span class="string">'DB'</span> --no-timestamp /백업위치</span><br><span class="line"></span><br><span class="line"><span class="comment"># 증분백업</span></span><br><span class="line">$ innobackupex --user=<span class="string">'root'</span> --password=<span class="string">'암호'</span> --incremental --incremental-basedir=<span class="string">'/백업위치/xtrabackup_checkpoints'</span> --no-timestamp /증분백업위치</span><br><span class="line"></span><br><span class="line"><span class="comment"># 증분백업을 전체백업 위에 얹기</span></span><br><span class="line">$ innobackupex --apply-log --redo-only --incremental-dir=<span class="string">'/증분백업위치'</span> /백업위치</span><br><span class="line"></span><br><span class="line"><span class="comment"># 증분백업 삭제</span></span><br><span class="line">$ rm -rf /증분백업위치</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 복원</span></span><br><span class="line">$ systemctl stop mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 데이터 폴더를 날려야한다. (만약을 대비해 백업)</span></span><br><span class="line">$ rm -rf /var/lib/mysql/*</span><br><span class="line">$ innobackupex --copy-back /백업위치</span><br><span class="line"></span><br><span class="line"><span class="comment"># 권한부여</span></span><br><span class="line">$ chown -R mysql:mysql /var/lib/mysql</span><br><span class="line">$ systemctl start mariadb</span><br></pre></td></tr></table></figure><h1 id="nginx"><a class="markdownIt-Anchor" href="#nginx"></a> Nginx</h1><p><strong>HTTP2 를 적용하기 위해서는 Nginx 1.9 버전과 Openssl 1.0.2 버전 이상이 필요</strong>한데, 기본 repository 에는 이 버전이 적용되어있지 않다.<br>따라서 검색해보면 컴파일 설치를 해야 된다는 글이 다수다. 모든 패키지는 패키지 매니져로 관리하는게 좋다고 생각하는 나로썬 그냥 넘어갈 수 없다.<br>Nginx 최신 repository 를 관리해주는 <a href="https://brouken.com/brouken-centos-7-repo/" target="_blank" rel="external nofollow noopener noreferrer">나이스한 곳</a>을 찾았다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install yum-utils</span><br><span class="line">$ yum-config-manager --add-repo https://brouken.com/brouken.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 기존 nginx repo를 사용하지 않는다는 옵션</span></span><br><span class="line">$ yum-config-manager --save --<span class="built_in">setopt</span>=epel.exclude=nginx*;</span><br><span class="line">$ yum -y install nginx</span><br><span class="line"></span><br><span class="line">$ systemctl start nginx</span><br><span class="line">$ systemctl <span class="built_in">enable</span> nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># nginx 버전 확인</span></span><br><span class="line">$ Nginx -V</span><br><span class="line">nginx version: nginx/1.13.1</span><br><span class="line">built with OpenSSL 1.0.2k 26 Jan 2017</span><br></pre></td></tr></table></figure><h2 id="setopt-가-오류가-날-경우"><a class="markdownIt-Anchor" href="#setopt-가-오류가-날-경우"></a> setopt 가 오류가 날 경우</h2><p>ngixn.repo 를 만들어주고 연결하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/yum.repos.d/nginx.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># vim /etc/yum.repos.d/nginx.repo</span></span><br><span class="line"></span><br><span class="line">[nginx]</span><br><span class="line">name=nginx repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/centos/7/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 저장하고 설치 시작</span></span><br><span class="line"></span><br><span class="line">$ yum update</span><br><span class="line">$ yum -y install nginx</span><br><span class="line">$ systemctl start nginx</span><br><span class="line">$ systemctl <span class="built_in">enable</span> nginx</span><br></pre></td></tr></table></figure><h1 id="letsencrypt"><a class="markdownIt-Anchor" href="#letsencrypt"></a> LetsEncrypt</h1><p>공짜 SSL 인 LetsEncrypt 의 이름이 certbot 으로 바뀌었다. <a href="https://certbot.eff.org/#centosrhel7-nginx" target="_blank" rel="external nofollow noopener noreferrer">공홈</a>을 참조해도 좋다.<br>인증을 받기위해 먼저 도메인을 따야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install certbot</span><br><span class="line"></span><br><span class="line"><span class="comment"># 인증</span></span><br><span class="line">$ certbot certonly --standalone -d example.com -d www.example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 갱신 확인</span></span><br><span class="line">$ certbot renew --dry-run</span><br><span class="line"></span><br><span class="line"><span class="comment"># 갱신하면서 nginx 재부팅</span></span><br><span class="line"><span class="comment"># 이 명령어를 적절히 cron에 넣어주자.</span></span><br><span class="line">$ certbot renew --pre-hook=<span class="string">"systemctl stop nginx"</span> --post-hook=<span class="string">"systemctl start nginx"</span></span><br></pre></td></tr></table></figure><p>인증이 성공하면 <strong>/etc/letsencrypt/live/example.com/</strong> 경로 아래에 키가 떨어질 것이다.<br>자세한 명령어 옵션은 <a href="https://certbot.eff.org/docs/using.html" target="_blank" rel="external nofollow noopener noreferrer">Docs</a> 참조.</p><h2 id="nginx-연동"><a class="markdownIt-Anchor" href="#nginx-연동"></a> nginx 연동</h2><p>ssl 을 적용하면서 HTTP2 도 붙혀보자.<br>HTTP2 에서는 bundling 보다 파일을 쪼개서 보내는게 더 효율적이라고 한다. (non-blocking 이니까)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"># HTTP</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name example.com www.example.com;</span><br><span class="line"></span><br><span class="line">    # certbot --webroot 인증을 받기위한 설정</span><br><span class="line">    #location ^~ &#x2F;.well-known&#x2F;acme-challenge&#x2F; &#123;</span><br><span class="line">    #default_type &quot;text&#x2F;plain&quot;;</span><br><span class="line">    #root &#x2F;var&#x2F;www&#x2F;letsencrypt;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    # 80 접속시 443으로 redirect</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">       return 301 https:&#x2F;&#x2F;$server_name$request_uri;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># HTTPS</span><br><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl http2;</span><br><span class="line">  listen [::]:443 ssl http2;</span><br><span class="line">  server_name example.com www.example.com;</span><br><span class="line">  root &#x2F;var&#x2F;nginx&#x2F;www&#x2F;public;</span><br><span class="line">  index index.php index.html;</span><br><span class="line"></span><br><span class="line">  # 지저분한 보안 옵션은 추천옵션이니 넣어주자.</span><br><span class="line">  ssl on;</span><br><span class="line">  ssl_certificate &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;example.com&#x2F;fullchain.pem;</span><br><span class="line">  ssl_certificate_key &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;example.com&#x2F;privkey.pem;</span><br><span class="line">  ssl_trusted_certificate &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;example.com&#x2F;fullchain.pem;</span><br><span class="line">  ssl_session_timeout 1d;</span><br><span class="line">  ssl_session_cache shared:SSL:50m;</span><br><span class="line">  ssl_session_tickets off;</span><br><span class="line"></span><br><span class="line">  #ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_protocols TLSv1.2;</span><br><span class="line">  ssl_ciphers EECDH+AESGCM:EECDH+AES;</span><br><span class="line">  ssl_ecdh_curve secp384r1;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">  ssl_stapling on;</span><br><span class="line">  ssl_stapling_verify on;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    try_files $uri $uri&#x2F; &#x2F;index.php?$query_string;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~ \.php &#123;</span><br><span class="line">    fastcgi_split_path_info ^(.+\.php)(&#x2F;.+)$;</span><br><span class="line">    include fastcgi_params;</span><br><span class="line">    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">    fastcgi_param SCRIPT_NAME $fastcgi_script_name;</span><br><span class="line">    fastcgi_index index.php;</span><br><span class="line">    fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~ &#x2F;\.ht &#123;</span><br><span class="line">    deny all;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  # 캐싱할 데이터가 있다면 추가</span><br><span class="line">  location ~* \.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc|woff)$ &#123;</span><br><span class="line">    expires 1M;</span><br><span class="line">    add_header Cache-Control &quot;public&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~* \.(?:css|js)$ &#123;</span><br><span class="line">    expires 7d;</span><br><span class="line">    add_header Cache-Control &quot;public&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>해당 세팅은 Laravel5.4 용이다.</p><p>nginx.conf 에는 해당 옵션들도 추가해주자.</p><figure class="highlight bash"><figcaption><span>nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CPU 물리 코어에 따라 설정한다.</span></span><br><span class="line"><span class="comment"># 1코어에선 1로 나머지는 auto로 설정하면 된다.</span></span><br><span class="line"><span class="comment"># grep ^processor /proc/cpuinfo | wc -l 로 확인 가능</span></span><br><span class="line">worker_processes 1;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">  <span class="comment"># 각 worker process에서 한 번에 처리할 수 있는 최대 연결 수</span></span><br><span class="line">  <span class="comment"># ulimit -n의 값과 같게 설정하자.</span></span><br><span class="line">  worker_connections 1024;</span><br><span class="line">  <span class="comment"># I/O event 노티 방식을 epoll로 사용. (poll보다 발전한 방식)</span></span><br><span class="line">  use epoll;</span><br><span class="line">  <span class="comment"># worker가 한 번에 모든 연결을 수용할 수 있도록 설정</span></span><br><span class="line">  multi_accept on;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">  <span class="comment"># access_log 제거</span></span><br><span class="line">  access_log off;</span><br><span class="line">  server_tokens off;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># iframe 보안 이슈 DENY</span></span><br><span class="line">  add_header X-Frame-Options DENY;</span><br><span class="line">  add_header X-Content-Type-Options nosniff;</span><br><span class="line">  add_header X-XSS-Protection <span class="string">"1; mode=block"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># PHP 서버라는 header 제거</span></span><br><span class="line">  fastcgi_hide_header X-Powered-By;</span><br><span class="line">  <span class="comment"># static file 제공 최적화</span></span><br><span class="line">  sendfile       on;</span><br><span class="line">  <span class="comment"># TCP multiple buffer를 individual packet으로 전송하게 변경</span></span><br><span class="line">  tcp_nopush     on;</span><br><span class="line">  <span class="comment"># TCP에서 TCP_CORK 옵션을 활성화</span></span><br><span class="line">  <span class="comment"># MTU에서 IP 헤더의 40-60 Byte를 뺀값과 같다는데 뭐라는건지 모르겠다.</span></span><br><span class="line">  tcp_nodelay    on;</span><br><span class="line">  <span class="comment"># keep alive 설정</span></span><br><span class="line">  keepalive_timeout  65;</span><br><span class="line">  <span class="comment"># keepalive_requests 100000;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># gzip 압축설정</span></span><br><span class="line">  gzip on;</span><br><span class="line">  gzip_min_length 1000;</span><br><span class="line">  gzip_types application/x-javascript text/css application/javascript text/javascript text/plain text/xml application/json application/vnd.ms-fontobject application/x-font-opentype application/x-font-truetype application/x-font-ttf application/xml font/eot font/opentype font/otf image/svg+xml image/vnd.microsoft.icon;</span><br><span class="line">  gzip_disable <span class="string">"MSIE [1-6]\."</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>적용 후에 <a href="https://chrome.google.com/webstore/detail/http2-and-spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin?utm_source=chrome-ntp-icon" target="_blank" rel="external nofollow noopener noreferrer">HTTP2 확인 확장프로그램</a> 설치 후 이 프로그램에 파란불이 들어오면 성공이다.</p><h1 id="파일-백업"><a class="markdownIt-Anchor" href="#파일-백업"></a> 파일 백업</h1><p>소스는 git 으로 관리가 되는데 static 파일은 주기적으로 백업이 필요하다.</p><figure class="highlight bash"><figcaption><span>file_backup.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">NOW_DATE=`date`</span><br><span class="line">BACKUP_DATE=`date +<span class="string">"%Y%m%d"</span>`</span><br><span class="line">FILE_DIR=백업할 폴더 경로</span><br><span class="line">BACKUP_DIR=백업된 파일 경로</span><br><span class="line"></span><br><span class="line"><span class="comment"># gz 압축</span></span><br><span class="line">tar zcvf <span class="variable">$&#123;BACKUP_DIR&#125;</span>/<span class="variable">$&#123;BACKUP_DATE&#125;</span>.tar.gz <span class="variable">$&#123;FILE_DIR&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3일 이상된 백업파일은 제거</span></span><br><span class="line">find <span class="variable">$&#123;BACKUP_DIR&#125;</span>/ -mtime +3 -<span class="built_in">exec</span> rm -f &#123;&#125; \;</span><br><span class="line"><span class="comment"># find $&#123;BACKUP_DIR&#125;/ -mtime 3 -delete</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>다음부터 Ubuntu 쓸까 생각했는데, Nginx 최신 Repo 를 찾은게 컸다. 하지만 빨리 Docker 책 읽자.<br>Nginx, Reverse Proxy, Redis, PHP, Jenkins 를 한 번에 해결해주겠지.<br>이제 DockerFile 이 잘 읽히긴 하는데, 언제쯤 갈아탈 수 있으려나</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> maria </tag>
            
            <tag> nginx </tag>
            
            <tag> letsencrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - Eloquent ORM 사용하기</title>
      <link href="/2017/06/06/Laravel-5-4-Eloquent-Model/"/>
      <url>/2017/06/06/Laravel-5-4-Eloquent-Model/</url>
      
        <content type="html"><![CDATA[<p>Eloquent ORM을 사용해 데이터를 가져와보자.<br><a href="/2017/05/16/Laravel-5-4-Start/">이전 포스팅</a>에서 이어진다. (Eloquent ORM 기능만 필요하다면 <a href="#Model">3.Model</a>부터 보면 된다)</p><h1 id="migration"><a class="markdownIt-Anchor" href="#migration"></a> Migration</h1><p>DBMS에 상관 없이 테이블을 똑같이 생성하기 위한 기능이다.</p><h2 id="생성"><a class="markdownIt-Anchor" href="#생성"></a> 생성</h2><p>artisan 명령어로 간단히 생성할 수 있다. 날짜_테이블 형식의 파일이 database/migrations 밑에 생성된다.<br><strong>이 파일들의 자동 생성된 이름을 절대 변경하지 말자</strong> 내부적으로 언더스코어를 <em>explode</em>해 class를 호출하기 때문에 건들면 고생한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 모델을 생성하면서 같이 생성</span></span><br><span class="line"><span class="comment"># m 옵션을 추가한다.</span></span><br><span class="line">$ php artisan make:model -m 모델명</span><br><span class="line"></span><br><span class="line"><span class="comment"># 마이그레이션만 생성</span></span><br><span class="line">$ php artisan make:migration 마이그레이션명</span><br></pre></td></tr></table></figure><p>생성 후에 up 메소드 안에 테이블을 꾸며주고 down 메소드에 테이블을 지울 때 실행할 로직을 구현한다.<br>컬럼 타입을 지정하는 메소드는 <a href="https://laravel.com/docs/5.4/migrations#columns" target="_blank" rel="external nofollow noopener noreferrer">여기</a>를 참조하면 된다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Schema::create(<span class="string">'table_name'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br><span class="line">    $table-&gt;increments(<span class="string">'idx'</span>);</span><br><span class="line">    $table-&gt;string(<span class="string">'id'</span>, <span class="number">20</span>)-&gt;unique();</span><br><span class="line">    $table-&gt;string(<span class="string">'name'</span>, <span class="number">30</span>);</span><br><span class="line">    $table-&gt;string(<span class="string">'email'</span>, <span class="number">100</span>)-&gt;unique();</span><br><span class="line">    $table-&gt;string(<span class="string">'password'</span>, <span class="number">250</span>);</span><br><span class="line">    $table-&gt;tinyInteger(<span class="string">'tiny'</span>)-&gt;nullable();</span><br><span class="line">    $table-&gt;timestamps();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 테이블에 외래키 제약조건이 걸려있을 경우 migration으로 일괄 삭제시에</span></span><br><span class="line"><span class="comment">// 오류가 발생하므로, 외래키 체크 옵션을 비활성화 해줘야될 수 도 있다.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span><span class="params">()</span></span>&#123;</span><br><span class="line">  DB::statement(<span class="string">'SET FOREIGN_KEY_CHECKS = 0'</span>);</span><br><span class="line">  Schema::dropIfExists(<span class="string">'table_name'</span>);</span><br><span class="line">  DB::statement(<span class="string">'SET FOREIGN_KEY_CHECKS = 1'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><p>php artisan migrate 명령어로 실행하면 된다.</p><ul><li>migrate =&gt; 전체 실행</li><li>migrate:refresh =&gt; 다시 실행</li><li>migrate:rollback =&gt; 마지막 migrate 시점으로 돌림</li><li>migrate:reset =&gt; 제거</li></ul><h2 id="tinker"><a class="markdownIt-Anchor" href="#tinker"></a> Tinker</h2><p>이미 데이터가 들어간 테이블이 있어 migrate --path로 한 파일만을 실행해야 하는데, tinker를 사용하면 더 쉽게 해당 마이그레이션을 실행시킬 수 있다.<br>Tinker는 커맨드로 라라벨 쉘(실행환경)으로 들어간다고 생각하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tinker</span></span><br><span class="line">$ php artisan tinker</span><br><span class="line"></span><br><span class="line"><span class="comment"># shell로 접속된다.</span></span><br><span class="line">Psy Shell v0.8.5 (PHP 7.0.7 ??cli) by Justin Hileman</span><br><span class="line">New version is available (current: v0.8.5, latest: v0.8.8)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="comment"># blueprint 의존성을 추가해주고 (Blueprint는 up 메소드에 DI로 들어가 있기에 읽지 못한다.)</span></span><br><span class="line">$ use Illuminate\Database\Schema\Blueprint;</span><br><span class="line"><span class="comment"># 새로 실행하려 했던 스키마를 실행시켜주기만 하면 된다.</span></span><br><span class="line">$ Schema::create(<span class="string">'new_table'</span>, <span class="keyword">function</span> (Blueprint <span class="variable">$table</span>) &#123;</span><br><span class="line">    <span class="variable">$table</span>-&gt;increments(<span class="string">'idx'</span>);</span><br><span class="line">    <span class="variable">$table</span>-&gt;string(<span class="string">'id'</span>, 20)-&gt;unique();</span><br><span class="line">    <span class="variable">$table</span>-&gt;timestamps();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>DB에 해당 테이블이 생성된 걸 확인할 수 있다.</p><h1 id="seed"><a class="markdownIt-Anchor" href="#seed"></a> Seed</h1><p>Seed는 테이블에 필수 데이터 또는 더미 데이터를 심어주는 과정이다.<br>테스트에 필요한 데이터를 넣어주는데 아주 효과적이다.</p><h2 id="생성-2"><a class="markdownIt-Anchor" href="#생성-2"></a> 생성</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan make:seeder 시더명</span><br></pre></td></tr></table></figure><p>database/seeds 아래에 파일이 생성된다.<br>파일을 열어보면 run() 메소드 하나가 있는데, 여기에 시드파일이 호출될 때 실행할 로직을 구현해주면 된다.</p><figure class="highlight php"><figcaption><span>database/seeds/BoardSeed.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 모델로 생성하기</span></span><br><span class="line">  Board::create([</span><br><span class="line">    <span class="string">'title'</span> =&gt; <span class="string">'공지'</span>,</span><br><span class="line">    <span class="string">'author'</span> =&gt; <span class="string">'관리자'</span>,</span><br><span class="line">    <span class="string">'content'</span> =&gt; <span class="string">'공지입니다'</span></span><br><span class="line">  ]);</span><br><span class="line">  <span class="comment">// DB 파사드로 생성하기</span></span><br><span class="line">  DB::table(<span class="string">'board'</span>)-&gt;insert([</span><br><span class="line">    <span class="string">'title'</span> =&gt; <span class="string">'공지'</span>,</span><br><span class="line">    <span class="string">'author'</span> =&gt; <span class="string">'관리자'</span>,</span><br><span class="line">    <span class="string">'content'</span> =&gt; <span class="string">'공지입니다'</span></span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="faker"><a class="markdownIt-Anchor" href="#faker"></a> Faker</h3><p>랜덤한 테스트용 데이터가 많이 필요하다면, 가짜(더미) 데이터를 생성해주는 <a href="https://github.com/fzaninotto/Faker" target="_blank" rel="external nofollow noopener noreferrer">라이브러리</a>를 사용할 수 있다.<br>링크를 따라가보면 정말 엄청난 종류의 랜덤 데이터를 생성할 수 있음에 놀랄 것이다.</p><p>faker를 사용하려면 ModelFactory를 먼저 정의해야한다.<br>상품 모델을 가져와 가짜 데이터 타입을 정의해보자.</p><figure class="highlight php"><figcaption><span>database/factories/ModelFactory.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$factory-&gt;define(App\Models\Product::class, <span class="function"><span class="keyword">function</span><span class="params">(Faker\Generator $faker)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">      <span class="comment">// 메소드는 위의 라이브러리를 참고하자.</span></span><br><span class="line">      <span class="comment">// 상품명을 중복되지 않게 city(도시명)으로 가져온다.</span></span><br><span class="line">      <span class="string">'name'</span> =&gt; $faker-&gt;unique()-&gt;city,</span><br><span class="line">      <span class="comment">// 색상 헥스코드를 가져온다.</span></span><br><span class="line">      <span class="string">'color'</span> =&gt; $faker-&gt;safeColorName,</span><br><span class="line">      <span class="comment">// 1000~50000원 사이의 가격을 가져온다.</span></span><br><span class="line">      <span class="string">'price'</span> =&gt; $faker-&gt;numberBetween(<span class="number">1000</span>, <span class="number">50000</span>),</span><br><span class="line">      <span class="comment">// lorempixel의 랜덤 이미지를 가져온다.</span></span><br><span class="line">      <span class="string">'thumbnail'</span> =&gt; $faker-&gt;imageUrl(<span class="number">200</span>, <span class="number">100</span>),</span><br><span class="line">      <span class="string">'detail_image'</span> =&gt; $faker-&gt;imageUrl(<span class="number">300</span>, <span class="number">600</span>),</span><br><span class="line">      <span class="string">'qty'</span> =&gt; $faker-&gt;numberBetween(<span class="number">1</span>, <span class="number">1000</span>),</span><br><span class="line">      <span class="string">'status'</span> =&gt; <span class="number">1</span>,</span><br><span class="line">      <span class="string">'owner'</span> =&gt; $faker-&gt;name,</span><br><span class="line">      <span class="string">'sorting'</span> =&gt; $faker-&gt;numberBetween(<span class="number">1</span>, <span class="number">9999</span>)</span><br><span class="line">  ];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="실행-2"><a class="markdownIt-Anchor" href="#실행-2"></a> 실행</h2><p>위에서 선언한 faker 모델을 seed에서 호출해보자.</p><figure class="highlight php"><figcaption><span>database/seeds/ProductSeed.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 두번째 인자로 실행시킬 횟수를 넣어주면 된다.</span></span><br><span class="line">  factory(App\Models\Product::class, <span class="number">100</span>)-&gt;create();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan db:seed</span><br></pre></td></tr></table></figure><p>테이블에 상품 더미데이터가 100개 생성된 것을 확인할 수 있다.</p><h1 id="model"><a class="markdownIt-Anchor" href="#model"></a> Model</h1><p>모델은 하나의 테이블의 타입을 정해 놓은 것이라 보면 된다.<br>데이터를 가져오거나 넣을 때 모델에 정의된 형태로 가져온다.</p><h2 id="기본-구조"><a class="markdownIt-Anchor" href="#기본-구조"></a> 기본 구조</h2><p>아래 구조 정도만 알아두면 된다. 더 자세한건 <a href="https://github.com/laravel/framework/blob/5.4/src/Illuminate/Database/Eloquent/Model.php" target="_blank" rel="external nofollow noopener noreferrer">Eloquent Model Class</a>를 확인해보자.</p><figure class="highlight php"><figcaption><span>app/Models/Board.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Models</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Board</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 임의의 생성 필드가 있다면 설정해준다. (기본값 created_at)</span></span><br><span class="line">  <span class="keyword">const</span> CREATED_AT = <span class="string">'created_dt'</span>;</span><br><span class="line">  <span class="comment">// 사용하지 않을 경우 Null로 초기화해주자. (기본값 updated_at)</span></span><br><span class="line">  <span class="keyword">const</span> UPDATED_AT = <span class="keyword">null</span>;</span><br><span class="line">  <span class="comment">// 둘 다 사용하지 않을 경우 timestamps만 꺼주면 된다. (기본값 true)</span></span><br><span class="line">  <span class="keyword">public</span> $timestamps = <span class="keyword">false</span>;</span><br><span class="line">  <span class="comment">// PK가 auto increment가 아닐경우 false로 바꿔준다. (기본값 true)</span></span><br><span class="line">  <span class="keyword">public</span> $incrementing = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// PK 값을 변경한다. (기본값 id)</span></span><br><span class="line">  <span class="keyword">protected</span> $primaryKey = <span class="string">'idx'</span>;</span><br><span class="line">  <span class="comment">// 테이블 명을 변경한다. (기본값 모델명의 복수형)</span></span><br><span class="line">  <span class="keyword">protected</span> $table = <span class="string">'board'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// dump insert 및 dump update가 안되는 필드를 설정한다.</span></span><br><span class="line">  <span class="keyword">protected</span> $guarded = [</span><br><span class="line">    <span class="string">'idx'</span></span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// guarded와 fillable 중 하나만 있으면 된다. (써보니 guarded가 편하더라.)</span></span><br><span class="line">  <span class="comment">// dump insert 및 dump update가 가능한 필드를 설정한다.</span></span><br><span class="line">  <span class="comment">//protected $fillable = [</span></span><br><span class="line">  <span class="comment">//  'title', 'content'</span></span><br><span class="line">  <span class="comment">//];</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 노출시키지 않을 필드가 있을 경우</span></span><br><span class="line">  <span class="keyword">protected</span> $hidden = [</span><br><span class="line">    <span class="string">'password'</span></span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="relationship"><a class="markdownIt-Anchor" href="#relationship"></a> Relationship</h2><h3 id="11"><a class="markdownIt-Anchor" href="#11"></a> 1:1</h3><p>hasOne과 belongsTo로 연결한다.</p><h3 id="1n"><a class="markdownIt-Anchor" href="#1n"></a> 1:n</h3><p>hasMany와 belongsTo로 연결한다.</p><h3 id="nm"><a class="markdownIt-Anchor" href="#nm"></a> n:m</h3><p>belongsToMany로 연결한다.<br>처음에 제일 감이 안왔던 Relationship이지만 코드를 보면 이해하기가 쉽다.<br>주문(Order) - 주문 상품(OrderProduct) - 상품(Product) 테이블이 있다고 가정한다. 각각 시작 - 링크(피벗) - 종료 테이블이다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> App/Models/Order.php</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">product</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">// 마지막으로 연결될 모델명, 링크 테이블 명, 시작-&gt;링크를 연결시킬 인덱스, 링크-&gt;종료를 연결시킬 인덱스</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;belongsToMany(<span class="string">'App\Models\Product'</span>, <span class="string">'order_product'</span>, <span class="string">'order_id'</span>, <span class="string">'product_id'</span>)</span><br><span class="line">          <span class="comment">// 링크 테이블의 컬럼을 가져와야할 때</span></span><br><span class="line">          -&gt;withPivot([<span class="string">'price'</span>, <span class="string">'quantity'</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이렇게 정의하면 뷰에서 <strong>order-&gt;product</strong>를 <em>foreach</em>로 돌려 <strong>product-&gt;product_id</strong>처럼 접근할 수 있고<br><strong>product-&gt;pivot-&gt;price</strong>로 pivot 테이블의 데이터도 가져올 수 있다.</p><h3 id="111"><a class="markdownIt-Anchor" href="#111"></a> 1:1:1</h3><p>이런 관계가 있을 경우에 라라벨에서 관계메소드를 직접 지원하지는 않는다.<br>억지로 사용하려면, <code>hasOne</code>을 두 번 사용해 연결해야하는데, Select Query를 두 번 날려야 된다는 소리다. (참을 수 없다)</p><p><a href="https://github.com/znck/belongs-to-through" target="_blank" rel="external nofollow noopener noreferrer">BelongsToThrough</a> trait 패키지를 통해 깔끔하게 해결할 수 있다.<br>메소드에서 <code>belongsToMany</code>처럼 커스텀 외래키를 사용해야할 경우엔 5번째 파라미터로 <strong>[ 클래스 =&gt; 키 ]</strong> 형식으로 넘겨주면 된다. (<a href="https://github.com/znck/belongs-to-through/pull/25/files" target="_blank" rel="external nofollow noopener noreferrer">여기</a>의 소스를 참고하자)</p><h2 id="이슈"><a class="markdownIt-Anchor" href="#이슈"></a> 이슈</h2><h3 id="orm의-join-방식"><a class="markdownIt-Anchor" href="#orm의-join-방식"></a> ORM의 Join 방식</h3><p>한 방 쿼리가 불가능하다. 오직 PK를 통해 Select된 데이터들을 다시 PHP 단에서 합쳐서 보여준다.<br>한 방이 필요할 때는 Database에서 View를 이용하거나 DB 파사드를 써야한다.</p><h3 id="composite-key"><a class="markdownIt-Anchor" href="#composite-key"></a> Composite Key</h3><p>라라벨 Eloquent Model에서 복합키를 사용할 수는 없다. 편법으로 <a href="https://stackoverflow.com/questions/31415213/how-i-can-put-composite-keys-in-models-in-laravel-5" target="_blank" rel="external nofollow noopener noreferrer">trait를 추가</a>할 수 있는데 find 메소드도 overriding 해야 된다.</p><h3 id="timestamps"><a class="markdownIt-Anchor" href="#timestamps"></a> Timestamps</h3><p>created_at과 updated_at은 timestamps 형식이라 date_format과 같은 쿼리함수 대신 whereDate 메소드로 연산을 실행해야한다.<br>물론 DB에 데이터가 들어가기 전 datetime으로 해당 컬럼을 변경해주면 된다.<br>(timestamps의 유효기간은 2035년까지므로.)</p><h3 id="group-by"><a class="markdownIt-Anchor" href="#group-by"></a> Group By</h3><p>GroupBy를 이용한 쿼리 사용시에 <strong>Syntax error or access violation: 1055 ‘table.column’ isn’t in GROUP BY</strong>라는 오류 메세지가 보이며 실행이 안 되는 경우가 있다. 해당 컬럼으로 GroupBy를 하지 않았는데도 발생한다.</p><p>database config의 strict 모드 중 <strong>ONLY_FULL_GROUP_BY</strong> 모드가 활성화 되어있어서 그런데 이 모드만 제외를 시켜주면 된다.</p><figure class="highlight php"><figcaption><span>config/database.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="string">'connections'</span> =&gt; [</span><br><span class="line">  <span class="string">'mysql'</span> =&gt; [</span><br><span class="line">    <span class="comment">// strict 속성을 false로 바꿔준다.</span></span><br><span class="line">    <span class="string">'strict'</span> =&gt; <span class="keyword">false</span>,</span><br><span class="line">    <span class="comment">// modes 속성을 추가해 기본 strict 옵션을 다시 추가한다.</span></span><br><span class="line">    <span class="string">'modes'</span> =&gt; [</span><br><span class="line">      <span class="string">'STRICT_TRANS_TABLES'</span></span><br><span class="line">      <span class="string">'NO_ZERO_IN_DATE'</span></span><br><span class="line">      <span class="string">'NO_ZERO_DATE'</span></span><br><span class="line">      <span class="string">'ERROR_FOR_DIVISION_BY_ZERO'</span></span><br><span class="line">      <span class="string">'NO_AUTO_CREATE_USER'</span></span><br><span class="line">      <span class="string">'NO_ENGINE_SUBSTITUTION'</span></span><br><span class="line">    ]</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure><p>변경 후 config:cache로 config 파일들을 다시 캐싱해주자.</p><h2 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h2><p>만든 모델을 선언만 하면 <a href="https://laravel.com/docs/5.4/eloquent#inserting-and-updating-models" target="_blank" rel="external nofollow noopener noreferrer">Eloquent Model 메소드</a>와 <a href="https://laravel.com/docs/5.4/queries" target="_blank" rel="external nofollow noopener noreferrer">Query Builder 메소드</a>를 사용할 수 있다.</p><p>CRUD는 다음과 같다.</p><figure class="highlight php"><figcaption><span>YourController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">($id)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// PK로 데이터 1개 반환</span></span><br><span class="line">  Model::find($id);</span><br><span class="line">  Model::where(<span class="string">'idx'</span>, $id)-&gt;first();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 전체 데이터 반환</span></span><br><span class="line">  Model::all();</span><br><span class="line">  <span class="comment">// 조건 데이터 반환</span></span><br><span class="line">  Model::where()-&gt;get();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Insert</span></span><br><span class="line">  $model = <span class="keyword">new</span> Model;</span><br><span class="line">  $model-&gt;column = <span class="string">'추가 값'</span>;</span><br><span class="line">  $model-&gt;column2 = <span class="string">'추가 값2'</span>;</span><br><span class="line">  $model-&gt;save();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mass Insert</span></span><br><span class="line">  Model::create([</span><br><span class="line">    <span class="string">'column'</span> =&gt; <span class="string">'추가 값'</span>,</span><br><span class="line">    <span class="string">'column2'</span> =&gt; <span class="string">'추가 값2'</span></span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Bulk Insert</span></span><br><span class="line">  Model::insert([[</span><br><span class="line">    <span class="string">'column'</span> =&gt; <span class="string">'추가 값'</span>,</span><br><span class="line">    <span class="string">'column2'</span> =&gt; <span class="string">'추가 값2'</span></span><br><span class="line">  ], [</span><br><span class="line">    <span class="string">'column'</span> =&gt; <span class="string">'추가 값'</span>,</span><br><span class="line">    <span class="string">'column2'</span> =&gt; <span class="string">'추가 값2'</span></span><br><span class="line">  ]]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Update</span></span><br><span class="line">  $model = Model::find($id);</span><br><span class="line">  $model-&gt;column = <span class="string">'변경 값'</span>;</span><br><span class="line">  $model-&gt;column2 = <span class="string">'변경 값2'</span>;</span><br><span class="line">  $model-&gt;save();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Mass Update</span></span><br><span class="line">  Model::where()-&gt;update([</span><br><span class="line">    <span class="string">'column'</span> =&gt; <span class="string">'변경 값'</span>,</span><br><span class="line">    <span class="string">'column2'</span> =&gt; <span class="string">'변경 값2'</span></span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Delete</span></span><br><span class="line">  Model::destory($id);</span><br><span class="line">  Model::find($id)-&gt;delete();</span><br><span class="line">  Model::where()-&gt;delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="collection과-model의-차이"><a class="markdownIt-Anchor" href="#collection과-model의-차이"></a> Collection과 Model의 차이</h2><p>Model에서 쓸 수 있는 메소드와 Collection에서 쓸 수 있는 메소드가 다르다.<br>Model Class에서 정의하는 관계 메소드들은 Model에서만 사용 가능하다.</p><ul><li><strong>Collection</strong>: <code>Array&lt;Model&gt;</code> 즉 모델의 집합이다.</li><li><strong>Model</strong>: 테이블에서 하나의 행이라고 생각하자.</li></ul><h1 id="paging"><a class="markdownIt-Anchor" href="#paging"></a> Paging</h1><p>모델에서 paginate 메소드를 사용하면, querystring에 page 변수가 붙어 페이징이 된다. (예를들면 /boards?page=1)<br>라라벨의 기본 페이징은 Bootstrap의 Class를 사용한다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 이렇게 모델을 가지고 왔다면</span></span><br><span class="line">Model::where()-&gt;get();</span><br><span class="line"></span><br><span class="line"><span class="comment">// get을 paginate로 바꿔주기만 하면 된다. (뿌려지는 list item의 기본값은 15이다.)</span></span><br><span class="line">Model::where()-&gt;paginate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// next와 prev 버튼이 없는 pagination을 구현하고 싶다면</span></span><br><span class="line">Model::where()-&gt;simplePaginate(<span class="number">10</span>);</span><br></pre></td></tr></table></figure><p>페이징 뷰를 꾸미고 싶다면 아래 명령어를 실행해 <strong>resources/views/vendor/pagination</strong>에 view가 생기고 <strong>default.blade.php</strong>를 수정하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan vendor:publish --tag=laravel-pagination</span><br></pre></td></tr></table></figure><h2 id="ajax-pagination"><a class="markdownIt-Anchor" href="#ajax-pagination"></a> ajax pagination</h2><p>실무에선 Paging 호출을 GET보단 AJAX를 쓰는게 깔끔한데 List View와 ListItem View, Controller 세부분을 모두 변경해줘야한다.<br>아래 소스는 jQuery를 사용하고 있다고 가정한다. (Frontend Framework를 같이 사용하고 있다면 더 깔끔하게 처리 될 수 있을듯)</p><h3 id="controller"><a class="markdownIt-Anchor" href="#controller"></a> Controller</h3><figure class="highlight php"><figcaption><span>YourController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">list</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ajax 요청일 경우에 listitem 뷰 반환</span></span><br><span class="line">  <span class="keyword">if</span> ($request-&gt;ajax()) &#123;</span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">'listitem'</span>, [</span><br><span class="line">      <span class="string">'data'</span> =&gt; Model::where()-&gt;paginate(<span class="number">10</span>);</span><br><span class="line">    ]);</span><br><span class="line">  <span class="comment">// get 요청일 경우에 list 뷰 반환</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">'list'</span>, [</span><br><span class="line">      <span class="string">'data'</span> =&gt; Model::where()-&gt;paginate(<span class="number">10</span>);</span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="list-view"><a class="markdownIt-Anchor" href="#list-view"></a> List view</h3><figure class="highlight php"><figcaption><span>list.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"list"</span>&gt;</span><br><span class="line">  @<span class="keyword">include</span>(<span class="string">'listitem'</span>)</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> paging_listener = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 페이지 버튼에 click listener 등록</span></span><br><span class="line">  $(<span class="string">'.pagination a'</span>).click(<span class="function"><span class="keyword">function</span> <span class="params">(e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// a href 로 페이지가 이동하는걸 방지한다.</span></span><br><span class="line">    e.preventDefault();</span><br><span class="line">    get_list($(this).attr(<span class="string">'href'</span>));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> get_list = <span class="function"><span class="keyword">function</span> <span class="params">(url)</span> </span>&#123;</span><br><span class="line">  $.get(url)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span><span class="params">(html)</span> </span>&#123;</span><br><span class="line">    $(<span class="string">'#list'</span>).html(html);</span><br><span class="line">    <span class="comment">// 페이지가 다시 그려졌으므로 listener를 다시 등록한다.</span></span><br><span class="line">    paging_listener();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  paging_listener();</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="listitem-view"><a class="markdownIt-Anchor" href="#listitem-view"></a> ListItem view</h3><figure class="highlight php"><figcaption><span>listitem.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">@<span class="keyword">foreach</span>($data <span class="keyword">as</span> $item)</span><br><span class="line">  &lt;li&gt;&#123;&#123; $item-&gt;name &#125;&#125;&lt;/li&gt;</span><br><span class="line">@<span class="keyword">endforeach</span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"><span class="comment">// pagination html이 반환되어 자동으로 보여진다.</span></span><br><span class="line">&#123;&#123; $data-&gt;links() &#125;&#125;</span><br></pre></td></tr></table></figure><h2 id="multiple-pagination"><a class="markdownIt-Anchor" href="#multiple-pagination"></a> multiple pagination</h2><p>한 페이지에 여러 리스트가 있는 경우가 종종 있다. 먼저 <a href="https://github.com/laravel/framework/blob/5.4/src/Illuminate/Database/Query/Builder.php#L1723" target="_blank" rel="external nofollow noopener noreferrer">paginate 메소드</a>를 살펴보자.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Paginate the given query into a simple paginator.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  int  $perPage</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  array  $columns</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  string  $pageName</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span>  int|null  $page</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> \Illuminate\Contracts\Pagination\LengthAwarePaginator</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">paginate</span><span class="params">($perPage = <span class="number">15</span>, $columns = [<span class="string">'*'</span>], $pageName = <span class="string">'page'</span>, $page = null)</span></span></span><br></pre></td></tr></table></figure><ul><li><strong>perPage</strong>: 한 페이지에 표시될 Item 수</li><li><strong>columns</strong>: 가져올 컬럼명의 배열</li><li><strong>pageName</strong>: page 변수명 (예를들면 /boards?page=1 에서 page 변수명을 변경 가능)</li><li><strong>page</strong>: 가져올 페이지</li></ul><h3 id="controller-2"><a class="markdownIt-Anchor" href="#controller-2"></a> Controller</h3><p>Controller에서 paginate 메소드를 활용해보자.</p><figure class="highlight php"><figcaption><span>YourController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">list</span><span class="params">(Request $request)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ($request-&gt;ajax()) &#123;</span><br><span class="line">    <span class="comment">// list1_page 값이 들어올 경우</span></span><br><span class="line">    <span class="keyword">if</span> ($request-&gt;has(<span class="string">'list1_page'</span>)) &#123;</span><br><span class="line">        <span class="comment">// list1_item 뷰에 바인딩해준다.</span></span><br><span class="line">      <span class="keyword">return</span> view(<span class="string">'list1_item'</span>, [</span><br><span class="line">        <span class="string">'data1'</span> =&gt; <span class="keyword">$this</span>-&gt;get_list1()</span><br><span class="line">      ]);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ($request-&gt;has(<span class="string">'list2_page'</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> view(<span class="string">'list2_item'</span>, [</span><br><span class="line">        <span class="string">'data2'</span> =&gt; <span class="keyword">$this</span>-&gt;get_list2()</span><br><span class="line">      ]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 메인 요청</span></span><br><span class="line">  $data1 = <span class="keyword">$this</span>-&gt;get_list1();</span><br><span class="line">  $data2 = <span class="keyword">$this</span>-&gt;get_list2();</span><br><span class="line">  <span class="keyword">return</span> view(<span class="string">'list'</span>, [</span><br><span class="line">    <span class="string">'data1'</span> =&gt; $data1,</span><br><span class="line">    <span class="string">'data2'</span> =&gt; $data2</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">get_list1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> Model::where()-&gt;orderBy()-&gt;paginate(<span class="number">5</span>, [<span class="string">'*'</span>], <span class="string">'list1_page'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">get_list2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> Model::where()-&gt;paginate(<span class="number">10</span>, [<span class="string">'*'</span>], <span class="string">'list2_page'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="list-view-2"><a class="markdownIt-Anchor" href="#list-view-2"></a> List view</h3><p>위의 script에서 조금만 수정해주면 된다.<br>(list item view는 위와 동일한 코드의 반복이므로 생략)</p><figure class="highlight php"><figcaption><span>list.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"list1"</span>&gt;</span><br><span class="line">  @<span class="keyword">include</span>(<span class="string">'list1_item'</span>)</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"list2"</span>&gt;</span><br><span class="line">  @<span class="keyword">include</span>(<span class="string">'list2_item'</span>)</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> paging_listener = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  $(<span class="string">'.pagination a'</span>).click(<span class="function"><span class="keyword">function</span> <span class="params">(e)</span> </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="keyword">var</span> page = $(this).attr(<span class="string">'href'</span>).split(<span class="string">'?'</span>)[<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// page.split('=')[0]은 페이지 변수명을 가져온다.</span></span><br><span class="line">    <span class="keyword">var</span> paging_type = page.split(<span class="string">'='</span>)[<span class="number">0</span>] === <span class="string">'list1_page'</span></span><br><span class="line">                      ? <span class="string">'list1'</span></span><br><span class="line">                      : <span class="string">'list2'</span>;</span><br><span class="line">    get_list($(this).attr(<span class="string">'href'</span>), paging_type);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> get_list = <span class="function"><span class="keyword">function</span> <span class="params">(url, target)</span> </span>&#123;</span><br><span class="line">  $.get(url)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span><span class="params">(html)</span> </span>&#123;</span><br><span class="line">    $(`<span class="comment">#$&#123;target&#125;`).html(html);</span></span><br><span class="line">    paging_listener();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이제 DB에서 데이터를 가져오는 것까지 끝났다.<br><a href="/2017/07/09/Laravel-5-4-Login-with-Auth/">다음 포스팅</a>에서는 User Login을 구현해보자.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yarn 사용법</title>
      <link href="/2017/05/29/Yarn-%EC%82%AC%EC%9A%A9%EB%B2%95/"/>
      <url>/2017/05/29/Yarn-%EC%82%AC%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>Bower의 시대가 끝났다. <a href="https://bower.io/" target="_blank" rel="external nofollow noopener noreferrer">홈페이지</a>를 들어가보면 다음과 같은 문구가 보인다.</p><blockquote><p>…psst! While Bower is maintained, we recommend <strong>yarn</strong> and <strong>webpack</strong> for new front-end projects!</p></blockquote><p><strong>Yarn</strong>을 사용해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>NPM으로 설치할 수도 있는데 추천하는 방법은 <a href="https://yarnpkg.com/en/docs/install" target="_blank" rel="external nofollow noopener noreferrer">Installer</a>이니 다운받고 설치해주면 된다!<br>NPM으로 설치시에는 환경변수 등록을 거쳐야한다.</p><p>설치 후 Bash에서 확인해보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yarn --version</span><br><span class="line">0.24.5</span><br></pre></td></tr></table></figure><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><p>npm 사용법과 아주 유사하다.<br>기존 NodeJS 패키지에서 <strong>yarn</strong> 명령어만을 입력하면 완벽히 호환이 되고, 새로운 프로젝트라면 <strong>yarn init</strong> 명령어를 실행하면 된다.<br>package.json을 사용하기 때문에 그냥 명령어만 바뀌었다고 생각하면 된다. (패키지들도 npm의 것을 공유한다.)</p><h2 id="명령어-비교"><a class="markdownIt-Anchor" href="#명령어-비교"></a> 명령어 비교</h2><p>install이 <strong>add</strong>로, uninstall이 <strong>remove</strong>로, update가 <strong>upgrade</strong>로 바뀐게 사실상 끝이다.<br>자세한 옵션은 <a href="https://yarnpkg.com/en/docs/cli/" target="_blank" rel="external nofollow noopener noreferrer">CLI Docs</a>를 참조하자.</p><table><thead><tr><th>npm</th><th>Yarn</th></tr></thead><tbody><tr><td>npm install</td><td>yarn install</td></tr><tr><td>(N/A)</td><td>yarn install --flat</td></tr><tr><td>(N/A)</td><td>yarn install --har</td></tr><tr><td>(N/A)</td><td>yarn install --no-lockfile</td></tr><tr><td>(N/A)</td><td>yarn install --pure-lockfile</td></tr><tr><td>npm install [package]</td><td>(N/A)</td></tr><tr><td>npm install --save [package]</td><td>yarn add [package]</td></tr><tr><td>npm install --save-dev [package]</td><td>yarn add [package] [–dev/-D]</td></tr><tr><td>(N/A)</td><td>yarn add [package] [–peer/-P]</td></tr><tr><td>npm install --save-optional [package]</td><td>yarn add [package] [–optional/-O]</td></tr><tr><td>npm install --save-exact [package]</td><td>yarn add [package] [–exact/-E]</td></tr><tr><td>(N/A)</td><td>yarn add [package] [–tilde/-T]</td></tr><tr><td>npm install --global [package]</td><td>yarn global add [package]</td></tr><tr><td>npm update --global</td><td>yarn global upgrade</td></tr><tr><td>npm rebuild</td><td>yarn install --force</td></tr><tr><td>npm uninstall [package]</td><td>(N/A)</td></tr><tr><td>npm uninstall --save [package]</td><td>yarn remove [package]</td></tr><tr><td>npm uninstall --save-dev [package]</td><td>yarn remove [package]</td></tr><tr><td>npm uninstall --save-optional [package]</td><td>yarn remove [package]</td></tr><tr><td>npm cache clean</td><td>yarn cache clean</td></tr><tr><td>rm -rf node_modules &amp;&amp; npm install</td><td>yarn upgrade</td></tr></tbody></table><h1 id="global-경로"><a class="markdownIt-Anchor" href="#global-경로"></a> Global 경로</h1><ul><li>Windows: <strong>%LOCALAPPDATA%/Yarn/config/global</strong></li></ul><h2 id="환경-변수-설정"><a class="markdownIt-Anchor" href="#환경-변수-설정"></a> 환경 변수 설정</h2><p>설정을 확인한 뒤 prefix 경로를 PATH에 추가해주면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config list</span><br><span class="line">&#123; prefix: <span class="string">'C:\\Users\\&#123;NAME&#125;\\npm'</span> &#125;</span><br></pre></td></tr></table></figure><h1 id="결론"><a class="markdownIt-Anchor" href="#결론"></a> 결론</h1><p>bower_components 안녕<br>이젠 node_modules만 있겠구나</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP Status Code 정리</title>
      <link href="/2017/05/28/HTTP-Status-Code-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/05/28/HTTP-Status-Code-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<p>API 나 AJAX 응답시에 코드로 날려주는게 표준이기도하고, 편하기도 해서 정리했다.<br>매번 검색해 쓰는 것도 귀찮고 포스팅마다 의미도 다르고해서.</p><h1 id="100"><a class="markdownIt-Anchor" href="#100"></a> 100</h1><p>순수하게 정보 제공만을 위한 코드</p><ul><li><strong>102</strong> 임의의 동작이 백그라운드에서 발생하고 완료까지 시간이 걸린다고 나타낼 때 사용</li></ul><h1 id="200"><a class="markdownIt-Anchor" href="#200"></a> 200</h1><ul><li><strong>200</strong> Success, OK 성공</li><li><strong>201</strong> Created 새로운 리소스 생성</li><li><strong>202</strong> Accepted 요청은 성공했으나 처리되지 않음</li><li><strong>203</strong> Non-authoritative information 요청이 변형 프록시를 통해 라우팅 되는 경우</li><li><strong>204</strong> No Content 요청은 성공했으나 반환되는 내용이 없음</li><li><strong>206</strong> Partial Content 페이징된 응답을 위해 사용된다. 헤더가 전송되고 클라이언트가 허용 가능한 범위가 지정되는데 응답이 범위보다 큰 경우, 서버는 처리해야 하는 더 많은 데이터가 있음을 나타내는 이 코드를 응답한다.</li></ul><h1 id="300"><a class="markdownIt-Anchor" href="#300"></a> 300</h1><p>리다이렉션</p><ul><li><strong>301</strong> Moved Permanently 영구적으로 리다이렉트</li><li><strong>302</strong> Found 리다이렉트하지만 나중에 바뀔 수 있음, 사용자가 임의의 이유로 일시적인 리다이렉션 수행을 요구하는 것</li><li><strong>304</strong> Not Modified 클라이언트에 캐시된 리소스로 요청됨</li><li><strong>307</strong> Temporary Redirect</li><li><strong>308</strong> Permanent Redirect 자원에 대한 영구적인 리다이렉트를 지정, HTTP 메소드가 자원을 변경하는 것을 허용하지 않는다.</li></ul><h1 id="400"><a class="markdownIt-Anchor" href="#400"></a> 400</h1><p>클라이언트 오류</p><ul><li><strong>400</strong> Bad Request 구문적으로 잘못된 요청</li><li><strong>401</strong> Unauthorized 인증 필요 (실제로는 Unauthenticated 의 의미)</li><li><strong>403</strong> Forbidden 권한 부족 (실제로는 Unauthorized 의 의미)</li><li><strong>404</strong> Not Found</li><li><strong>405</strong> Method Not Allowed 메소드가 일치하지 않음</li><li><strong>406</strong> Not Acceptable 헤더 또는 내용이 서버에서 받아들일 수 없는 요청</li><li><strong>407</strong> Proxy Authentication Required 프록시 인증 필요</li><li><strong>408</strong> Request Timeout 요청시간 초과</li><li><strong>409</strong> Conflict 기존 리소스와 충돌</li><li><strong>410</strong> Gone 리소스가 영원히 사라짐</li><li><strong>411</strong> Length Required Content-Length 없음</li><li><strong>413</strong> Requested Entity Too Large 내용이 너무 큼 (첨부파일)</li><li><strong>414</strong> Requested URL Too Long URL 이 너무 김</li><li><strong>422</strong> Unprocessable Entity Validation 오류</li><li><strong>429</strong> Too Many Requests 요청 횟수 제한</li></ul><h1 id="500"><a class="markdownIt-Anchor" href="#500"></a> 500</h1><p>서버 오류</p><ul><li><strong>500</strong> Internal Server Error 서버 오류</li><li><strong>501</strong> Not Implemented 클라이언트가 아직 구현되지 않은 엔드포인트에 접근하는 경우</li><li><strong>502</strong> Bad Gateway 게이트웨이 오류</li><li><strong>503</strong> Service Unavailable 일시적인 오류 (터지거나 점검 중)</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>composer zlib_decode와 content-length mismatch 오류</title>
      <link href="/2017/05/24/composer-zlib-decode%EC%99%80-content-length-mismatch-%EC%98%A4%EB%A5%98/"/>
      <url>/2017/05/24/composer-zlib-decode%EC%99%80-content-length-mismatch-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><p>컴포저로 패키지를 다운 받은 후에 갑자기 오류가 나면서 다른 설치조차 안되는 경우가 있다.<br>오류 메세지는 아래 두 경우로 나타난다.</p><h2 id="zlib_decode"><a class="markdownIt-Anchor" href="#zlib_decode"></a> zlib_decode</h2><p>json 파일 디코딩이 실패했다는 오류이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Failed to decode response: zlib_decode(): data error</span><br><span class="line">Retrying with degraded mode, check https://getcomposer.org/doc/articles/troubleshooting.md<span class="comment">#degraded-mode for more info</span></span><br><span class="line"></span><br><span class="line">[ErrorException]</span><br><span class="line">zlib_decode(): data error</span><br></pre></td></tr></table></figure><p>위의 링크를 따라가 보면 해결책으로 다음과 같이 제시가 되는데<br>ESET antivirus는 아직 국내에서 쓰는 사람을 못 봤고, IPv6을 막아도 그대로일 것이다.</p><ul><li>If you are using ESET antivirus, go in “Advanced Settings” and disable “HTTP-scanner” under “web access protection”</li><li>If you are using IPv6, try disabling it. If that solves your issues, get in touch with your ISP or server host, the problem is not at the Packagist level but in the routing rules between you and Packagist (i.e. the internet at large). The best way to get these fixed is raise awareness to the network engineers that have the power to fix it. Take a look at the next section for IPv6 workarounds.</li><li>If none of the above helped, please report the error.</li></ul><h2 id="content-length-mismatch"><a class="markdownIt-Anchor" href="#content-length-mismatch"></a> content-length mismatch</h2><p>composer의 패키지 list를 가지고 있는 json파일이 다 안받아졌다는 내용의 오류이다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Composer\Downloader\TransportException]</span><br><span class="line">Content-Length mismatch</span><br></pre></td></tr></table></figure><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>구글링 해보면 clear-cache를 한 뒤에 composer -vvv 명령어를 사용해 디버깅 로그를 확인해보라는 내용이 주류인데 별 도움은 안 된다.<br>http 연결이아닌 https로 packagist에 붙어보라는 것도 해결되지 않았다.</p><h2 id="packagist-repository-변경"><a class="markdownIt-Anchor" href="#packagist-repository-변경"></a> packagist repository 변경</h2><p>packagist는 유럽에 있어서 한국에서 유럽까지 갔다가 다시 돌아오는 구조라,<br><a href="https://packagist.jp/" target="_blank" rel="external nofollow noopener noreferrer">packagist 일본 미러</a>를 이용하면 이 문제가 해결된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 이 명령어로 global config에 repos.packagist 를 추가한다.</span></span><br><span class="line">$ composer config -g repos.packagist composer https://packagist.jp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정이 되었는지 확인한다..</span></span><br><span class="line">$ composer config -gl|grep repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 아래 설정이 보이면 추가가 된 것이다.</span></span><br><span class="line">[repositories.packagist.org.type] composer</span><br><span class="line">[repositories.packagist.org.url] https://packagist.jp</span><br></pre></td></tr></table></figure><h2 id="캐시-제거"><a class="markdownIt-Anchor" href="#캐시-제거"></a> 캐시 제거</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ composer global clear-cache</span><br><span class="line">$ composer clear-cache</span><br></pre></td></tr></table></figure><p>이제 다시 패키지를 설치하면 설치가 될 것이다.</p><h1 id="다운로드-속도-향상"><a class="markdownIt-Anchor" href="#다운로드-속도-향상"></a> 다운로드 속도 향상</h1><p>병렬 다운로드를 가능하게 하는 <a href="https://github.com/hirak/prestissimo" target="_blank" rel="external nofollow noopener noreferrer">hirak/prestissimo</a> 패키지를 설치하자.<br>288s -&gt; 26s 가 되는 마법이 일어난다고 한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer global require hirak/prestissimo</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> composer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> composer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravel 5.5 - 시작하기</title>
      <link href="/2017/05/16/Laravel-5-4-Start/"/>
      <url>/2017/05/16/Laravel-5-4-Start/</url>
      
        <content type="html"><![CDATA[<h1 id="왜-라라벨인가"><a class="markdownIt-Anchor" href="#왜-라라벨인가"></a> 왜 라라벨인가?</h1><img data-src="https://i.imgur.com/TuwFZD4.png"><p>1등이 된지가 14년 7월이다. 이 글은 17년 글이다.<br>다른 장점이 궁금하다면 다른 포스트나 stackoverflow에서 해결해줄 것 같다.</p><p>이 글을 읽어주시는 분들은 <strong>Modern PHP에 대해 이해</strong>하고 있다고 생각했기 떄문에 문법적인 것들은 설명하지 않을 것이다.<br><em>더군다나 라라벨을 도입하면서 삽질한 내용을 정리하고 있기에, 입문용은 절대 아니다.</em><br>기본적으로 아래와 같은 PHP 개념을 알고 있어야한다.</p><ul><li>PSR</li><li>Composer</li><li>Class</li><li>Namespace</li><li>Closure</li><li>Trait</li><li>PDO</li></ul><p>추가적으로 이런 걸 사용해 봤다면 더 쉬울 듯하다.</p><ul><li>Monolog</li><li>다른 MVC 프레임워크</li><li>Lodash</li></ul><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="php"><a class="markdownIt-Anchor" href="#php"></a> PHP</h2><p>PHP 7 이상을 설치해주고, 아래 Extension은 웬만하면 열어주는 것들이니 크게 신경쓰지 말자.</p><ul><li>PHP &gt;= 7.0.0</li><li>OpenSSL PHP Extension</li><li>PDO PHP Extension</li><li>Mbstring PHP Extension</li><li>Tokenizer PHP Extension</li><li>XML PHP Extension</li></ul><h2 id="composer"><a class="markdownIt-Anchor" href="#composer"></a> Composer</h2><p><a href="https://getcomposer.org/download/" target="_blank" rel="external nofollow noopener noreferrer">Composer 홈페이지</a>에서 다운받고 전역설정만 해주면 된다.</p><h2 id="laravel-cli"><a class="markdownIt-Anchor" href="#laravel-cli"></a> Laravel Cli</h2><p>Laravel 명령어를 사용할 수 있게 composer로 전역 설치하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer global require <span class="string">"laravel/installer"</span></span><br></pre></td></tr></table></figure><h1 id="프로젝트-생성"><a class="markdownIt-Anchor" href="#프로젝트-생성"></a> 프로젝트 생성</h1><h2 id="초기-생성"><a class="markdownIt-Anchor" href="#초기-생성"></a> 초기 생성</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ laravel new 프로젝트명</span><br></pre></td></tr></table></figure><p>위 명령어를 실행하면, 알아서 composer 패키지까지 설치된다.</p><h2 id="clone-했을-때"><a class="markdownIt-Anchor" href="#clone-했을-때"></a> clone 했을 때</h2><p>환경 설정 파일과 프로젝트 키가 없으므로 적절하게 세팅해줘야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 패키지 의존성 설치</span></span><br><span class="line">$ composer install</span><br><span class="line"></span><br><span class="line"><span class="comment"># .env 파일 복사 (설정파일 생성)</span></span><br><span class="line"><span class="comment"># post-root-package-install scripts로 들어가 있긴한데, 복사가 안 되는 경우</span></span><br><span class="line">$ cp .env.example .env</span><br><span class="line"></span><br><span class="line"><span class="comment"># 프로젝트 키 생성</span></span><br><span class="line">$ php artisan key:generate</span><br></pre></td></tr></table></figure><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><p>프로젝트를 실행해보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan serve</span><br></pre></td></tr></table></figure><p>이제 localhost:8000으로 라라벨 프로젝트에 접근이 가능하다.</p><blockquote><p>php artisan 명령어는 laravel에서 사용하는 커맨드 쉘이다.<br><strong>php artisan</strong>로 명령어 리스트가 나오고 <strong>php artisan help 명령어</strong> 로 해당 명령어의 옵션을 볼 수 있다.</p></blockquote><h1 id="프로젝트-구조"><a class="markdownIt-Anchor" href="#프로젝트-구조"></a> 프로젝트 구조</h1><p><a href="https://laravel.kr/docs/5.4/structure" target="_blank" rel="external nofollow noopener noreferrer">라라벨 한글 메뉴얼</a>이나 <a href="https://laravel.com/docs/5.4/structure" target="_blank" rel="external nofollow noopener noreferrer">공식 메뉴얼</a>을 보면 되는데 마치 사전을 펴놓았는데 어떤 단어를 찾는지 까먹은 느낌이 들 것이다.</p><p>모든 프레임워크는 Model, View, Controller, Routing만 알면 끝이라는 것을 잠시 기억 속에서 꺼내보고 <strong>딱 3가지 경로만 기억</strong>하자.</p><ul><li><strong>Route</strong>: routes/</li><li><strong>Controller</strong>: app/Http/Controllers/</li><li><strong>View</strong> : resources/views/</li></ul><blockquote><p>모델은 어딨어? 라고 생각할 것 같은데 Model을 완벽하게 사용하려면 ORM을 써야하고 DB를 ORM에 맞게 정규화해야하며 이 작업은 처음 진행하기에 고통스럽다.<br>다음 포스트에 진행해보자.</p></blockquote><h2 id="route"><a class="markdownIt-Anchor" href="#route"></a> Route</h2><p>모든 웹 프레임워크의 기본은 Routing이다.<br>routes 폴더에 기본으로 api, channels, console, web 파일이 보이는데 그 중 2가지만 알면 된다.</p><ul><li>api.php: Token 인증이 필요한 라우터로 /api/{route} 로 접근이 가능하다.</li><li>web.php: 기본적인 Route이다. GET이 아닌 다른 메소드는 CSRF Token이 있어야만 호출이 가능하다.</li></ul><h2 id="controller"><a class="markdownIt-Anchor" href="#controller"></a> Controller</h2><p>Routing 요청을 처리하는 로직이 들어있는 부분이다.</p><h2 id="view"><a class="markdownIt-Anchor" href="#view"></a> View</h2><p>Controller에서 처리된 데이터를 플랫폼에 보여주는 부분이다.</p><h1 id="프로젝트-세팅"><a class="markdownIt-Anchor" href="#프로젝트-세팅"></a> 프로젝트 세팅</h1><h2 id="app-설정"><a class="markdownIt-Anchor" href="#app-설정"></a> App 설정</h2><h3 id="env-파일"><a class="markdownIt-Anchor" href="#env-파일"></a> env 파일</h3><p>.env 파일에서 APP_NAME과 DB로 시작하는 설정을 바꿔준다.</p><h3 id="app-파일"><a class="markdownIt-Anchor" href="#app-파일"></a> app 파일</h3><figure class="highlight php"><figcaption><span>config/app.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">  <span class="comment">// 시간대 세팅을 한다.</span></span><br><span class="line">  <span class="string">'timezone'</span> =&gt; <span class="string">'Asia/Seoul'</span>,</span><br><span class="line">  <span class="comment">// 언어 설정을 한다.</span></span><br><span class="line">  <span class="comment">// fallback_locale은 언어팩이있어야 하므로 아래에서 진행할 laravel-lang 설치 후 바꿔주자.</span></span><br><span class="line">  <span class="string">'locale'</span> =&gt; <span class="string">'ko'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="database-파일"><a class="markdownIt-Anchor" href="#database-파일"></a> database 파일</h3><figure class="highlight php"><figcaption><span>config/database.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line">  <span class="string">'connections'</span> =&gt; [</span><br><span class="line">    <span class="string">'mysql'</span> =&gt; [</span><br><span class="line">      <span class="comment">// mysql일 경우 utf8로 설정해준다 (maria는 utf8mb4)</span></span><br><span class="line">      <span class="comment">// DB 설정과 다르게 Model 이용시 charset 및 collation이 지정되어 들어가기에 꼭 설정해줘야한다.</span></span><br><span class="line">      <span class="string">'charset'</span> =&gt; <span class="string">'utf8'</span>,</span><br><span class="line">      <span class="string">'collation'</span> =&gt; <span class="string">'utf8_general_ci'</span>,</span><br><span class="line">      <span class="comment">// 내 테이블의 접두사가 필요하다면 여기서 설정한다.</span></span><br><span class="line">      <span class="comment">// 예를들어 test_member, test_product 이런식의 테이블 명명규칙이라면 아래처럼 주면된다.</span></span><br><span class="line">      <span class="string">'prefix'</span> =&gt; <span class="string">'test_'</span>,</span><br><span class="line">      <span class="comment">// engine 옵션은 my.ini에서 만져주자..</span></span><br><span class="line">      <span class="string">'engine'</span> =&gt; <span class="keyword">null</span>,</span><br><span class="line">    ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><p>config 내의 파일과 .env파일을 건드릴 경우 laravel 환경을 다시 캐싱해주거나 아예 삭제해야 적용이 된다.<br><strong>php artisan config:cache</strong> 명령어 또는 <strong>php artisan config:clear</strong> 명령어를 실행해주자.</p></blockquote><h2 id="debug-bar"><a class="markdownIt-Anchor" href="#debug-bar"></a> Debug Bar</h2><p>정말 멋진 디버깅 툴이다.<br>간단히 설치 후에 .env 파일의 <strong>APP_DEBUG</strong> 옵션이 true이면 자동으로 View 하단에 생성된다.<br>아래와 같은 데이터를 확인할 수 있다.</p><ul><li>로그 내역</li><li>뷰 데이터 바인딩 확인</li><li>오류</li><li>라우팅</li><li>쿼리 실행</li><li>메일 발송 데이터</li><li>실행 시간</li><li>Request</li></ul><h3 id="설치-2"><a class="markdownIt-Anchor" href="#설치-2"></a> 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require barryvdh/laravel-debugbar</span><br></pre></td></tr></table></figure><h2 id="laravel-lang"><a class="markdownIt-Anchor" href="#laravel-lang"></a> laravel-lang</h2><p>기본 오류 메세지들의 localization 패키지이다.</p><h3 id="설치-3"><a class="markdownIt-Anchor" href="#설치-3"></a> 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require caouecs/laravel-lang:~3.0</span><br></pre></td></tr></table></figure><h3 id="적용"><a class="markdownIt-Anchor" href="#적용"></a> 적용</h3><p>vendor/caouecs/laravel-lang/src/{국가} 폴더를<br>resources/lang/{국가} 로 복사하고 <strong>config/app.php</strong> 의 <strong>fallback_locale</strong>을 {국가}로 바꿔주면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 귀찮으니 git bash에서 날려봅시다.</span></span><br><span class="line">$ cp -r ./vendor/caouecs/laravel-lang/src/ko ./resources/lang/ko</span><br></pre></td></tr></table></figure><h1 id="라우팅"><a class="markdownIt-Anchor" href="#라우팅"></a> 라우팅</h1><figure class="highlight php"><figcaption><span>routes/web.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// url 변수</span></span><br><span class="line">Route::get(<span class="string">'/your_url/&#123;id&#125;'</span>, <span class="function"><span class="keyword">function</span><span class="params">($id)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $id;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Route::get(<span class="string">'/your_url/&#123;id?&#125;'</span>, <span class="function"><span class="keyword">function</span><span class="params">($id = null)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> $id;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="컨트롤러"><a class="markdownIt-Anchor" href="#컨트롤러"></a> 컨트롤러</h1><h2 id="생성"><a class="markdownIt-Anchor" href="#생성"></a> 생성</h2><p>artisan 명령어로 간단히 생성할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make:controller 폴더명/컨트롤러명</span></span><br><span class="line">$ php artisan make:controller TestController</span><br><span class="line"></span><br><span class="line"><span class="comment"># 리소스 메소드를 같이 생성</span></span><br><span class="line">$ php artisan make:controller TestController --resource</span><br></pre></td></tr></table></figure><h2 id="연결"><a class="markdownIt-Anchor" href="#연결"></a> 연결</h2><figure class="highlight php"><figcaption><span>routes/web.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 컨트롤러명@메소드명 으로 바로 연결시킬 수 있다.</span></span><br><span class="line">Route::get(<span class="string">'/url/&#123;id&#125;'</span>, <span class="string">'TestController@get'</span>);</span><br><span class="line">Route::post(<span class="string">'/url'</span>, <span class="string">'TestContoller@post'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// CRUD가 명확한 컨트롤러인 경우 Resource를 사용하는 게 편할 수 있다.</span></span><br><span class="line">Route::resource(<span class="string">'tests'</span>, <span class="string">'TestController'</span>);</span><br><span class="line"><span class="comment">// only 또는 except로 원하는 resource만 가져갈 수 있다.</span></span><br><span class="line">Route::resource(<span class="string">'tests'</span>, <span class="string">'TestController'</span>, [</span><br><span class="line">  <span class="string">'only'</span> =&gt; [</span><br><span class="line">    <span class="string">'index'</span>, <span class="string">'show'</span></span><br><span class="line">  ]</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><figure class="highlight php"><figcaption><span>app/Http/Controllers/TestController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span><span class="params">($id)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 뷰를 호출</span></span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">'test.detail'</span>, [</span><br><span class="line">      <span class="string">'data'</span> =&gt; $data</span><br><span class="line">    ]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">post</span><span class="params">(Request $request, $id)</span></span>&#123;</span><br><span class="line">    <span class="comment">// Request 데이터를 제어할 수 있다.</span></span><br><span class="line">    $input = $request-&gt;all();</span><br><span class="line">    $name = $request-&gt;input(<span class="string">'name'</span>);</span><br><span class="line"></span><br><span class="line">    $data = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// json body와 201 http code를 반환</span></span><br><span class="line">    <span class="keyword">return</span> response()-&gt;json([</span><br><span class="line">      <span class="string">'data'</span> =&gt; $data</span><br><span class="line">    ], <span class="number">201</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="resource"><a class="markdownIt-Anchor" href="#resource"></a> Resource</h3><p>리소스 사용시라면 아래와 같은 메소드로 구성되어야한다.<br>게시판 컨트롤러라면 아래와 같은 구성일 것이다.</p><table><thead><tr><th>메소드</th><th>경로</th><th>액션</th><th>라우트.메소드</th></tr></thead><tbody><tr><td>GET</td><td>/boards</td><td>게시판 메인</td><td>boards.index</td></tr><tr><td>GET</td><td>/boards/create</td><td>게시글 생성페이지</td><td>boards.create</td></tr><tr><td>POST</td><td>/boards</td><td>게시글 저장</td><td>boards.store</td></tr><tr><td>GET</td><td>/boards/{id}</td><td>게시글 상세페이지</td><td>boards.show</td></tr><tr><td>GET</td><td>/boards/{id}/edit</td><td>게시글 수정페이지</td><td>boards.edit</td></tr><tr><td>PUT/PATCH</td><td>/boards/{id}</td><td>게시글 수정로직</td><td>boards.update</td></tr><tr><td>DELETE</td><td>/boards/{id}</td><td>게시글 삭제</td><td>boards.destroy</td></tr></tbody></table><h1 id="뷰"><a class="markdownIt-Anchor" href="#뷰"></a> 뷰</h1><p>블레이드 템플릿을 사용하며 <a href="https://laravel.com/docs/5.4/blade#control-structures" target="_blank" rel="external nofollow noopener noreferrer">홈페이지</a> 설명이 꽤나 자세하다.<br>당장 알아야 할건 아래 두 개 정도 뿐이다. 나머지는 그때 그때 문서를 참조하자.</p><figure class="highlight php"><figcaption><span>resources/views/test/detail.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 바인딩한 데이터를 &#123;&#123; &#125;&#125; 구문으로 바로 접근할 수 있다.</span></span><br><span class="line">&#123;&#123; $data-&gt;name &#125;&#125;님의 정보입니다.</span><br></pre></td></tr></table></figure><figure class="highlight php"><figcaption><span>resources/views/test/create.blade.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// post로 전송시</span></span><br><span class="line">&lt;form method=<span class="string">"post"</span> url=<span class="string">"/url"</span>&gt;</span><br><span class="line">  <span class="comment">// post로 데이터를 전송시 csrf 토큰이 필요하다.</span></span><br><span class="line">  <span class="comment">// 이 헬퍼함수를 호출하면 자동으로 토큰 값이 들어간 input hidden 필드가 생성된다.</span></span><br><span class="line">  &#123;&#123; csrf_field() &#125;&#125;</span><br><span class="line">  이름: &lt;input type=<span class="string">"text"</span> name=<span class="string">"name"</span> vavlue=<span class="string">""</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 기타 메소드로 전송시</span></span><br><span class="line">&lt;form method=<span class="string">"post"</span> url=<span class="string">"/url"</span>&gt;</span><br><span class="line">  &#123;&#123; crsf_field() &#125;&#125;</span><br><span class="line">  <span class="comment">// PUT, PATCH, DELETE 와 같은 메소드로 전송시 form 태그에서는 지원을 해주지 않으므로 method spoofing이 필요하다.</span></span><br><span class="line">  <span class="comment">// 이 헬퍼함수를 호출하면 해결된다.</span></span><br><span class="line">  &#123;&#123; method_field(<span class="string">'PUT'</span>)&#125;&#125;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이제 라라벨을 이용해 데이터를 서버에 보내고 뷰를 구성할 수 있게 되었다.<br><a href="/2017/06/06/Laravel-5-4-Eloquent-Model/">다음 포스팅</a>에서는 DB 연동과 ORM 모델을 사용해 데이터를 가져오고 페이징 처리를 해보자.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
          <category> laravel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>알고리즘</title>
      <link href="/2017/04/01/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/"/>
      <url>/2017/04/01/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/</url>
      
        <content type="html"><![CDATA[<h1 id="객체지향"><a class="markdownIt-Anchor" href="#객체지향"></a> 객체지향</h1><h2 id="객체지향-기법"><a class="markdownIt-Anchor" href="#객체지향-기법"></a> 객체지향 기법</h2><ul><li>현실 세계의 개체를 기계의 부품처럼 하나의 객체로 만들어 기계적인 부품들을 조립하여 제품을 만들 듯 소프트웨어를 개발할 때도 객체들을 조립해 작성할 수 있도록 하는 기법</li></ul><h2 id="객체"><a class="markdownIt-Anchor" href="#객체"></a> 객체</h2><ul><li>데이터와 데이터를 처리하는 함수를 묶어 놓은 하나의 소프트웨어 모듈</li><li><strong>데이터</strong>: 객체가 가지고 있는 정보</li><li><strong>함수</strong>: 객체가 수행하는 기능, 객체가 갖는 데이터를 처리하는 알고리즘</li></ul><h2 id="클래스"><a class="markdownIt-Anchor" href="#클래스"></a> 클래스</h2><ul><li>공통된 속성과 연산을 갖는 객체의 집합</li><li>객체의 일반적인 타입</li><li>각각의 객체들이 갖는 속성과 연산을 정의하고 있는 틀</li><li><strong>인스턴스</strong>: 클래스에 속한 각각의 객체</li></ul><h2 id="메세지"><a class="markdownIt-Anchor" href="#메세지"></a> 메세지</h2><ul><li>객체들 간에 상호작용을 하는 데 사용되는 수단</li><li>객체에게 어떤 행위를 하도록 지시하는 명령 또는 요구사항</li></ul><h1 id="객체지향-기본-원칙"><a class="markdownIt-Anchor" href="#객체지향-기본-원칙"></a> 객체지향 기본 원칙</h1><h2 id="캡슐화"><a class="markdownIt-Anchor" href="#캡슐화"></a> 캡슐화</h2><ul><li>Encapsulation</li><li>데이터와 데이터를 처리하는 함수를 하나로 묶는 것</li><li>연관된 데이터와 함수를 함께 묶어 외부와의 경계를 만들고 필요한 인터페이스만을 밖으로 드러내는 과정</li></ul><h2 id="정보-은닉"><a class="markdownIt-Anchor" href="#정보-은닉"></a> 정보 은닉</h2><ul><li>Information Hiding</li><li>다른 객체에게 자신의 정보를 숨기고 자신의 연산만을 통하여 접근을 허용하는 것</li><li>캡슐화에서 가장 중요한 개념</li></ul><h2 id="추상화"><a class="markdownIt-Anchor" href="#추상화"></a> 추상화</h2><ul><li>Abstraction</li><li>불필요한 부분을 생략하고 객체의 속성 중 가장 중요한 것에만 중점을 두어 개략하는 것</li><li>모델화</li></ul><h2 id="상속성"><a class="markdownIt-Anchor" href="#상속성"></a> 상속성</h2><ul><li>Inheritance</li><li>이미 정의된 상위 클래스의 모든 속성과 연산을 하위 클래스가 물려받는 것</li></ul><h2 id="다형성"><a class="markdownIt-Anchor" href="#다형성"></a> 다형성</h2><ul><li>Polymorphism</li><li>메세지에 의해 객체가 연산을 수행하게 될 때 하나의 메세지에 대해 각 객체가 가지고 있는 고유한 방법으로 응답하는 것</li></ul><h1 id="객체지향-생명-주기"><a class="markdownIt-Anchor" href="#객체지향-생명-주기"></a> 객체지향 생명 주기</h1><blockquote><p>계획 및 분석 =&gt; 설계 =&gt; 구현 =&gt; 테스트 및 검증</p></blockquote><h2 id="객체지향-분석"><a class="markdownIt-Anchor" href="#객체지향-분석"></a> 객체지향 분석</h2><ul><li>OOA = Object Oriented Analysis</li><li>사용자의 요구사항을 분석하여 요구된 문제와 관련된 모든 클래스, 이와 연관된 속성과 연산, 그들간의 관계 등을 정의하여 모델링하는 작업</li></ul><h2 id="객체지향-설계"><a class="markdownIt-Anchor" href="#객체지향-설계"></a> 객체지향 설계</h2><ul><li>OOD = Object Oriented Design</li><li>객체지향 분석을 사용해 생성한 여러 가지 분석 모델을 설계 모델로 변환하는 작업</li><li>시스템 설계와 객체 설계를 수행</li></ul><blockquote><p>문제 정의 =&gt; 요구 명세화 =&gt; 객체 연산자 정의 =&gt; 객체 인터페이스 결정 =&gt; 객체 구현</p></blockquote><h2 id="객체지향-구현"><a class="markdownIt-Anchor" href="#객체지향-구현"></a> 객체지향 구현</h2><ul><li>설계 단계에서 생성된 설계 모델과 명세서를 근거로 하여 코딩하는 단계</li><li>객체 기반 언어: Ada, Actor와 같이 객체의 개념만을 지원</li><li>클래스 기반 언어: Clu와 같이 객체와 클래스의 개념을 지원</li><li>객체 지향성 언어: 객체, 클래스, 상속의 개념을 모두 지원, Simula, Smalltalk, C++, Objective C, Java</li></ul><blockquote><p><strong>객체지향 프로그래밍</strong></p><ul><li>OOP = Object Oriented Programming</li><li>새로운 개념의 모듈 단위, 즉 객체를 중심으로 하여 프로그램을 개발하는 기법</li></ul></blockquote><h2 id="객체지향-테스트"><a class="markdownIt-Anchor" href="#객체지향-테스트"></a> 객체지향 테스트</h2><h3 id="클래스-테스트"><a class="markdownIt-Anchor" href="#클래스-테스트"></a> 클래스 테스트</h3><ul><li>구조적 기법에서의 단위 테스트와 같은 개념</li><li>캡슐화된 클래스나 객체를 검사하는 것</li></ul><h3 id="통합-테스트"><a class="markdownIt-Anchor" href="#통합-테스트"></a> 통합 테스트</h3><ul><li>객체 몇 개를 결합하여 하나의 시스템으로 완성시키는 과정에서의 검사</li><li>스레드 기반 테스트: 시스템에 대한 하나의 입력이나 이벤트에 응답하는 데 요구되는 클래스들을 통합하는 것</li><li>사용 기반 테스트: 독립 클래스를 테스트한 후 독립 클래스를 사용하는 다음 계층의 종속 클래스를 테스트</li></ul><h3 id="확인-테스트"><a class="markdownIt-Anchor" href="#확인-테스트"></a> 확인 테스트</h3><ul><li>사용자 요구사항에 대한 만족 여부를 검사</li></ul><h3 id="시스템-테스트"><a class="markdownIt-Anchor" href="#시스템-테스트"></a> 시스템 테스트</h3><ul><li>모든 요소들이 적합하게 통합되고 올바른 기능을 수행하는지 검사</li></ul><h1 id="아키텍처"><a class="markdownIt-Anchor" href="#아키텍처"></a> 아키텍처</h1><h2 id="ieee-1471"><a class="markdownIt-Anchor" href="#ieee-1471"></a> IEEE 1471</h2><ul><li>ANSI / IEEE 1471-2000</li><li>소프트웨어 집약적인 시스템에서 아키텍처가 표현해야 하는 요소와 내용들, 이들 간의 관계를 규정하고 있는 국제 표준</li><li>표준화, 중립성, 유연성, 의사소통</li></ul><h2 id="저장소-구조"><a class="markdownIt-Anchor" href="#저장소-구조"></a> 저장소 구조</h2><ul><li>중앙자료구조와 독립된 컴포넌트로 구성된 아키텍처</li><li>큰 데이터의 이동 및 공유에 적합하며 컴포넌트 간 통신은 이뤄지지 않는다.</li><li>대량의 데이터를 저장하는데 효과적이다.</li><li>컴포넌트의 추가 삭제가 편리하다.</li><li>중앙 집중화를 통해 데이터 관리가 용이하고 보안이 뛰어나다.</li></ul><h2 id="mvc-구조"><a class="markdownIt-Anchor" href="#mvc-구조"></a> MVC 구조</h2><ul><li>애플리케이션을 모델, 뷰, 컨트롤러의 세 개의 컴포넌트로 구분하는 아키텍처</li><li>유저 인터페이스와 비지니스 로직들을 서로 분리하여 개발하는 방법</li><li>장점<ul><li>동일한 모델에 대해 다양한 뷰 제공</li><li>효율적인 모듈화 가능</li><li>모델과 뷰의 구분으로 사용자 인터페이스에 대한 요구 사항을 적용시키는데 용이</li></ul></li></ul><h3 id="모델"><a class="markdownIt-Anchor" href="#모델"></a> 모델</h3><ul><li>애플리케이션의 핵심 기능을 포함</li><li>상태 변화시 컨트롤러와 뷰에 전달</li></ul><h3 id="뷰"><a class="markdownIt-Anchor" href="#뷰"></a> 뷰</h3><ul><li>정보 표시를 관리</li><li>결과물 생성을 위해 모델로부터 정보를 수신</li></ul><h3 id="컨트롤러"><a class="markdownIt-Anchor" href="#컨트롤러"></a> 컨트롤러</h3><ul><li>사용자로부터 입력을 받아 모델과 뷰에 명령을 전달</li><li>모델에 명령을 전달해 상태를 변경하고 뷰에 명령을 보내 표시 방법을 변경</li></ul><h2 id="클라이언트서버-구조"><a class="markdownIt-Anchor" href="#클라이언트서버-구조"></a> 클라이언트/서버 구조</h2><ul><li>클라이언트와 서버로 나뉘는 아키텍처</li><li>클라이언트: 사용자로부터 입력을 받아 서버에 요청을 전달</li><li>서버: 수신된 요청을 수행하고 데이터의 일관성을 유지</li><li>새로운 서버의 추가 및 업그레이드가 용이</li><li>데이터가 서버에 집중되어 데이터 관리 용이</li><li>서버에 네트워크 트래픽과 데이터가 집중되 처리 비용이 급증할 수 있다.</li></ul><h2 id="계층-구조"><a class="markdownIt-Anchor" href="#계층-구조"></a> 계층 구조</h2><ul><li>계층적으로 조직화가 가능한 애플리케이션에 적합한 아키텍처</li><li>인접 계층 사이에서만 요청과 응답이 이뤄지며 변경 사항을 적용할 때에도 두 개의 인접 계층에만 영향을 미쳐 원활한 변경이 가능</li><li>OSI 7 Layer</li></ul><h2 id="파이프-필터-구조"><a class="markdownIt-Anchor" href="#파이프-필터-구조"></a> 파이프 필터 구조</h2><ul><li>데이터의 흐름을 점진적으로 처리하는 시스템을 위한 아키텍처</li><li>프로세싱을 위한 시스템이 각 필터에 캡슐화되어 있으며 데이터는 인접 필터 사이의 파이프를 통해 전달되는 형태</li></ul><h1 id="서식-문자열"><a class="markdownIt-Anchor" href="#서식-문자열"></a> 서식 문자열</h1><ul><li>%d: 정수형 10진수 입출력</li><li>%c: 문자 입출력</li><li>%s: 문자열 입출력<ul><li>%-8.3s: 8칸 확보 후 문자열 왼쪽부터 문자열 3개 출력</li></ul></li><li>%f: 소숫점을 포함하는 실수로 입출력<ul><li>자릿수 없으면 6자리까지 표기</li><li>%8.3f: 8칸 확보 후 오른쪽부터 정수 표기 후 소숫점은 3자리까지 출력</li></ul></li></ul><h1 id="패딩-비트"><a class="markdownIt-Anchor" href="#패딩-비트"></a> 패딩 비트</h1><ul><li>양수: Left, Right 모두 0</li><li>음수: Left 0, Right 1</li></ul><h1 id="연산자-우선순위"><a class="markdownIt-Anchor" href="#연산자-우선순위"></a> 연산자 우선순위</h1><ol><li>단항</li><li>산술</li><li>시프트</li><li>관계: &lt; &lt;=가 == !=보다 우선</li><li>비트: &amp;(and), ^(xor), |(or) 순서</li><li>논리: &amp;&amp;, || 순서</li><li>삼항연산</li></ol><blockquote><p>xor, 다른면 1 같으면 0</p></blockquote><h1 id="소수-판별"><a class="markdownIt-Anchor" href="#소수-판별"></a> 소수 판별</h1><ul><li>N을 2~(N-1)까지 차례대로 나눠 떨어지는지 확인</li><li>N을 2부터 차례대로 나눠 처음으로 나눠떨어질 때의 나눈 수와 N이 같으면 소수</li><li>N를 2부터 루트N 까지 숫자로 나눠 떨어지는지 확인</li></ul><h1 id="소수의-개수"><a class="markdownIt-Anchor" href="#소수의-개수"></a> 소수의 개수</h1><ul><li>처음 나온 소수의 배수들은 소수가 아니다</li></ul><h1 id="최대공약수-최소공배수"><a class="markdownIt-Anchor" href="#최대공약수-최소공배수"></a> 최대공약수, 최소공배수</h1><ul><li>유클리드 호제법 사용</li><li>두 수 중 큰 수와 작은 수를 정한 뒤 큰 수를 작은 수로 나눠 나머지를 구한다.</li><li>나머지가 0이면 그 때의 작은 수가 최대공약수</li><li>두 수를 곱한 값을 최대공약수로 나눈 값이 최소공배수</li><li>나머지가 0이 아니면 작은 수를 큰 수로, 나머지를 작은 수로</li></ul><h1 id="약수"><a class="markdownIt-Anchor" href="#약수"></a> 약수</h1><ul><li>N을 1부터 N까지 나눠 나머지가 0이 되는 수</li></ul><h1 id="소인수-분해"><a class="markdownIt-Anchor" href="#소인수-분해"></a> 소인수 분해</h1><ul><li>N을 2에서 루트N까지 나눠 떨어지는지 확인</li><li>나눠 떨어졌다면 그 수는 소인수</li><li>나눌때의 몫을 다시 N으로 놓고 2에서 루트 N까지 나눠떨어지는지 확인</li></ul><h1 id="10진법에서-2진법"><a class="markdownIt-Anchor" href="#10진법에서-2진법"></a> 10진법에서 2진법</h1><ul><li>10진수를 2로 나눠 나머지를 구한 후 저장</li></ul><h1 id="10진법에서-n진법"><a class="markdownIt-Anchor" href="#10진법에서-n진법"></a> 10진법에서 N진법</h1><ul><li>10진수를 N진법의 가장 가까운 누승부터 1까지 차례대로 나누는 방법</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Angular4로의 업그레이드</title>
      <link href="/2017/03/31/Upgrade-Angular4/"/>
      <url>/2017/03/31/Upgrade-Angular4/</url>
      
        <content type="html"><![CDATA[<p>170323에 Angular2의 stable 버전이라고 할 수 있는 Angular4가 나왔다.<br>Angular2하고 있었는데 <strong>나도 모르는 사이에 버전이 4가 되었나, 1에서 2가 그렇게 많이 바뀌었는데 Angular4는 얼마나 바뀐걸까?</strong></p><p>Angular2부터는 npm으로 관리되기에 소스의 버전을 따라서 명명을 해 비롯된 것으로 큰 변경점이 없으니 안심해도 된다.</p><p>버전별로 보면 이렇다.</p><ul><li>Angular1 : 기존 javascript로 코딩하던 $scope를 사용했던 버전</li><li>Angular1.x : Component가 도입된 버전</li><li>Angular2 : 처음으로 ts가 사용되고 새로운 앵귤러가 된 버전</li><li>Angular3 : 아무도 모르게 사용을 했었다. package.json에서 @angular/router를 보자 3버전대일 것이다.</li><li>Angular4 : 성능이 개선되었고 모든 Angular 모듈이 4버전</li></ul><h1 id="변경점"><a class="markdownIt-Anchor" href="#변경점"></a> 변경점</h1><p>모든 변경점은 <a href="https://angularjs.blogspot.kr/" target="_blank" rel="external nofollow noopener noreferrer">앵귤러 블로그</a>에서 확인할 수 있다.</p><ul><li>컴파일시 가벼워졌다.</li><li>애니메이션 패키지가 angular/core에서 angular/animation으로 분리되었다.</li><li>ngIf에서 else 구문을 쓸 수 있다.</li><li>angular universial의 기능이 angular/platform-server로 통합되었다.</li><li>typescript 2.1, 2.2버전 호환이 되었다.</li><li>angular-cli가 1버전으로 업그레이드 되어 1버전의 cli로 프로젝트 생성시 angular4 버전으로 생성이 된다.</li></ul><h1 id="업그레이드"><a class="markdownIt-Anchor" href="#업그레이드"></a> 업그레이드</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># angular 및 typescript</span></span><br><span class="line">$ npm install @angular/common@latest @angular/compiler@latest @angular/compiler-cli@latest @angular/core@latest @angular/forms@latest @angular/http@latest @angular/platform-browser@latest @angular/platform-browser-dynamic@latest @angular/platform-server@latest @angular/router@latest @angular/animations@latest typescript@latest --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># zone.js</span></span><br><span class="line">$ npm install zone.js@0.8.5 --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># angular-cli</span></span><br><span class="line">$ npm install @angular/cli@1.0.0 --save-dev</span><br></pre></td></tr></table></figure><h1 id="충돌"><a class="markdownIt-Anchor" href="#충돌"></a> 충돌</h1><ul><li>angular animation 기능을 사용한다면 platform-browser/animation의 BrowserAnimationsModule을 추가적으로 넣어줘야할 수도 있다.</li><li>typescript가 업그레이드 되면서 사용하지 않는 메소드나, 오류가 발생할 수 있는 스코프에 대해 linting이 더 강력해진 느낌이었다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> angular </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Single line for loop</title>
      <link href="/2017/03/31/single-line-for-loop/"/>
      <url>/2017/03/31/single-line-for-loop/</url>
      
        <content type="html"><![CDATA[<h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><h2 id="single-line"><a class="markdownIt-Anchor" href="#single-line"></a> Single line</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i,</span><br><span class="line">  sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i, sum += i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;i&#125;</span> <span class="subst">$&#123;sum&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><h2 id="일반적인-형태"><a class="markdownIt-Anchor" href="#일반적인-형태"></a> 일반적인 형태</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> j,</span><br><span class="line">  sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; ++j) &#123;</span><br><span class="line">  sum2 += j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;j&#125;</span> <span class="subst">$&#123;sum2&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><p>두 예제의 결과는 어떻게 나올까.<br>첫번째는 <strong>10 55</strong>, 두번째는 <strong>10 45</strong>가 나온다.</p><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>i 와 j 의 전위 후위 연산은 별로 중요하지 않다. (<ins>i 나 i</ins>이나 결과는 같게 나온다)</p><h2 id="single-line-2"><a class="markdownIt-Anchor" href="#single-line-2"></a> Single line</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i,</span><br><span class="line">  sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//  1    2     3    4</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i, sum += i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;i&#125;</span> <span class="subst">$&#123;sum&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><h2 id="일반적인-형태-2"><a class="markdownIt-Anchor" href="#일반적인-형태-2"></a> 일반적인 형태</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> j,</span><br><span class="line">  sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//  1    2     4</span></span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; ++j) &#123;</span><br><span class="line">  <span class="comment">// 3</span></span><br><span class="line">  sum2 += j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;j&#125;</span> <span class="subst">$&#123;sum2&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><h2 id="안티패턴의-끝"><a class="markdownIt-Anchor" href="#안티패턴의-끝"></a> 안티패턴의 끝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> k,</span><br><span class="line">  sum3 = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//  1    2     4    5</span></span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">10</span>; ++k, sum3 += k)</span><br><span class="line">  <span class="comment">//  3</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;k&#125;</span> <span class="subst">$&#123;sum3&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><p>연산의 실행 순서가 다르다고 이해하면 되겠다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>신기술 동향</title>
      <link href="/2017/03/27/%EC%8B%A0%EA%B8%B0%EC%88%A0-%EB%8F%99%ED%96%A5/"/>
      <url>/2017/03/27/%EC%8B%A0%EA%B8%B0%EC%88%A0-%EB%8F%99%ED%96%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="보안-요건"><a class="markdownIt-Anchor" href="#보안-요건"></a> 보안 요건</h1><h2 id="기밀성"><a class="markdownIt-Anchor" href="#기밀성"></a> 기밀성</h2><ul><li>Confidentiality = 비밀성</li><li>시스템 내의 정보와 자원은 인가된 사용자에게만 접근이 허용</li><li>정보가 전송 중에 노출되더라도 데이터를 읽을 수 없음</li></ul><h2 id="무결성"><a class="markdownIt-Anchor" href="#무결성"></a> 무결성</h2><ul><li>Integrity</li><li>정보의 내용이 전송 중에 수정되지 않고 전달되는 것</li></ul><h2 id="가용성"><a class="markdownIt-Anchor" href="#가용성"></a> 가용성</h2><ul><li>Availability</li><li>인가된 사용자는 언제라도 사용 가능</li></ul><h2 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h2><ul><li>Authentication</li><li>정보를 보내오는 사람의 신원을 확인</li><li>다중 사용자 컴퓨터 시스템 또는 망 운용 시스템에서 시스템이 단말 작동 개시 정보를 확인하는 보안 절차이다.</li><li>인증에는 망을 경유해서 컴퓨터에 접속해 오는 사용자가 등록된 사용자인지 확인하는 것과 전송된 메세지가 변조되거나 의미가 그릇되지 않고 송신자가 보낸 그대로의 것인지를 확인하는 것이 있다.</li></ul><h2 id="부인-방지"><a class="markdownIt-Anchor" href="#부인-방지"></a> 부인 방지</h2><ul><li>Non Repudiation</li><li>데이터를 송수신한 자가 송수신 사실을 부인할 수 없도록 송수신 증거를 제공</li></ul><h2 id="접근-통제"><a class="markdownIt-Anchor" href="#접근-통제"></a> 접근 통제</h2><ul><li>Access Control</li><li>시스템의 자원 이용에 대한 불법적인 접근을 방지하는 과정</li></ul><h1 id="보안-위협-유형"><a class="markdownIt-Anchor" href="#보안-위협-유형"></a> 보안 위협 유형</h1><h2 id="가로막기"><a class="markdownIt-Anchor" href="#가로막기"></a> 가로막기</h2><ul><li>Interruption</li><li>데이터의 정상적인 전달을 가로막아서 흐름을 방해하는 행위</li></ul><h2 id="가로채기"><a class="markdownIt-Anchor" href="#가로채기"></a> 가로채기</h2><ul><li>Interception</li><li>송신된 데이터가 수신지까지 가는 도중에 몰래 보거나 도청하여 정보를 유출하는 행위</li></ul><h2 id="수정"><a class="markdownIt-Anchor" href="#수정"></a> 수정</h2><ul><li>Modification</li><li>전송된 데이터를 원래의 데이터가 아닌 다른 내용으로 바꾸는 행위</li></ul><h2 id="위조"><a class="markdownIt-Anchor" href="#위조"></a> 위조</h2><ul><li>Fabrication</li><li>마치 다른 송신자로부터 데이터가 송신된 것처럼 꾸미는 행위</li></ul><h1 id="개인키-압호화-기법"><a class="markdownIt-Anchor" href="#개인키-압호화-기법"></a> 개인키 압호화 기법</h1><ul><li>Private Key Encryption = 대칭 암호 기법 = 단일키 암호화 기법</li><li>DES(Data Encryption Standard)</li></ul><h2 id="des"><a class="markdownIt-Anchor" href="#des"></a> DES</h2><ul><li>데이터 암호 표준</li><li>대푲거인 비밀키 암호화 기법</li><li>56비트의 암복호 키를 사용하여 64비트의 평문을 암복호화</li><li>IBM에서 개발, 미국방성에 의해 채택</li><li>Triple DES가 많이 사용됨</li></ul><h1 id="공개키-암호화-기법"><a class="markdownIt-Anchor" href="#공개키-암호화-기법"></a> 공개키 암호화 기법</h1><ul><li>Public Key Encryption = 비대칭 암호 기법</li><li>RSA(Rivest Shamir Adleman)</li></ul><h1 id="순차적-암호화"><a class="markdownIt-Anchor" href="#순차적-암호화"></a> 순차적 암호화</h1><ul><li>OPE = Order Preserving Encryption</li><li>DB에서 암호화된 수치 데이터들이 원본 수치 데이터와 동일한 순서로 정렬될 수 있도록 해주는 암호화 기술</li></ul><h1 id="공개키-기반-구조"><a class="markdownIt-Anchor" href="#공개키-기반-구조"></a> 공개키 기반 구조</h1><ul><li>PKI = Public Key Infrastructure</li><li>공개키 암호 시스템을 안전하게 사용하고 관리하기 위한 정보 보호 표준 방식</li><li>ITU-T의 X.509 방식과 비X.509 방식으로 구분</li></ul><h1 id="프라이버시-강화-기술"><a class="markdownIt-Anchor" href="#프라이버시-강화-기술"></a> 프라이버시 강화 기술</h1><ul><li>PET = Privacy Enhancing Technology</li><li>개인정보 위험 관리 기술</li><li>개인정보를 보호하는 기술에서 사용자가 직접 개인정보를 통제하기 위한 기술까지 다양한 사용자 프라이버시 보호기술을 통칭</li></ul><h1 id="digital-forensics"><a class="markdownIt-Anchor" href="#digital-forensics"></a> Digital Forensics</h1><ul><li>범죄의 증거로 사용될 수 있는 컴퓨터, 휴대전화, 인터넷 등의 디지털 저장매체에 존재하는 디지털 정보를 수집하는 디지털 수사 과정</li></ul><h1 id="drm"><a class="markdownIt-Anchor" href="#drm"></a> DRM</h1><ul><li>Digital Rights Management = 디지털 저작권 관리</li><li>데이터의 안전한 배포를 활성화하거나 불법 배포를 방지하여 인터넷이나 기타 디지털 매체를 통해 유통되는 데이터의 저작권을 보호하기 위한 시스템</li></ul><h1 id="ons"><a class="markdownIt-Anchor" href="#ons"></a> ONS</h1><ul><li>Object Naming Service</li><li>사물에 관한 구체적인 정보가 저장되어 있는 서버의 위치를 알려주는 서비스</li><li>RFID 태그가 부착된 제품을 리더로 읽으면 제품 초기 제작 정보는 물론 유통 과정에서 저장된 다양한 정보를 파악할 수 있다.</li></ul><h1 id="침입-탐지-시스템"><a class="markdownIt-Anchor" href="#침입-탐지-시스템"></a> 침입 탐지 시스템</h1><ul><li>IDS = Intrusion Detection System</li><li>컴퓨터 시스템의 비정상적인 사용, 오용, 남용 등을 실시간으로 탐지하는 시스템</li></ul><h1 id="rfid"><a class="markdownIt-Anchor" href="#rfid"></a> RFID</h1><ul><li>Radio Frequency IDentification = 전파 식별</li><li>라디오 주파수 인식 기술</li><li>IC칩과 무선을 통해 다양한 개체의 정보를 관리할 수 있는 차세대 인식 기술</li><li>판독 및 해독 기능을 하는 판독기(Reader)와 정보를 제공하는 태그(Tag)로 구성</li></ul><h1 id="저작권"><a class="markdownIt-Anchor" href="#저작권"></a> 저작권</h1><ul><li>Copyright</li><li>원저작물의 창작자가 저작물의 사용과 배포에 있어 일반적으로 제한된 시간 동안 배타적 권리를 인정하는 법적인 권리</li></ul><h1 id="데이터-유출-방지"><a class="markdownIt-Anchor" href="#데이터-유출-방지"></a> 데이터 유출 방지</h1><ul><li>DLP = Data Leakage/Loss Prevention</li><li>내부정보 유출 방지 솔루션</li><li>사내 직원이 사용하는 PC와 네트워크상의 모든 정보를 검색하고 사용자의 행위를 탐지, 통제해 외부로의 유출을 사전에 막는다.</li></ul><h1 id="cc"><a class="markdownIt-Anchor" href="#cc"></a> CC</h1><ul><li>Common Criteria = 공통 평가 기준</li><li>1999년 6월 8일 ISO 15408 표준으로 채택된 정보 보호 제품 평가 기준</li><li>정보화 순기능 역할을 보장하기 위해 정보화 제품의 정보보호 기능과 이에 대한 사용 환경 등급을 정한 기준</li></ul><h1 id="ssl"><a class="markdownIt-Anchor" href="#ssl"></a> SSL</h1><ul><li>Secure Sockets Layer</li><li>데이터를 송수신하는 두 컴퓨터 사이, 종단 간 즉 TCP/IP 계층과 애플리케이션 계층 사이에 위치하여 인증, 암호화, 무결성을 보장하는 업계 표준 프로토콜</li></ul><h1 id="프록시-서버"><a class="markdownIt-Anchor" href="#프록시-서버"></a> 프록시 서버</h1><ul><li>Proxy Server</li><li>PC 사용자와 인터넷 사이에서 중개자 역할을 하는 서버</li><li>방화벽 기능과 캐시 기능을 수행</li></ul><h1 id="hdcp"><a class="markdownIt-Anchor" href="#hdcp"></a> HDCP</h1><ul><li>High-bandwidth Digital Content Protection = 고대역폭 디지털 콘텐츠 전송 보호</li><li>디지털 비주얼 인터페이스(DVI) 송수신간 고대역폭의 비디오 암호화 전송을 보호하기 위한 규격</li><li>송신측은 컴퓨터, 세톱, DVD 플레이어 등을 수신측은 LCD, TV, 프로젝터 등을 사용하며 모든 장비는 컨텐츠 보호 기관으로부터 고유의 비밀 장비 키를 부여받는다.</li></ul><h1 id="빅-데이터"><a class="markdownIt-Anchor" href="#빅-데이터"></a> 빅 데이터</h1><ul><li>기존의 관리 방법이나 분석 체계로는 처리하기 어려운 막대한 양의 정형 또는 비정형 데이터 집합</li></ul><h1 id="ccl"><a class="markdownIt-Anchor" href="#ccl"></a> CCL</h1><ul><li>Create Commons License = 저작물 이용 약관</li><li>저작원자가 자신의 저작물에 대한 이용방법 및 조건을 표기하는 저작물 이용약관</li><li>저작자 표시(BY), 비영리($), 변경금지(=), 동일조건변경허락(⊃)의 4가지로 분류</li></ul><h1 id="개인정보-영향평가-제도"><a class="markdownIt-Anchor" href="#개인정보-영향평가-제도"></a> 개인정보 영향평가 제도</h1><ul><li>PIA = Privacy Impact Assessment</li><li>개인 정보를 활용하는 새로운 정보시스템의 도입 및 기존 정보시스템의 중요한 변경 시 시스템의 구축 운영이 기업의 고객은 물론 국민의 사생활에 미칠 영향에 대해 미리 조사, 분석, 평가하는 제도</li></ul><h1 id="목표-복구-시점"><a class="markdownIt-Anchor" href="#목표-복구-시점"></a> 목표 복구 시점</h1><ul><li>RPO = Recovery Point Objective</li><li>조직에서 발생한 여러 가지 재난 상황</li><li>IT 시스템이 마비되었을 때 각 업무에 필요한 데이터를 여러 백업 수단을 활용하여 복구할 수 있는 기준점</li></ul><h1 id="인터넷-제어-메세지-프로토콜"><a class="markdownIt-Anchor" href="#인터넷-제어-메세지-프로토콜"></a> 인터넷 제어 메세지 프로토콜</h1><ul><li>ICMP = Internet Control Message Protocol</li><li>TCP/IP 기반의 인터넷 통신 서비스에서 인터넷 프로토콜과 조합하여 통신 중에 발생하는 오류의 처리와 전송 경로의 변경 등을 위한 제어 메세지를 취급하는 프로토콜</li></ul><h1 id="wep"><a class="markdownIt-Anchor" href="#wep"></a> WEP</h1><ul><li>Wired Equivalent Privacy = 유선급 프라이버시</li><li>유선 랜에서 기대할 수 있는 것과 같은 보안과 프라이버시 수준이 제공되는 <strong>무선 랜의 보안 프로토콜</strong></li><li>IEEE WI-FI 표준 802.11b에 기술</li></ul><h1 id="wpa"><a class="markdownIt-Anchor" href="#wpa"></a> WPA</h1><ul><li>WI-FI Protected Access</li><li>WI-FI에서 제정한 무선랜 인증 및 암호화 관련 표준</li><li>암호화는 웹 방식을 보완한 IEEE 802.11i 표준의 임시 키 무결성 프로토콜(TKIP)를 기반으로 하며 인증 부분에서도 802.1x 및 확장 가능 인증 프로토콜(EAP)을 기반으로 상호 인증을 도입해 성능을 높임</li></ul><h1 id="ip-보안-프로토콜"><a class="markdownIt-Anchor" href="#ip-보안-프로토콜"></a> IP 보안 프로토콜</h1><ul><li>IPSec = IP security protocol</li><li>안전에 취약한 인터넷에서 안전한 통신을 실현하기 위한 통신 규약</li><li>인터넷상에 전용 회선과 같이 이용 가능한 가상적인 전용 회선을 구축하여 데이터가 도청당하는 등의 행위를 방지하기 위한 통신 규약</li></ul><h1 id="otp"><a class="markdownIt-Anchor" href="#otp"></a> OTP</h1><ul><li>One-Time Password = 일회용 패스워드</li><li>로그인 할 때마다 그 세션에서만 사용할 수 있는 1회성 패스워드를 생성하는 보안 시스템</li><li>동일한 패스워드가 반복해서 재사용됨으로써 발생할 수 있는 패스워드 도난 문제를 예방하는 것이 목적</li><li>일반 패스워드와 달리 단방향 암호 기반의 Hash를 사용</li></ul><h1 id="공인인증서"><a class="markdownIt-Anchor" href="#공인인증서"></a> 공인인증서</h1><ul><li>Certificate</li><li>전자 서명법에 의한 공인 인증 기관이 발행한 인증서</li></ul><h1 id="생체-인식"><a class="markdownIt-Anchor" href="#생체-인식"></a> 생체 인식</h1><ul><li>Biometrics</li><li>사람의 신체적, 행동적 특징을 자동화된 장치로 추출하고 분석하여 정확하게 개인의 신원을 확인하는 기술</li></ul><h1 id="i-pin"><a class="markdownIt-Anchor" href="#i-pin"></a> I-PIN</h1><ul><li>인터넷에서 주민등록번호 대신 쓸 수 있도록 만든 사이버 주민등록번호</li></ul><h1 id="bcp"><a class="markdownIt-Anchor" href="#bcp"></a> BCP</h1><ul><li>Business Continuity Planning = 업무 연속성 계획</li><li>재난 발생시 비즈니스의 연속성을 유지하기 위한 계획</li><li>재해 재난으로 인해 정상적인 운용이 어려운 상황에 처했을 때 데이터 백업과 같은 단순 복구뿐 아니라 고객 서비스의 지속성 보장, 핵심 업무 기능을 지속하는 환경을 조성해 기업 가치를 극대화하는 것</li></ul><h1 id="crl"><a class="markdownIt-Anchor" href="#crl"></a> CRL</h1><ul><li>Certificate Revocation List = 인증서 폐기 목록</li><li>폐기된 인증서를 이용자들이 확인할 수 있도록 그 목록을 배포, 공표하기 위한 메커니즘</li><li>주로 인증기관에서 관리하며 메세지를 전달할 때 인증서와 함께 전달</li></ul><h1 id="epc-클래스"><a class="markdownIt-Anchor" href="#epc-클래스"></a> EPC 클래스</h1><ul><li>Electronic Product Code Class</li><li>EPCglobal에서 정의하는 RFID 태그의 종류</li></ul><h1 id="인증기관"><a class="markdownIt-Anchor" href="#인증기관"></a> 인증기관</h1><ul><li>Certification Authority</li><li>인증 업무를 수행하는 제3자의 신뢰 기관</li><li>온라인상에서 사용자 인증, 전자문서 위변조 방지, 부인방지 등의 보안기능을 제공하는 인증서에 대한 발급 갱신 폐지 유효성 등의 검증 업무를 수행</li></ul><h1 id="sam"><a class="markdownIt-Anchor" href="#sam"></a> SAM</h1><ul><li>Secure Application Module</li><li>카드 판독기 내부에 장착되어 카드와 단말기의 유효성을 인증하고 통신 데이터를 암호화하여 정보의 노출 방지 및 통신 메세지의 인증 및 검증을 하며 또한 카드에서 이전된 전자적인 가치를 저장하기도 한다.</li></ul><h1 id="clms"><a class="markdownIt-Anchor" href="#clms"></a> CLMS</h1><ul><li>Copyright License Management System = 저작권라이선스 통합관리시스템</li><li>정부가 디지털 저작물에 대한 체계적인 관리를 위해 추진하고 있는 시스템</li></ul><h1 id="정부-개인식별-번호"><a class="markdownIt-Anchor" href="#정부-개인식별-번호"></a> 정부 개인식별 번호</h1><ul><li>Government-Personal IDentification Number</li><li>정부가 추진하고 있는 주민등록번호 대체 수단</li><li>G-PIN</li></ul><h1 id="키-페어"><a class="markdownIt-Anchor" href="#키-페어"></a> 키 페어</h1><ul><li>Key Pair</li><li>공개키 암호 알고리즘에 사용되는 개인키와 공개키 쌍을 말한다.</li></ul><h1 id="방화벽"><a class="markdownIt-Anchor" href="#방화벽"></a> 방화벽</h1><ul><li>Firewall</li><li>기업이나 조직 내부의 네트워크와 인터넷 간에 전송되는 정보를 선별하여 수용, 거부, 수정하는 능력을 가진 보안 시스템</li></ul><h1 id="소프트웨어-에스크로"><a class="markdownIt-Anchor" href="#소프트웨어-에스크로"></a> 소프트웨어 에스크로</h1><ul><li>Softwawre Escrow</li><li>소프트웨어 개발자의 지식재산권을 보호하고 사용자에게는 저렴한 비용으로 소프트웨어를 안정적으로 사용하고 유지 보수를 받을 수 있도록 하기 위해서 소스 프로그램과 기술 정보 등을 제 3기관에 보관하는 것</li></ul><h1 id="마이핀"><a class="markdownIt-Anchor" href="#마이핀"></a> 마이핀</h1><ul><li>법적 근거 없는 주민등록번호 수집이 금지되면서 도입된 13자리 무작위 번호</li><li>오프라인 상에서 주민번호를 대신한다.</li></ul><h1 id="captcha"><a class="markdownIt-Anchor" href="#captcha"></a> CAPTCHA</h1><ul><li>자동 계정 생성 방지 기술 = Completely Automated Public Turing test to tell Computers and Humans Apart</li><li>웹페이지에서 악의적으로 회원강비을 하거나 스팸 메세지를 보내기 위해 사용되는 프로그램인 봇을 차단하기 위해 만들어졌다.</li><li>사람과 컴퓨터를 구분하기 위한 자동화된 시험</li></ul><h1 id="지능형-사이버-위협-대응"><a class="markdownIt-Anchor" href="#지능형-사이버-위협-대응"></a> 지능형 사이버 위협 대응</h1><ul><li>CTI = Cyber Threat Intelligence</li><li>조직의 인프라와 지적 재산을 보호하기 위해 과거 조직 내부뿐만 아니라 외부의 다양한 정보들에 기초하여 각종 위협에 대응하는 방법</li></ul><h1 id="백업방식"><a class="markdownIt-Anchor" href="#백업방식"></a> 백업방식</h1><h2 id="전체-백업"><a class="markdownIt-Anchor" href="#전체-백업"></a> 전체 백업</h2><ul><li>데이터 전체를 대상으로 백업을 수행하는 방식</li></ul><h2 id="증분-백업"><a class="markdownIt-Anchor" href="#증분-백업"></a> 증분 백업</h2><ul><li>Incremental Backup</li><li>백업 대상 데이터 중 변경되거나 증가된 데이터만을 대상으로 백업을 수행하는 방식</li></ul><h1 id="cyber-bullying"><a class="markdownIt-Anchor" href="#cyber-bullying"></a> Cyber Bullying</h1><ul><li>사이버 협박</li><li>개인이나 집단이 인터넷에서 상대에게 나타내는 적대 행위</li></ul><h1 id="ddos"><a class="markdownIt-Anchor" href="#ddos"></a> DDoS</h1><ul><li>Distributed Denial of Service = 분산 서비스 거부 공격</li><li>분산 서비스 거부 공격은 여러 대의 장비를 이용하여 대량의 데이터를 한 곳의 서버에 집중적으로 전송함으로써 특정 서버의 정상적인 기능을 방해하는 것</li></ul><h1 id="voip-보안-위협"><a class="markdownIt-Anchor" href="#voip-보안-위협"></a> VoIP 보안 위협</h1><ul><li>VoIP Security Threat</li><li>음성 패킷을 불법으로 수집 및 조합해 통화 내용을 재생하고 도청하는 위협</li></ul><h1 id="ransomware"><a class="markdownIt-Anchor" href="#ransomware"></a> Ransomware</h1><ul><li>랜섬웨어</li><li>인터넷 사용자의 컴퓨터에 잠입해 내부 문서나 파일 등을 임의로 암호화해 사용자가 열지 못하도록 한 후 암호 해독용 프로그램의 전달을 조건으로 사용자에게 돈을 요구</li></ul><h1 id="디지털-발자국"><a class="markdownIt-Anchor" href="#디지털-발자국"></a> 디지털 발자국</h1><ul><li>Digital Footprint</li><li>사람들이 온라인 활동을 하면서 남긴 로그인 정보, 결제 정보, 결제 방법, 구매 이력, SNS, Email 등의 다양한 디지털 기록 또는 흔적</li></ul><h1 id="워터링-홀"><a class="markdownIt-Anchor" href="#워터링-홀"></a> 워터링 홀</h1><ul><li>Watering Hole</li><li>포식자가 사냥을 위해 물 웅덩이에서 매복하고 있는 것을 빗댄 용어</li><li>표적으로 삼은 집단이 주로 방문하는 웹 사이트를 감염시켜 피해 대상이 해당 사이트를 방문하는 것을 기다린다.</li></ul><h1 id="백도어"><a class="markdownIt-Anchor" href="#백도어"></a> 백도어</h1><ul><li>Back Door = Trap Door</li><li>시스템 보안이 제거된 비밀 통로</li><li>서비스 기술자나 유지 보수 프로그램 작성자의 액세스 편의를 위해 시스템 설계자가 고의로 만들어 놓은 것</li></ul><h1 id="zero-day-attack"><a class="markdownIt-Anchor" href="#zero-day-attack"></a> Zero Day Attack</h1><ul><li>제로 데이 공격</li><li>보안 취약점이 발견되었을 때 그 문제가 공표되기 전에 해당 취약점을 악용하여 이루어지는 보안 공격</li><li>공격의 신속성을 의미</li></ul><h1 id="smurfing"><a class="markdownIt-Anchor" href="#smurfing"></a> Smurfing</h1><ul><li>스머핑</li><li>IP나 ICMP의 특성을 악용하여 엄청난 양의 데이터를 한 사이트에 집중적으로 보냄으로써 네트워크의 일부를 불능상태로 만드는 공격 방법</li></ul><h1 id="typosquatting"><a class="markdownIt-Anchor" href="#typosquatting"></a> Typosquatting</h1><ul><li>타이포스쿼팅 = URL 하이재킹</li><li>네티즌들이 사이트에 접속할 때 주소를 잘못 입력하거나 철자를 빠뜨리는 실수를 이용하기 위해 이와 유사한 유명 도메인을 미리 등록하는 것</li></ul><h1 id="핵티비즘"><a class="markdownIt-Anchor" href="#핵티비즘"></a> 핵티비즘</h1><ul><li>Hacktivism</li><li>해커와 행동주의(Activism)의 합성어</li><li>자신들의 정치적 목적을 달성하기 위한 수단으로 정부나 기업 단체등의 인터넷 웹사이트를 해킹하는 일체 활동</li></ul><h1 id="티비싱"><a class="markdownIt-Anchor" href="#티비싱"></a> 티비싱</h1><ul><li>Tvishing</li><li>스마트 TV에 악성 소프트웨어를 설치해 스마트 TV에 대한 최고 접근 권한을 획득하는 해킹 기법</li></ul><h1 id="apt"><a class="markdownIt-Anchor" href="#apt"></a> APT</h1><ul><li>Advanced Persistent Threats = 지능형 지속 위협</li><li>다양한 IT 기술과 방식들을 이용해 조직적으로 특정 기업이나 조직 네트워크에 침투해 활동 거점을 마련한 뒤 때를 기다리면서 보안을 무력화시키고 정보를 수집한 다음 외부로 빼돌리는 형태의 공격</li></ul><h1 id="pharming"><a class="markdownIt-Anchor" href="#pharming"></a> Pharming</h1><ul><li>파밍</li><li>합법적으로 소유하고 있던 사용자의 도메인을 탈취하거나 DNS 이름을 속여 사용자들이 진짜 사이트로 오인하도록 유도하여 개인 정보를 훔치는 신종 인터넷 사기 수법</li><li>아예 해당 사이트가 공식적으로 운영하고 있는 도메인 자체를 탈취</li></ul><h1 id="social-engineering"><a class="markdownIt-Anchor" href="#social-engineering"></a> Social Engineering</h1><ul><li>사회 공학</li><li>컴퓨터 보안에 있어 인간 상호작용의 깊은 신뢰를 바탕으로 사람들을 속여 정상 보안 절차를 깨트리기 위한 비기술적 시스템 침입 수단</li><li>우선 통신망 보안 정보에 접근 권한이 있는 담당자와 신뢰를 쌓고 전화나 이메일을 통해 그들의 약점과 도움을 이용하는 것</li></ul><h1 id="zeus"><a class="markdownIt-Anchor" href="#zeus"></a> Zeus</h1><ul><li>사용자의 온라인 뱅킹 계정 정보를 탈취하기 위해 개발된 상용 멀웨어</li><li>2007년 러시아에서 개발된 것으로 추정</li></ul><h1 id="botnet"><a class="markdownIt-Anchor" href="#botnet"></a> Botnet</h1><ul><li>봇넷</li><li>악성 프로그램에 감염되어 향후에 악의적인 의도로 사용될 수 있는 다수의 컴퓨터들이 네트워크로 연결된 형태</li></ul><h1 id="zombie"><a class="markdownIt-Anchor" href="#zombie"></a> Zombie</h1><ul><li>다른 프로그램이나 다른 사용자를 조종하도록 악성코드에 감염된 컴퓨터</li></ul><h1 id="patent-troll"><a class="markdownIt-Anchor" href="#patent-troll"></a> Patent Troll</h1><ul><li>특허 괴물</li><li>특허권을 비롯한 지적 재산권을 통해 로열티 수입만으로 이익을 창출하는 특허 관리 전문 기업</li></ul><h1 id="악성-소프트웨어"><a class="markdownIt-Anchor" href="#악성-소프트웨어"></a> 악성 소프트웨어</h1><ul><li>Malware = Malicious Software</li><li>악의적인 목적을 위해 작성된 것으로 악성 코드 또는 악성 프로그램으로 불린다.</li></ul><h1 id="스턱스넷"><a class="markdownIt-Anchor" href="#스턱스넷"></a> 스턱스넷</h1><ul><li>Stuxnet</li><li>독일 지멘스사의 원격 감시 제어 시스템의 제어 소프트웨어에 침투하여 시스템을 마비하게 할 목표로 제작된 악성코드</li><li>원자력 발전소 제어 시스템에 침투하여 오작동을 유도하는 명령 코드를 입력해 시스템을 마비시킨다.</li></ul><h1 id="공격용-툴킷"><a class="markdownIt-Anchor" href="#공격용-툴킷"></a> 공격용 툴킷</h1><ul><li>Attack Toolkit</li><li>네트워크에 연결된 컴퓨터를 공격하기 위해 악성 코드 프로그램을 모아 놓은 것</li><li>대표적인 공격용 툴킷으로는 Zeus와 Sypeye 등이 있다.</li></ul><h1 id="ping-of-death"><a class="markdownIt-Anchor" href="#ping-of-death"></a> Ping of Death</h1><ul><li>죽음의 핑</li><li>인터넷 프로토콜 허용 범위(65536 바이트) 이상의 큰 패킷을 고의로 전송하여 발생한 서비스 거부 공격</li></ul><h1 id="splogger"><a class="markdownIt-Anchor" href="#splogger"></a> Splogger</h1><ul><li>스플로거</li><li>스팸과 블로거의 합성어</li><li>다른 사람의 콘텐츠를 무단으로 복사해 자신의 블로그에 게재하는 볼로거</li></ul><h1 id="ip-스푸핑"><a class="markdownIt-Anchor" href="#ip-스푸핑"></a> IP 스푸핑</h1><ul><li>IP Spoofing</li><li>다른 시스템과의 신뢰관계를 속여 침입하는 크래킹 기술</li><li>속이기라는 의미의 스푸핑은 기술적인 요소가 많이 필요한 크래킹 기술</li></ul><h1 id="스니핑"><a class="markdownIt-Anchor" href="#스니핑"></a> 스니핑</h1><ul><li>Sniffing</li><li>네트워크의 중간에서 남의 패캣 정보를 도청하는 해킹 유형의 하나로 수동적인 공격에 해당한다.</li></ul><h1 id="스위치-재밍"><a class="markdownIt-Anchor" href="#스위치-재밍"></a> 스위치 재밍</h1><ul><li>Switch Jamming</li><li>위조된 MAC 주소를 네트워크 상으로 지속적으로 흘려보내 스위칭 허브와 주소 테이블 기능을 마비시키는 것</li></ul><h1 id="스팸"><a class="markdownIt-Anchor" href="#스팸"></a> 스팸</h1><ul><li>인터넷 상에서 다수의 수신인에게 무작위로 송신된 이메일 메세지를 의미</li></ul><h1 id="사이버-스토킹"><a class="markdownIt-Anchor" href="#사이버-스토킹"></a> 사이버 스토킹</h1><ul><li>Cyber Stalking</li><li>정보통신망을 이용해 악의적인 의도로 지속적으로 공포감이나 불안감 등을 유발하는 행위</li></ul><h1 id="피싱"><a class="markdownIt-Anchor" href="#피싱"></a> 피싱</h1><ul><li>Phishing</li><li>허위 웹 사이트를 내새워 사용자의 개인 신용 정보를 빼내는 수법</li></ul><h1 id="반달리즘"><a class="markdownIt-Anchor" href="#반달리즘"></a> 반달리즘</h1><ul><li>Vandalism</li><li>다수가 참여할 수 있도록 공개된 문서의 내용을 훼손하거나 엉뚱한 제목으로 변경하고 낙서하는 것</li></ul><h1 id="스누핑"><a class="markdownIt-Anchor" href="#스누핑"></a> 스누핑</h1><ul><li>Snooping</li><li>네트워크 상에서 남의 점보를 염탐하여 불법으로 가로채는 행위</li></ul><h1 id="다이어-악성코드"><a class="markdownIt-Anchor" href="#다이어-악성코드"></a> 다이어 악성코드</h1><ul><li>Dyre Malware</li><li>인터넷 뱅킹 정보를 탈취하는 악성코드로 트로이목마의 한 종류</li></ul><h1 id="드롭퍼"><a class="markdownIt-Anchor" href="#드롭퍼"></a> 드롭퍼</h1><ul><li>Dropper</li><li>정상적인 파일등에 트로이 목마나 웜, 바이러스가 숨겨진 형태를 일컫는다.</li></ul><h1 id="메모리-해킹"><a class="markdownIt-Anchor" href="#메모리-해킹"></a> 메모리 해킹</h1><ul><li>Memory Hacking</li><li>컴퓨터 메모리에 있는 데이터를 위변조하는 해킹 방법</li><li>정상적인 인터넷 뱅킹 사이트를 이용했음에도 이체거래 과정에서 수취인의 계좌번호를 변조하거나 보안카드의 비밀번호를 빼내어 돈을 빼돌린다.</li></ul><h1 id="스미싱"><a class="markdownIt-Anchor" href="#스미싱"></a> 스미싱</h1><ul><li>Smishing</li><li>SMS와 Phishing의 합성어</li></ul><h1 id="스파이웨어"><a class="markdownIt-Anchor" href="#스파이웨어"></a> 스파이웨어</h1><ul><li>적절한 사용자 동의 없이 사용자 정보를 수집하는 프로그램 또는 적절한 사용자 동의 없이 설치되어 불편을 야기하거나 사생활을 침해할 수 있는 프로그램</li></ul><h1 id="웜"><a class="markdownIt-Anchor" href="#웜"></a> 웜</h1><ul><li>Worm</li><li>네트워크를 통해 연속적으로 자신을 복제하여 시스템의 부하를 높임으로써 다운시키는 바이러스의 일종</li></ul><h1 id="크래킹"><a class="markdownIt-Anchor" href="#크래킹"></a> 크래킹</h1><ul><li>어떤 목적을 가지고 타인의 시스템에 불법으로 침입하여 정보를 파괴하거나 정보의 내용을 자신의 이익에 맞게 변경하는 행위</li></ul><h1 id="트로이-목마"><a class="markdownIt-Anchor" href="#트로이-목마"></a> 트로이 목마</h1><ul><li>Trojan Horse</li><li>정상적인 기능을 하는 프로그램으로 가장하여 프로그램 내에 숨어 있다가 해당 프로그램이 동작할 때 활성화되어 부작용을 일으키는 것</li><li>자기 복제 능력은 없다.</li></ul><h1 id="해킹"><a class="markdownIt-Anchor" href="#해킹"></a> 해킹</h1><ul><li>Hacking</li><li>컴퓨터 시스템에 불법적으로 접근, 침투하여 시스템과 데이터를 파괴하는 행위</li></ul><h1 id="혹스"><a class="markdownIt-Anchor" href="#혹스"></a> 혹스</h1><ul><li>Hoax</li><li>실제로는 악성코드로 행동하지 않으면서 겉으로는 악성코드인 것처럼 가장하여 행동하는 소프트웨어</li></ul><h1 id="vpn"><a class="markdownIt-Anchor" href="#vpn"></a> VPN</h1><ul><li>Virtual Private Network = 가상 사설 통신망</li><li>가상 사설 네트워크로 인터넷 등 통신 사업자의 공중 네트워크를 사용자가 마치 자신의 전용 회선처럼 사용할 수 있게 하는 서비스</li></ul><h1 id="무선랜"><a class="markdownIt-Anchor" href="#무선랜"></a> 무선랜</h1><ul><li>WLAN = Wireless LAN</li><li>무선 접속 장치(Access Point)가 설치된 곳을 중심으로 무선 주파수(RF) 기술을 이용해 근거리에서 WLAN 카드가 장착된 개인 휴대 정보 다남ㄹ기를 이용해 인터넷에 연결하는 네트워크</li></ul><h1 id="직교-주파수-분할-다중"><a class="markdownIt-Anchor" href="#직교-주파수-분할-다중"></a> 직교 주파수 분할 다중</h1><ul><li>OFDM = Orthogonal Frequency Division Multiplexing</li><li>고속의 데이터를 각 반송파가 직교 관계에 잇는 다수의 부반송파에 나눠 실어 다중 전송하는 디지털 변조 방식</li></ul><h1 id="ftp"><a class="markdownIt-Anchor" href="#ftp"></a> FTP</h1><ul><li>File Transfer Protocol = 파일 전송 프로토콜</li><li>컴퓨터와 컴퓨터 또는 컴퓨터와 인터넷 사이에서 파일을 주고받을 수 있도록 하는 원격 파일 전송 프로토콜</li></ul><h1 id="다중-경로-페이딩"><a class="markdownIt-Anchor" href="#다중-경로-페이딩"></a> 다중 경로 페이딩</h1><ul><li>Multipath Fading</li><li>신호를 전달하는 전파가 통로상의 여러 가지 장애물에 의해 두 개 이상의 경로를 통하여 수신 측에 도달하는 경우, 그 합성 신호가 시공간적으로 강도가 변하는 현상</li><li>전자파가 진행되는 경로에 여러 가지 장애물이 있을 경우 반사가 일어나고 반사파는 반사되는 경로에 따라 진폭과 위상이 달라진다.</li></ul><h1 id="ndn"><a class="markdownIt-Anchor" href="#ndn"></a> NDN</h1><ul><li>Named Data Networking</li><li>인터넷에서 데이터 전송을 콘텐츠 자체의 정보와 라우터 기능만으로 수행하는 기술</li><li>클라이언트와 서버가 패킷의 헤더에 내장되어 있는 주소 정보를 이용하여 연결되던 기존의 IP 망을 대체할 새로운 인터넷 아키텍처로 떠오르고 있다.</li></ul><h1 id="원격-검침"><a class="markdownIt-Anchor" href="#원격-검침"></a> 원격 검침</h1><ul><li>AMR = Automatic Meter Reading, Remote Meter Reading Service</li><li>전기, 가스, 수도 계량기 등을 검침원이 일일이 방문하지 않고 원격에서 단말기를 이용해 검침 데이터를 읽을 수 있는 시스템</li></ul><h1 id="ngn"><a class="markdownIt-Anchor" href="#ngn"></a> NGN</h1><ul><li>Next Generation Network = 차세대 통신망</li><li>ITU-T에서 개발하고 있는 유선망 기반의 차세대 통신망</li><li>유선 접속망 뿐만아니라 이동 사용자 지원까지를 목표로 하며 이동통신에서 제공하는 완전한 이동성 제공을 목표로 개발되고 있다.</li></ul><h1 id="glonass"><a class="markdownIt-Anchor" href="#glonass"></a> GLONASS</h1><ul><li>미국의 GPS, 유럽의 갈릴레오 위치결정시스템과 유사한 러시아의 전파 위성 항법 시스템</li><li>FDMA 방식을 사용한다.</li></ul><h1 id="mics"><a class="markdownIt-Anchor" href="#mics"></a> MICS</h1><ul><li>Medical Implant Communication Service</li><li>WBAN의 의료분야에서 임플란트 장치 간의 통신 서비스를 부르는 명칭</li><li>인체내 통신으로 감쇄가 적은 주파수 사용이 필요하여 402 ~ 405MHZ를 사용하고 대역폭은 300KHZ로 적어 가용 비트레이트도 적다.</li></ul><h1 id="sdn"><a class="markdownIt-Anchor" href="#sdn"></a> SDN</h1><ul><li>Software Defined Networking = 소프트웨어 정의 네트워킹</li><li>네트워크를 컴퓨터처럼 모델링하여 여러 사용자가 각각의 소프트웨어 프로그램들로 네트워킹을 가상화하여 제어하고 관리하는 네트워크</li></ul><h1 id="근거리-무선-통신"><a class="markdownIt-Anchor" href="#근거리-무선-통신"></a> 근거리 무선 통신</h1><ul><li>NFC = Near Field Communication</li><li>고주파를 이용한 근거리 무선통신 기술</li><li>Ecma 340, ISO/IEC 18092 표준으로 아주 가까운 거리에서 양방향 통신을 지원하는 RFID 기술의 일종</li><li>13.56MHz 주파수를 이용해 10cm 안에서 최고 424Kbps의 속도로 데이터 전송을 지원한다.</li></ul><h1 id="ssid"><a class="markdownIt-Anchor" href="#ssid"></a> SSID</h1><ul><li>Service Set IDentifier = 서비스 세트 식별자</li><li>무선랜을 통해 전송되는 모든 패킷의 헤더에 존재하는 고유 식별자</li><li>무선랜 클라이언트가 BSS에 접속할 때 각 무선랜을 다른 무선랜과 구분하기 위해 사용한다.</li></ul><blockquote><p>BSS</p><ul><li>Base Station System</li><li>이동 통신에서 기지국을 구성하는 시스템</li><li>기지국 제어기와 기지국 트랜시버로 구분됨</li></ul></blockquote><h1 id="qos"><a class="markdownIt-Anchor" href="#qos"></a> QoS</h1><ul><li>Quality of Service = 서비스 품질</li><li>네트워크에서 일정 기준 이하의 지연시간이나 데이터 손실률 등을 보증하기 위한 서비스 규격</li></ul><h1 id="modem"><a class="markdownIt-Anchor" href="#modem"></a> MODEM</h1><ul><li>디지털 신호를 아날로그 신호로 변환하는 변조 과정과 아날로그 신호를 디지털 신호로 변환하는 복조 과정을 수행하는 신호 변환 장치</li></ul><h1 id="tein"><a class="markdownIt-Anchor" href="#tein"></a> TEIN</h1><ul><li>Trans-Eurasia Information Network = 트랜스 유라시아 네트워크</li><li>아시아와 유럽을 연결하는 초고속 정보 통신망</li></ul><h1 id="telepresence"><a class="markdownIt-Anchor" href="#telepresence"></a> Telepresence</h1><ul><li>원격 현장감</li><li>공간적으로 떨어져 있는 장소 또는 가상의 장소를 신체적으로 경험하는 것</li><li>통신 회선으로 컴퓨터를 원격지와 연결하여 구성한 가상현실 공간을 통해 신쳊거으로 가 있지 않은 다른 장소에 존재할 수 있게 하는 것</li></ul><h1 id="carrier-aggregation"><a class="markdownIt-Anchor" href="#carrier-aggregation"></a> Carrier Aggregation</h1><ul><li>반송파 묶음</li><li>복수의 주파수 대역을 동시에 사용할 수 있는 대역폭의 확장 기술로 LTEAdvanced의 핵심 기술이다.</li></ul><h1 id="네트워크-준비-지수"><a class="markdownIt-Anchor" href="#네트워크-준비-지수"></a> 네트워크 준비 지수</h1><ul><li>NRI = Networked Readiness Index</li><li>세계 경졔 포럼(WEF)이 국제적인 경영대학인 인시아드와 공동으로 개인과 정부, 기업의 정보 통신기술(ICT) 발전도와 경쟁력을 국가별로 평가한 지수</li></ul><h1 id="man"><a class="markdownIt-Anchor" href="#man"></a> MAN</h1><ul><li>Metropolitan Area Network = 도시권 통신망</li><li>LAN과 WAN의 중간 형태로 LAN의 기능을 충분히 수용하면서 도시전역 또는 도시와 도시 등 넓은 지역을 연결하는 통신망</li></ul><h1 id="vod"><a class="markdownIt-Anchor" href="#vod"></a> VOD</h1><ul><li>Video On Demand = 주문형 비디오</li><li>다양한 정보의 데이터베이스를 구축하여 연결된 컴퓨터 또는 텔레비전을 통해 사용자가 요구하는 정보를 원하는 시간에 볼 수 있도록 전송하는 멀티미디어 서비스</li><li>프로그램 시청 도중에 일시 정지시키거나 느린 속도로 혹은 반복해서 볼 수도 있는 서비스</li></ul><h1 id="syn"><a class="markdownIt-Anchor" href="#syn"></a> SYN</h1><ul><li>SYNchronous idle = 동기 상태 부호</li><li>동기 신호방식에서 다른 문자를 보내지 않는 유휴 상태에서 데이터 단말 상호간의 동기를 취하거나, 동기를 유지하기 위한 신호로 사용되는 전송 제어 문자</li></ul><h1 id="tcpip"><a class="markdownIt-Anchor" href="#tcpip"></a> TCP/IP</h1><ul><li>Transfer Control Protocol/Internet Protocol</li><li>인터넷에 연결된 서로 다른 기종의 컴퓨터들 간에 데이터를 주고 받을 수 있도록 하는 표준프로토콜</li><li>인트라넷이나 엑스트라넷과 같은 사설망에서도 사용된다.</li></ul><h1 id="프로토콜"><a class="markdownIt-Anchor" href="#프로토콜"></a> 프로토콜</h1><ul><li>Protocol</li><li>네트워크에서 서로 다른 컴퓨터들 간에 정보를 교환할 수 있게 해주는 표준화된 통신 규약</li><li>네트워크 기능을 효율적으로 발휘하도록 하기 위한 협정으로 TCP/IP가 대표적이며 통신 연결시 다양한 레벨을 갖는다.</li></ul><h1 id="uwb"><a class="markdownIt-Anchor" href="#uwb"></a> UWB</h1><ul><li>Ultra WideBand = 초광대역</li><li>짧은 거리에서 많은 양의 디지털 데이터를 낮은 전력으로 전송하기 위한 무선 기술로 무선 디지털 펄스라고 하며, 블루투스와 비교되는 기술</li></ul><h1 id="피코넷"><a class="markdownIt-Anchor" href="#피코넷"></a> 피코넷</h1><ul><li>PICONET</li><li>여러 개의 독립된 통신장치가 블루투스 기술이나 UWB 통신 기술을 사용하여 통신망을 형성하는 무선 네트워크 기술</li><li>네트워크를 구성하는 장비 간에 사전에 네트워크의 정의와 계획 없이 상황에 따라 조정 프로토콜에 의하여 마스터와 슬레이브의 역할을 하면서 네트워크를 형성</li></ul><h1 id="디지털-우편-소인"><a class="markdownIt-Anchor" href="#디지털-우편-소인"></a> 디지털 우편 소인</h1><ul><li>DPM = Digital PostMark</li><li>만국우편연합(UPU)에서 표준화한 온라인 자료에 대한 전자적인 우편배달 서비스</li><li>최근에는 EPCM(Electronic Postal Certification Mark)라고 부룬다.</li></ul><h1 id="고속-하향-패킷-접속"><a class="markdownIt-Anchor" href="#고속-하향-패킷-접속"></a> 고속 하향 패킷 접속</h1><ul><li>HSDPA = High Speed Downlink Packet Access</li><li>비동기식 3세대 이동 통신의 하향 링크에서 10Mbps 수준의 고속 패킷 데이터 서비스를 제공하는 전송 규격</li><li>인터넷 통신은 주로 다운로드가 많아 하향 링크의 고속화가 서비스의 필수 요소이며 고속 데이터는 주로 정지 상태에서 사용되므로 이러한 조건을 최대한 수용하도록 하향 링크의 전송 규격을 개선한 것으로 WCDMA R5에 적용되었다.</li></ul><h1 id="u-health"><a class="markdownIt-Anchor" href="#u-health"></a> u-Health</h1><ul><li>ubiquitous-Health = 유헬스</li><li>물리적 공간과 네트워크로 연결된 첨단 보건의료 기술의 전자적 공간을 연결하여 보건 의료 대상자의 삶과 진료가 중심이 되도록 하는 것</li></ul><h1 id="디저라티"><a class="markdownIt-Anchor" href="#디저라티"></a> 디저라티</h1><ul><li>Digerati</li><li>디지털과 리터라티의 합성어</li><li>컴퓨터, 정보 통신 등 디지털 분야의 지식이 많은 사람을 지칭하는 용어</li></ul><h1 id="wban"><a class="markdownIt-Anchor" href="#wban"></a> WBAN</h1><ul><li>Wireless Body Area Network</li><li>웨어러블 또는 몸에 심는 형태의 센서나 기기를 무선으로 연결하는 개인 영역 네트워킹 기술</li><li>무선 센서나 기기로부터 수집한 정보를 휴대폰 또는 간이형 기지국을 통해 병원이나 기타 필요한 곳에 실시간으로 전송함으로써 uHealth 등의 서비스를 받는데 응용할 수 있다.</li></ul><h1 id="ctth"><a class="markdownIt-Anchor" href="#ctth"></a> CTTH</h1><ul><li>Coax To The Home</li><li>기존 케이블방송망으로 초고속/대용량 서비스를 제공하는 새로운 전송방식이다.</li><li>총 1Gbps 용량을 여러 가입자가 공유하는 구조로 일반 가정에 130Mbps의 빠른 인터넷 속도를 제공한다.</li></ul><h1 id="포스트넷"><a class="markdownIt-Anchor" href="#포스트넷"></a> 포스트넷</h1><ul><li>PostNet</li><li>IT 기반 우편물류 통합 정보시스템</li><li>우체국 택배와 국제 특송을 강화하기 위해 우편물에 RFID 칩을 달아 언제 어디서나 실시간으로 우편물의 위치를 체크할 수 있는 서비스</li></ul><h1 id="지그비"><a class="markdownIt-Anchor" href="#지그비"></a> 지그비</h1><ul><li>ZigBee</li><li>저속 전송 속도를 갖는 홈오토메이션 및 데이터 네트워크를 위한 표준 기술</li><li>버튼 하나로 하나의 동작을 잡아 집안 어느 곳에서나 전등 제어 및 홈보안 시스템 VCR on/off 등을 할 수 있고 인터넷을 통한 전화 접속으로 홈 오토메이션을 더욱 편리하게 이용하려는 것에서부터 출발한 기술이다.</li></ul><h1 id="디지털-접근-지수"><a class="markdownIt-Anchor" href="#디지털-접근-지수"></a> 디지털 접근 지수</h1><ul><li>Digital Access Index</li><li>정보통신기술의 접근성과 서비스 이용에 관한 전 세계적 비교 지수</li></ul><h1 id="차량-멀티홉-통신"><a class="markdownIt-Anchor" href="#차량-멀티홉-통신"></a> 차량 멀티홉 통신</h1><ul><li>VMC = Vehicle Multihop Communication</li><li>자동차에 IT기술을 접목해 차량 충돌을 예방하는 기술</li><li>자동차와 노면 간 RF(라디오 주파수) 통신을 주고 받아 제한 속도를 넘어서면 자동으로 차량 속도가 감속되는 것은 물룐, 차량 간 통신으로 충돌을 예방하는 기술</li></ul><h1 id="lan"><a class="markdownIt-Anchor" href="#lan"></a> LAN</h1><ul><li>Local Area Network = 근거리 통신망</li><li>자원 공유를 목적으로 회사, 학교, 연구소 등의 구내에서 사용하는 통신망으로서 직원들이 가장 효과적으로 공동 사용할 수 있도록 연결된 통신망</li><li>전송 거리가 짧아 고속 전송이 가능하며 에러 발생률이 낮다.</li></ul><h1 id="망중립성"><a class="markdownIt-Anchor" href="#망중립성"></a> 망중립성</h1><ul><li>Network Neutrality</li><li>모든 네트워크 사업자는 모든 콘텐츠를 동등하게 취급하고 어떠한 차별도 하지 않아야 한다는 원칙</li><li>망운영의 근본적인 원칙으로 중립성을 보장하기 위해 비차별, 상호 접속, 접근성 등 3가지 원칙이 모든 통신망에 동이랗게 적용되어야한다는 것</li></ul><h1 id="gis"><a class="markdownIt-Anchor" href="#gis"></a> GIS</h1><ul><li>Geographic Information System = 지리 정보 시스템</li><li>지리적으로 자료를 수집, 저장, 분석, 출력할 수 있는 컴퓨터 응용 시스템</li><li>위성을 이용해 모든 사물의 위치 정보를 제공해 주는 것</li></ul><h1 id="it389-전략"><a class="markdownIt-Anchor" href="#it389-전략"></a> IT389 전략</h1><ul><li>u-IT839</li><li>미래의 정보 기술 시장을 선도하기 위해 정보통신부가 2004년 2월 수립한 IT 성장 전략을 말한다.</li><li>유비쿼터스 코리아를 추진하기 위한 운동이다.</li></ul><h1 id="usn"><a class="markdownIt-Anchor" href="#usn"></a> USN</h1><ul><li>Ubiquitous Sensor Network = 유비쿼터스 센서 네트워크</li><li>각종 센서로 수집한 정보를 무선으로 수집할 수 있도록 구성한 네트워크</li><li>필요한 모든 곳에 RFID 태그를 부착하고 이를 통해 사물의 인식 정보는 물론 주변의 환경 정보까지 탐지하여 이를 네트워크에 연결하여 정보를 관리하는 것</li></ul><h1 id="ant-protocol"><a class="markdownIt-Anchor" href="#ant-protocol"></a> ANT+ Protocol</h1><ul><li>Advanced and Network Technology plus protocol</li><li>2457MHz 대역에서 동작하는 초저전력 무선 센서 네트워크 프로토콜로 상호 운용성을 보장</li><li>매우 적은 전력 소비로 인해 소형 코인 셀 배터리 하나면 몇 년간 동작이 가능하다.</li><li>주로 소형 스마트 기기에 사용하여 건강관리나 소형기기 제어에 사용된다.</li></ul><h1 id="래드섹-프로토콜"><a class="markdownIt-Anchor" href="#래드섹-프로토콜"></a> 래드섹 프로토콜</h1><ul><li>RadSec</li><li>RADIUS(Remote Authentication Dial In User Service) 데이터를 전송 제어 프로토콜이나 전송계층 보안(TLS)을 이용하여 전송하기 위한 프로토콜</li></ul><h1 id="위성-기반-보정-시스템"><a class="markdownIt-Anchor" href="#위성-기반-보정-시스템"></a> 위성 기반 보정 시스템</h1><ul><li>SBAS = Satellite-Based Augmentation System</li><li>국제 민간항공기구(ICAO)에서 글로벌 항법 위성 시스템(GNSS)의 정확성, 신뢰성, 이용 가능성을 향상시키기 위한 국제 표준 중 하나이다.</li><li>정보를 위성으로 보내 사용자들에게 정확한 정보를 보내기 위한 보정 자료로 활용한다.</li></ul><h1 id="지상-기반-보정-시스템"><a class="markdownIt-Anchor" href="#지상-기반-보정-시스템"></a> 지상 기반 보정 시스템</h1><ul><li>GBAS = Ground-Based Augmentation System</li><li>국제민간항공기구(ICAO)에서 글로벌 항법 위성 시스템(GNSS의 정확성, 신뢰성, 이용 가능성을 향상시키기 위한 국제 표준 중 하나이다.</li><li>주로 이착륙하는 항공기에 사용된다.</li></ul><h1 id="webkit"><a class="markdownIt-Anchor" href="#webkit"></a> WebKit</h1><ul><li>웹키트</li><li>웹 브라우저를 만드는 데 기반을 제공하는 레이아웃 엔진</li><li>Mas OS X의 사파리 웹 브라우저 엔진으로 사용하기 위해 컨커러 브라우저의 KHTML 소프트웨어 라이브러리에서 가져온 것이었으나 최근에는 애플 사파리와 구글 크롬은 물론 블랙베리에서도 브라우저의 엔진으로 사용되고 있다.</li></ul><h1 id="mashup"><a class="markdownIt-Anchor" href="#mashup"></a> Mashup</h1><ul><li>매시업</li><li>웹에서 제공하는 정보 및 서비스를 이용하여 새로운 소프트웨어나 서비스, 데이터베이스 등을 만드는 기술</li><li>다수의 정보원이 제공하는 콘텐츠를 조합하여 하나의 서비스로 제공하는 웹 사이트 또는 어플리케이션을 말한다.</li></ul><h1 id="voip"><a class="markdownIt-Anchor" href="#voip"></a> VoIP</h1><ul><li>Voice over Internet Protocol</li><li>인터넷 프로토콜 상의 음성 전송이란 의미로 인터넷을 통하여 통화할 수 있는 기술</li><li>기존에 사용되고 있던 데이터 통신용 패킷망을 인터넷 폰에 이용하는 것</li><li>음성 데이터를 인터넷 프로토콜 데이터 패킷으로 변화하여 일반 전화망에서의 통화를 가능하게 해주는 통신 서비스 기술</li></ul><h1 id="url"><a class="markdownIt-Anchor" href="#url"></a> URL</h1><ul><li>Uniform Resource Locator</li><li>인터넷 상에 존재하는 각종 자원이 있는 위치를 나타내는 표준 주소 체계</li></ul><h1 id="쿠키"><a class="markdownIt-Anchor" href="#쿠키"></a> 쿠키</h1><ul><li>Cookie</li><li>웹 사이트에서 사용자의 하드디스크에 저장하는 특별한 텍스트 파일</li><li>인터넷 사용자에 대한 특정 웹 사이트의 접속 정보를 저장하기 위한 것</li></ul><h1 id="ims"><a class="markdownIt-Anchor" href="#ims"></a> IMS</h1><ul><li>IP Multimedia Subsystem</li><li>인터넷 프로토콜을 기반으로 음성, 오디오, 비디오 및 데이터 등의 멀티미디어 서비스를 제공하는 규격</li><li>기본적으로 범용의 인터넷 기반 기술과 표준화된 네트워크 기능들을 사용함으로써 서비스의 가격 경쟁력 향상과 신속한 서비스 개발 및 변경을 추구한다.</li></ul><h1 id="멀티캐스트"><a class="markdownIt-Anchor" href="#멀티캐스트"></a> 멀티캐스트</h1><ul><li>Multicast</li><li>구내 정보 통신망(LAN)이나 인터넷에 접속되어 있는 일부 사용자 내에서 한 사람이 몇 사람에게 정보를 송신하고 그것을 수신한 몇 사람이 같은 내용을 버킷 릴레이식으로 복수의 사람에게 송신함으로써 정보를 전파하는 특정 다수인에 대한 전송</li></ul><h1 id="비트코인"><a class="markdownIt-Anchor" href="#비트코인"></a> 비트코인</h1><ul><li>Bitcoin</li><li>온라인에서 사용되는 가상의 디지털 화폐로 2009년에 만들어졌으나 개발자는 분명치 않다.</li></ul><h1 id="ria"><a class="markdownIt-Anchor" href="#ria"></a> RIA</h1><ul><li>Rich Internet Application = 리치 인터넷 어플리케이션</li><li>플래시 애니메이션 기술과 웹 서버 애플리케이션 기술을 통합하여 기존 HTML보다 역동적이고 인터랙티브한 웹페이지를 제공하는 신개념의 플래시 웹페이지 제작 기술</li></ul><h1 id="isp"><a class="markdownIt-Anchor" href="#isp"></a> ISP</h1><ul><li>Internet Service Provider = 인터넷 서비스 제공자</li><li>개인이나 회사들에게 인터넷 접속 서비스, 웹 사이트 구축 및 웹 호스팅 서비스 등을 제공하는 회사들을 말한다.</li></ul><h1 id="해시태그"><a class="markdownIt-Anchor" href="#해시태그"></a> 해시태그</h1><ul><li>Hashtag</li><li>샵 기호와 특정 단어를 붙여 쓴 것으로 트위터, 페이스북 등 소셜 미디어에서 특정 핵심어를 편리하게 검색할 수 있도록 하는 메타데이터의 한 형태</li></ul><h1 id="증강현실"><a class="markdownIt-Anchor" href="#증강현실"></a> 증강현실</h1><ul><li>Augmented Reality = 혼합현실</li><li>실제 촬영한 화면에 가상의 정보를 부가하여 보여주는 기술</li></ul><h1 id="cname"><a class="markdownIt-Anchor" href="#cname"></a> CNAME</h1><ul><li>Canonical NAME</li><li>호스트 컴퓨터는 웹 접속을 위해 하나의 IP 주소를 가져야 하는데, 이 IP 주소는 DNS가 호스트 컴퓨터의 도메인 이름을 변환하여 생성한다. 그러나 종종 여러 개의 도메인 이름을 동일한 하나의 IP 주소로 변환하여 사용하기도 하는데 이를 CNAME이라고 한다.</li></ul><h1 id="hvc-hevc"><a class="markdownIt-Anchor" href="#hvc-hevc"></a> HVC (HEVC)</h1><ul><li>High performance Video Coding = 고성능 영상 코딩 = High Efficiency Video Coding</li><li>ISO/IEC JTC1 MPEG에서 AVC 이후의 표준으로 추진 중인 차세대 비디호 부호화 표준</li><li>HD 이상의 해상도를 주 대상으로 하는 차세대 비디오 부호화 표준으로 고성능의 압축 효율은 물론 이동성을 보장한다.</li></ul><h1 id="trackback"><a class="markdownIt-Anchor" href="#trackback"></a> Trackback</h1><ul><li>트랙백</li><li>다른 사람의 글을 읽고 그 글에 직접 댓글을 올리는 대신에 내 블로그에 글을 올리고 내 글의 일정 부분이 다른 사람의 댓글로 보이도록 트랙백 핑을 보내는 것을 말한다.</li></ul><h1 id="webaholism"><a class="markdownIt-Anchor" href="#webaholism"></a> Webaholism</h1><ul><li>웨바홀리즘 = 인터넷 중독증 = 인터넷 의존증</li><li>Web과 Alcoholism의 합성어로서 일상생활에 지장을 느낄 정도로 지나치게 인터넷에 몰두하고 인터넷에 접속하지 않으면 불안감을 느끼는 것</li></ul><h1 id="iot"><a class="markdownIt-Anchor" href="#iot"></a> IoT</h1><ul><li>Internet of Things = 사물 인터넷</li><li>정보 통신 기술을 기반으로 실세계와 가상 세계의 다양한 사물들을 연결하여 진보된 서비스를 제공하기 위한 서비스 기반 시설</li></ul><h1 id="rss"><a class="markdownIt-Anchor" href="#rss"></a> RSS</h1><ul><li>Really Simple Syndication = 맞춤형 정보 배달</li><li>매우 간편한 정보 배달이라는 의미를 가지며 업데이트가 잦은 사이트의 최신 정보를 쉽게 확인할 수 있게 해주는 기술</li></ul><h1 id="m2m"><a class="markdownIt-Anchor" href="#m2m"></a> M2M</h1><ul><li>Machine to Machine = 사물 통신</li><li>무선 통신을 이용한 기계와 기계 사이의 통신</li><li>변압기 원격 감시, 전기, 가스 드으이 원격 검침, 무선 신용 카드 조회기, 무선 보안 단말기, 버스 운행 시스템, 위치 추적 시스템, 시설물 관리 등 무선으로 통합하여 상호 작용하는 통신</li><li>부호 분할 다중 접속(CDMA), GSM, 무선 데이터 통신 등 다양항 무선 통신망을 사용한다.</li></ul><h1 id="도메인-네임"><a class="markdownIt-Anchor" href="#도메인-네임"></a> 도메인 네임</h1><ul><li>Domain Name</li><li>숫자로 된 IP 주소를 사람이 이해하기 쉬운 문자 형태로 표현한 것으로 호스트 컴퓨터 이름, 소속 기관 이름, 소속 기관의 종류, 소속 국가명 순으로 구성되며 왼쪽에서 오른쪽으로 갈수록 상위 도메인을 의미한다.</li></ul><h1 id="ip"><a class="markdownIt-Anchor" href="#ip"></a> IP</h1><ul><li>Internet Protocol</li><li>인터넷 상에서 한 컴퓨터에서 다른 컴퓨터로 데이터를 보내는 방식이나 규약을 말한다.</li><li>인터넷 상에서 호스트로 아렬진 각 컴퓨터는 적어도 하나의 IP 주소를 가지고 있다.</li></ul><h1 id="seo"><a class="markdownIt-Anchor" href="#seo"></a> SEO</h1><ul><li>Search Engine Optimization = 검색 엔진 최적화</li><li>검색 엔진에서 검색했을 때 상위에 나타나도록 관리하는 것</li></ul><h1 id="위키피디아"><a class="markdownIt-Anchor" href="#위키피디아"></a> 위키피디아</h1><ul><li>Wikipedia</li><li>전세계 사람들 누구나 자유롭게 쓸 수 있고 함께 만들어가는 웹 기반의 백과사전</li><li>2001년 1월 15일에 지미 웨일스와 래리 생어가 공동으로 세운 비영리 단체인 위키미디어 재단에서 운영</li></ul><h1 id="프로튜어"><a class="markdownIt-Anchor" href="#프로튜어"></a> 프로튜어</h1><ul><li>Pro-ture; Professional Amateur</li><li>프로페셔널과 아마추어의 합성어로 전문가 같은 아마추어를 말한다.</li><li>일반 네티즌이 정보 수요자가 아닌 공급 주체로 떠오르면서 적극적으로 자신의 의견을 개진하고 전문가 못지 않은 식견을 가진 사람을 말한다.</li></ul><h1 id="ipv6"><a class="markdownIt-Anchor" href="#ipv6"></a> IPv6</h1><ul><li>Internet Protocol Version 6</li><li>현재 사용하고 있는 IP 주소체계인 IPv4의 주소 부족 문제를 해결하기 위해 개발된 IP 주소 체계의 차세대 버전</li></ul><h1 id="애니캐스트"><a class="markdownIt-Anchor" href="#애니캐스트"></a> 애니캐스트</h1><ul><li>Anycast</li><li>한 송신자와 인근에 있는 소수 수신자 간의 통신</li><li>애니캐스트는 수신자들을 묶어 하나의 그룹으로 나타낸 주소를 사용하여 그룹 내에서 가장 가까운 호스트에게만 전송하는 것</li><li>특정 다수에게 전송하는 멀티캐스트나 특정 인에게 전송하는 유니캐스트와 구분된다.</li></ul><h1 id="유니캐스트"><a class="markdownIt-Anchor" href="#유니캐스트"></a> 유니캐스트</h1><ul><li>Unicast</li><li>메세지 수신 주소를 1개만 지정하는 1:1 통신 형태</li><li>네트워크 내의 모든 주소에 동일한 메세지를 보내는 것을 ‘브로드캐스트’, 지정한 복수의 수신 주소에 동일 메세지를 보내는 것을 '멀티캐스트’라 한다.</li></ul><h1 id="semantic-web"><a class="markdownIt-Anchor" href="#semantic-web"></a> Semantic Web</h1><ul><li>시멘틱 웹</li><li>컴퓨터가 사람을 대신하여 정보를 읽고 이해하고 가공하여 새로운 정보를 만들어 낼 수 있도록, 이해하기 쉬운 의미를 가진 차세대 지능형 웹</li><li>핵심기술로는 웹 자원을 서수랗기 위한 자원 서술 기술, 온톨로지를 통한 지식 서술 기술, 통합적으로 운영하기 위한 에이전트 기술들을 들 수 있다.</li></ul><h1 id="메타-데이터"><a class="markdownIt-Anchor" href="#메타-데이터"></a> 메타 데이터</h1><ul><li>Meta Data</li><li>일련의 데이터를 정의하고 설명해 주는 데이터이다.</li><li>컴퓨터에서는 데이터 사전의 내용, 스키마 등을 의미하고, 하이퍼텍스트 생성언어 문서에서는 메타 태그</li></ul><h1 id="집단지성"><a class="markdownIt-Anchor" href="#집단지성"></a> 집단지성</h1><ul><li>Collective Intelligence</li><li>다수의 개체가 서로 협력하거나 경쟁하여 얻게 되는 지적 능력의 결과로 얻어진 집단적 능력</li><li>자발적으로 참여하고 다양한 의견을 가진 개인의 지식이 모이면 개별적으로는 미미하게 보이나 집단적으로는 능력 범위를 넘어선 힘을 발휘해 특정 전문가나 기업의 전문 지식보다 더 우수하게 된다는 대중의 지혜를 나타낸 개념</li></ul><h1 id="xml"><a class="markdownIt-Anchor" href="#xml"></a> XML</h1><ul><li>eXtensible Markup Language = 확장성 마크업 언어</li><li>W3C가 채택한 차세대 인터넷 표준 언어로, HTML의 문법이 각 웹브라우저에서 상호 호환적이지 못하다는 문제와 SGML의 복잡함을 해결하기 위하여 개발되었다.</li></ul><h1 id="alt-text"><a class="markdownIt-Anchor" href="#alt-text"></a> Alt-Text</h1><ul><li>대체 텍스트</li><li>시각 장애인이 웹 사이트에 게시된 이미지를 이해할 수 있도록 설명해 주는 글이나 문구</li><li>장애인의 웹 접근성 향상을 위한 대표적인 방법</li></ul><h1 id="mms"><a class="markdownIt-Anchor" href="#mms"></a> MMS</h1><ul><li>Multimedia Messaging System = 멀티미디어 메세징 시스템</li><li>3세대 이동 통신 서비스의 기본 요소로서 정지영상, 음악, 음성 및 동영상 등의 다양한 형식의 데이터를 주고받을 수 있는 메세징 시스템</li></ul><h1 id="블로그"><a class="markdownIt-Anchor" href="#블로그"></a> 블로그</h1><ul><li>웹과 로그의 합성어로 개인이 관심사에 따라 자유롭게 글을 올릴 수 있는 웹사이트</li><li>다양한 형태를 취하는 1인 미디어</li></ul><h1 id="ip-tv"><a class="markdownIt-Anchor" href="#ip-tv"></a> IP TV</h1><ul><li>Internet Protocol TV</li><li>초고속 인터넷을 이용하여 정보 서비스, 동영상 콘텐츠 및 방송 등을 TV로 제공하는 양방향 서비스</li><li>인터넷과 TV의 융합으로 기존의 인터넷 TV와 다른 점이라면 컴퓨터 모니터 대신 TV수상기를 이용하고 마우스 대신 리모컨을 사용한다는 점이다.</li></ul><h1 id="www"><a class="markdownIt-Anchor" href="#www"></a> WWW</h1><ul><li>World Wide Web = 월드 와이드 웹</li><li>텍스트, 그림, 동영상, 음성 등 인터넷에 존재하는 다양한 정보를 거미줄처럼 연결해 놓은 종합정보 서비스</li></ul><h1 id="디지털-원주민"><a class="markdownIt-Anchor" href="#디지털-원주민"></a> 디지털 원주민</h1><ul><li>Digital Native</li><li>컴퓨터, 인터넷, 휴대폰 등의 디지털 기술을 어려서부터 사용하면서 성장한 세대</li></ul><h1 id="ucc-가이드라인"><a class="markdownIt-Anchor" href="#ucc-가이드라인"></a> UCC 가이드라인</h1><ul><li>정부가 제정한 건전한 UCC 생산과 유통 및 이용에 관한 지침서</li><li>UCC 이용자들을 위한 실천적 가이드라인으로 UCC 이용자의 자율적인 윤리의식을 촉구하는 체크리스트로 이뤄져 있다.</li></ul><h1 id="관계기술"><a class="markdownIt-Anchor" href="#관계기술"></a> 관계기술</h1><ul><li>Relation Technology</li><li>상호관계를 이해하는 관계성을 기반으로 하는 새로운 기술 패러다임</li><li>기술위주로 발전하는 정보기술에 나와 너, 사람과 사람 등 문화 인문학 등의 논리위주의 관계기술이 접목되어야 한다는 점을 강조하며 이어령 이화여대 명예교수가 만들어 낸 신조어</li></ul><h1 id="사용자-제작-콘텐츠"><a class="markdownIt-Anchor" href="#사용자-제작-콘텐츠"></a> 사용자 제작 콘텐츠</h1><ul><li>UCC = User Created Contents</li><li>인터넷 사업자나 콘텐츠 공급자가 아닌 일반 사용자들이 직접 만들어 유통되는 콘텐츠</li></ul><h1 id="웹-20"><a class="markdownIt-Anchor" href="#웹-20"></a> 웹 2.0</h1><ul><li>제공된 데이터를 활용하여 사용자가 정보 생성에 참여하고 가치를 부여함으로써 누구나 다양한 신규 서비스를 생산해 낼 수 있는 플랫폼으로서의 웹 환경</li></ul><h1 id="태그달기"><a class="markdownIt-Anchor" href="#태그달기"></a> 태그달기</h1><ul><li>꼬리표 달기 = Tagging</li><li>콘텐츠의 내용을 대표할 수 있는 검색용 꼬리표인 키워드, 또는 태그를 다는 것</li><li>글을 올린 사람이나 사이트 관리자가 글이나 이미지를 관련된 주제나 카테고리의 형태로 분류될 수 있도록 키워드 처리를 해주는 것</li></ul><h1 id="퀵돔"><a class="markdownIt-Anchor" href="#퀵돔"></a> 퀵돔</h1><ul><li>Quickdom</li><li>영어의 Quick과 Domain이 결합된 합성어로 2단계 영문 kr도메인의 브랜드명</li><li>짧은 형태의 도메인으로 기억하기 쉽고 주소창에 입력하기도 간편하다.</li></ul><h1 id="표면-웹"><a class="markdownIt-Anchor" href="#표면-웹"></a> 표면 웹</h1><ul><li>Suface Web</li><li>네이버, 구글, 다음과 같이 일반적인 검색엔진으로 검색이 가능한 콘텐츠의 인터넷 환경</li><li>반대는 Deep web</li></ul><h1 id="인터넷-연동"><a class="markdownIt-Anchor" href="#인터넷-연동"></a> 인터넷 연동</h1><ul><li>Internet eXchange</li><li>인터넷 서비스 제공자 상호간에 트래픽을 원활하게 소통시키기 위해 구축한 네트워크간 연동 서비스</li><li>네트워크 서비스에 대한 수요가 큰 콘텐츠 전송망(CDN) 서버와 네이버, 다음카카오 등과 같은 포털 서버의 회선에 직접 연결되어 개별 ISP 들의 경제적 부담을 완화해 서비스 품질의 향상을 기대할 수 있다.</li></ul><h1 id="협대역-사물-인터넷"><a class="markdownIt-Anchor" href="#협대역-사물-인터넷"></a> 협대역 사물 인터넷</h1><ul><li>NB-IoT = NarrowBand-Internet of Things</li><li>사물인터넷을 위해 설꼐된 협대역 무선 기술을 의미</li><li>200KHz 미만의 협대역 주파수를 사용하며 기존의 이동통시남ㅇ인 GSM과 LTE망을 사용하므로 초기 비용이 적다는 것과 저전력, 긴 수명, 많은 수의 기기들을 커버할 수 있다는 것이 특징</li></ul><h1 id="vht"><a class="markdownIt-Anchor" href="#vht"></a> VHT</h1><ul><li>Very High Throughput</li><li>IEEE에서 802.11n 후속으로 진행하고 있는 표준안</li><li>2배 이상의 전송속도인 1Gbps 이상을 지원하여 압축되지 않은 HD 동영상의 전송을 가능하게 하며 802.11n과 비교할 때 개선된 커버리지와 전력 소모 기능을 갖고, 기존 무선랜 사양들에 대한 하위 호환성을 지원할 수 있다.</li></ul><h1 id="시공간-송신-다이버시티"><a class="markdownIt-Anchor" href="#시공간-송신-다이버시티"></a> 시공간 송신 다이버시티</h1><ul><li>STTD = Space Time Transmit Diversity</li><li>WCDMA 시스템에 적용하는 송신 다이버시티 방식</li><li>송신 안테나 두 개, 수신 안테나 한 개를 사용하며 송신 심벌들을 일정 블록 단위로 순서를 뒤집어서 양쪽으로 송신하여 공간 다이버시티와 시간 다이버시티 이점을 동시에 얻는다.</li></ul><h1 id="기가-파이"><a class="markdownIt-Anchor" href="#기가-파이"></a> 기가 파이</h1><ul><li>Giga Fi</li><li>60GHz 대역을 이용해 데이터를 기가급으로 전송할 수 있는 기술</li><li>전 세계적으로 비 허가 대역인 57~64GHz 범위의 주파스를 이용하여 넓은 대역폭의 높은 데이터 전송률(3Gbps)을 얻을 수 있다.</li><li>전파 거리가 짧고 직진성이 강해 주변 간섭에 매우 강하고 보안성이 뛰어나며 주파수 재사용도 용이하다.</li></ul><h1 id="클라우드-컴퓨팅"><a class="markdownIt-Anchor" href="#클라우드-컴퓨팅"></a> 클라우드 컴퓨팅</h1><ul><li>Cloud Computing</li><li>각종 컴퓨팅 자원을 중앙 컴퓨터에 두고 인터넷 기능을 갖는 모든 단말로 언제 어디서나 인터넷을 통해 컴퓨터 작업을 수행할 수 있는 환경을 의미</li></ul><h1 id="마그네틱-안전-전송"><a class="markdownIt-Anchor" href="#마그네틱-안전-전송"></a> 마그네틱 안전 전송</h1><ul><li>MST = Magnetic Secure Tansmission</li><li>2015년 2월 삼성전자가 인수한 미국기업 LoopPay사가 개발한 기술로 안테나가 내장된 휴대폰을 마그네틱 결제 단말기에 근접시켜 신용카드 정보를 전송하는 기술</li></ul><h1 id="wifi"><a class="markdownIt-Anchor" href="#wifi"></a> WiFi</h1><ul><li>Wireless-Fidelity = 와이파이</li><li>2.4GHz대를 사용하는 무선랜 규격(IEEE 802.11b)에서 정한 제반 규정에 적합한 제품에 주어지는 인증 마크</li></ul><h1 id="n-screen"><a class="markdownIt-Anchor" href="#n-screen"></a> N-Screen</h1><ul><li>앤스크린</li><li>N개의 서로 다른 단말기에서 동일한 콘텐츠를 자유롭게 이용할 수 있는 것</li><li>PC, TV, 휴대폰에서 동일한 콘텐츠를 끊김 없이 이용할 수 있는 것은 물론 사용자가 가지고 있는 여러 대의 단말기에서도 동일한 콘텐츠를 끊김 없이 이용하는 것을 말한다.</li></ul><h1 id="신-클라이언트"><a class="markdownIt-Anchor" href="#신-클라이언트"></a> 신 클라이언트</h1><ul><li>Thin Client PC</li><li>하드디스크나 주변 장치 없이 기본적인 메모리만 갖추고 서버와 네트워크로 운용되는 개인용 컴퓨터를 의미</li><li>서버 기반 컴퓨팅과 관계가 깊다.</li><li>클라이언트는 프로그램이 필요할 때마다 서버에 접속하여 소프트웨어를 내려받기만 하면 되며, 기억장치 없이 서버 측에서 데이터를 한꺼번에 관리한다.</li></ul><h1 id="phablet"><a class="markdownIt-Anchor" href="#phablet"></a> Phablet</h1><ul><li>패블릿</li><li>폰과 태블릿의 합성어</li><li>태블릿 기능을 포함한 5인치 이상의 대화면 스마트폰</li></ul><h1 id="acn"><a class="markdownIt-Anchor" href="#acn"></a> ACN</h1><ul><li>AP Centric Network</li><li>AP가 내장된 단말기로 구성된 네트워크</li><li>스마트폰 같은 모방리 단말의 확산으로 트래픽이 빠르게 증가하고 있지만 모바일용 인프라는 이에 대응하지 못하고 있어 4G 네트워크가 구축되기 이전에 와이파이 공유 모델을 기반으로 하는 ACN 기술 실용화를 추진하고 있다.</li></ul><h1 id="byod"><a class="markdownIt-Anchor" href="#byod"></a> BYOD</h1><ul><li>Bring Your Own Device = 브링 유어 오운 디바이스</li><li>개인 소유 단말기를 업무에 사용하는 환경</li><li>모바일 단말을 이용하기 때문에 보안에 취약하다.</li></ul><h1 id="lte"><a class="markdownIt-Anchor" href="#lte"></a> LTE</h1><ul><li>Long Term Evolution = 미래 장기 진화</li><li>3GPP 진영에서 추진하고 있는 3세대 이동 통신(3G) 방식인 광대역 부호분할다중접속(W-CDMA)이 진화한 기술로 유력한 4세대 이동 통신(4G) 후보 기술이다.</li><li>데이터 전송 효율 향상, 효율적인 주파수 자원 이용, 이동성, 낮은 지연 시간, 패킷 데이터 전송에 최적화 된 기술과 서비스 품질 보장 등을 제공하는 차세대 이동 통신 기술</li></ul><h1 id="스마트폰"><a class="markdownIt-Anchor" href="#스마트폰"></a> 스마트폰</h1><ul><li>Smart Phone</li><li>피처폰에 비해 진보한 연산능력과 접속성을 겸비한 모바일 운영체제를 기반으로 하는 이동 전화</li></ul><h1 id="펨토셀-기지국"><a class="markdownIt-Anchor" href="#펨토셀-기지국"></a> 펨토셀 기지국</h1><ul><li>Femtocell Bas Station</li><li>사무실이나 집에 설치하는 초소형 이동 통신 기지국</li><li>건물이나 지하의 작은 지역(30~50m)에 서비스하려고 설치하는 소출력 초소형 이동 통신 기지국</li></ul><h1 id="개인환경서비스"><a class="markdownIt-Anchor" href="#개인환경서비스"></a> 개인환경서비스</h1><ul><li>PES = Personal Environment Service</li><li>사용자에게 최적화된 생활 환경을 제공하는 서비스</li><li>사용자가 휴대전화를 가지고 가정과 사무실, 차량, 공공장소를 이동하면, 휴대전화가 주변의 각종 생활 기기들을 자동으로 인식하고 제어하여 사용자 개인에게 최적화된 생활 환경을 제공</li></ul><h1 id="모바일-컴퓨팅"><a class="markdownIt-Anchor" href="#모바일-컴퓨팅"></a> 모바일 컴퓨팅</h1><ul><li>Mobile Computing</li><li>휴대형 기기로 이동하면서 자유로이 네트워크에 접속하여 업무를 처리할 수 있는 환경</li><li>모바일 컴퓨팅의 진화는 휴대 기기와 네트워크 기술의 진화로도 가능하다.</li><li>휴대기기는 소형 대용량화와 저전력화가 진행중이고 네트워크 기술도 무선으로 고속/대용량의 정보를 처리할 수 있는 기술이 사용화되고 있다.</li></ul><h1 id="넷북"><a class="markdownIt-Anchor" href="#넷북"></a> 넷북</h1><ul><li>Netbook</li><li>휴대형 미니 노트북 컴퓨터로서 인터넷, 문서작업, 이메일 등 컴퓨터의 기본적인 기능을 수행하면서 이동성을 갖도록 제작된 것</li></ul><h1 id="sco"><a class="markdownIt-Anchor" href="#sco"></a> SCO</h1><ul><li>Synchronous Connection Oriented link = 동기식 접속 지향 링크</li><li>블루투스 데이터 링크의 하나로 두 장비 간에 음성과 같이 지정된 대역폭 통신을 위한 전용 회선의 동기식 접속 방법</li><li>음성 데이터인 SCO 패킷 전송에 사용된다.</li><li>CRC도 재전송도 하지 않는다.</li></ul><h1 id="app-store"><a class="markdownIt-Anchor" href="#app-store"></a> App Store</h1><ul><li>애플사가 개발한 모바일용 온라인 소프트웨어 장터</li></ul><h1 id="ap"><a class="markdownIt-Anchor" href="#ap"></a> AP</h1><ul><li>Access Point = 무선 접속장치</li><li>무선 랜과 유선 랜을 연결시켜주는 장비</li><li>전파 도달 거리 내의 무선 랜 카드를 사용하는 컴퓨터나 무선 기기들이 자유롭게 통신할 수 있도록 한다.</li></ul><h1 id="범용-가입자-식별-모듈"><a class="markdownIt-Anchor" href="#범용-가입자-식별-모듈"></a> 범용 가입자 식별 모듈</h1><ul><li>USIM = Universal Subscriber Identity Module</li><li>사용자의 인증을 목적으로 휴대전화 사용자의 개인 정보를 저장하는 모듈로서 스마트 카드(USIM) 카드로 제작된다.</li></ul><h1 id="m-커머스"><a class="markdownIt-Anchor" href="#m-커머스"></a> m-커머스</h1><ul><li>mobile Commerce = 모바일 상거래</li><li>m-커머스는 전자상거래의 일종으로 가정이나 사무실에서 유선으로 인터넷에 연결하여 물건을 사고 파는 것과 달리 이동중에 이동 전화기나 무선 인터넷 정보 단말기 등을 이용해 은행 업부, 지물 업무, 티켓 업무와 같은 서비스를 하는 것</li></ul><h1 id="유비쿼터스"><a class="markdownIt-Anchor" href="#유비쿼터스"></a> 유비쿼터스</h1><ul><li>Ubiquitous</li><li>컴퓨터가 특정한 장소에 설치되어 있어야 하는 것이 아니라 우리 생활에서 사용되는 모든 사물에 컴퓨터 기능을 내장하고 이들을 무선 네트워크로 연결하여 인간이 필요로 하는 정보를 제공받을 수 있는 환경을 의미</li></ul><h1 id="촉각-기술"><a class="markdownIt-Anchor" href="#촉각-기술"></a> 촉각 기술</h1><ul><li>Haptic Technology</li><li>진동의 장단과 고저를 이용하여 다양한 종류의 진동 기호를 만드는 기술</li><li>휴대폰에 적용할 경우 간단한 메세지는 휴대폰에서 느껴지는 진동 기호로 충분히 표현 가능하다.</li></ul><h1 id="wcdma"><a class="markdownIt-Anchor" href="#wcdma"></a> WCDMA</h1><ul><li>Wide-band CDMA = 광대역 부호 분할 다중 접속</li><li>가장 많은 국가들이 채택하고 있는 제 3세대 이동통신 시스템</li><li>멀티미디어 전송을 목적으로 개발되었으며 동영상 파일을 다운로드하면서 실시간으로 재생까지 할 수 있는 VOD 스트리밍, 휴대폰으로 동영상 멀티미디어 메세지를 주고받을 수 있는 MMS가 가능하다.</li></ul><h1 id="wibro"><a class="markdownIt-Anchor" href="#wibro"></a> WiBrO</h1><ul><li>Wireless Broadband = 와이브로</li><li>무선 광대역을 의미하는 것으로 휴대폰 노트북, PDA 등의 휴대 인터넷 단말장치를 이용하여 언제 어디서나 이동하면서 고속으로 무선 인터넷 접속이 가능한 서비스</li></ul><h1 id="펨토셀"><a class="markdownIt-Anchor" href="#펨토셀"></a> 펨토셀</h1><ul><li>Femto Cell</li><li>1000조분의 1을 뜻하는 펨토와 이동통신에서 1개 기지국이 담당하는 서비스 구역 단위를 뜻하는 셀을 합친 이름으로 기존 이동통신 서비스 반경보다 훨씬 작은 지역을 커버하는 시스템</li><li>DSL 모뎀처럼 생긴 초소형 기지국을 가정 내 유선 IP망에 연결해 휴대폰으로 유무선 통신을 자유롭게 사용할 수 있게 해준다.</li></ul><h1 id="wipi"><a class="markdownIt-Anchor" href="#wipi"></a> WIPI</h1><ul><li>Wireless Internet Platform for Interoperability = 위피</li><li>한국형 무선 인터넷 플랫폼 표준 규격</li><li>이동통신 업체들이 같은 플랫폼을 사용하도록 함으로써 국가적 낭비를 줄이자는 취지로 2001년부터 국책사업으로 추진되기 시작하였다.</li></ul><h1 id="gps"><a class="markdownIt-Anchor" href="#gps"></a> GPS</h1><ul><li>Global Positioning System = 위성 위치 확인 시스템</li><li>지구상의 위치 선정 시스템이란 의미</li><li>지구를 도는 인공위성이 현재의 위치를 시시각각 알려주는 시스템</li></ul><h1 id="텔레매틱스"><a class="markdownIt-Anchor" href="#텔레매틱스"></a> 텔레매틱스</h1><ul><li>Telematics</li><li>통신(telecommuncation)과 정보(Informatics)의 합성어</li><li>자동차와 무선통신을 결합한 새로운 개념의 차량 무선 인터넷 서비스</li></ul><h1 id="imt-2000"><a class="markdownIt-Anchor" href="#imt-2000"></a> IMT-2000</h1><ul><li>International Mobile Telecommunication-2000</li><li>이동통신의 문제점인 지역적 한계와 고속 전송에 대한 기술적 한계를 극복하고 나라마다 다른 이동통신 방식을 통일하여 한 대의 휴대용 전화기로 전 세계 어디서나 통화할 수 있도록 만들려는 규격</li></ul><h1 id="스마트-플러그"><a class="markdownIt-Anchor" href="#스마트-플러그"></a> 스마트 플러그</h1><ul><li>Smart Plug</li><li>와이파이나 스마트폰 등의 스마트 기능을 추가한 플러그</li><li>스마트 프럴그를 설치하여 원격에서 전기를 켜거나 끄는 것은 물론 전기 사용량을 감시할 수 있어 가정이나 사무실의 전기 과열이나 불필요한 전기의 사용을 억제할 수 있다.</li></ul><h1 id="앱북"><a class="markdownIt-Anchor" href="#앱북"></a> 앱북</h1><ul><li>스마트폰, 태플릿, 개인용 컴퓨터 등 단말 기기에서 별도의 애플리케이션으로 실행되는 전자책</li></ul><h1 id="모바일-광개토-플랜"><a class="markdownIt-Anchor" href="#모바일-광개토-플랜"></a> 모바일 광개토 플랜</h1><ul><li>방통위가 2011년 국내 모바일 광대역을 위해 2020년까지 이동통신용으로 600MHz 대역폭을 추가로 확보하기 위해 내놓은 계획</li></ul><h1 id="범용-통합-플랫폼"><a class="markdownIt-Anchor" href="#범용-통합-플랫폼"></a> 범용 통합 플랫폼</h1><ul><li>Universal Integration Platform</li><li>다양해진 웹 브라우저와 스마트폰 및 모바일 기기로 인해 기업용 애플리케이션의 개발, 운영에 많은 비용과 시간이 소모되기 시작하자 자원의 소비를 완화하고 개발자에게 다양한 플랫폼을 제공하기 위해 만들어진 서비스</li></ul><h1 id="서비스형-백엔드"><a class="markdownIt-Anchor" href="#서비스형-백엔드"></a> 서비스형 백엔드</h1><ul><li>BaaS = Backend As A Service</li><li>웹 및 앱 개발자들을 위한 클라우드 서비스</li><li>웹 앱 개발을 위한 응용 프로그램 인터페이스를 제공한다.</li></ul><h1 id="와이파이-오프로딩"><a class="markdownIt-Anchor" href="#와이파이-오프로딩"></a> 와이파이 오프로딩</h1><ul><li>Wi-Fi Offloading</li><li>이동 통신의 급증하는 데이터 트래픽을 와이파이 망으로 분산시키는 방법</li></ul><h1 id="지오로케이션"><a class="markdownIt-Anchor" href="#지오로케이션"></a> 지오로케이션</h1><ul><li>Geolocation</li><li>인터넷에 연결된 모바일 또는 컴퓨터 등의 지리적 위치 정보를 말한다.</li><li>웹 애플리케이션에서는 HTML5에서 지원하는 지오로케이션 응용 프로그래밍 인터페이스를 이용하여 사용자의 위치 정보를 파악, 이를 기반으로 길 안내, 주변 편의 시설, 맛집, 병원 등의 유용한 정보를 제공해준다.</li></ul><h1 id="피에스-엘티이"><a class="markdownIt-Anchor" href="#피에스-엘티이"></a> 피에스-엘티이</h1><ul><li>PS-LTE = Public Safety-LTE</li><li>영상, 고해상도 사진 등 멀티미디어 정보를 이용하여 공공 안전 통신망을 구축하는 전국 규모의 광대역 LTE 기술</li></ul><h1 id="앱-중립성"><a class="markdownIt-Anchor" href="#앱-중립성"></a> 앱 중립성</h1><ul><li>App Neutrality</li><li>스마트폰과 같은 모바일 기기에서 사용되는 앱이 모바일 운영체제의 종류에 구애받지 않고 실행할 수 있는 성질로 앱 융통성이라고도 한다.</li><li>모방리 OS 종류에 상관없이 어떠한 모바일에서도 앱 콘텐츠를 사용할 수 있어야 됨을 의미한다.</li></ul><h1 id="인터클라우드-컴퓨팅"><a class="markdownIt-Anchor" href="#인터클라우드-컴퓨팅"></a> 인터클라우드 컴퓨팅</h1><ul><li>Inter-cloud Computing</li><li>각기 다른 클라우드 서비스를 연동 및 컴퓨팅 자원의 동적 할당을 가능하게 하기위해 여러 클라우드 서비스 제공자들이 제공하는 클라우드 서비스나 자원을 연결하는 기술</li></ul><h1 id="케듀롬"><a class="markdownIt-Anchor" href="#케듀롬"></a> 케듀롬</h1><ul><li>Keduroam</li><li>2013년 3월부터 국공립 대학 정보기관 협의회에서 운영하는 무선랜 공동 사용 서비스</li><li>국제적인 연구 및 교육 커뮤니티를 위해 개발된 무선랜 로밍 서비스인 에듀롬을 본떠 만들었다.</li></ul><h1 id="호스트-카드-에뮬레이션"><a class="markdownIt-Anchor" href="#호스트-카드-에뮬레이션"></a> 호스트 카드 에뮬레이션</h1><ul><li>HCE = Host Card Emulation</li><li>스마트폰 등의 모바일 기기에서 유심 칩과 같은 물리적 보안 요소를 사용하지 않고, 앱을 이용해 NFC 결제 단말과 연결하여 모바일 결제 서비스를 제공하는 근거리 무선통신(NFC) 기술</li></ul><h1 id="wearable-technology"><a class="markdownIt-Anchor" href="#wearable-technology"></a> Wearable Technology</h1><ul><li>착용 기술</li><li>사용자가 IT 기기를 몸에 착용할 수 있도록 하는 기술</li><li>일상적으로 사용되는 용품이나 사용자의 피부에 IT 기술을 접목시켜 사용자가 언제 어디선든 컴퓨팅 환경을 제공받을 수 있도록 한다.</li></ul><h1 id="디지털-메시"><a class="markdownIt-Anchor" href="#디지털-메시"></a> 디지털 메시</h1><ul><li>시장조사 전문기관인 가트너가 2016년에 주목받을 전략기술 중 하나로 언급하면서 탄생한 것</li><li>서로 다른 성격의 기기들을 연결하여 그물같은 형태를 이루는 것</li></ul><h1 id="올조인"><a class="markdownIt-Anchor" href="#올조인"></a> 올조인</h1><ul><li>AllJoyn</li><li>표준화된 오픈소스 기반의 사물인터넷 플랫폼</li><li>리눅스 재단이 사물인터넷 확산을 위해 설립한 컨소시엄인 올신얼라이선스에 의해 제공된다.</li><li>서로 다른 운영체제나 하드웨어를 사용하는 기기들이 표준화된 프랤폼인 올조인을 이용함으로서 서로 통신 및 제어가 가능하게 된다.</li></ul><h1 id="와이파이-헤일로"><a class="markdownIt-Anchor" href="#와이파이-헤일로"></a> 와이파이 헤일로</h1><ul><li>Wi-Fi HaLow</li><li>1GHz 이하의 저주파 대역을 사용하는 와이파이 규격</li><li>2.4GHz 혹은 5GHz 주파수 대역을 사용하는 일반 와이파이에 비해 전송 거리가 약 1Km 정도로 장거리 전송이 가능하다.</li></ul><h1 id="용도-자유-대역"><a class="markdownIt-Anchor" href="#용도-자유-대역"></a> 용도 자유 대역</h1><ul><li>K-ICT Free Band</li><li>향후 출현 가능한 다양한 정보통신기술과 사물인터넷 서비스 등의 수요에 유연하게 대응하기 위해 추진한 주파수 정책</li><li>2015년 11월 11일 고시</li><li>262~264MHz는 원격검침, 스마트홈 등의 IoT 서비스</li><li>24~27GHz는 소출력 레이더, 5G 이동통신용 등</li><li>64~66GHz는 대용량 전송, 고해상도 레이더 등</li><li>122~123GHz, 244~246GHz는 향후 기술발전에 따른 소출력 기기를 위한 용도</li></ul><h1 id="서비스-수준-협약"><a class="markdownIt-Anchor" href="#서비스-수준-협약"></a> 서비스 수준 협약</h1><ul><li>Service Level Agreement</li><li>서비스 사업자와 서비스 사용자가 제공될 정보 서비스 및 그와 연관된 여러 조건들에 대한 서로의 책임과 의무 사항을 기술해 놓은 협약서</li><li>서비스 산업자와 서비스 사용자 간의 합의를 통하여 서비스 시간, 서비스 가용성, 성능, 복구 등 다양한 항목에 대해 최소한의 서비스를 제공하기로 사전에 협약을 맺는다.</li></ul><h1 id="pad"><a class="markdownIt-Anchor" href="#pad"></a> PAD</h1><ul><li>Program Associated Data = 프로그램 연동 정보</li><li>전송되고 있는 프로그램의 내용과 부가적인 정보를 설명하기 위해 관련 정보를 제공하는 것</li><li>방송에 관련된 개념</li></ul><h1 id="lbs"><a class="markdownIt-Anchor" href="#lbs"></a> LBS</h1><ul><li>Location-Based Services = 위치 중심 서비스</li><li>이동통신망을 기반으로 사람이나 사물의 위치를 정확하게 파악하고 이를 활용하는 응용 시스템 및 서비스를 말한다.</li><li>휴대폰이나 PDA 등의 장치를 통해 활용되며 이동통신망과 IT 기술이 종합적으로 활용된다.</li></ul><h1 id="디지털-프로슈머"><a class="markdownIt-Anchor" href="#디지털-프로슈머"></a> 디지털 프로슈머</h1><ul><li>Digital Prosumer</li><li>인터넷 커뮤니티에 참여해 콘텐츠를 즐기고 정보와 자료를 얻는 소비자이면서 동시에 의견을 적극 개진해 생산에도 영향을 미치는 사람</li></ul><h1 id="위치-기반-소셜-네트워크-서비스"><a class="markdownIt-Anchor" href="#위치-기반-소셜-네트워크-서비스"></a> 위치 기반 소셜 네트워크 서비스</h1><ul><li>LBSNS = Location Based Social Network Service</li><li>위치 기반 서비스(LBS)에 소셜 네트워크 서비스(SNS)를 결합한 서비스를 뜻한다.</li><li>위치 기반 서비스는 이동 중인 사용자에게 무선이나 유선통신으로 쉽고 빠르게 사용자 위치와 고나련된 여러 정보를 제공하는 서비스인데 이를 소셜네트워크 서비스와 결합한 서비스이다.</li></ul><h1 id="하둡"><a class="markdownIt-Anchor" href="#하둡"></a> 하둡</h1><ul><li>Hadoop</li><li>오픈 소스를 기반으로 한 분산 컴퓨팅 플랫폼</li><li>일반 PC급 컴퓨터들로 가상화된 대형 스토리지를 형성하고 그 안에 보관된 거대한 데이터 세트를 병렬로 처리할 수 있도록 개발된 자바 소프트웨어 프레임워크</li></ul><h1 id="4k-해상도"><a class="markdownIt-Anchor" href="#4k-해상도"></a> 4K 해상도</h1><ul><li>차세대 고화질 모니터 해상도를 지칭하는 용어</li><li>4K 해상도는 가로 픽셀 수가 3840이고 세로 픽셀 수가 2160인 영상의 해상도를 말하는데 이는 Full HDTV(1920X1080)의 가로 2배, 세로 2배 총 4배에 해당하는 초고화질 영상</li></ul><h1 id="nomophobia"><a class="markdownIt-Anchor" href="#nomophobia"></a> Nomophobia</h1><ul><li>노모포비아</li><li>스마트폰이 곁에 없을 때 불안감과 두려움을 느끼는 증상</li></ul><h1 id="social-dining"><a class="markdownIt-Anchor" href="#social-dining"></a> Social Dining</h1><ul><li>SNS를 통해 관심사가 비슷한 사람끼리 모여서 식사하며 관계를 형성하는 모임</li></ul><h1 id="금융기술"><a class="markdownIt-Anchor" href="#금융기술"></a> 금융기술</h1><ul><li>FinTech</li><li>Financial과 Technique의 합성어로 이동 통신과 인터넷 기술을 금융 산업과 접목시킨 서비스</li></ul><h1 id="코드커터족"><a class="markdownIt-Anchor" href="#코드커터족"></a> 코드커터족</h1><ul><li>Cordcutters</li><li>지상파와 케이블 등 기존 텔레비전 방송 서비스를 해지하고 인터넷 방송 서비스를 선택하는 소비자군</li><li>어릴 때 부터 인터넷으로 동영상을 보는 데 익숙하고 방송 프로그램을 수동적으로 시청하는 데 싫증을 느낀 20~30대가 주류를 이룬다.</li></ul><h1 id="포직스"><a class="markdownIt-Anchor" href="#포직스"></a> 포직스</h1><ul><li>Posix = Portable Operating System Interface for Computer Environment</li><li>유닉스를 기반으로 한 표준 운영체제 인터페이스</li><li>IEEE 산하 P1003 기술 위원회에서 작성한 표준 규격</li><li>유닉스 사용자 그룹이 유닉스를 기반으로 표준화 작업을 시작하였으나 IEEE가 ANSI 표준으로 제정하기 위해 인계하여 추진하게 되었다.</li></ul><h1 id="foursqure"><a class="markdownIt-Anchor" href="#foursqure"></a> Foursqure</h1><ul><li>포스퀘어</li><li>모바일 기기에 특화된 위치 기반 소셜 네트워크 서비스</li><li>사용자가 자신이 방문한 장소를 체크인한 후 그곳에 대한 평가나 추천 내용을 공유하면 이에 대한 보상으로 배지를 받게 되는데 체크인 횟수가 높아질수록 높은 지위의 배지를 받게 된다.</li></ul><h1 id="infodemics"><a class="markdownIt-Anchor" href="#infodemics"></a> Infodemics</h1><ul><li>인포데믹스</li><li>정보(Information)와 전염병(Epidemics)의 합성어로 정보 확산으로 인한 각종 부작용</li><li>추측이나 루머가 결합된 부정확한 정보가 인터넷이나 휴대전화를 통해 전염병과 같이 빠르게 전파됨으로써 개인의 사생활 침해는 물론 경제, 정치, 안보 등에 치명적인 영향을 미치는 것</li></ul><h1 id="o2o"><a class="markdownIt-Anchor" href="#o2o"></a> O2O</h1><ul><li>Online-toOffline business = 온-오프라인 연결 비즈니스</li><li>인터넷과 스마트폰 등의 온라인 매장에서 오프라인 매장을 고객을 유치하는 마케팅 방법</li></ul><h1 id="데이터-다이어트"><a class="markdownIt-Anchor" href="#데이터-다이어트"></a> 데이터 다이어트</h1><ul><li>Data Diet</li><li>데이터를 삭제하는 것이 아니라 압축하고, 겹친 정보는 중복을 배제하고, 새로운 기준에 따라 나누어 저장하는 작업</li></ul><h1 id="비콘"><a class="markdownIt-Anchor" href="#비콘"></a> 비콘</h1><ul><li>Beacon</li><li>전파를 이용하여 주기적으로 프레임 신호 동기를 맞추고, 송수신 관련 시스템 정보를 전송하며, 수신 데이터 정보를 전달하는 무선 통신 신호 기술</li></ul><h1 id="증발품"><a class="markdownIt-Anchor" href="#증발품"></a> 증발품</h1><ul><li>Vaporware</li><li>판매 계획 또는 배포 계획은 발표되었으나 실제로 고객에게 판매되거나 배포되지 않고 있는 소프트웨어</li></ul><h1 id="subscription-commerce"><a class="markdownIt-Anchor" href="#subscription-commerce"></a> Subscription Commerce</h1><ul><li>Subscription과 Commerce의 합성어로 정기적인 비용을 지불하고 전문가의 큐레이션을 통해 선정된 제품들을 주기적으로 배송 받는 상거래</li></ul><h1 id="zapping-effect"><a class="markdownIt-Anchor" href="#zapping-effect"></a> Zapping Effect</h1><ul><li>재핑 효과</li><li>채널을 돌리다가 중간에 있는 채널의 시청률이 높아지는 현상</li><li>재핑이란 방송 프로그램 시작 전후로 노출되는 광고를 피하기 위해 채널을 돌리는 행위</li></ul><h1 id="생명정보학"><a class="markdownIt-Anchor" href="#생명정보학"></a> 생명정보학</h1><ul><li>Bioinformatics</li><li>컴퓨터를 이용해 각종 생명정보를 처리하는 학문으로 방대한 생물의 유전자 정보를 분석하기 위한 학문</li><li>유전자 예측 프로그램 개발, 생명정보 데이터베이스 구축 등 정보기술의 개발과 바이오 칩이라 불리는 첨단 반도체의 개발 등이 해당된다.</li></ul><h1 id="스마트-그리드"><a class="markdownIt-Anchor" href="#스마트-그리드"></a> 스마트 그리드</h1><ul><li>Smart Grid</li><li>정보 기술을 전력에 접목해 효율성을 제고한 시스템</li><li>전력선을 기반으로 모든 통신, 정보, 고나련 애플리케이션 인프라르 하나의 시스템으로 통합한 것</li></ul><h1 id="meformer"><a class="markdownIt-Anchor" href="#meformer"></a> Meformer</h1><ul><li>미포머</li><li>나를 뜻하는 미와 정보를 제공자를 뜻하는 인포머의 합성어로 나를 알리는 데에만 열중하는 사람</li></ul><h1 id="tajo"><a class="markdownIt-Anchor" href="#tajo"></a> Tajo</h1><ul><li>타조</li><li>오픈 소스 기반 분산 컴퓨팅 플랫폼인 아파치 하둡 기반의 분산 데이터 웨어하우스 프로젝트</li></ul><h1 id="3d-printing"><a class="markdownIt-Anchor" href="#3d-printing"></a> 3D printing</h1><ul><li>대상을 평면에 출력하는 것이 아니라 손으로 만질 수 있는 실제 물체로 만들어 내는 것</li></ul><h1 id="cresumer"><a class="markdownIt-Anchor" href="#cresumer"></a> Cresumer</h1><ul><li>크리슈머</li><li>단순히 제품을 사용하는데 그치지 않고 제품의 기능이나 가치에 스토리를 담아 기존의 콘텐츠를 발전시켜 새로운 문화와 소비유행을 만들어 가는 사람들을 말한다.</li></ul><h1 id="social-curation"><a class="markdownIt-Anchor" href="#social-curation"></a> Social Curation</h1><ul><li>소셜 큐레이션</li><li>인터넷에서 다수 사용자가 자신의 취향대로 정보를 가공해 다른 사람과 공유하는 것</li></ul><h1 id="variable-bitrate"><a class="markdownIt-Anchor" href="#variable-bitrate"></a> Variable BitRate</h1><ul><li>VBR = 가변 레이트</li><li>부호화할 때 상황에 따라 압축률을 다르게 하는 압축방법</li></ul><h1 id="스테레오-스코프"><a class="markdownIt-Anchor" href="#스테레오-스코프"></a> 스테레오 스코프</h1><ul><li>Stereoscope</li><li>하나의 물체를 다른 각도에서 찍은 두 장의 사진을 동시에 보게 하여 물체를 입체적으로 보이게 하는 기기</li></ul><h1 id="오픈-그리드-서비스-아키텍처"><a class="markdownIt-Anchor" href="#오픈-그리드-서비스-아키텍처"></a> 오픈 그리드 서비스 아키텍처</h1><ul><li>OGSA = Open Grid Service Architecture</li><li>애플리케이션 공유를 위한 웹 서비스를 그리드 상에서 제공하기 위해 만든 개방형 표준</li></ul><h1 id="ajax"><a class="markdownIt-Anchor" href="#ajax"></a> AJAX</h1><ul><li>Asynchronous Javascript and XML</li><li>웹 페이지 내에서 자바스크립트와 CSS, XHTML 등을 이용하여 XML로 데이터를 교환하고 제어함으로써 사용자들이 웹 페이지를 새로고침 하지 않아도 대화형의 웹페이지 기능을 이용할 수 있게 하는 기술</li></ul><h1 id="edi"><a class="markdownIt-Anchor" href="#edi"></a> EDI</h1><ul><li>Electronic Data Interchange = 전자 자료 교환</li><li>기업 간 거래에 관한 데이터와 문서를 표준화하여 컴퓨터 통신망으로 거래 당사자가 직접 전송, 수신하는 정보 전달 시스템</li></ul><h1 id="건물-에너지-관리-시스템"><a class="markdownIt-Anchor" href="#건물-에너지-관리-시스템"></a> 건물 에너지 관리 시스템</h1><ul><li>BEMS = Building Energy Management System</li><li>건물에 IT 기술을 활용하여 전기, 공조, 방법, 방재 같은 여러 건축 설비를 관리하는 시스템</li></ul><h1 id="tps"><a class="markdownIt-Anchor" href="#tps"></a> TPS</h1><ul><li>Transaction Processing System</li><li>거래 처리 시스템</li><li>기업에서 업무 처리를 할 때 다양하게 발생하는 거래 자료를 전산화해서 신속하고 정확하게 처리하는 정보화 시스템</li></ul><h1 id="스마트-정보격차"><a class="markdownIt-Anchor" href="#스마트-정보격차"></a> 스마트 정보격차</h1><ul><li>Smart Divide</li><li>SNS나 스마트 미디어를 활용하는 사람과 그렇지 못한 사람 사이의 정보 격차를 뜻한다.</li></ul><h1 id="cpm"><a class="markdownIt-Anchor" href="#cpm"></a> CPM</h1><ul><li>Corporate Performance Management = 기업 성과 관리</li><li>기업 경영 환경에 효과적으로 대처하기 위해 예측 경영을 통한 최적의 의사 결정을 내릴 수 있게 해주는 시스템</li></ul><h1 id="디지털-아카이빙"><a class="markdownIt-Anchor" href="#디지털-아카이빙"></a> 디지털 아카이빙</h1><ul><li>Digital Archiving</li><li>디지털 정보 자원을 장기적으로 보존하기 위한 작업</li><li>아날로그 콘텐츠는 디지털로 변환한 후 압축해서 저장하고, 디지털 콘텐츠도 체계적으로 분류하고 메타데이터를 만들어 DB화하는 작업</li></ul><h1 id="미디어-빅뱅"><a class="markdownIt-Anchor" href="#미디어-빅뱅"></a> 미디어 빅뱅</h1><ul><li>Media Big Bang</li><li>정보 통신의 발달, 이용자 소비 환경의 변화로 새로운 미디어가 등장하여 기존의 미디어 질서가 해체되는 미디어 환경 변화를 빅뱅에 비유한 표현</li></ul><h1 id="sis"><a class="markdownIt-Anchor" href="#sis"></a> SIS</h1><ul><li>Strategic Information System = 전략 정보 시스템</li><li>기업이 경쟁 우위를 확보하기 위해 구축, 이용하는 정보 시스템</li><li>1985년 경에 출현하엿는데 종래의 정보 시스템이 기업 내 업무의 합리화나 효율화에 역점을 두었던 것에 반하여, 기업이 경쟁에서 승리하여 살아남기 위한 필수적인 시스템이라는 뜻에서 전략 정보 시스템이라고 불린다.</li></ul><h1 id="복잡-이벤트-처리"><a class="markdownIt-Anchor" href="#복잡-이벤트-처리"></a> 복잡 이벤트 처리</h1><ul><li>CEP = Complex Event Processing</li><li>실시간으로 발생하는 많은 사건들 중 의미가 있는 것만을 추출할 수 있도록 사건 발생 조건을 정의하는 데이터 처리 방법</li></ul><h1 id="그린-it"><a class="markdownIt-Anchor" href="#그린-it"></a> 그린 IT</h1><ul><li>Green Information Technology</li><li>정보기술 전 분야에서 유해 물질을 자제하고 에너지 절감을 통해 친환경 제품과 서비스를 제공하는 것</li></ul><h1 id="녹색-기술"><a class="markdownIt-Anchor" href="#녹색-기술"></a> 녹색 기술</h1><ul><li>Green Technology</li><li>환경 친화적인 기술</li><li>지구 오난화와 에너지 자원 고갈 문제를 대처하기 위해 EU 등 선진국에서 시작된 친환경 열풍이 세계적으로 확산되고 있다.</li></ul><h1 id="데이지"><a class="markdownIt-Anchor" href="#데이지"></a> 데이지</h1><ul><li>DAISY = Digital Accessible Information SYstem</li><li>시각 장애인이나 독서 장애인을 위한 국제 디지털 문서 포맷</li><li>디지털 시대에 정보 접근에 장애를 갖고 있는 노인이나 시각 장애인을 위해 개발되어 점자도서관에서 토킹 북을 제작하는 데 사용되고 있다.</li></ul><h1 id="서비스-지향-아키텍처"><a class="markdownIt-Anchor" href="#서비스-지향-아키텍처"></a> 서비스 지향 아키텍처</h1><ul><li>SOA = Service Oriented Architecture</li><li>기업의 소프트웨어 인프라인 정보 시스템을 공유와 재사용이 가능한 서비스 단위나 컴포넌트 중심으로 구축하는 정보기술 아키텍처</li></ul><h1 id="오픈케이블-응용-플랫폼"><a class="markdownIt-Anchor" href="#오픈케이블-응용-플랫폼"></a> 오픈케이블 응용 플랫폼</h1><ul><li>OCAP = Open Cable Application Platform</li><li>모든 종합 유선방송에서 운용될 수 있도록 대화형 TV 서비스나 응용 프로그램을 설계할 수 있는 미들웨어 소프트웨어 계층</li></ul><h1 id="원-세그"><a class="markdownIt-Anchor" href="#원-세그"></a> 원 세그</h1><ul><li>One Seg</li><li>일본의 디지털 휴대 이동방송 서비스의 명칭</li></ul><h1 id="소셜-서치"><a class="markdownIt-Anchor" href="#소셜-서치"></a> 소셜 서치</h1><ul><li>Social Search</li><li>불특정 다수의 인터넷 사용자들을 대상으로 특정 질문에 답변을 제시하거나 또는 공통적 관심사가 포함된 웹사이트나 여타 자료원으로의 링크를 제공하는 웹사이트 또는 서비스</li><li>누구나 질문을 올릴 수 있고 저눔ㄴ가나 일반 사용자들로부터 이에 대한 답변을 받을 수 있는 질의응답 또는 지식검색 사이트를 의미한다.</li></ul><h1 id="디지로그"><a class="markdownIt-Anchor" href="#디지로그"></a> 디지로그</h1><ul><li>Digilog</li><li>Digital과 Analog의 합성어로 디지털 기술과 아날로그적 정서가 결합한 제품과 서비스, 또는 아날로그 시대에서 디지털 시대로 넘어가는 변혁기에 위치한 세대를 의미한다.</li></ul><h1 id="체감-품질"><a class="markdownIt-Anchor" href="#체감-품질"></a> 체감 품질</h1><ul><li>QoE = Quality of Experience</li><li>서비스 이용자가 각자의 기대치에 근거하여 주관적으로 인지하는 어플리케이션 혹은 서비스의 총체적인 허용도를 말한다.</li><li>사용자가 요금을 지불한 서비스에 대해 기대하는 기대치를 근거로 규정하는 품질 척도</li></ul><h1 id="its"><a class="markdownIt-Anchor" href="#its"></a> ITS</h1><ul><li>Intelligent Transportation System = 지능형 교통 시스템</li><li>도로, 자동차, 화물 등 기존의 교통 시스템에 전자, 통신, 제어 등 첨단기술을 접목시켜 실시간 교통정보를 수집, 관리 제공함으로써 교통시설의 이용효율을 극대화하고 교통편의와 교통안전을 제고하며 에너지 절감 등 환경 친화적 교통시스메으로 정의되고 있다.</li></ul><h1 id="eis"><a class="markdownIt-Anchor" href="#eis"></a> EIS</h1><ul><li>Executive Information System = 경영진 정보 시스템</li><li>중역 혹은 최고경영자들이 조직의 성공적인 경영을 위하여 피룡로 하는 조직 내부 혹은 조직 외부의 정보를 효과적으로 제공할 수 있는 컴퓨터 기반의 정보 시스템</li></ul><h1 id="dmb"><a class="markdownIt-Anchor" href="#dmb"></a> DMB</h1><ul><li>Digital Multimedia Broadcasting = 디지털 멀티미디어 방송</li><li>디지털 멀티미디어 방송을 의미</li><li>음성 영상 등 다양한 멀티미디어 신호를 디지털 방식으로 변조하여 고정 또는 휴대용 수신기에 제공하는 방송 서비스</li></ul><h1 id="딥-러닝"><a class="markdownIt-Anchor" href="#딥-러닝"></a> 딥 러닝</h1><ul><li>Deep Learning</li><li>인간의 두뇌를 모델로 만들어진 인공 신경망(ANN)을 기반으로 하는 기계 학습 기술</li></ul><h1 id="누름힘-접촉"><a class="markdownIt-Anchor" href="#누름힘-접촉"></a> 누름힘 접촉</h1><ul><li>Force Touch</li><li>애플에서 개발한 트랙패드와 터치스크린에 적용되는 기술</li><li>패널에 가해지는 힘의 강도를 감지</li></ul><h1 id="막대형-컴퓨터"><a class="markdownIt-Anchor" href="#막대형-컴퓨터"></a> 막대형 컴퓨터</h1><ul><li>PC-on-a-stick = Stick PC</li><li>작고 긴 막대모양 형태의 케이스를 갖는 단일 보드 컴퓨터</li><li>USB 드라이브와 유사한 형태를 가지며 내부의 CPU와 램, 저장장치 등 컴퓨터의 필수 요소들이 모두 내장되어 있고, HDMI 비디오 포트를 갖고 있어 모니터만 연결하면 일반 PC처럼 이용이 가능하다.</li></ul><h1 id="먹거리-테크"><a class="markdownIt-Anchor" href="#먹거리-테크"></a> 먹거리 테크</h1><ul><li>Food Tech</li><li>식품과 기술이 결합된 용어로 기존의 식품 관련 서비스업을 빅데이터, O2O 서비스, 블루투스, 비콘 등의 정보통신기술과 결합한 것을 의미</li></ul><h1 id="에스엔지"><a class="markdownIt-Anchor" href="#에스엔지"></a> 에스엔지</h1><ul><li>SNG = Satellite News Gathering</li><li>현장에서 촬영한 영상을 위성을 통해 방송사로 전송하는 방식</li></ul><h1 id="엠엔지"><a class="markdownIt-Anchor" href="#엠엔지"></a> 엠엔지</h1><ul><li>MNG = Mobile News Gathering</li><li>야외에서 촬영한 영상을 3G, LTE, WiBro, Wi-Fi 등 다양한 무선망 접속장비를 이용해 전송하는 방식</li></ul><h1 id="uasp"><a class="markdownIt-Anchor" href="#uasp"></a> UASP</h1><ul><li>USB attached SCSI Protcol = 유에스비-스카시 프로토콜</li><li>USB 저장장치로 데이터를 송수신할 때 사용되는 컴퓨터 프로토콜</li><li>스카시 프로토콜이 탑재되어 기존의 방식보다 더 빠른 전송속도를 보장</li></ul><h1 id="efp"><a class="markdownIt-Anchor" href="#efp"></a> EFP</h1><ul><li>Electronic Field Production</li><li>장비가 설치되어 있는 스튜디오가 아닌 야외에서 촬영할 때 사용되는 카메라 시스템</li></ul><h1 id="eng"><a class="markdownIt-Anchor" href="#eng"></a> ENG</h1><ul><li>Eletronic News Gathering</li><li>카메라와 녹화부가 탑재된 일체형 카메라 시스템</li></ul><h1 id="지능형-가상-비서"><a class="markdownIt-Anchor" href="#지능형-가상-비서"></a> 지능형 가상 비서</h1><ul><li>IPA = Intelligent Personal Assistant</li><li>개인에게 맞춘 서비스나 업무를 수행하는 소프트웨어 에이전트</li><li>일정관리, 영화예약, 인터넷 검색, 길찾기 등의 여러가지 업무를 처리하는 것이 가능</li><li>음석인식으로 지시받아 인공지능 엔진을 통해 사용자가 기존에 입력한 데이터나 위치 데이터, 다양한 온라인 데이터를 기반으로 수행</li></ul><h1 id="텐서플로"><a class="markdownIt-Anchor" href="#텐서플로"></a> 텐서플로</h1><ul><li>TensorFlow</li><li>구글 브레인 팀이 만든 기계학습을 위한 오픈소스 소프트웨어 라이브러리</li><li>C++언어로 제작되었고 Python API를 제공한다.</li></ul><h1 id="평면-디자인"><a class="markdownIt-Anchor" href="#평면-디자인"></a> 평면 디자인</h1><ul><li>Flat Design</li><li>그림자나 기울기 등의 3차원 입체감을 주는 화려한 요소들의 사용을 최소화하는 디자인 장르</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>업무 프로세스</title>
      <link href="/2017/03/27/%EC%97%85%EB%AC%B4-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4/"/>
      <url>/2017/03/27/%EC%97%85%EB%AC%B4-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="isp"><a class="markdownIt-Anchor" href="#isp"></a> ISP</h1><ul><li>Information Strategy Planning</li><li>기업이 수립한 장기적인 목표와 방향을 효과적으로 지원하기 위해 전사적 관점(Total)에서 정보 시스템이나 정보 관리 등의 전략을 수립하는 활동</li></ul><h1 id="csf"><a class="markdownIt-Anchor" href="#csf"></a> CSF</h1><ul><li>Critical Success Factor = 핵심 성공 요소</li><li>성공에 불가결한 요인을 찾아내어 경영상 중요한 정보를 결정하는 방법</li></ul><h1 id="3c-분석"><a class="markdownIt-Anchor" href="#3c-분석"></a> 3C 분석</h1><ul><li>고객(Customer)</li><li>경쟁사(Competitor)</li><li>자사(Company)</li><li>4C: 유통(Channel)</li></ul><h1 id="swot-분석"><a class="markdownIt-Anchor" href="#swot-분석"></a> SWOT 분석</h1><ul><li>강점(Strength)은 부각</li><li>약점(Weekness)은 보완</li><li>기회(Opportunity)는 활용</li><li>위협(Threat)은 억제</li><li>각 요인을 결합해 전략을 세운다(SO, WO, ST, WT)</li></ul><h1 id="5-force-분석"><a class="markdownIt-Anchor" href="#5-force-분석"></a> 5-FORCE 분석</h1><ul><li>기업에 영향을 미치는 외부의 5가지 요인을 분석하여 기업의 경쟁 환경을 분석하기 위한 도구</li><li>미국 경제학자 마이클 포터가 제안</li><li>5가지 요인<ul><li>신규 진입자의 위협</li><li>기존 업계 경쟁</li><li>공급자의 교섭력</li><li>구매자의 교섭력</li><li>대체품의 위협</li></ul></li></ul><h1 id="7s-분석"><a class="markdownIt-Anchor" href="#7s-분석"></a> 7S 분석</h1><ul><li>조직 내부의 역량, 체계 등을 분석하는 기법으로 전략 경영체제에 적합한 내부 역량의 판단 방법론으로 사용된다.</li><li>맥킨지사에서 개발</li><li>7가지 요소<ul><li>전략(Strategy)</li><li>시스템(System)</li><li>구조(Structure)</li><li>공유된 가치(Shared value)</li><li>기술/역량(Skill)</li><li>사람(Staff)</li><li>스타일(Style)</li></ul></li></ul><h1 id="bpr"><a class="markdownIt-Anchor" href="#bpr"></a> BPR</h1><ul><li>Business Process Reengineering = 업무 프로세스 재설계</li><li>경쟁에서 우위를 확보하기 위해 기업의 핵심 부문인 비용, 품질, 서비스, 스피드와 같은 요인들이 획기적인 향상을 이룰 수 있도록, 프로세스를 기반으로 비즈니스 시스템을 근본적으로 재설계하여 혁신적인 성과를 추구하는 것</li></ul><h2 id="bpr의-실행-4단계"><a class="markdownIt-Anchor" href="#bpr의-실행-4단계"></a> BPR의 실행 4단계</h2><ol><li>현행 업무 프로세스(AS-IS) 모형 분석</li><li>개선 사항 분석</li><li>향후 업무 프로세스(TO-BE) 모형 수립</li><li>이행 계획(Transition Plan)</li></ol><h1 id="bpm"><a class="markdownIt-Anchor" href="#bpm"></a> BPM</h1><ul><li>Business Process Management = 업무 프로세스 관리</li><li>미리 정의된 사람 및 정보 자원과 업무의 흐름을 통합적으로 관리, 지원해주는 업무처리 자동화 기법</li><li>기업의 프로세스를 통합적으로 관리하고 개선할 수 있도록 도와주는 도구이자 방법론</li><li>기업 내외의 업무 프로세스를 가시화하고 업무 수행과 관련된 사람 및 시스템을 통제하며 전체 업무 프로세스를 효율적으로 관리하고 최적화할 수 있는 변화 관리 및 시스템 구현 기법</li></ul><h2 id="bpm-프로세스-관리-사이클"><a class="markdownIt-Anchor" href="#bpm-프로세스-관리-사이클"></a> BPM 프로세스 관리 사이클</h2><ol><li>프로세스 정의(Process Definition)</li><li>프로세스의 실행(Enactment)</li><li>프로세스의 측정(Measure)</li><li>프로세스의 분석과 개선</li><li>프로세스 통제와 모니터링, 예측(Control)</li></ol><blockquote><p>KPI</p><ul><li>Key Perpormance Indicator = 핵심 성과 지표</li><li>미래 성과에 영향을 주는 여러 핵심지표를 묶은 평가 기준</li></ul></blockquote><h1 id="rte"><a class="markdownIt-Anchor" href="#rte"></a> RTE</h1><ul><li>RealTime Enterprise = 실시간 기업</li><li>기업 내외부에 걸친 지속적인 프로세스의 개선과 실시간 정보제공을 통해 업무지연을 최소화하고 의사결정 스피드를 높여 경쟁력을 극대화하는 기업</li><li>프로세스에 대한 실시간 가시성을 확보</li></ul><h1 id="pi"><a class="markdownIt-Anchor" href="#pi"></a> PI</h1><ul><li>Process Innovation</li><li>기존의 업무처리 방식을 정형화하고, 최적의 프로세스를 재구축하여 업무의 효율성을 높이려는 비즈니스 프로젝트</li><li>미국의 경제학자 Davenport는 PI를 &quot;정보 기술을 활용하여 비즈니스 프로세스를 혁신함으로써 사업 성과를 높이는 것&quot;이라고 정의</li></ul><h1 id="erp"><a class="markdownIt-Anchor" href="#erp"></a> ERP</h1><ul><li>Enterprise Resource Planning = 전사적 자원관리</li><li>생산, 판매, 자재, 인사, 회계 등 기업의 전반적인 업무 프로세스를 하나의 체계로 통합 및 재구축하여 관련 정보를 서로 공유하고 이를 통해 신속한 의사결정 및 업무 수행이 가능하도록 도와주는 전사적 자원 관리 패키지 시스템</li></ul><h2 id="apics"><a class="markdownIt-Anchor" href="#apics"></a> APICS</h2><ul><li>American Production &amp; Inventory Control Society</li><li>수주, 생산, 출하에 이르기까지의 일련의 작업 공정을 진행하기 위해 필요한 기업 경영 자원을 점검, 계획하기 위한 종합 정보 시스템</li></ul><h2 id="가트너-그룹"><a class="markdownIt-Anchor" href="#가트너-그룹"></a> 가트너 그룹</h2><ul><li>제조 업무 시스템을 핵심으로 재무회계와 판매, 그리고 물류 시스템 등을 통합한 것으로 가상 기업을 지향하는 시스템</li></ul><h1 id="mrp"><a class="markdownIt-Anchor" href="#mrp"></a> MRP</h1><ul><li>Material Requirements Planning = 자재 소요 계획</li><li>재고 품목에 대한 수요가 파생 수요일 보다 적을 경우 보다 복잡한 재고 계산이 필요하여 고안된 기법</li><li>재고 계획과 통제 시스템으로 구성</li><li>원자재에서 최종 완제품에 이르기까지 자재의 흐름을 관리하는 기법</li></ul><h1 id="sem"><a class="markdownIt-Anchor" href="#sem"></a> SEM</h1><ul><li>Strategic Enterprise Management = 전략적 기업 경영</li><li>경영자 및 관리자들이 기업의 수익 창출을 위한 합리적인 의사 결정을 할 수 있도록 신뢰할 수 있는 정보를 제공해 주는 전략적 의사결정 지원 시스템</li><li>VBM, ABM/ABC, BSC 등으로 구성되어있다.</li></ul><h2 id="vbm"><a class="markdownIt-Anchor" href="#vbm"></a> VBM</h2><ul><li>Value Based Management = 가치기준경영</li><li>기업 가치의 극대화를 기업의 궁극적 목표로 함</li></ul><h2 id="abmabc"><a class="markdownIt-Anchor" href="#abmabc"></a> ABM/ABC</h2><ul><li>Activity Based Management / Activity Based Costing</li><li>활동기준관리 / 활동기준 원가계산</li><li>ABM은 복잡해지는 원가관리체계를 실제 활동에 근거하여 정확한 원가를 계산하고 관련 활동과 원가대상에 대한 성과를 측정하는 일련의 관리체계로 ABC를 이용하여 전략적 의사결정을 지원</li><li>ABC는 원가의 발생 원인을 체계적으로 분석하여 정확한 제품의 원가를 계산하는 원가 계산 방법</li></ul><h2 id="bsc"><a class="markdownIt-Anchor" href="#bsc"></a> BSC</h2><ul><li>Balanced Score Card = 균형성과관리</li><li>매출액, 순이익 등 과거 성과인 재무지표에만 의존했던 기업 성과 측정에 비재무적인 측정을 추가하여 기업의 성과를 균형 있게 평가하는 무형 자산 평가 모델</li></ul><h3 id="bsc의-관점"><a class="markdownIt-Anchor" href="#bsc의-관점"></a> BSC의 관점</h3><ul><li>재무적 관점: 기업 주요 이해 관계자들에게 매출액, 순이익, 원가절감 등의 재무적인 지표를 통해 조직의 성과를 보여주기 위한 관점</li><li>고객 관점: 고객의 만족도, 충성도 등 고객 관계를 평가하는 관점</li><li>내부 비즈니스 프로세스 관점: 경쟁사와 비교하여 해당 기업이 어떤 장점과 핵심역량을 갖고 있는지를 평가하는 관점</li><li>학습과 성장 관점: 기업의 비전을 달성하기 위해 필요한 학습 및 개선사항을 측정하는 관점</li></ul><h1 id="irm"><a class="markdownIt-Anchor" href="#irm"></a> IRM</h1><ul><li>Information Resource Management = 정보 자원 관리</li><li>기업의 정보 자원을 조직 전체가 공유할 수 있도록 자원관리 원칙에 따라 관리하는 정보 관리 접근방법</li><li>정보 활용의 효율성을 최대화하는 것을 목적으로 한다.</li><li>정보 자원은 정보와 그 정보를 다루는 기술 모두를 포함한다 따라서 정보 자원 관리는 정보 자체만이 아니라 정보의 처리와 관리를 위한 기술, 장비, 인력, 자금 등의 자원 관리까지 모두 포괄하는 개념이다.</li></ul><h2 id="irm의-구성요소"><a class="markdownIt-Anchor" href="#irm의-구성요소"></a> IRM의 구성요소</h2><ul><li>정보</li><li>정보 기술</li><li>정보 시스템</li></ul><h1 id="erm"><a class="markdownIt-Anchor" href="#erm"></a> ERM</h1><ul><li>Enterprise Risk Management = 전사적 위험 관리</li><li>기업의 궁극적인 목표 달성을 위해 기업이 직면하고 있는 주요 리스크들을 식별하고 관리하기 위한 리스크 관리 방식</li><li>IMF를 겪으며 그 중요성이 강조되었다.</li><li>전사적인 수준의 정보와 커뮤니케이션을 동원하여 여러 가지 대내외적인 리스크 요인들을 인식하고 일정한 허용 범위 내에서 효과적인 대응 방안을 수립 및 수행하고 모니터링 하는 지속적인 프로세스이다.</li></ul><h1 id="scm"><a class="markdownIt-Anchor" href="#scm"></a> SCM</h1><ul><li>Supply Chain Management = 공급망 관리</li><li>기업 간 또는 기업 내부에서 제품이나 부품의 최초 생산자부터 최종 소비자에 이르는 공급망을 효율적으로 관리해 불필요한 시간과 비용, 재고 등을 줄이려는 관리 기법</li><li>e-SCM: 디지털 기술을 활용하여 기존의 SCM 관련 기술들을 웹상에서도 수행할 수 있도록 한 것</li></ul><h2 id="scm-구성요소"><a class="markdownIt-Anchor" href="#scm-구성요소"></a> SCM 구성요소</h2><ul><li>공급망 계획 시스템<ul><li>SCP(Supply Chain Planning)</li><li>기업이 제품 수요를 예측하고 그 제품에 대한 조달 및 생산 계획을 수립하는 시스템</li></ul></li><li>공급망 실행 시스템<ul><li>SCE(Supply Chain Execution)</li><li>제품이 올바르게 전달될 수 있도록 제품의 흐름을 관리하는 시스템</li></ul></li></ul><h1 id="plm"><a class="markdownIt-Anchor" href="#plm"></a> PLM</h1><ul><li>Product Lifecycle Management = 제품 수명주기 관리</li><li>기업이 제품의 원가를 낮추고 부가가치를 높일 수 있도록 기획부터 설계, 생산, 서비스, 폐기에 이르는 수명주기를 관리하는 것</li><li>제품 개발의 전체 과정에 관한 정보를 통합적으로 관리함으로써 기업 내 담당자나 고객, 협력업체들과 제품 정보를 공유하거나 협업을 진행할 수 있어 제품 개발 과정의 효율성을 높여준다.</li></ul><h1 id="crm"><a class="markdownIt-Anchor" href="#crm"></a> CRM</h1><ul><li>Customer Relationship Management = 고객 관계 관리</li><li>고객의 요구나 의견을 분석하여 고객의 성향과 욕구를 충족시키는 마케팅을 실시하므로 고객 관리 비용을 최소화하고 지속적인 기업의 가치 창출을 위해 등장</li><li>고객 정보를 세부적으로 분류하여 고객의 구매 관련 행동을 지수화하고 신규 고객 유치, 장기 고객 관리, 잠재 고객 발굴 등과 같은 사이클을 통해 고객과의 관계를 관리한다.</li></ul><h1 id="srm"><a class="markdownIt-Anchor" href="#srm"></a> SRM</h1><ul><li>Supplier Relationship Management = 공급업체 관계 관리</li><li>제품을 공급하는 공급업체와의 관계를 관리하고 평가하여 기업의 수익성을 높일 수 있도록 해주는 경영 기법</li><li>기업이 최적의 공급망을 유지할 수 있도록 프로세스 전반에 걸쳐 공급업체를 관리, 평가한다.</li></ul><h1 id="mdm"><a class="markdownIt-Anchor" href="#mdm"></a> MDM</h1><ul><li>Master Data Management = 기준 정보 관리</li><li>기업 내외부에 산재해 있는 마스터 데이터의 단일화를 통해 활용도를 높이고 오류를 줄이기 위한 모든 활동의 집합</li><li>데이터 품질이 중요하다.</li></ul><h1 id="vrm"><a class="markdownIt-Anchor" href="#vrm"></a> VRM</h1><ul><li>Vendor Relationship Management = 벤더 관계 관리</li><li>개인이 기업에게 제공할 개인 정보, 선호도, 패턴 등을 관리하는 기술</li><li>기업이 고객의 정보를 분석 및 통합하여 관리하는 CRM에 반대되는 개념</li></ul><h1 id="eai"><a class="markdownIt-Anchor" href="#eai"></a> EAI</h1><ul><li>Enterprise Application Integration = 전사적 응용 통합</li><li>기업 내의 운영되는 여러 종류의 플랫폼 및 애플리케이션 등을 통합하고 유기적으로 처리할 수 있는 기반 기술을 통칭</li><li>기존 방식은 각 시스템 간의 인터페이스 요구를 Point-to-Point 방식으로 연결했기 때문에 통합 관리가 불가능하고 유지보수가 어려웠으나 EAI는 기업 내 애플리케이션을 유기적으로 연결시켜 업무 프로세스들을 최대한 단순화, 자동화하고 여러 시스템 간의 실시간 정보 조회가 가능하도록 한다.</li></ul><h1 id="eip"><a class="markdownIt-Anchor" href="#eip"></a> EIP</h1><ul><li>Enterprise Information Portal = 기업 정보 포털</li><li>EAI를 통해 기업 내부의 그룹웨어, 인트라넷 등을 통합해 하나의 웹 화면으로 제공하는 통합 정보 시스템</li><li>e-Portal이라고도 한다.</li></ul><h1 id="kms"><a class="markdownIt-Anchor" href="#kms"></a> KMS</h1><ul><li>Knowledge Management System = 지식 관리 시스템</li><li>기업 내의 지식을 관리하기 위한 분산 하이퍼미디어 시스템</li><li>기업환경이 지적 재산의 중요도가 부각되는 지식 기반 사회로 급격히 이동함에 따라 기업 경영을 지식이라는 관점에서 새롭게 조명하는 접근방식</li></ul><h1 id="ea"><a class="markdownIt-Anchor" href="#ea"></a> EA</h1><ul><li>Enterprise Architecture = 전사적 아키텍처</li><li>기업의 목표와 요구사항을 효과적으로 지원하기 위해 IT 인프라 각 부분의 구성과 구현 기술을 체계적으로 기술하는 작업</li><li>기업의 최고 정보 책임자(CIO)가 효율적인 IT 인프라와 전략 확보 차원에서 조직의 업무 활동과 IT간의 고나계를 현재와 미래에 추구할 모습으로 체계화한 청사진</li></ul><h1 id="bi"><a class="markdownIt-Anchor" href="#bi"></a> BI</h1><ul><li>Business Intelligence = 비즈니스 인텔리전스</li><li>기업 내부에 축적된 대량의 정보를 기업의 경영활동 전반에 활용될 수 있도록 정리, 분석하여 제공하는 애플리케이션과 기술을 총칭</li><li>데이터 웨어하우스에 축적된 대량의 정보는 데이터 마트, 데이터 마이닝, OLAP 등의 기법을 이용해 분석되어 기업이 더 나은 의사 결정을 하는데 활용</li></ul><h1 id="brms"><a class="markdownIt-Anchor" href="#brms"></a> BRMS</h1><ul><li>Business Rule Management System = 비즈니스 규칙 관리 시스템</li><li>기업 정책, 가격 정책, 마케팅 전략, 이벤트 등 기업 운영에 사용되는 비구조적이고 복잡한 업무 프로세스를 자동으로 정의 및 제어함으로써 경험이 부족한 비전문가도 효과적인 업무 처리 및 상품 판매 등이 가능하도록 지원하는 시스템</li></ul><h1 id="bpo"><a class="markdownIt-Anchor" href="#bpo"></a> BPO</h1><ul><li>Business Process Outsourcing = 업무 프로세스 아웃소싱</li><li>기업의 경쟁력 강화를 위해 핵심 업무를 제외한 모든 업무를 외부 전문 업체에 위탁하여 자사 핵심 업무에 모든 역량을 집중하는 경영 기법</li><li>제품 개발의 기획 단계부터 운영, 모니터링 등 모든 단계를 외부 업체에 맡겨 운영하는 것으로 비용 절감을 위해 단순 업무만을 위탁하던 기존의 아웃소싱 방식과는 구분된다.</li></ul><h2 id="ito"><a class="markdownIt-Anchor" href="#ito"></a> ITO</h2><ul><li>Information Technology Outsourcing = 정보 기술 아웃소싱</li><li>프로그래밍이나 인터넷 등의 IT 관련 업무들을 외부 전문 업체에 위탁하는 경영 기법</li><li>BPO의 하위 개념</li></ul><h1 id="sla"><a class="markdownIt-Anchor" href="#sla"></a> SLA</h1><ul><li>Service Level Agreement = 서비스 수준 계약</li><li>서비스 시간, 가용성, 성능, 복구 등 일정한 서비스 수준을 보장하기 위해 IT 서비스 사업자와 사용자 간에 맺는 계약</li><li>SLA가 맺어지면 IT 서비스 사업자는 SLM을 통해 지속적인 품질관리와 보고 업무를 수행한다.</li></ul><h1 id="slm"><a class="markdownIt-Anchor" href="#slm"></a> SLM</h1><ul><li>Service Level Management = 서비스 수준 관리</li><li>IT 서비스 사업자와 사용자 간에 맺은 SLA에서 정의한 서비스에 대해 성과와 문제점을 정확히 측정,평가하고 개선해 나아가는 과정</li></ul><h1 id="itsm"><a class="markdownIt-Anchor" href="#itsm"></a> ITSM</h1><ul><li>IT Service Management = IT 서비스 관리</li><li>서비스 사용자에게 제공되는 IT 서비스의 계획, 설계, 제공, 운영 및 관리를 위해 서비스 제공자가 수행하는 프로세스 및 지원 절차 등을 의미</li></ul><h2 id="itsm의-구성요소"><a class="markdownIt-Anchor" href="#itsm의-구성요소"></a> ITSM의 구성요소</h2><ul><li>프로세스(Process)</li><li>인력(People)</li><li>조직(Organization)</li><li>기술(Technology)</li></ul><h1 id="itil"><a class="markdownIt-Anchor" href="#itil"></a> ITIL</h1><ul><li>IT Infrastructure Library = 정보기술 인프라 라이브러리</li><li>IT 서비스의 운영 및 관리를 돕기 위한 문서들의 집합</li><li>IT 조직이 기존의 기술 중심적인 운영에서 사용자들의 요구에 초점을 맞춘 고객 지향적인 운영방식을 채택함에 따라 각자 개별적인 IT 관리 관행을 만드는 것을 방지하기 위해 영국 정부가 다양한 IT 서비스들의 관리 방법들을 모아 만든 표준적인 참고문헌</li></ul><h1 id="isoiec-20000"><a class="markdownIt-Anchor" href="#isoiec-20000"></a> ISO/IEC 20000</h1><ul><li>IT 서비스 관리에 대한 최초의 국제 표준</li><li>IT 서비스 관리 시스템의 필요한 사항들을 구체적으로 명시</li></ul><h1 id="전자상거래"><a class="markdownIt-Anchor" href="#전자상거래"></a> 전자상거래</h1><h2 id="b2c"><a class="markdownIt-Anchor" href="#b2c"></a> B2C</h2><ul><li>Business to Customer = 기업과 소비자 간의 전자상거래</li><li>소배자를 대상으로 하는 서비스업으로 소비자에게 유무형의 재화를 제공, 판매 및 중개를 한다.</li></ul><h2 id="b2b"><a class="markdownIt-Anchor" href="#b2b"></a> B2B</h2><ul><li>Business to Business = 기업 간의 전자상거래</li><li>특정 기업 간의 CALS 및 EDI를 통한 수주, 구매, 조달 및 납품 등과 관련된 기업 간의 전자상거래이다.</li></ul><blockquote><p>CALS</p><ul><li>Commerce At Light Speed = 광속 상거래</li><li>1985년 미국 국방부에서 컴퓨터를 이용해 군수 물자와 기술 흐름을 합리적으로 통제하여 군수품 납품 체계를 개선할 목적으로 처음 도입되었다.</li><li>모든 기술 정보 등을 통합 데이터베이스로 관리</li></ul></blockquote><h2 id="b2g"><a class="markdownIt-Anchor" href="#b2g"></a> B2G</h2><ul><li>Business to Government = 기업과 정부 간의 전자상거래</li><li>조달, 행정, 인증 등과 관련된 기업과 정부 간의 전자상거래</li></ul><h2 id="c2c"><a class="markdownIt-Anchor" href="#c2c"></a> C2C</h2><ul><li>Customer to Customer = 소비자 간의 전자상거래</li><li>소비자가 상품 구매자와 공급자가 되는 것</li></ul><h2 id="e-마켓플레이스"><a class="markdownIt-Anchor" href="#e-마켓플레이스"></a> e-마켓플레이스</h2><ul><li>인터넷 상에서 다수의 기업 간 공급과 수요 간에 유발되는 비즈니스 거래르 총칭하는 가상시장</li></ul><h2 id="escrow-서비스"><a class="markdownIt-Anchor" href="#escrow-서비스"></a> Escrow 서비스</h2><ul><li>조건부 양도증서 서비스</li><li>전자상거래시 판매자와 구매자의 거래가 문제없이 이뤄질 수 있도록 제 3자가 도와주는 매매 보호서비스</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database 실기</title>
      <link href="/2017/03/26/database-%EC%8B%A4%EA%B8%B0/"/>
      <url>/2017/03/26/database-%EC%8B%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="db-정의"><a class="markdownIt-Anchor" href="#db-정의"></a> DB 정의</h1><ul><li>통합된 데이터(Integrated Data): 검색의 효율성을 위해 <strong>중복이 최소화된 데이터</strong>의 모임</li><li>저장 데이터(Stored Data): 컴퓨터가 접근 가능한 <strong>저장 매체에 저장된 데이터</strong></li><li>운영 데이터(Operational Data): 조직의 목적을 위해 존재 가치가 확실하고 <strong>반드시 필요한 데이터</strong></li><li>공유 데이터(Shared Data): 여러 응용 프로그램들이 <strong>공동으로 사용하는 데이터</strong></li></ul><h1 id="db-특징"><a class="markdownIt-Anchor" href="#db-특징"></a> DB 특징</h1><ul><li>실시간 접근성(Real Time Accessibility): 사용자의 <strong>질의에 대해 즉시 처리하여 응답하는 특징</strong></li><li>계속적인 진화(Continuous Evolution): 삽입, 삭제, 갱신을 통하여 항상 <strong>최근의 정확한 데이터를 동적으로 유지하는 특징</strong></li><li>동시 공유(Concurrent Sharing): 여러 사용자가 <strong>동시에 원하는 데이터를 공용할 수 있는 특징</strong></li><li>내용에 의한 참조(Content Reference): 주소나 위치에 의해서가 아니라 <strong>사용자가 요구하는 내용에 따라 참조하는 특징</strong></li><li>데이터의 논리적, 물리적 독립성(Independence)<ul><li>논리적 독립성: 응용 프로그램과 DB 를 독립시킴으로써 데이터의 논리적 구조를 변경시키더라도 응용 프로그램은 변경되지 않는 특징</li><li>물리적 독립성: 응용 프로그램과 보조기억장치와 같은 물리적장치를 독립시킴으로써 새로운 디스크를 도입하더라도 응용 프로그램에는 영향을 주지 않고 데이터의 물리적 구조만 변경될 수 있는 특징</li></ul></li></ul><h1 id="데이터-언어"><a class="markdownIt-Anchor" href="#데이터-언어"></a> 데이터 언어</h1><ul><li>Data Language</li><li>DDL(데이터 정의어): 데이터베이스를 구축하거나 변경할 목적으로 사용하는 언어</li><li>DML(데이터 조작어): 데이터 처리를 위해 응용 프로그램과 DBMS 사이의 인터페이스를 위한 언어</li><li>DCL(데이터 제어어): 보안 및 권한제어, 무결성, 회복, 병행제어를 위한 언어</li></ul><h1 id="db-사용자"><a class="markdownIt-Anchor" href="#db-사용자"></a> DB 사용자</h1><ul><li>DB 관리자(DBA): DDL 과 DCL 을 통해 <strong>DB 를 정의하고 제어</strong>하는 사람 또는 그룹</li><li>데이터 관리자(Data Administrator): 기업 또는 조직 내에서 데이터에 대한 정의, 체계화, 감독 및 보안업무 등 <strong>데이터에 대한 관리를 총괄</strong>하고 정보 활용에 대한 계획 수립 및 통제를 수행한다.</li><li>데이터 설계자(Data Architect): <strong>데이터의 구조를 체계적으로 정의</strong>하는 사람</li><li>응용 프로그래머: 호스트 프로그래밍 언어에 DML 을 삽입하여 DB 에 접근하는 사람</li><li>일반 사용자(End User): 질의어를 통해 DBMS 에 접근하는 사람</li></ul><h1 id="dbms-개념"><a class="markdownIt-Anchor" href="#dbms-개념"></a> DBMS 개념</h1><ul><li>사용자와 DB 사이에서 사용자의 요구에 따라 정보를 생성해주고 DB 를 관리해주는 소프트웨어</li><li>기존 fs 가 갖는 데이터의 종속성과 중복성문제를 해결하기 위한 시스템으로 모든 응용 프로그램들이 DB 를 공유할 수 있도록 관리해준다.</li></ul><blockquote><ul><li>데이터 종속성으로 인한 문제점: 데이터 파일이 보조기억장치에 저장되는 방법이나 저장된 데이터의 접근 방법을 변경할 때 응용 프로그램도 같이 변경해야하는 문제점</li><li>데이터 중복성으로 인한 문제점: 중복된 데이터 간에 데이터의 정확성이나 무결성을 효율적으로 유지할 수 없다는 문제점</li></ul></blockquote><h1 id="dbms-필수기능"><a class="markdownIt-Anchor" href="#dbms-필수기능"></a> DBMS 필수기능</h1><ul><li>정의 기능(Definition Facility): 데이터의 타입과 구조, 데이터가 DB 에 저장될 때의 제약조건 등을 명시하는 기능</li><li>조작 기능(Manipulation Facility): 체계적 데이터 처리를 위해 데이터 접근 기능(CRUD)을 명시하는 기능</li><li>제어 기능(Control Facility): 데이터의 정확성과 안정성을 유지하기 위해 무결성, 보안 및 권한 검사, 병행제어 등을 명시하는 기능</li></ul><h1 id="dsms"><a class="markdownIt-Anchor" href="#dsms"></a> DSMS</h1><ul><li><strong>데이터 스트림 관리 시스템</strong>(Data Stream Management System)</li><li><strong>대량의 스트림 데이터를 처리하고 관리하는 시스템</strong></li><li>온라인상의 데이터 스트림이라는 동적인 특성을 가진 데이터를 처리하고 관리하는 시스템</li><li>입력 순서에 따라 데이터의 처리결과가 달라질 수 있다.</li></ul><h1 id="스키마"><a class="markdownIt-Anchor" href="#스키마"></a> 스키마</h1><ul><li>DB 의 구조와 제약 조건에 대한 전반적인 명세</li><li>개체, 속성, 관계 및 제약조건 등에 관해 전반적으로 정의</li><li>외부 스키마, 개념 스키마, 내부 스키마</li></ul><blockquote><ul><li>개체: 현실 세계의 객체로 유형 또는 무형의 정보를 대상으로 존재하며 서로 구별될 수 있는 것</li><li>속성: 개체의 특성이나 상태를 기술하는 것으로 데이터의 가장 작은 단위</li><li>관계: 2 개 이상의 개체 사이에 연관성을 기술한 것</li></ul></blockquote><h2 id="스키마-특징"><a class="markdownIt-Anchor" href="#스키마-특징"></a> 스키마 특징</h2><ul><li>데이터의 구조적 특성을 의미</li><li>데이터 사전에 저장된다.</li><li>현실세계의 특정한 한 부분의 표현으로 특정 데이터 모델을 이용해 만들어진다.</li><li>시간에 따라 불변적이다.</li><li>데이터의 논리적 단위에 명칭을 부여하고 그 의미를 기술</li></ul><h2 id="데이터-사전"><a class="markdownIt-Anchor" href="#데이터-사전"></a> 데이터 사전</h2><ul><li>데이터 사전은 DB 에 저장되어 있는 모든 데이터 개체들에 대한 정보를 유지관리하는 시스템</li><li>시스템 카달로그</li></ul><h2 id="메타-데이터"><a class="markdownIt-Anchor" href="#메타-데이터"></a> 메타 데이터</h2><ul><li>데이터에 관한 데이터</li><li>저장되는 데이터와 직간접적으로 관계가 있는 정보를 제공하는 데이터</li></ul><blockquote><ul><li>MARC(Machine Readable Cataloging): <strong>목록 레코드를 식별</strong>하여 축적유통할 수 있도록 코드화한 메타 데이터</li><li>DC(Dublin Core): 네트워크 환경에서 각종 <strong>전자 정보</strong>를 기술하는 메타 데이터</li><li>ONIX(ONline Information eXchange): 유통에 관한 통계와 체계적인 정보를 취급함으로써 <strong>정상적인 유통 및 관리</strong>를 위한 메타 데이터</li><li>MODS(Metadata Object Description Schema): <strong>디지털 도서관</strong>의 범용 서지 정보 표준 메타 데이터</li></ul></blockquote><h3 id="메타-데이터의-상호-운용성"><a class="markdownIt-Anchor" href="#메타-데이터의-상호-운용성"></a> 메타 데이터의 상호 운용성</h3><ul><li>하나의 표준적인 메타 데이터로 통합하여 표현하는 방법</li><li>상호 매핑을 통해 해결하는 방법</li><li><strong>MDR</strong>에 의한 해결방법<ul><li>Meta Data Registry</li><li>메타 데이터의 등록과 인증을 통해 메타 데이터를 유지관리하며, 메타 데이터의 명세를 공유하는 레지스트리</li></ul></li></ul><h2 id="스키마-3-계층"><a class="markdownIt-Anchor" href="#스키마-3-계층"></a> 스키마 3 계층</h2><h3 id="외부-스키마"><a class="markdownIt-Anchor" href="#외부-스키마"></a> 외부 스키마</h3><ul><li>사용자나 응용 프로그래머가 각 개인의 입장에서 필요로 하는 DB 의 논리적 구조를 정의</li><li>하나의 DBMS 에는 여러 개의 외부 스키마가 존재할 수 있으며 하나의 외부 스키마는 여러 개의 응용 프로그램이나 사용자에 의해 공유될 수 있다.</li></ul><h3 id="개념-스키마"><a class="markdownIt-Anchor" href="#개념-스키마"></a> 개념 스키마</h3><ul><li>개체 간의 제약 조건을 나타내고 DB 의 접근 권한, 보안 정책 및 무결성 규정에 관한 명세를 정의</li><li>DB 의 전체적인 논리적 구조로 데이터를 통합한 조직 전체의 DB 명세로서 하나만 존재한다.</li><li>기관이나 조직의 관점에서 DB 를 정의</li></ul><h3 id="내부-스키마"><a class="markdownIt-Anchor" href="#내부-스키마"></a> 내부 스키마</h3><ul><li>DB 의 물리적 구조를 정의</li><li>물리적 저장장치의 관점에서 본 전체 DB 의 명세로 하나만 존재</li><li>개념 스키마의 물리적 저장 구조에 대한 정의를 기술</li><li>시스템 프로그래머나 시스템 설계자가 보는 관점의 스키마</li></ul><h1 id="db-설계"><a class="markdownIt-Anchor" href="#db-설계"></a> DB 설계</h1><ul><li>DB 스키마를 개발하는 과정</li><li>요구 조건 분석(Requirement Analysis)</li><li>개념적 설계(Conceptual Design)</li><li>논리적 설계(Logical Design)</li><li>물리적 설계(Physical Design)</li><li>DB 구현(Database Implementation)</li></ul><h2 id="요구-조건-분석"><a class="markdownIt-Anchor" href="#요구-조건-분석"></a> 요구 조건 분석</h2><ul><li>DB 를 사용할 사람이 필요로 하는 용도를 파악하는 작업</li></ul><h2 id="개념적-설계"><a class="markdownIt-Anchor" href="#개념적-설계"></a> 개념적 설계</h2><ul><li>현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정</li></ul><h2 id="논리적-설계"><a class="markdownIt-Anchor" href="#논리적-설계"></a> 논리적 설계</h2><ul><li>시스템이 지원하는 논리적 데이터 구조로 변환시키는 과정</li></ul><h2 id="물리적-설계"><a class="markdownIt-Anchor" href="#물리적-설계"></a> 물리적 설계</h2><ul><li>저장 구조와 접근 경로를 결정하는 과정</li><li>응답 시간, DB 파일과 접근 경로 구조에 대한 저장 공간의 효율성, 트랜잭션 처리도 등을 고려</li></ul><h2 id="db-구현"><a class="markdownIt-Anchor" href="#db-구현"></a> DB 구현</h2><ul><li>DB 를 실제로 구축하는 과정</li><li>DBMS 의 DDL 로 기술된 명령문을 실행시켜 DB 스키마와 DB 파일을 생성</li><li>DML 로 기술된 명령문을 가지는 프로그램 코드가 작성된다.</li></ul><h1 id="er-모델"><a class="markdownIt-Anchor" href="#er-모델"></a> ER 모델</h1><ul><li>네모: 개체 타입(Entity Type)</li><li>마름모: 관계 타입(Relationship Type)</li><li>타원: 속성</li><li>밑줄타원: 기본키 속성</li><li>N:M: 개체 타입 간의 연관성</li><li>선: 개체 타입과 속성을 연결</li><li>ISA: 특정 개체는 서로 구별되는 여러 하위 개체로 나눠질 수 있는데 이러한 상위 개체와 하위 개체 간의 관계를 ISA 관계라고 한다.<ul><li>ex) 학생 개체 =&gt; 재학생, 휴학생, 졸업생 개체</li></ul></li></ul><h2 id="개체-및-개체-타입"><a class="markdownIt-Anchor" href="#개체-및-개체-타입"></a> 개체 및 개체 타입</h2><ul><li>개체는 현실 세계의 객체로 유형 또는 무형의 정보 대상으로 존재하며 서로 구별될 수 있는 것</li><li>개체의 특성을 나타내는 속성을 갖는다.</li><li>하나의 개체를 <strong>개체 어커런스</strong> = 개체 인스턴스라한다.</li><li>개체 어커런스들의 집합에 대한 공통의 특성을 갖는 <strong>개체 클래스를 개체 타입</strong>이라 한다.</li></ul><h2 id="관계-및-관계-타입"><a class="markdownIt-Anchor" href="#관계-및-관계-타입"></a> 관계 및 관계 타입</h2><ul><li>관계는 2 개 이상의 개체 사이에 존재하는 연관성</li><li>개체 타입의 개수에 대한 차수와 개체 어커런스의 개수에 대한 대응 카디널리티를 갖는다.</li><li>차수에 따른 관계 종류<ul><li>단항(Unary): 관계에 참여하고 있는 개체타입이 1 개인 관계</li><li>이항(Binary)</li><li>삼항(Ternary)</li><li>n 항(n-ary)</li><li><strong>1:1</strong>: 두 개체 타입이 모두 하나씩의 개체 어커런스를 갖는 관계</li><li><strong>1:N</strong>: 한 개체 타입은 하나의 개체 어커런스, 다른 한 개체 타입은 여러개의 개체 어커런스를 갖는 관계</li><li><strong>N:M</strong>: 두 개체 타입 모두 여러 개의 개체 어커런스를 갖는 관계</li><li>ISA</li></ul></li></ul><blockquote><p>ISA</p><ul><li>disjoint: 상위 개체의 멤버가 하나의 하위 개체에만 포함될 때</li><li>overlapping: 상위 개체의 멤버가 여러 하위 개체에 포함될 때</li><li>total: 상위 개체의 멤버가 하위 개체에 속할 때</li><li>partial: 상위 개체의 멤버가 하위 개체에 속하지 않을 때</li></ul></blockquote><h2 id="속성"><a class="markdownIt-Anchor" href="#속성"></a> 속성</h2><ul><li>개체의 특성이나 상태를 기술한 것</li><li>도메인: 속성이 가질 수 있는 모든 가능한 값들의 집합</li><li>단순 속성: 더 이상 다른 속성으로 나눌 수 없는 속성</li><li>복합 속성: 2 개 이상 속성들로 분해할 수 있는 속성</li></ul><h1 id="릴레이션"><a class="markdownIt-Anchor" href="#릴레이션"></a> 릴레이션</h1><ul><li>데이터를 원자값으로 갖는 이차원의 테이블</li><li>릴레이션의 구조는 물리적인 구조를 나타내는 것이 아닌 <strong>논리적 구조</strong></li><li><strong>릴레이션 스키마</strong>: 릴레이션 구조</li><li><strong>릴레이션 인스턴스</strong>: 실제 값</li><li>속성: 릴레이션의 열(Column)</li><li>튜플: 릴레이션의 행(Row)</li></ul><h2 id="er-모델을-관계형-데이터-모델로-변환"><a class="markdownIt-Anchor" href="#er-모델을-관계형-데이터-모델로-변환"></a> ER 모델을 관계형 데이터 모델로 변환</h2><ul><li>개념적인 데이터 모델인 ER 모델을 논리적 데이터 모델인 릴레이션 스키마로 변환하는 것</li><li><strong>매핑 룰</strong>(Mapping Rule)이라고 한다.</li><li>N:M 관계이면 릴레이션 A 와 B 의 기본키를 모두 포함한 별도의 릴레이션으로 표현한다. 이 때 생성된 별도의 릴레이션을 교차 릴레이션 또는 <strong>교차 엔티티</strong>라고 한다.</li></ul><h2 id="관계의-표현"><a class="markdownIt-Anchor" href="#관계의-표현"></a> 관계의 표현</h2><ul><li>1:1(┼─┼): 양쪽에 반드시 1 개씩 존재</li><li>1:0 또는 1:1(┼─Θ├): 왼쪽에는 반드시 1 개, 오른쪽에는 없거나 1 개 존재</li><li>1:N(┼─&lt;): 왼쪽에는 반드시 1 개, 오른쪽에는 반드시 여러개</li><li>1:1 또는 1:N(┼─┤&lt;): 왼쪽에는 반드시 1 개, 오른쪽에는 1 개 또는 여러개 존재</li><li>1:0 또는 1:1 또는 1:N(┼─Θ│&lt;): 왼쪽에는 반드시 1 개, 오른쪽에는 0 개 또는 1 개 또는 여러개 존재</li></ul><h2 id="식별관계"><a class="markdownIt-Anchor" href="#식별관계"></a> 식별관계</h2><ul><li>Identifying</li><li>개체 A, B 사이의 관계에서 <strong>A 개체의 기본키가 B 개체의 외래키이면서 동시에 기본키가 되는 관계</strong></li><li>ER 도형에서 실선으로 표시</li></ul><h2 id="비식별관계"><a class="markdownIt-Anchor" href="#비식별관계"></a> 비식별관계</h2><ul><li>Non-identifying</li><li>개체 A, B 사이의 관계에서 <strong>A 개체의 기본키가 B 개체의 비기본키 영역에서 외래키가 되는 관계</strong></li><li>B 개체의 존재 여부는 A 개체의 존재 여부와 관계없이 존재</li><li>ER 도형에서 점선으로 표시</li></ul><h1 id="슈퍼키"><a class="markdownIt-Anchor" href="#슈퍼키"></a> 슈퍼키</h1><ul><li>한 릴레이션 내에 있는 속성들의 집합으로 구성된 키</li><li>모든 튜플에 대해 유일성은 만족하지만 최소성은 만족하지 못한다.</li></ul><h1 id="후보키"><a class="markdownIt-Anchor" href="#후보키"></a> 후보키</h1><ul><li>Candidate Key</li><li>릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합</li><li>유일성과 최소성을 모두 만족한다.</li></ul><h1 id="복합키"><a class="markdownIt-Anchor" href="#복합키"></a> 복합키</h1><ul><li>2 개 이상의 필드를 조합하여 만든 키</li></ul><h1 id="기본키"><a class="markdownIt-Anchor" href="#기본키"></a> 기본키</h1><ul><li>Primary Key</li><li>후보키 중에서 특별히 선정된 키</li><li>중복된 값을 가질 수 없다.</li><li>NULL 일 수 없다.</li></ul><h1 id="대체키"><a class="markdownIt-Anchor" href="#대체키"></a> 대체키</h1><ul><li>Alternate Key</li><li>대체키는 후보키 중에서 선정된 기본키를 제외한 나머지 후보키</li></ul><h1 id="외래키"><a class="markdownIt-Anchor" href="#외래키"></a> 외래키</h1><ul><li>Foreign Key</li><li>다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합</li></ul><h1 id="무결성"><a class="markdownIt-Anchor" href="#무결성"></a> 무결성</h1><ul><li>Integrity</li><li>DB 에 저장된 데이터 값과 그 것이 표현하는 현실 세계의 실제 값이 일치하는 정확성을 의미</li><li>무결성 제약조건(Constraint): DB 에 저장된 데이터의 정확성을 보장하기 위해 정확하지 않은 데이터가 DB 에 저장되는 것을 방지하기 위한 조건</li></ul><h2 id="무결성-종류"><a class="markdownIt-Anchor" href="#무결성-종류"></a> 무결성 종류</h2><ul><li><strong>NULL 무결성</strong>: 특성 속성 값이 NULL 이 될 수 없음</li><li><strong>고유 무결성</strong>(Unique): 특정 속성에 대해 각 튜플이 갖는 속성 값이 서로 달라야 한다.</li><li><strong>도메인 무결성</strong>: 특정 속성의 값이 그 속성이 정의된 도메인에 속해야한다.</li><li><strong>키 무결성</strong>: 하나의 릴레이션에는 적어도 하나의 키가 존재해야한다.</li><li><strong>관계 무결성</strong>(Relationship): 어느 한 튜플의 삽입 가능 여부 또는 한 릴레이션과 다른 릴레이션의 튜플들 사이의 관계에 대한 적절성 여부를 지정</li><li><strong>참조 무결성</strong>(Referential): 외래키 값은 NULL 이거나 참조 릴레이션의 기본키 값과 동일해야 한다.</li><li><strong>개체 무결성</strong>(Entity): 기본 릴레이션의 기본키를 구성하는 어떤 속성도 NULL 일 수 없다.</li></ul><h1 id="관계대수"><a class="markdownIt-Anchor" href="#관계대수"></a> 관계대수</h1><ul><li>Relational Algebra</li><li>관계형 DB 에서 원하는 정보와 그 정보를 어떻게 유도하는가를 기술하는 절차적 언어</li><li>기본연산: SELECT, PROJECT, JOIN, DIVISION</li><li>집합연산: UNION, DIFFERENCE, INTERSECTION, CARTESIAN PRODUCT</li></ul><h2 id="순수-관계-연산자"><a class="markdownIt-Anchor" href="#순수-관계-연산자"></a> 순수 관계 연산자</h2><h3 id="select"><a class="markdownIt-Anchor" href="#select"></a> SELECT</h3><ul><li>릴레이션에 존재하는 튜플들 중 특정 조건을 만족하는 튜플들의 부분집합을 구하여 새로운 릴레이션을 만든다.</li><li>튜플을 구하는 것이므로 수평 연산</li><li>시그마 <strong>σ</strong>를 사용한다.</li><li><strong>σ</strong>&lt;조건&gt;(테이블)</li></ul><h3 id="project"><a class="markdownIt-Anchor" href="#project"></a> PROJECT</h3><ul><li>주어진 릴레이션에서 속성 리스트에 제시된 속성 값만을 추출하여 새로운 릴레이션을 만든다.</li><li>열에 해당하는 속성을 추출하는 것이므로 수직 연산</li><li>파이 <strong>π</strong>를 사용한다.</li><li><strong>π</strong>&lt;속성&gt;(테이블)</li></ul><h3 id="join"><a class="markdownIt-Anchor" href="#join"></a> JOIN</h3><ul><li>공통 속성을 중심으로 2 개의 릴레이션을 하나로 합쳐서 새로운 릴레이션을 만든다.</li><li>JOIN 연산의 결과는 CARTESIAN PRODUCT 연산을 수행한 다음 SELECT 연산을 수행한 것과 같다.</li><li>▷◁ 를 사용한다.</li><li>테이블<strong>▷◁</strong>(JOIN 조건)S</li><li><strong>세타 조인</strong>: 비교 연산자를 θ 로 일반화하여 θ 로 표현될 수 있는 조인</li><li><strong>자연 조인</strong>: 중복된 속성을 제거하여 같은 속성은 한 번만 나타나게 하는 연산</li></ul><h2 id="일반-집합-연산자"><a class="markdownIt-Anchor" href="#일반-집합-연산자"></a> 일반 집합 연산자</h2><ul><li>수학적 집합에서 사용하는 연산자</li><li>합집합(UNION): R∪S ≤ R ＋ S</li><li>교집합(INTERSECTION): R∩S ≤ MIN(R, S)</li><li>차집합(DIFFERENCE): R－S ≤ R</li><li>교차곱(CARTESIAN PRODUCT): (R×S) = ®×(S)</li></ul><h1 id="관계해석"><a class="markdownIt-Anchor" href="#관계해석"></a> 관계해석</h1><ul><li>Relational Calculus</li><li>E.F. Codd 가 수학의 Predicate Calculus(술어해석)에 기반을 두고 관계 DB 를 위해 제안</li><li>관계 데이터의 연산을 표현하는 방법</li><li>원하는 정보를 정의할 때 계산 수식을 사용한다.</li><li>원하는 정보가 무엇이라는 것만 정의하는 비절차적 특성을 지닌다.</li></ul><h1 id="ddl"><a class="markdownIt-Anchor" href="#ddl"></a> DDL</h1><ul><li>DDL 로 정의된 내용은 메타데이터가 되며 시스템 카탈로그에 저장된다.</li></ul><h2 id="create-schema"><a class="markdownIt-Anchor" href="#create-schema"></a> CREATE SCHEMA</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> 스키마명 AUTHORIZATION 유저;</span><br></pre></td></tr></table></figure><h2 id="create-domain"><a class="markdownIt-Anchor" href="#create-domain"></a> CREATE DOMAIN</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DOMAIN</span> 도메인명 타입</span><br><span class="line">    [<span class="keyword">DEFAULT</span> 기본값]</span><br><span class="line">    [<span class="keyword">CONSTRAINT</span> 제약조건명 <span class="keyword">CHECK</span> 제약조건];</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DOMAIN</span> GENDER <span class="built_in">CHAR</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">DEFAULT</span> <span class="string">'M'</span></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> VALID-GENDER <span class="keyword">CHECK</span> (<span class="keyword">VALUE</span> <span class="keyword">IN</span> (<span class="string">'M'</span>, <span class="string">'F'</span>));</span><br></pre></td></tr></table></figure><h2 id="create-table"><a class="markdownIt-Anchor" href="#create-table"></a> CREATE TABLE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 테이블명 (</span><br><span class="line">    속성명 타입 [<span class="keyword">NOT</span> <span class="literal">NULL</span>],</span><br><span class="line">    [PRIMARY <span class="keyword">KEY</span>(속성),]</span><br><span class="line">    [<span class="keyword">UNIQUE</span>(속성)]</span><br><span class="line">    [<span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>(속성) <span class="keyword">REFERENCES</span> 참조테이블(속성)</span><br><span class="line">        [<span class="keyword">ON</span> <span class="keyword">DELETE</span> 옵션]</span><br><span class="line">        [<span class="keyword">ON</span> <span class="keyword">UPDATE</span> 옵션]</span><br><span class="line">    ]</span><br><span class="line">    [<span class="keyword">CONSTRAINT</span> 제약조건명] [<span class="keyword">CHECK</span>(조건)]</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="create-view"><a class="markdownIt-Anchor" href="#create-view"></a> CREATE VIEW</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> 뷰명[(속성명)]</span><br><span class="line"><span class="keyword">AS</span> <span class="keyword">SELECT</span> 속성 <span class="keyword">FROM</span> 테이블</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">OPTION</span>];</span><br></pre></td></tr></table></figure><ul><li>속성명을 기술하지 않으면 SELECT 문의 속성명이 자동으로 사용된다.</li><li>WITH CHECK OPTION 은 뷰에 대한 갱신이나 삽입연산이 실행될 때 뷰의 정의 조건을 위배하면 갱신이나 삽입 연산의 실행을 거부하도록 지정하기 위한 것이다.</li></ul><h2 id="create-index"><a class="markdownIt-Anchor" href="#create-index"></a> CREATE INDEX</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>] <span class="keyword">INDEX</span> 인덱스명</span><br><span class="line">    <span class="keyword">ON</span> 테이블명(속성명 정렬)</span><br><span class="line">    [CLUSTER];</span><br></pre></td></tr></table></figure><ul><li>CLUSTER: 지정된 키에 따라 튜플들을 그룹으로 지정하기 위해 사용한다.</li></ul><h2 id="create-trigger"><a class="markdownIt-Anchor" href="#create-trigger"></a> CREATE TRIGGER</h2><ul><li>트리거는 DB 에서 데이터의 입력, 갱신, 삭제 등의 이벤트가 발생할 때마다 자동적으로 수행되는 사용자 정의 프로시저이다.</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> 트리거명 [<span class="keyword">AFTER</span>|<span class="keyword">BEFORE</span>] [<span class="keyword">INSERT</span>|<span class="keyword">DELETE</span>|<span class="keyword">UPDATE</span>]</span><br><span class="line">    <span class="keyword">ON</span> 테이블명</span><br><span class="line">    <span class="keyword">REFERENCING</span> [<span class="keyword">NEW</span>|<span class="keyword">OLD</span>] <span class="keyword">TABLE</span> <span class="keyword">AS</span> 테이블명</span><br><span class="line">    <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="keyword">ROW</span></span><br><span class="line">    <span class="keyword">WHEN</span> 조건</span><br><span class="line"></span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line">    트리거 <span class="keyword">BODY</span></span><br><span class="line">    <span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 학생 테이블에 값이 삽입되기 전에 학년 속성이 없으면 신입생 값을 넣어준다 */</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> 학년정보트리거 <span class="keyword">BEFORE</span> <span class="keyword">INSERT</span> <span class="keyword">ON</span> 학생</span><br><span class="line"><span class="keyword">REFERENCING</span> <span class="keyword">NEW</span> <span class="keyword">TABLE</span> <span class="keyword">AS</span> temp</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="keyword">ROW</span></span><br><span class="line"><span class="keyword">WHEN</span> temp.학년 = <span class="string">''</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SET</span> temp.학년 = <span class="string">'신입생'</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure><h2 id="alter-table"><a class="markdownIt-Anchor" href="#alter-table"></a> ALTER TABLE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 테이블명 <span class="keyword">ADD</span> 속성명 타입 [<span class="keyword">DEFAULT</span> <span class="string">'기본값'</span>];</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 테이블명 <span class="keyword">ALTER</span> 속성명 [<span class="keyword">SET</span> <span class="keyword">DEFAULT</span> <span class="string">'기본값'</span>];</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 테이블명 <span class="keyword">DROP</span> 속성명 [<span class="keyword">CASCADE</span>];</span><br></pre></td></tr></table></figure><h2 id="drop"><a class="markdownIt-Anchor" href="#drop"></a> DROP</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> 테이블명 [<span class="keyword">CASCADE</span>|RESTRICT];</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> 뷰명 [<span class="keyword">CASCADE</span>|RESTRICT];</span><br></pre></td></tr></table></figure><h1 id="select-2"><a class="markdownIt-Anchor" href="#select-2"></a> SELECT</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">DISTINCT</span>] 속성 <span class="keyword">FROM</span> 테이블</span><br><span class="line">[<span class="keyword">WHERE</span> 조건]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> 속성]</span><br><span class="line">[<span class="keyword">HAVING</span> 조건]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> 속성 순서]</span><br></pre></td></tr></table></figure><h1 id="join-2"><a class="markdownIt-Anchor" href="#join-2"></a> JOIN</h1><h2 id="inner-join"><a class="markdownIt-Anchor" href="#inner-join"></a> INNER JOIN</h2><ul><li>EQUI JOIN: 대상 테이블에서 공통 속성을 기준으로 = 비교에 의해 같은 값을 가지는 행을 연결하여 결과를 생성하는 JOIN 방법</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span>, 테이블<span class="number">2</span></span><br><span class="line"><span class="keyword">WHERE</span> 테이블<span class="number">1.</span>속성 = 테이블<span class="number">2.</span>속성;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span> <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> 테이블<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span> <span class="keyword">JOIN</span> 테이블<span class="number">2</span> <span class="keyword">USING</span>(속성);</span><br></pre></td></tr></table></figure><ul><li>NON-EQUI JOIN: =이 아닌 다른 비교연산자를 사용하는 JOIN 방법인데 잘 안쓴다.</li></ul><h2 id="outer-join"><a class="markdownIt-Anchor" href="#outer-join"></a> OUTER JOIN</h2><ul><li>LEFT OUTER JOIN</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span> <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> 테이블<span class="number">2</span></span><br><span class="line">    <span class="keyword">ON</span> 테이블<span class="number">1.</span>속성 = 테이블<span class="number">2.</span>속성;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span>, 테이블<span class="number">2</span></span><br><span class="line"><span class="keyword">WHERE</span> 테이블<span class="number">1.</span>속성 = 테이블<span class="number">2.</span>속성(+);</span><br></pre></td></tr></table></figure><ul><li>RIGHT OUTER JOIN</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 속성, 속성<span class="number">2</span></span><br><span class="line"><span class="keyword">FROM</span> 테이블<span class="number">1</span>, 테이블<span class="number">2</span></span><br><span class="line"><span class="keyword">WHERE</span> 테이블<span class="number">1.</span>속성(+) = 테이블<span class="number">2.</span>속성;</span><br></pre></td></tr></table></figure><h2 id="self-join"><a class="markdownIt-Anchor" href="#self-join"></a> SELF JOIN</h2><ul><li>같은 테이블에서 2 개의 속성을 연결하여 EQUI JOIN 을 하는 JOIN 방법</li></ul><h1 id="dml"><a class="markdownIt-Anchor" href="#dml"></a> DML</h1><h2 id="insert"><a class="markdownIt-Anchor" href="#insert"></a> INSERT</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 테이블[(속성)]</span><br><span class="line"><span class="keyword">VALUES</span> (데이터);</span><br></pre></td></tr></table></figure><h2 id="delete"><a class="markdownIt-Anchor" href="#delete"></a> DELETE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 테이블 <span class="keyword">WHERE</span> 조건;</span><br></pre></td></tr></table></figure><h2 id="update"><a class="markdownIt-Anchor" href="#update"></a> UPDATE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 테이블</span><br><span class="line"><span class="keyword">SET</span> 속성 = 데이터</span><br><span class="line">WEHRE 조건;</span><br></pre></td></tr></table></figure><h1 id="dcl"><a class="markdownIt-Anchor" href="#dcl"></a> DCL</h1><ul><li>데이터의 보안, 무결성, 회복, 병행 제어 등을 정의하는 데 사용하는 언어</li><li>DBA 가 데이터 관리를 목적으로 사용</li><li>COMMIT, ROLLBACK, GRANT, REVOKE</li></ul><h2 id="grant"><a class="markdownIt-Anchor" href="#grant"></a> GRANT</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> 권한 <span class="keyword">TO</span> 유저;</span><br><span class="line"><span class="keyword">GRANT</span> 권한 <span class="keyword">ON</span> 테이블 <span class="keyword">TO</span> 유저 [<span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>];</span><br></pre></td></tr></table></figure><h2 id="revoke"><a class="markdownIt-Anchor" href="#revoke"></a> REVOKE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> 권한 <span class="keyword">FROM</span> 유저;</span><br><span class="line"><span class="keyword">REVOKE</span> [<span class="keyword">GRANT</span> <span class="keyword">OPTION</span> <span class="keyword">FOR</span>] 권한 <span class="keyword">ON</span> 테이블 <span class="keyword">FROM</span> 유저 [<span class="keyword">CASCADE</span>];</span><br></pre></td></tr></table></figure><ul><li>GRANT OPTION FOR 는 다른 사람에게 해당 권한을 부여하는 권한만을 취소한다.</li></ul><h1 id="내장-sql"><a class="markdownIt-Anchor" href="#내장-sql"></a> 내장 SQL</h1><ul><li>DB 내의 데이터를 정의하거나 접근하는 SQL 문을 응용프로그램 내에 내포하여 프로그램이 실행될 때 함께 실행되도록 호스트 프로그램 언어에 삽입한 SQL.</li></ul><h2 id="커서"><a class="markdownIt-Anchor" href="#커서"></a> 커서</h2><ul><li>내장 SQL 의 실행 결과로 반환된 복수 개의 튜플을 접근할 수 있도록 해주는 개념</li><li>질의 결과로 반환된 테이블의 튜플을 순서대로 가리키는 튜플에 대한 포인터</li><li><strong>DECLARE</strong>: 커서 정의 등 커서에 관련된 선언을 하는 명령어</li><li><strong>OPEN</strong>: 커서 질의 결과인 첫번째 튜플을 가리키도록 설정하는 명령어</li><li><strong>FETCH</strong>: 다음 튜플로 커서를 이동시키는 명령어</li><li><strong>CLOSE</strong>: 커서를 닫기 위해 사용하는 명령어</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* salary를 10% 증가시키는 갱신 연산 */</span></span><br><span class="line">EXEC SQL <span class="keyword">DECLARE</span> <span class="keyword">SECTION</span></span><br><span class="line">    <span class="built_in">int</span> department;</span><br><span class="line">    int salary;</span><br><span class="line">EXEC SQL <span class="keyword">END</span> <span class="keyword">DECLARE</span> <span class="keyword">SECTION</span></span><br><span class="line"></span><br><span class="line">EXEC <span class="keyword">SQL</span> <span class="keyword">DECLARE</span> person <span class="keyword">CURSOR</span> <span class="keyword">FOR</span></span><br><span class="line">    <span class="keyword">SELECT</span> salary <span class="keyword">FROM</span> EMPLOYEE</span><br><span class="line">    <span class="keyword">WHERE</span> department = :department;</span><br><span class="line"></span><br><span class="line">EXEC SQL OPEN person;</span><br><span class="line">EXEC SQL FETCH person INTO :salary;</span><br><span class="line"></span><br><span class="line">while(SQLSTATE == '00000')&#123;</span><br><span class="line">    EXEC SQL <span class="keyword">UPDATE</span> EMPLOYEE <span class="keyword">SET</span> salary = salary * <span class="number">1.1</span></span><br><span class="line">                <span class="keyword">WHERE</span> <span class="keyword">CURRENT</span> <span class="keyword">OF</span> person;</span><br><span class="line">    EXEC SQL FETCH person INTO :salary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">EXEC SQL CLOSE person;</span><br></pre></td></tr></table></figure><h1 id="stored-procedure"><a class="markdownIt-Anchor" href="#stored-procedure"></a> Stored Procedure</h1><ul><li>모듈별 프로그래밍 허용</li><li>빠른 SQL 실행: 한 번 실행된 후 메모리에 캐시되어 다음 실행에 빠르게 실행될 수 있다.</li><li>보안성</li><li>네트워크 통신량 감소</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">OR</span> <span class="keyword">REPLACE</span>] <span class="keyword">PROCEDURE</span> 프로시저명(<span class="keyword">IN</span>|<span class="keyword">OUT</span>|INOUT 파라미터)</span><br><span class="line">[지역변수 선언]</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    프로시저 <span class="keyword">BODY</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure><h1 id="이상"><a class="markdownIt-Anchor" href="#이상"></a> 이상</h1><ul><li>Anomaly</li><li>테이블에서 일부 속성들의 종속으로 데이터의 중복이 발생하고, 중복으로 인해 테이블 조작시 문제가 발생하는 현상 =&gt; <strong>데이터 중복으로 인해 테이블 조작시 문제가 발생하는 현상</strong></li></ul><h2 id="삽입-이상"><a class="markdownIt-Anchor" href="#삽입-이상"></a> 삽입 이상</h2><ul><li>Insertion Anomaly</li><li>데이터를 삽입할 때 의도와는 상관없이 원하지 않는 값들로 인해 삽입할 수 없게 되는 현상</li></ul><h2 id="삭제-이상"><a class="markdownIt-Anchor" href="#삭제-이상"></a> 삭제 이상</h2><ul><li>Deletion Anomaly</li><li>테이블에서 한 튜플을 삭제할 때 의도와는 상관없는 값들도 함께 삭제되는 현상</li><li>연쇄 삭제</li></ul><h2 id="갱신-이상"><a class="markdownIt-Anchor" href="#갱신-이상"></a> 갱신 이상</h2><ul><li>Update Anomaly</li><li>테이블에서 튜플에 있는 속성 값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 불일치성(Inconsistency)이 생기는 현상</li></ul><h1 id="함수적-종속"><a class="markdownIt-Anchor" href="#함수적-종속"></a> 함수적 종속</h1><ul><li>Functional Dependency</li><li>X → Y 의 관계를 갖는 속성 X 와 Y 에서 X 를 결정자(Determinant), Y 를 종속자(Dependent)라고 한다.</li><li>완전 함수적 종속: 어떤 속성이 기본키에 대해 완전히 종속적일 때를 말한다.</li><li>부분 함수적 종속: 기본키의 일부에 대해 속성이 결정되는 경우.</li></ul><h1 id="정규화"><a class="markdownIt-Anchor" href="#정규화"></a> 정규화</h1><ul><li>Normalization</li><li>테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용해 테이블을 무손실 분해하는 과정</li><li>무손실 분해: NATURAL JOIN 을 통해 원래 테이블로 정보 손실 없이 복귀되는 경우 분해된 테이블이 무손실 분해되었다고 한다.</li></ul><h2 id="제-1-정규형"><a class="markdownIt-Anchor" href="#제-1-정규형"></a> 제 1 정규형</h2><ul><li>모든 속성의 도메인이 원자값만으로 되어 있는 정규형</li></ul><h2 id="제-2-정규형"><a class="markdownIt-Anchor" href="#제-2-정규형"></a> 제 2 정규형</h2><ul><li>테이블이 제 1 정규형이고 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하는 정규형</li></ul><h2 id="제-3-정규형"><a class="markdownIt-Anchor" href="#제-3-정규형"></a> 제 3 정규형</h2><ul><li>테이블이 제 2 정규형이고 기본키가 아닌 모든 속성이 기본키에 대해 이행적 함수 종속을 만족하지 않는 정규형</li><li>이행적 함수 종속: A → B 이고 B → C 일 때 A → C 를 만족하는 관계</li></ul><h2 id="bcnf"><a class="markdownIt-Anchor" href="#bcnf"></a> BCNF</h2><ul><li>테이블에서 모든 결정자가 후보키인 정규형</li><li>일반적으로 제 3 정규형에 후보키가 여러 개 존재하고, 이러한 후보키들이 서로 중첩되어 나타나는 경우에 적용 가능하다.</li></ul><h2 id="제-4-정규형"><a class="markdownIt-Anchor" href="#제-4-정규형"></a> 제 4 정규형</h2><ul><li>테이블에 다중 값 종속 A→→B 가 존재할 경우 테이블의 모든 속성이 A 에 함수적 종속 관계를 만족하는 정규형</li><li>다중 값 종속<ul><li>다치 종속 = MVD = Multi Valued Dependency</li><li>A, B, C 3 개의 속성을 가진 테이블 R 에서 어떤 복합 속성(A, C)에 대응하는 B 값의 집합이 A 값에만 종속되고 C 값에는 무관하면 B 는 A 에 다중 값 종속이라고 한다.</li></ul></li></ul><h2 id="제-5-정규형"><a class="markdownIt-Anchor" href="#제-5-정규형"></a> 제 5 정규형</h2><ul><li>테이블의 모든 조인 종속이 테이블의 후보키를 통해서만 성립되는 정규형</li><li>테이블 속성에 대한 부분 집합 X, Y, Z…가 있을 때 테이블이 자신의 프로젝션 X, Y, Z…를 모두 조인한 결과와 동일한 경우 테이블은 조인 종속을 만족한다.</li></ul><h2 id="역정규화"><a class="markdownIt-Anchor" href="#역정규화"></a> 역정규화</h2><ul><li>Denormalization</li><li>정규화로 인해 여러 개로 분해된 릴레이션들에서 원하는 정보를 얻기 위해서 조인을 사용하여 다시 연결해야되는데 조인을 자주 사용하면 응답 속도가 떨어지므로 정규화에 위배되지만 성능 향상을 위해 다시 테이블을 합치는 것</li></ul><h1 id="시스템-카탈로그"><a class="markdownIt-Anchor" href="#시스템-카탈로그"></a> 시스템 카탈로그</h1><ul><li>DB 에 저장되어 있는 모든 데이터 개체들에 대한 정의나 명세에 대한 정보가 수록되어 있는 시스템 테이블</li></ul><h2 id="시스템-카탈로그의-구성요소"><a class="markdownIt-Anchor" href="#시스템-카탈로그의-구성요소"></a> 시스템 카탈로그의 구성요소</h2><ul><li>SYSOBJECTS: 각 개체에 관한 정보를 한 행으로 관리</li><li>SYSCOLUMNS: 각 테이블이 가지고 있는 모든 열에 대한 정보를 한 행으로 관리</li><li>SYSINDEXES: 모든 인덱스에 대한 정보를 한 행로 관리</li><li>SYSUSERS: 사용자와 그룹에 관한 정보를 한 행으로 관리</li><li>SYSPROTECTS: 사용자 권한에 관한 정보를 한 행으로 관리</li></ul><h1 id="인덱스"><a class="markdownIt-Anchor" href="#인덱스"></a> 인덱스</h1><ul><li>데이터 레코드(튜플)에 빠르게 접근하기 위해 &lt;키 값, 포인터&gt; 쌍으로 구성되는 데이터 구조</li></ul><h2 id="m-원-검색트리"><a class="markdownIt-Anchor" href="#m-원-검색트리"></a> m-원 검색트리</h2><ul><li>m-Way Search Tree</li><li>한 노드가 1 개의 키값과 2 개의 서브 노드를 갖는 이진 검색 트리를 일반화한 트리</li></ul><h2 id="b-트리"><a class="markdownIt-Anchor" href="#b-트리"></a> B-트리</h2><ul><li>인덱스를 구성하는 방법으로 많이 사용되는 균형된 m-원 검색트리</li><li>키 값과 레코드를 가리키는 포인터들이 트리 노드에 오름차순으로 저장</li><li>키 의 삽입과 삭제 시 노드의 분열과 합병이 발생할 수 있다.</li></ul><h2 id="b-트리-2"><a class="markdownIt-Anchor" href="#b-트리-2"></a> B*-트리</h2><ul><li>B-트리의 문제점인 빈번한 노드의 분할을 줄이는 목적으로 제시된 B-트리의 변형</li><li>각 노드가 가능한 한 최소 2/3 가 채워지도록 한 것이 특징</li></ul><h2 id="b트리"><a class="markdownIt-Anchor" href="#b트리"></a> B±트리</h2><ul><li>B-트리의 변형으로 단말 노드가 아닌 노드로 구성된 인덱스 세트와 단말 노드로만 구성된 순차 세트로 구분된다.</li></ul><blockquote><p><strong>행 이주</strong>로 인한 검색 효율 저하</p><ul><li>VARCHAR 형식을 INDEX 로 잡을 때 값이 변경될 경우 다음 블록을 또 읽어서 검색해 검색 속도가 떨어지는 현상</li></ul></blockquote><h1 id="트랜잭션"><a class="markdownIt-Anchor" href="#트랜잭션"></a> 트랜잭션</h1><ul><li>DB 에서 하나의 논리적 기능을 수행하기 위한 일련의 연산 집합으로 작업의 단위이다.</li><li>DBMS 에서 회복 및 병행 수행시 처리되는 작업의 논리적 단위</li></ul><h2 id="트랜잭션의-특성-acid"><a class="markdownIt-Anchor" href="#트랜잭션의-특성-acid"></a> 트랜잭션의 특성 (ACID)</h2><h3 id="원자성"><a class="markdownIt-Anchor" href="#원자성"></a> 원자성</h3><ul><li>Atomicity</li><li>트랜잭션의 연산은 DB 에 모두 반영되든지 아니면 전혀 반영되지 않아야한다.</li></ul><h3 id="일관성"><a class="markdownIt-Anchor" href="#일관성"></a> 일관성</h3><ul><li>Consistency</li><li>트랜잭션 수행이 성공적으로 완료되면 언제나 일관성 있는 DB 상태로 변환한다.</li></ul><h3 id="독립성"><a class="markdownIt-Anchor" href="#독립성"></a> 독립성</h3><ul><li>Isolation</li><li>한 트랜잭션이 데이터를 갱신하는 동안 이 트랜잭션이 완료되지 전에는 갱신중인 데이터를 다른 트랜잭션들이 접근하지 못하도록 해야한다.</li></ul><h3 id="영속성"><a class="markdownIt-Anchor" href="#영속성"></a> 영속성</h3><ul><li>Durability</li><li>트랜잭션의 실행이 성공적으로 실행 완료된 후에는 시스템에 오류가 발생하더라도 트랜잭션에 의해 변경된 내용은 계속 보존되어야 한다.</li></ul><h2 id="트랜잭션의-상태"><a class="markdownIt-Anchor" href="#트랜잭션의-상태"></a> 트랜잭션의 상태</h2><ul><li>활동(Active): 트랜잭션이 실행중인 상태</li><li>실패(Failed): 트랜잭션 실행중에 오류가 발생하여 중단된 상태</li><li>철회(Aborted): 트랜잭션이 비정상적으로 종료되어 ROLLBACK 연산을 수행한 상태</li><li>부분 완료(Partially Committed): 트랜잭션의 마지막 연산까지 수행하였지만 COMMIT 연산을 실행하기 전의 상태</li><li>완료(Committed): 트랜잭션이 성공적으로 완료되어 COMMIT 연산을 수행한 후의 상태</li></ul><h1 id="회복"><a class="markdownIt-Anchor" href="#회복"></a> 회복</h1><ul><li>Recovery</li><li>트랜잭션을 실행하는 도중에 장애가 발생하여 DB 가 손상되었을 경우 손상되기 이전의 정상 상태로 복구하는 작업</li></ul><h2 id="장애-유형"><a class="markdownIt-Anchor" href="#장애-유형"></a> 장애 유형</h2><ul><li>실행 장애(Action Failure)</li><li>트랜잭션 장애(Transaction Failure)</li><li>시스템 장애(System Failure)</li><li>미디어 장애(Media Failure)</li></ul><h2 id="회복-관리기"><a class="markdownIt-Anchor" href="#회복-관리기"></a> 회복 관리기</h2><ul><li>로그: 트랜잭션 수행 중 작성된 DB 의 변경 내용에 대한 정보로 Redo 와 Undo 를 수행할 때 사용</li><li>메모리 덤프: 메모리에 있는 DB 전체 또는 일부 내용을 주기적으로 별도의 디스크나 다른 파일로 복사해 두는 작업</li></ul><h3 id="redo"><a class="markdownIt-Anchor" href="#redo"></a> Redo</h3><ul><li>DB 가 비정상적으로 종료되었을 때 디스크에 저장된 로그를 분석하여 <strong>트랜잭션의 시작과 완료에 대한 기록이 있는 트랜잭션의 작업을 재작업</strong></li></ul><h3 id="undo"><a class="markdownIt-Anchor" href="#undo"></a> Undo</h3><ul><li>DB 가 비정상적으로 종료되었을 때 디스크에 저장된 로그를 분석하여 트랜잭션의 시작을 나타내는 START 는 있지만 완료를 나타내는 <strong>COMMIT 이 없는 트랜잭션이 작업한 내용을 모두 취소</strong>시킨다.</li></ul><h2 id="회복-기법"><a class="markdownIt-Anchor" href="#회복-기법"></a> 회복 기법</h2><h3 id="연기-갱신-기법"><a class="markdownIt-Anchor" href="#연기-갱신-기법"></a> 연기 갱신 기법</h3><ul><li>Deferred Update</li><li>트랜잭션이 성공적으로 종료될 때까지 DB 에 대한 실질적인 갱신을 연기하는 기법</li></ul><h3 id="즉각-갱신-기법"><a class="markdownIt-Anchor" href="#즉각-갱신-기법"></a> 즉각 갱신 기법</h3><ul><li>Immediate Update</li><li>트랜잭션이 데이터를 변경하면 트랜잭션이 부분 완료되기 전이라도 즉시 실제 DB 에 반영하는 기법</li></ul><h3 id="그림자-페이지-기법"><a class="markdownIt-Anchor" href="#그림자-페이지-기법"></a> 그림자 페이지 기법</h3><ul><li>Shadow Paging</li><li>갱신 이전의 DB 를 일정 크기의 페이지 단위로 구성하여 각 페이지마다 복사본인 그림자 페이지로 별도 보관해 두고, 실제 페이지를 대상으로 트랜잭션에 대한 변경 작업을 수행하는 기법</li></ul><h3 id="검사점-기법"><a class="markdownIt-Anchor" href="#검사점-기법"></a> 검사점 기법</h3><ul><li>Check Point</li><li>시스템 장애가 발생하였을 경우, Redo 와 Undo 를 수행하기 위해 로그 전체를 조사해야하는 경우를 피하기 위한 기법</li><li>검사점을 로그에 보관해 둔다.</li></ul><h3 id="미디어-회복-기법"><a class="markdownIt-Anchor" href="#미디어-회복-기법"></a> 미디어 회복 기법</h3><ul><li>Media Recovery</li><li>DB 의 내용을 주기적으로 안전한 저장장치에 덤프해 놓는 기법</li></ul><h1 id="병행-제어"><a class="markdownIt-Anchor" href="#병행-제어"></a> 병행 제어</h1><ul><li>Concurrency Control</li><li>다중 프로그램의 이점을 활용하여 동시에 여러 개의 트랜잭션을 병행 수행할 때 실행되는 트랜잭션들이 DB 의 일관성을 파괴하지 않도록 트랜잭션 간의 상호 작용을 제어하는 기술</li><li>여러 개의 트랜잭션들이 동시에 인터리빙하게 실행되는 것</li></ul><blockquote><p>인터리빙</p><ul><li>트랜잭션들이 번갈아가며 조금씩 자신이 처리해야 할 일을 처리하는 것</li></ul></blockquote><h2 id="병행-제어의-필요성"><a class="markdownIt-Anchor" href="#병행-제어의-필요성"></a> 병행 제어의 필요성</h2><ul><li>갱신 분실(Lost Update): 2 개 이상의 트랜잭션이 같은 데이터를 공유하여 갱신할 때 갱신 결과의 일부가 없어지는 현상</li><li>모순성(Inconsistency): 복수의 사용자가 동시에 같은 데이터를 갱신할 때 DB 내의 데이터들이 상호 일치하지 않아 모순된 결과가 발생하는 현상</li><li>연쇄 복귀(Cascading Rollback): 병행 수행되던 트랜잭션들 중 어느 하나에 문제가 생겨 ROLLBACK 되는 경우 다른 트랜잭션들도 함께 ROLLBACK 되는 현상</li></ul><h2 id="lock"><a class="markdownIt-Anchor" href="#lock"></a> Lock</h2><ul><li>잠금이란 DB 관리에서 하나의 트랜잭션에 사용되는 데이터를 다른 트랜잭션이 접근하지 못하게 하는 것을 의미</li><li>교착상태(Dead Lock): 모든 트랜잭션들이 실행을 전혀 진전시키지 못하고 무한정 기다리고 있는 상태</li></ul><blockquote><ul><li>공유 잠금(Shared Lock): 트랜잭션이 데이터에 대해 공유 잠금을 걸면 트랜잭션은 데이터에 대해 읽기만 가능하고 기록은 불가능</li><li>배타 잠금(Exclusive Lock): 트랜잭션이 데이터에 대해 배타 잠금을 걸면 트랜잭션은 데이터에 대해 읽기나 기록 모두 불가능</li></ul></blockquote><h2 id="병행-제어-기법의-종류"><a class="markdownIt-Anchor" href="#병행-제어-기법의-종류"></a> 병행 제어 기법의 종류</h2><h3 id="2-단계-잠금-규약-기법"><a class="markdownIt-Anchor" href="#2-단계-잠금-규약-기법"></a> 2 단계 잠금 규약 기법</h3><ul><li>트랜잭션 스케줄의 직렬성을 보장하는 대표적인 잠금 기법</li><li>교착상태를 예방할 수 없다.</li><li>확장(Growing) 단계: 트랜잭션이 잠금만 수행할 수 있고 잠금해제는 수행할 수 없는 단계</li><li>축소(Shrinking) 단계: 트랜잭션이 잠금해제만 수행할 수 있고 잠금은 수행할 수 없는 단계</li></ul><h3 id="타임스탬프-순서-기법"><a class="markdownIt-Anchor" href="#타임스탬프-순서-기법"></a> 타임스탬프 순서 기법</h3><ul><li>시스템이 각 트랜잭션을 실행할 때 부여하는 값인 타임스탬프로 순서에 따라 트랜잭션 작업을 수행한다.</li><li>교착상태가 발생하지 않는다.</li></ul><h1 id="보안"><a class="markdownIt-Anchor" href="#보안"></a> 보안</h1><ul><li>DB 일부분 또는 전체에 대해 권한이 없는 사용자가 접근을 수행하는 것을 금지하기 위해 사용하는 기술</li></ul><h2 id="보안-기술의-목표"><a class="markdownIt-Anchor" href="#보안-기술의-목표"></a> 보안 기술의 목표</h2><ul><li>정보 보호(Information Security): 정보의 불법적인 노출을 방지</li><li>정보 인증(Information Authentication): 고의적으로 정보를 수정하거나 허위 정보를 저장시키려는 것을 방지</li><li>사용자 인증(User Authentication): 패스워드나 음성, 지문 등을 대조하여 DB 를 이용하는 사람들의 신원을 확인</li></ul><h2 id="보안-기법"><a class="markdownIt-Anchor" href="#보안-기법"></a> 보안 기법</h2><ul><li>뷰 기법</li><li>DCL 기법: 권한 부여 및 해제</li><li>암호화 기법<ul><li>개인키 암호화 기법: 동일한 키로 데이터를 암복호화한다.</li><li>공개키 암호화 기법: 데이터를 암호화할 때 사용하는 공개키는 DB 사용자에게 공개하고 복호화할 때의 비밀키는 관리자가 비밀리에 관리</li></ul></li></ul><h1 id="튜닝"><a class="markdownIt-Anchor" href="#튜닝"></a> 튜닝</h1><ul><li>DB 튜닝이란 DB 응용 프로그램, DB 자체, 운영체제 등의 조정을 통하여 DBMS 의 성능을 향상시키는 작업</li></ul><h2 id="인덱스-튜닝"><a class="markdownIt-Anchor" href="#인덱스-튜닝"></a> 인덱스 튜닝</h2><h3 id="b-트리-인덱스"><a class="markdownIt-Anchor" href="#b-트리-인덱스"></a> B-트리 인덱스</h3><ul><li>일반적으로 사용되는 인덱스 방식</li><li>루트 노드에서 하위 노드로 키 값의 크기를 비교해 나가면서 단말 노드에서 찾고자 하는 데이터를 검색</li></ul><h3 id="비트맵-인덱스"><a class="markdownIt-Anchor" href="#비트맵-인덱스"></a> 비트맵 인덱스</h3><ul><li>인덱스 컬럼의 데이터를 Bit 값인 0 또는 1 로 변환하여 인덱스 키로 사용하는 방법</li><li>분포도가 좋은 컬럼에 적합하며 데이터가 Bit 로 구성되어 있기 때문에 효율적인 논리 연산이 가능하고 저장공간이 적다.</li></ul><h3 id="역방향-인덱스"><a class="markdownIt-Anchor" href="#역방향-인덱스"></a> 역방향 인덱스</h3><ul><li>인덱스 컬럼의 데이터를 역으로 변환하여 인덱스 키로 사용하는 방법</li><li>B-트리 인덱스에서 발생할 수 있는 불균형 문제를 해결</li><li>데이터의 분포도가 좋아져 검색 성능이 좋다.</li></ul><h3 id="클러스터드-인덱스"><a class="markdownIt-Anchor" href="#클러스터드-인덱스"></a> 클러스터드 인덱스</h3><ul><li>Clustered Index</li><li>인덱스 키의 순서에 따라 데이터가 정렬되어 저장되는 방식</li><li>실제 데이터가 순서대로 저장되어 있어 인덱스를 검색하지 않아도 원하는 데이터를 빠르게 찾을 수 있다.</li><li>데이터 삽입, 삭제시 순서를 유지하기 위해 데이터를 재정렬해야한다.</li><li>한 개의 릴레이션에 하나의 인덱스만 생성 가능하다.</li></ul><h3 id="논클러스터드-인덱스"><a class="markdownIt-Anchor" href="#논클러스터드-인덱스"></a> 논클러스터드 인덱스</h3><ul><li>Non-Clustered Index</li><li>인덱스의 키 값만 정렬되어 있고 실제 데이터는 정렬되지 않는 방식</li><li>데이터를 검색하기 위해 인덱스를 검색하고 실제 데이터의 위치를 확인해야 하므로 클러스터드 인덱스에 비해 검색속도가 떨어진다.</li><li>한 개의 릴레이션에 여러 개의 인덱스를 만들 수 있다.</li></ul><h3 id="결합-인덱스"><a class="markdownIt-Anchor" href="#결합-인덱스"></a> 결합 인덱스</h3><ul><li>인덱스들이 자주 조합되어 사용하는 경우는 하나의 결합 인덱스를 생성한다.</li><li>결합 인덱스의 컬럼 순서는 데이터 분포도가 좋은 컬럼을 선행 컬럼으로 설정</li></ul><blockquote><p>분포도</p><ul><li>선택성(Selectivity)</li><li>전체 레코드 중 조건에 맞는 레코드의 숫자가 적은 경우 분포도가 좋다고 한다.</li><li>분포도가 10~15%인 경우 효율적인 인덱스 검색을 할 수 있다.</li></ul></blockquote><h1 id="객체-지향-db"><a class="markdownIt-Anchor" href="#객체-지향-db"></a> 객체 지향 DB</h1><ul><li>오버로딩: 하나의 메소드 이름으로 다른 파라미터를 지정하여 사용하는 기법</li><li>오버라이딩: 슈퍼 클래스에 있는 메소드를 서브 클래스에서 상속받아 다른 기능을 수행하는 메소드로 재정의하는 기법</li></ul><h1 id="분산-db"><a class="markdownIt-Anchor" href="#분산-db"></a> 분산 DB</h1><h2 id="분산-db-시스템의-구성요소"><a class="markdownIt-Anchor" href="#분산-db-시스템의-구성요소"></a> 분산 DB 시스템의 구성요소</h2><ul><li>분산 처리기: 지리적으로 분산되어 있는 컴퓨터 시스템</li><li>분산 DB: 지리적으로 분산되어 있는 DB</li><li>통신 네트워크: 분산 처리기들을 통신망으로 연결하여 논리적으로 하나의 시스템처럼 작동할 수 있도록 하는 네트워크</li></ul><h2 id="분산-db-의-목표"><a class="markdownIt-Anchor" href="#분산-db-의-목표"></a> 분산 DB 의 목표</h2><h3 id="위치-투명성"><a class="markdownIt-Anchor" href="#위치-투명성"></a> 위치 투명성</h3><ul><li>Location Transparency</li><li>DB 의 실제 위치를 알 필요 없이 단지 DB 의 논리적인 명칭만으로 접근할 수 있다.</li></ul><h3 id="중복-투명성"><a class="markdownIt-Anchor" href="#중복-투명성"></a> 중복 투명성</h3><ul><li>Replication Transparency</li><li>데이터가 여러 곳에 중복되어 있더라도 사용자는 마치 하나의 데이터만 존재하는 것처럼 사용할 수 있고 시스템이 자동으로 여러 데이터에 대한 작업을 수행한다.</li></ul><h3 id="병행-투명성"><a class="markdownIt-Anchor" href="#병행-투명성"></a> 병행 투명성</h3><ul><li>Concurrency Transparency</li><li>다수의 트랜잭션들이 동시에 실행되더라도 그 트랜잭션들의 수행 결과는 서로 영향을 받지 않는다.</li></ul><h3 id="장애-투명성"><a class="markdownIt-Anchor" href="#장애-투명성"></a> 장애 투명성</h3><ul><li>Failure Transparency</li><li>장애에도 불구하고 트랜잭션은 정확하게 수행된다.</li></ul><h1 id="멀티미디어-db"><a class="markdownIt-Anchor" href="#멀티미디어-db"></a> 멀티미디어 DB</h1><ul><li>텍스트, 그래픽, 정지 화상, 동영상, 음성 등이 복합적으로 구성된 DB</li><li>비정형 데이터이기 때문에 미디어별로 별도의 검색 방법이 필요하다.</li><li>데이터의 구조가 복잡하고 관계를 구성하기가 어렵다.</li></ul><h1 id="주기억장치-db"><a class="markdownIt-Anchor" href="#주기억장치-db"></a> 주기억장치 DB</h1><ul><li>DB 전체를 주기억장치에 상주시킨 후 DB 연산을 수행하는 시스템</li></ul><h1 id="데이터-웨어하우스"><a class="markdownIt-Anchor" href="#데이터-웨어하우스"></a> 데이터 웨어하우스</h1><ul><li>Data Warehouse</li><li>급증하는 다량의 데이터를 효과적으로 분석하여 정보화하고 이를 여러 계층의 사용자들이 효율적으로 사용할 수 있도록 한 DB</li></ul><h1 id="데이터-마트"><a class="markdownIt-Anchor" href="#데이터-마트"></a> 데이터 마트</h1><ul><li>Data Mart</li><li>소규모 단일 주제의 데이터 웨어하우스를 말한다.</li></ul><h1 id="데이터-마이닝"><a class="markdownIt-Anchor" href="#데이터-마이닝"></a> 데이터 마이닝</h1><ul><li>Data Mining</li><li>데이터 웨어하우스에 저장된 데이터 집합에서 사용자의 요구에 따라 유용하고 가능성 있는 정보를 발견하기 위한 기법</li></ul><h2 id="데이터-마이닝-기법"><a class="markdownIt-Anchor" href="#데이터-마이닝-기법"></a> 데이터 마이닝 기법</h2><ul><li>연관(Association): 연관 관계를 발견하기 위한 방법</li><li>연속(Sequence): 트랜잭션의 향후 발생 가능성을 예측하는 방법</li><li>분류(Classfication): 다른 그룹과의 차별적인 특성을 도출하기 위한 방법</li><li>클러스터링(Clustering): 상호 간에 유사한 특성을 갖는 데이터를 집단화하는 방법</li><li>특성화(Characterization): 데이터의 요약 과정을 통해 특성을 발견하는 방법</li><li>패턴 분석(Pattern Analysis): DB 내의 명시된 패턴을 찾는 방법</li><li>경향 분석(Trend Analysis): 동적으로 변화하는 데이터를 분석하는 방법</li></ul><h1 id="olap"><a class="markdownIt-Anchor" href="#olap"></a> OLAP</h1><ul><li>Online Analytical Processing</li><li>다차원으로 이루어진 데이터로부터 통계적인 요약 정보를 분석하여 의사결정에 활용하는 방식</li></ul><h2 id="olap-연산"><a class="markdownIt-Anchor" href="#olap-연산"></a> OLAP 연산</h2><ul><li>Roll-up: 구체적인 내용의 상세 데이터로부터 요약된 형태의 데이터로 접근하는 기능</li><li>Drill-down: 단계적으로 요약된 형태의 데이터로부터 구체적인 내용의 상세 데이터로 접근하는 기능</li><li>Drill-through: 데이터 웨어하우스나 OLTP 에 존재하는 상세 데이터에 접근하는 기능</li><li>Drill-across: 다른 데이터 큐브의 데이터에 접근하는 기능</li><li>Pivoting: 보고서의 행, 열, 페이지 차원을 바꿔 볼 수 있는 기능</li><li>Slicing: 다차원 데이터 항목을 다양한 각도에서 조회하고 비교하는 기능</li><li>Dicing: Slicing 을 더 세분화하는 기능</li></ul><h2 id="olap-종류"><a class="markdownIt-Anchor" href="#olap-종류"></a> OLAP 종류</h2><ul><li>ROLAP(Relational-OLAP): 관계형 DB 와 관계형 질의어를 사용하여 다차원 데이터를 저장 및 분석</li><li>MOLAP(Multi-dimension OLAP): 데이터 검색 속도를 향상시키기 위해 큐브 캐시라고 하는 주기억장치 속에 데이터 큐브를 보관</li><li>HOLAP(Hybrid OLAP): ROLAP 과 MOLAP 의 특성을 모두 가졌고, 요약을 메모리에 저장하고 기본 데이터나 다른 요약들은 관계형 DB 에 저장</li></ul><h1 id="oltp"><a class="markdownIt-Anchor" href="#oltp"></a> OLTP</h1><ul><li>Online Transaction Processing</li><li>온라인 업무 처리 형태의 하나로 네트워크 상의 여러 이용자가 실시간으로 DB 의 데이터를 갱신하거나 검색하는 등의 단위 작업을 처리하는 방식</li></ul><h1 id="odbc"><a class="markdownIt-Anchor" href="#odbc"></a> ODBC</h1><ul><li>프로그램과 DB 의 종류에 관계없이 자유롭게 DB 에 접근하여 사용할 수 있도록 만든 표준 인터페이스</li><li>Application: DB 에 접속할 때 ODBC API 를 사용</li><li>Driver Manager: Application 과 ODBC Driver 간의 통신을 관리하는 라이브러리</li><li>DSN(Domain Service Name): 서버에 연결할 때 필요한 드라이버와 DB 정보를 저장</li><li>ODBC Driver: ODBC API 가 지원하는 함수를 구현하는 라이브러리</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text를 contextmenu에 추가</title>
      <link href="/2017/03/06/sublime-text-open-contextmenu/"/>
      <url>/2017/03/06/sublime-text-open-contextmenu/</url>
      
        <content type="html"><![CDATA[<p>서브라임 텍스트를 탐색기 우클릭 메뉴에 추가해서 접근성을 높여보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p><a href="https://gist.github.com/jcppkkk/8330314" target="_blank" rel="external nofollow noopener noreferrer">OpenWithSublime Gist</a>에서 실행파일을 다운로드 받는다.</p><img data-src="https://i.imgur.com/n1PCZFT.png"><p>압축 푼 파일을 서브라임 텍스트가 깔려있는 경로에 넣어준다.</p><img data-src="https://i.imgur.com/Zrw5pgK.png"><p><strong>OpenWithSublime.bat</strong> 파일을 실행한다.</p><h1 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h1><p>이제 폴더나 파일을 바로 서브라임 텍스트로 열 수 있다.</p><img data-src="https://i.imgur.com/vfN6WZh.png">]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로드 모바일 초반 공략</title>
      <link href="/2017/03/02/roads-mobile-start/"/>
      <url>/2017/03/02/roads-mobile-start/</url>
      
        <content type="html"><![CDATA[<p>Roads Mobile 공식 카페 말고는 쉽게 접할 수 있는 <strong>올바른</strong> 초반 공략이 없어 작성한다.<br>이 게임은 적어도 3 티어 병력이 나올 때부터 시작한다고 봐야한다.<br>주성 17 레벨부터 돌성으로 이미지가 바뀌는데, 이 때부터 3 티어 병력을 뽑을 수 있다.<br>목표를 <strong>주성 17 레벨</strong>로 잡고 빠르게 성을 성장시켜보자.<br>(가장 빠른 레벨링 방법이며, 이렇게 해도 목표까지 한달정도 소요된다.)</p><p>무과금 유저도 즐겁게 성을 키울 수 있고 3 티어 병력을 운용하며 전투를 할 수 있다.<br>하지만 4 티어 병력은 현실적으로 불가능하다.</p><h1 id="시작"><a class="markdownIt-Anchor" href="#시작"></a> 시작</h1><p>가장 먼저 시작해야하며 중요한 공략을 소개한다.</p><h2 id="기본-공략"><a class="markdownIt-Anchor" href="#기본-공략"></a> 기본 공략</h2><blockquote><ul><li>성을 생성하면 먼저 <strong>주성이 5 레벨</strong>이 될 때까지 퀘스트를 완료해가며 성장하면 된다.</li><li>수정은 VIP 포인트를 구매해 <strong>VIP 포인트를 8 레벨</strong>까지 만들어준다.</li><li><strong>다른 용도로 수정을 쓰지 않는다.</strong></li><li>1 급 부대를 생산하고 1 레벨 <strong>자원지를 채집</strong>한다.</li><li>주성 보호막이 풀리는 9 레벨부터는 <strong>무조건 피신처에 12 시간씩 영주와 병력을 넣어둔다</strong>.</li><li><strong>연맹에 가입해 가속지원</strong>을 주고 받는다.</li><li>몬스터 연구를 먼저 완료해 몬스터를 사냥하고, 빠르게 성장한다.</li></ul></blockquote><h2 id="이벤트-참여"><a class="markdownIt-Anchor" href="#이벤트-참여"></a> 이벤트 참여</h2><blockquote><ul><li><strong>이벤트 &gt; 최근소식 &gt; 시메스터 교수님의 바바리안 학교</strong>에서 수정을 받는다.</li><li><strong>이벤트 &gt; 최근소식 &gt; 송지효가 전하는 봄날의 기쁨</strong>에서 수정을 받는다.</li></ul></blockquote><p>이벤트 페이지는 여기서 들어갈 수 있다.</p><img data-src="https://i.imgur.com/3D6ySCE.png"><h1 id="건물"><a class="markdownIt-Anchor" href="#건물"></a> 건물</h1><p><strong>성, 지교, 연구소 건설을 최우선</strong>으로 해준다.</p><h2 id="채석장"><a class="markdownIt-Anchor" href="#채석장"></a> 채석장</h2><p>최대한 많이 짓는다.</p><h2 id="벌목장"><a class="markdownIt-Anchor" href="#벌목장"></a> 벌목장</h2><p>최대한 많이 짓는다.</p><h2 id="광산"><a class="markdownIt-Anchor" href="#광산"></a> 광산</h2><p>최대한 많이 짓는다.</p><h2 id="농장"><a class="markdownIt-Anchor" href="#농장"></a> 농장</h2><p>3 개를 짓는다.<br>초반에는 3 개, 부족하다 싶으면 중반에는 6 개까지 늘려주고 후반에는 1 개로 줄여준다.<br><strong>쌀이 없어도 병력이 죽는게 아니기 때문에</strong> 농장을 적게 짓고 채집으로 커버가 가능하다.</p><h2 id="병영"><a class="markdownIt-Anchor" href="#병영"></a> 병영</h2><p>1 개만 짓는다.<br>병영이 많아도 훈련속도가 증가하지 않기 때문에 1 개면 충분하다.<br>초반에 병영 2 개를 짓는 퀘스트를 완료해준 뒤 부순다.</p><h2 id="장원"><a class="markdownIt-Anchor" href="#장원"></a> 장원</h2><p>8 개를 짓는다.<br>골드 및 군영 훈련속도 증가때문에 많이 지어야한다.</p><h2 id="치료소"><a class="markdownIt-Anchor" href="#치료소"></a> 치료소</h2><p>8 개를 짓는다.<br>치료 인원을 넘는 부상병은 사망하기 때문에 많이 지어야한다.<br>장원을 먼저 8 개를 채워주고 나머지를 치료소 건설에 투자하면 된다.<br>퀘스트로 짓는 2 개로 운용하다가 군단전 접전을 클리어해 영토가 늘어날 때 8 개로 늘려준다.</p><h1 id="연구"><a class="markdownIt-Anchor" href="#연구"></a> 연구</h1><p>가속지원을 모두 받으면 모아둔 수정이나 가속 아이템으로 밀어버린다.</p><h2 id="경제"><a class="markdownIt-Anchor" href="#경제"></a> 경제</h2><p>경제 연구는 수정 채집을 제외한 모든 연구를 마무리 해준다.<br>수정 채집 연구를 비추천하는 이유는 달마다 찾아오는 킹덤클래시(서버간 침략가능) 후 이긴 쪽에 수정 자원지가 나오는데, 1 렙 수정자원지는 겨우 10 수정만 준다. 고레벨 수정자원지는 채집하러가면 맛집되기 십상이다.</p><h2 id="방어"><a class="markdownIt-Anchor" href="#방어"></a> 방어</h2><p>우선적으로 할 연구가 아니다.<br>성벽은 어차피 침략이 들어오면 벽이아니라 종이에 불과하다.<br>퀘스트를 위해 거마창, 초탑, 철질려 등 함정 연구를 뚫어줄 수 있을 만큼만 업그레이드 하자.</p><h2 id="군사"><a class="markdownIt-Anchor" href="#군사"></a> 군사</h2><p>첩보술과 급행을 우선적으로 연구해주고, 상위 티어 병사를 뽑을 수 있을 정도로 업그레이드 하자.</p><h2 id="몬스터-사냥"><a class="markdownIt-Anchor" href="#몬스터-사냥"></a> 몬스터 사냥</h2><p><strong>가장 중요한 연구로 모든 연구를 우선적으로 마무리 한다.</strong><br>몬스터 사냥만이 빠른 레벨업을 할 수 있는 지름길이다.</p><blockquote><p>연맹 가입 후 몬스터를 때릴 때마다 아이템을 얻으며, 사냥시 연맹원 모두가 현금 아이템을 구매한 것과 같은 보상을 하나 얻을 수 있다.</p></blockquote><h2 id="방어승급"><a class="markdownIt-Anchor" href="#방어승급"></a> 방어승급</h2><p>함정 해체술을 배울 정도로만 연구한다.</p><h2 id="군사승급"><a class="markdownIt-Anchor" href="#군사승급"></a> 군사승급</h2><p>급행, 응급처치 및 행군 상한 증대를 배울 정도로만 연구한다.</p><h2 id="행군배진"><a class="markdownIt-Anchor" href="#행군배진"></a> 행군배진</h2><p>이 연구를 올릴 정도면 로드 모바일 공략이 필요 없다.</p><h1 id="특성"><a class="markdownIt-Anchor" href="#특성"></a> 특성</h1><p><strong>군단과 관련된 특성은 쳐다보지 말자!</strong></p><h2 id="1-단계"><a class="markdownIt-Anchor" href="#1-단계"></a> 1 단계</h2><p>2 레벨을 올리면 다음 특성이 열린다.<br><strong>건설속도 I, 연구속도 I,</strong> 골드 생산량 I 에 모두 투자한다.</p><h2 id="2-단계"><a class="markdownIt-Anchor" href="#2-단계"></a> 2 단계</h2><p>5 레벨을 올리면 다음 특성이 열린다.<br><strong>건설속도 II, 연구속도 II,</strong> 골드 생산량 II, 채집 속도 II, 군단 무게 II 에 모두 투자한다.</p><h2 id="3-단계"><a class="markdownIt-Anchor" href="#3-단계"></a> 3 단계</h2><p>5 레벨을 올리면 다음 특성이 열린다.<br>골드 생산량 III 에 투자한다.</p><h1 id="영웅"><a class="markdownIt-Anchor" href="#영웅"></a> 영웅</h1><p>영웅 맵은 별 3 개가 나오지 않으면 재도전이나 도전 취소를해서 하트를 아껴가며 클리어 해준다.</p><h2 id="초반-영웅"><a class="markdownIt-Anchor" href="#초반-영웅"></a> 초반 영웅</h2><ul><li>오스 키퍼</li><li>나이트 레이븐</li><li>스톰 세이지</li><li>스노우 퀸</li><li><strong>소프라노</strong></li></ul><h2 id="중반-영웅"><a class="markdownIt-Anchor" href="#중반-영웅"></a> 중반 영웅</h2><p>고용할 수 있는 시점부터 바로 고용시켜 키워주면 된다.</p><ul><li><strong>트래커</strong></li><li><strong>트릭스터</strong></li><li><strong>라이트 히어로</strong></li><li><strong>데몬 슬레이어</strong></li><li><strong>데스나이트</strong></li></ul><p>라이트 히어로와 데스나이트는 오스 키퍼의 자리를 대신해 서브탱커와 탱커를 담당하고 나머지 영웅은 딜러자리를 대체한다.</p><p>후반엔 <strong>로즈 나이트</strong>가 서브탱커 자리를 대신한다.</p><blockquote><ul><li><strong>트릭스터</strong>는 <strong>연구 가속 능력</strong>을 가졌기 때문에 <strong>영주</strong>로 둬야하며 훈장을 통해 <strong>가장 먼저 키워야한다.</strong></li><li><strong>트래커</strong>는 스턴기를 가졌고 <strong>단일 데미지가 1 위</strong>인 영웅이다.</li><li><strong>라이트 히어로</strong>는 스턴기와 가장 체력이 낮은 영웅에게 쉴드를 채워준다.</li><li><strong>데스나이트</strong>는 얼려버리는 스턴기와 많은 체력을 가졌고 죽어도 한 번 더 부활한다.</li><li><strong>데몬 슬레이어</strong>는 후방으로 이동해 암살하며 광역 데미지 궁극기를 가졌다.</li><li><strong>소프라노</strong>는 <strong>하나 밖에없는 무과금용 힐러 영웅</strong>으로 꼭 키워준다.</li><li>로즈나이트를 얻을 정도면 이 공략을 볼 필요가 없다.</li></ul></blockquote><h1 id="몬스터-사냥-상세"><a class="markdownIt-Anchor" href="#몬스터-사냥-상세"></a> 몬스터 사냥 상세</h1><p>몬스터 사냥은 연맹에 가입해야 시작할 수 있다.<br>여러 대를 한 번에 때리는 것보다 <strong>한 대씩 여러 번 때리는 것</strong>이 더 데미지가 많이 들어간다.<br>영웅의 레벨도 중요하지만 <strong>계급 7</strong>을 먼저 올려줘서 모든 스킬을 배우게 해주자.<br>효율상 1 레벨 몬스터만 사냥한다.</p><p>몬스터마다 방어 종류가 다른데 <strong>i</strong> 표시를 누르면 확인할 수 있다.</p><img data-src="https://i.imgur.com/VVR4nPi.png"><h2 id="물리-방어"><a class="markdownIt-Anchor" href="#물리-방어"></a> 물리 방어</h2><p>마법 영웅으로 사냥한다.<br><strong>스톰 세이지, 인시너레이터, 봄버맨, 엘레멘탈리스트, 스노우 퀸</strong>이 주가 되며 없을시 소프라노도 괜찮다.</p><h2 id="마법-방어"><a class="markdownIt-Anchor" href="#마법-방어"></a> 마법 방어</h2><p>물리 영웅으로 사냥한다.<br><strong>트래커, 트릭스터, 스칼렛 볼트, 데몬 슬레이어, 블랙 크로우</strong>가 주가 되며 없을시 데스 나이트도 괜찮다.<br>라이트 히어로는 스킬이 마법피해라 비추천</p><h2 id="물리-마법-방어"><a class="markdownIt-Anchor" href="#물리-마법-방어"></a> 물리 &amp; 마법 방어</h2><p>물리 영웅으로 사냥하는 것이 더 효율적다.</p><h1 id="장비"><a class="markdownIt-Anchor" href="#장비"></a> 장비</h1><p>장비는 <strong>연구 속도, 건설 속도 장비</strong>를 중점적으로 간다. 채집과 사냥을 통해 재료를 얻을 수 있다.<br>다음 장비 외에는 생각도 안하면 된다. 레벨이 안 된다면 영주부터 키우자.</p><ul><li>투구 : 노세로스 마스크</li><li>갑옷 : 얼음서리의 일격, 오디세우스의 갑옷</li><li>신발 : 그리핀의 신발, 살벌한 전장</li><li>무기 : 거대 공룡의 습격</li><li>장갑 : 그리핀의 발톱, 절대의 감금</li><li>장식품 : 달의 피리, 수호의 팔찌</li></ul><h1 id="무역선"><a class="markdownIt-Anchor" href="#무역선"></a> 무역선</h1><p>지교 한계치를 넘는 자원은 무역을 통해 **도시락(아이템)**으로 바꿔준다.<br>골드에서 다른 자원으로 교환하는 것이 효율이 좋으므로 많이 바꿔주자.</p><h1 id="아레나"><a class="markdownIt-Anchor" href="#아레나"></a> 아레나</h1><p>데스나이트(또는 라이트 히어로), 로즈 나이트, 데몬 슬레이어, 소프라노, 트릭스터(또는 트래커)가 무과금에서 최선의 조합이다.</p><h1 id="요약"><a class="markdownIt-Anchor" href="#요약"></a> 요약</h1><blockquote><p><strong>나의 병력은 채집과 수렵을 즐겨야하며 내가 없는 동안은 동굴에서 자야한다.</strong></p></blockquote><p>틀렸거나 추가하고 싶은 부분이 있으시면 댓글로 남겨주세요. 반영하겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> game </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Angular2 with angular-cli</title>
      <link href="/2017/02/23/Angular2-with-angular-cli/"/>
      <url>/2017/02/23/Angular2-with-angular-cli/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>지난시간에는 <a href="/2017/02/06/Angular2-with-Webpack/">Angular with Webpack</a>으로 ng2 의 기본 실행 틀에 대해 알아봤다.<br>매번 이렇게 세팅을하려면 아무도 ng2 를 쉽게 사용하지 못할 것이다.<br>버전별 충돌문제도 해결해야되고 컴포넌트를 생성할 때마다 주입해줘야되고 third party 라이브러리를 쓸 때는 typings 를 사용해 타입 인터페이스를 넣어줘야하고 웹팩 로더에 대한 정보도 찾아봐야하며… (지난시간에 해봤던 것)</p><p>이걸 모두 해결한 정말 멋진 모듈인 Angular-cli 로 ng2 project 를 시작해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p><a href="https://github.com/angular/angular-cli" target="_blank" rel="external nofollow noopener noreferrer">Angular-cli</a>를 참조해도 되지만 하나씩 해보자.</p><p>먼저 npm 으로 angular/cli 를 전역으로 설치한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g @angular/cli</span><br></pre></td></tr></table></figure><p>설치가 완료되면 ng 라는 명령어를 사용할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ng --version</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/komN3rp.png"><h1 id="프로젝트-생성"><a class="markdownIt-Anchor" href="#프로젝트-생성"></a> 프로젝트 생성</h1><p><strong>ng new 프로젝트명</strong> 명령어로 프로젝트를 생성하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ng new 프로젝트명</span><br><span class="line"></span><br><span class="line">$ ng new ng2-cli-test --routing</span><br></pre></td></tr></table></figure><p>–routing 명령어는 기본으로 angular 라우팅을 app module 에 넣어준다.<br>angular routing 을 사용하지 않을 경우 옵션을 제외시키면 된다.</p><h2 id="프로젝트-실행"><a class="markdownIt-Anchor" href="#프로젝트-실행"></a> 프로젝트 실행</h2><p><strong>생성한 프로젝트로 이동</strong>해 프로젝트를 실행해보자</p><h2 id="패키지-설치"><a class="markdownIt-Anchor" href="#패키지-설치"></a> 패키지 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd ng-cli-test</span></span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>1~3 분정도 걸리니 느긋하게 기다리면 된다.</p><h2 id="웹서버-실행"><a class="markdownIt-Anchor" href="#웹서버-실행"></a> 웹서버 실행</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm start</span><br><span class="line"><span class="comment"># 또는</span></span><br><span class="line">$ ng serve</span><br></pre></td></tr></table></figure><p>ng2-cli 는 기본 포트 4200 을 사용한다.<br>이 포트가 사용 중이라면 --port 옵션으로 포트를 변경해주면 된다.</p><p>package.json 을 열어 start 명령어 실행시 브라우져가 바로 뜨게 --open 옵션을 주자.</p><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"ng2-cli-test"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="attr">"angular-cli"</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"ng"</span>: <span class="string">"ng"</span>,</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"ng serve --open"</span>,</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>자세한 옵션은 <a href="https://github.com/angular/angular-cli/blob/master/docs/documentation/serve.md" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인할 수 있다.</p><img data-src="https://i.imgur.com/0i4hGvZ.png"><p>쉽게 실행되었다!</p><h1 id="컴포넌트-추가"><a class="markdownIt-Anchor" href="#컴포넌트-추가"></a> 컴포넌트 추가</h1><p>컴포넌트도 쉽게 생성할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ng generate component 컴포넌트명</span><br><span class="line"></span><br><span class="line">$ ng g c 컴포넌트명</span><br></pre></td></tr></table></figure><p><strong>ng g c sub</strong> 명령어로 서브 컴포넌트를 생성해보자.</p><img data-src="https://i.imgur.com/YISLyfz.png"><p>서브라는 폴더로 ng2 컴포넌트 명명 규칙에 맞게 예쁘게 생성되었다.</p><p><strong>app.module.ts</strong>를 확인해보면 자동으로 import 가 되어있다.</p><figure class="highlight ts"><figcaption><span>src/app/app.module.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> &#123; SubComponent &#125; <span class="keyword">from</span> <span class="string">'./sub/sub.component'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  declarations: [</span><br><span class="line">    AppComponent,</span><br><span class="line">    SubComponent</span><br><span class="line">  ],</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>정말 영롱하다.<br>자세한 generate component 옵션은 <a href="https://github.com/angular/angular-cli/blob/master/docs/documentation/generate/component.md" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 확인할 수 있다.</p><h1 id="라우팅"><a class="markdownIt-Anchor" href="#라우팅"></a> 라우팅</h1><p>이제 <strong>app-routing.module.ts</strong> 파일을 열어 sub.component 로 라우팅이 되게 해보자.</p><figure class="highlight ts"><figcaption><span>src/app/app-routing.module.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">"@angular/core"</span></span><br><span class="line"><span class="keyword">import</span> &#123; Routes, RouterModule &#125; <span class="keyword">from</span> <span class="string">"@angular/router"</span></span><br><span class="line"><span class="comment">// 서브 컴포넌트 import</span></span><br><span class="line"><span class="keyword">import</span> &#123; SubComponent &#125; <span class="keyword">from</span> <span class="string">"./sub/sub.component"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// sub로 접속시 SubComponent 사용</span></span><br><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">""</span>,</span><br><span class="line">    children: []</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; path: <span class="string">"sub"</span>, component: SubComponent &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [RouterModule.forRoot(routes)],</span><br><span class="line">  exports: [RouterModule],</span><br><span class="line">  providers: []</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppRoutingModule &#123;&#125;</span><br></pre></td></tr></table></figure><p>메인 컴포넌트의 뷰를 수정한다.</p><figure class="highlight html"><figcaption><span>src/app/app.component.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">  &#123;&#123;title&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">""</span>&gt;</span>home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">"/sub"</span>&gt;</span>sub page<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span><br></pre></td></tr></table></figure><p>브라우저에서 확인해보자.</p><img data-src="https://i.imgur.com/L6InOBI.png"><p>subpage 버튼 링크를 클릭시 sub work! 라는 sub component 의 뷰가 보이는 것을 확인 할 수 있다.</p><blockquote><p>ng2 의 routing 은 router-outlet directive 바로 다음에 생성된다.</p></blockquote><h1 id="라이브러리"><a class="markdownIt-Anchor" href="#라이브러리"></a> 라이브러리</h1><h2 id="polyfills"><a class="markdownIt-Anchor" href="#polyfills"></a> polyfills</h2><p>하위 버전 브라우저를 위해 polyfills 를 활성화 해준다.<br><strong>polyfils.ts</strong>의 core-js/es6 구문들의 주석을 해제만 해주면 된다.</p><img data-src="https://i.imgur.com/bXnifWX.png"><h2 id="global-script"><a class="markdownIt-Anchor" href="#global-script"></a> global script</h2><p>전역에서 사용해야할 스크립트가 있다면 <strong>.angular-cli.json</strong> 파일의 <strong>apps.scripts</strong> 안에 넣어주면 된다.</p><figure class="highlight"><figcaption><span>angular-cli.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    "apps":[&#123;</span><br><span class="line">        "scripts": [</span><br><span class="line">            "../node_modules/jquery/dist/jquery.js",</span><br><span class="line">            <span class="string">"../node_modules/hammerjs/hammer.min.js"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="global-css"><a class="markdownIt-Anchor" href="#global-css"></a> global css</h2><p>global script 와 마찬가지로 angular-cli.json 에 넣는 방식이 있지만<br><strong>src/style.css</strong>에 import 방식으로 넣어줘도 된다.</p><figure class="highlight css"><figcaption><span>src/style.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* You can add global styles to this file, and also import other style files */</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"~https://fonts.googleapis.com/icon?family=Material+Icons"</span>;</span><br></pre></td></tr></table></figure><h2 id="third-party"><a class="markdownIt-Anchor" href="#third-party"></a> third party</h2><p>third party library 를 사용해야한다면 라이브러리와 @types 를 설치해 사용하고 싶은 컴포넌트에서 import 구문으로 사용하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install lodash --save</span><br><span class="line">$ npm install @types/lodash --save-dev</span><br></pre></td></tr></table></figure><figure class="highlight ts"><figcaption><span>any.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> _ <span class="keyword">from</span> <span class="string">"lodash"</span></span><br></pre></td></tr></table></figure><h1 id="빌드"><a class="markdownIt-Anchor" href="#빌드"></a> 빌드</h1><p>웹 브라우저에서 실행할 수 있게 프로젝트를 빌드해보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ng build</span><br><span class="line"><span class="comment"># minify 옵션 추가</span></span><br><span class="line">$ ng build --prod</span><br></pre></td></tr></table></figure><p>빌드를 실행하면 <strong>.angular-cli.json</strong> 파일에 있는 root 와 outDir 경로를 이용해 진행된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이번 시간을 통해 로컬에 ng2 프로젝트를 쉽게 생성하고, 관리할 수 있게 되었습니다.</p><p>👏👏👏 고생하셨습니다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> angular </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hyper-V를 사용한 VM 실행</title>
      <link href="/2017/02/23/virtual-machine-using-hyper-v/"/>
      <url>/2017/02/23/virtual-machine-using-hyper-v/</url>
      
        <content type="html"><![CDATA[<p>윈도우에서 테스트용으로 사용할 서버가 필요하다.<br>Ubuntu, CentOS 환경을 구축한다던지, 여러 서버 프로그램을 테스트해본다던지…<br>가장 유명한 프로그램은 VMware이지만 유료이다. VirtualBox도 있지만 느리다.<br>그렇다면 다른 대안이 무엇이 있을까?</p><p>바로 Windows10을 쓰고 있다면 사용할 수 있는 Hyper-V 가상화 기술이다. (아쉽지만 Home Edition은 지원하지 않는다.)</p><p>속도면에서 느리지는 않을까? 서버 실행에 가장 많은 부하를 주는 <a href="http://www.td21.com/bbs/2900" target="_blank" rel="external nofollow noopener noreferrer">I/O의 테스트 결과</a>가 있다.</p><h1 id="hyper-v-설정"><a class="markdownIt-Anchor" href="#hyper-v-설정"></a> Hyper-V 설정</h1><h2 id="지원-확인"><a class="markdownIt-Anchor" href="#지원-확인"></a> 지원 확인</h2><p>cmd 또는 powershell을 열어 systeminfo.exe를 실행하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systeminfo.exe</span><br></pre></td></tr></table></figure><p>결과 화면 중 아래 부분에</p><blockquote><p><strong>Hyper-V 요구사항</strong></p><ul><li>VM 모니터 모드 확장 : 예</li><li>펌웨어 가상화 사용: 예</li><li>두 번재 수준 주소 변환: 예</li><li>데이터 실행 방지 사용 가능: 예</li></ul></blockquote><p>처럼 표시되면 Hyper-V를 지원하는 컴퓨터이다.<br>그렇지 않다면 재부팅 후 BIOS로 접근해 Advanced 탭으로 이동한 후 옵션을 켜준다.</p><ol><li>Intel Virtualization Technology 기능을 활성화</li><li>VT-d 옵션 활성화 (있는 경우)</li></ol><h2 id="활성화"><a class="markdownIt-Anchor" href="#활성화"></a> 활성화</h2><p><strong>제어판 &gt; 프로그램 및 기능 &gt; Windows 기능 켜기/끄기 메뉴</strong>로 이동한다.</p><img data-src="https://i.imgur.com/ryLmhrV.png"><p>Hyper-V 관련 기능을 체크해주고 <strong>확인</strong> 버튼을 눌러 다시 시작하자.</p><h1 id="가상-컴퓨터-실행"><a class="markdownIt-Anchor" href="#가상-컴퓨터-실행"></a> 가상 컴퓨터 실행</h1><h2 id="centos-다운로드"><a class="markdownIt-Anchor" href="#centos-다운로드"></a> CentOS 다운로드</h2><p><a href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso" target="_blank" rel="external nofollow noopener noreferrer">CentOS 7 이미지</a>를 다운로드 받는다.<br><a href="http://ftp.daumkakao.com/centos/7/isos/x86_64/" target="_blank" rel="external nofollow noopener noreferrer">kakao mirror</a>를 이용해도 된다.</p><h2 id="가상-네트워크-생성"><a class="markdownIt-Anchor" href="#가상-네트워크-생성"></a> 가상 네트워크 생성</h2><p><strong>시작 &gt; Hyper-V 검색 &gt; Hyper-V 관리자</strong>로 이동한다.</p><img data-src="https://i.imgur.com/27U0Ffk.png"><p><strong>가상 스위치 관리자 &gt; 외부 &gt; 가상 스위치 만들기</strong> 버튼으로 가상 스위치를 생성한다.<br>생성 후 이름 변경 및 연결할 외부 네트워크를 선택해주자.</p><img data-src="https://i.imgur.com/6ks2IGU.png"><h2 id="가상-컴퓨터-생성"><a class="markdownIt-Anchor" href="#가상-컴퓨터-생성"></a> 가상 컴퓨터 생성</h2><p><strong>새로만들기 &gt; 가상 컴퓨터</strong> 버튼을 클릭해 가상 컴퓨터 마법사로 가상 머신을 생성한다.<br>2세대로 생성해주자.</p><p><strong>네트워킹 구성</strong> 탭에서는 금방 만들었던 가상 네트워크를 선택한다.</p><img data-src="https://i.imgur.com/2RZOkGZ.png"><p><strong>가상 하드디스크 연결</strong> 탭에서는 물리적으로 어디에 저장할지 선택해준다.</p><img data-src="https://i.imgur.com/g8RPeBN.png"><p><strong>설치 옵션</strong> 탭에서는 다운받았던 CentOS 이미지 파일을 선택한다.</p><img data-src="https://i.imgur.com/mcyzRmE.png"><h2 id="보안-부팅-해제"><a class="markdownIt-Anchor" href="#보안-부팅-해제"></a> 보안 부팅 해제</h2><p><strong>생성된 가상 컴퓨터의 옵션 &gt; 보안 부팅</strong> 탭에서 <strong>보안 부팅 사용 체크박스를 해제</strong>한다.</p><img data-src="https://i.imgur.com/z4HMHTk.png"><p>보안 부팅은 권한 없는 펌웨어, 운영 체제 또는 UEFI 드라이버(옵션 ROM)가 부팅 시 실행되지 않도록 하는 기능인데 켜주면 오류가 발생한다.</p><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><p>만들어진 가상컴퓨터를 실행해 CentOS 설치를 진행하면 된다!<br>설치가 다 되고 쉘이 보이면 네트워크 서비스를 실행한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"></span><br><span class="line"><span class="comment"># onboot 속성을 yes로 변경해준다.</span></span><br><span class="line">ONBOOT=yes</span><br><span class="line"></span><br><span class="line">$ service network start</span><br></pre></td></tr></table></figure><p>이제 yum을 활용해 서버를 구성하는 일만 남았다.</p><h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><p>잘 실행되던 가상서버가 <strong>하이퍼바이저가 실행되고 있지 않으므로 가상 컴퓨터를 시작할 수 없습니다</strong> 라는 오류를 뱉으며 실행이 되지 않을 경우 CMD 창에서 아래 명령어를 날리고 재부팅을 한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bcdedit /<span class="built_in">set</span> hypervisorlaunchtype auto</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hyperv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>연속된 번호 카운트 알고리즘</title>
      <link href="/2017/02/19/count-sequence-number/"/>
      <url>/2017/02/19/count-sequence-number/</url>
      
        <content type="html"><![CDATA[<p>연번 체크 알고리즘이라고도 하는 것 같다.<br>통계 또는 비밀번호의 연속성을 체크하기 위해 필요할 때가 있다.<br>비밀번호 연속성 체크에는 target[j]의 데이터를 charCodeAt 을 붙여 처리하면 된다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSequnceNumbers</span>(<span class="params">target, counterLength = <span class="number">6</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// under es6</span></span><br><span class="line">  <span class="comment">// let sequentialCounter = Array.apply(null, Array(counterLength)).map(Number.prototype.valueOf,0);</span></span><br><span class="line">  <span class="keyword">let</span> sequentialCounter = <span class="keyword">new</span> <span class="built_in">Array</span>(counterLength).fill(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = target.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> subCount = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (target[j] === target[i] + <span class="number">1</span>) &#123;</span><br><span class="line">        subCount = subCount + <span class="number">1</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    count = count + subCount</span><br><span class="line">    <span class="keyword">if</span> (subCount === <span class="number">0</span>) &#123;</span><br><span class="line">      sequentialCounter[count] = sequentialCounter[count] + <span class="number">1</span></span><br><span class="line">      count = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sequentialCounter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> target = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">16</span>, <span class="number">17</span>]</span><br><span class="line"><span class="built_in">console</span>.log(checkSequnceNumbers(target))</span><br><span class="line"><span class="comment">// =&gt; [1, 2, 1, 1, 0, 0]</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>n 과 n+1… n+n-1 을 비교해서 카운트한다.<br>결과는 sequentialCounter 배열에 각 포지션에 들어간다.</p><blockquote><p>2 연속 숫자 1 개가 있다면 sequentialCounter[2] = 1;</p></blockquote><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>왜 이런걸 공유를 안할까?</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>데이터 통신 정리</title>
      <link href="/2017/02/15/%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%86%B5%EC%8B%A0-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/02/15/%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%86%B5%EC%8B%A0-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="데이터-통신"><a class="markdownIt-Anchor" href="#데이터-통신"></a> 데이터 통신</h1><ul><li>Data Communication</li><li>컴퓨터의 발달을 배경으로 하여 생겨난 것</li><li>컴퓨터와 각종 통신 기기 사이에 디지털 형태로 표현된 <strong>2진 정보를 송수신</strong>하는 것</li><li>데이터 전송 기술과 데이터 처리 기술을 포함</li></ul><h1 id="정보-통신"><a class="markdownIt-Anchor" href="#정보-통신"></a> 정보 통신</h1><ul><li>Information Communication</li><li>컴퓨터와 통신 기술의 결합에 의해 통신 처리 기능, 정보 처리기능, 정보의 변환, 정보 저장 과정이 추가된 형태의 통신</li><li>전기 통신(정보 전송)과 컴퓨터(정보 처리)를 포함</li></ul><h1 id="통신"><a class="markdownIt-Anchor" href="#통신"></a> 통신</h1><ul><li><strong>정보원</strong> : Source 전송하는 장소</li><li><strong>수신원</strong> : Destination 수신하는 장소</li><li><strong>전송 매체</strong> : Transmission Media 정보원과 수신원을 연결하는 매개체</li></ul><h2 id="특징"><a class="markdownIt-Anchor" href="#특징"></a> 특징</h2><ul><li>데이터 전송계와 데이터 처리계로 구분</li><li>오류 제어 방식을 사용해 신뢰도가 높음</li><li>분산 처리가 가능</li><li>대형 컴퓨터와 대용량 파일을 공동으로 이용 가능</li><li>대용량, 광대역 전송이 가능</li><li><strong>통신 비밀을 유지하기 위해 보안 시스템 개발이 필요</strong></li></ul><h2 id="발달과정"><a class="markdownIt-Anchor" href="#발달과정"></a> 발달과정</h2><ul><li>SAGE : 1958년 미 공군 반자동 방공 시스템, <strong>최초의 데이터 통신 시스템</strong></li><li>ARPANET : 1969년 미 국방성에서 만든 <strong>최초의 유선 패킷 교환 시스템</strong></li><li><strong>ALOHA</strong> : 1970년 미 하와이 대학에서 실험적으로 설치한 <strong>최초의 무선 패킷 교환 시스템</strong>, <strong>회선 제어 방식 중 경쟁 방식의 모체</strong></li></ul><h1 id="데이터-통신의-구성"><a class="markdownIt-Anchor" href="#데이터-통신의-구성"></a> 데이터 통신의 구성</h1><ul><li>데이터 전송계<ul><li>단말장치</li><li>데이터전송회선 : 신호변환장치, 통신회선</li><li>통신제어장치</li></ul></li><li>데이터 처리계 : 컴퓨터 (하드웨어, 소프트웨어)</li></ul><h2 id="단말장치"><a class="markdownIt-Anchor" href="#단말장치"></a> 단말장치</h2><ul><li>DTE = Data Terminal Equipment = 터미널 = 단말기 = 스테이션 = 노드</li><li>데이터 통신 시스템과 외부 사용자의 접속점에 위치해 최종적으로 데이터를 입출력하는 장치</li><li><strong>입출력, 전송제어, 기억 기능</strong>을 가진다.</li></ul><h3 id="지능형-단말장치"><a class="markdownIt-Anchor" href="#지능형-단말장치"></a> 지능형 단말장치</h3><ul><li>Intelligent = 스마트 단말장치</li><li>CPU와 저장장치가 내장된 단말장치</li><li>네트워크 환경에서 분산 처리를 수행하기 위해 사용</li></ul><h3 id="비지능형-단말장치"><a class="markdownIt-Anchor" href="#비지능형-단말장치"></a> 비지능형 단말장치</h3><ul><li>Non Intelligent = 더미 단말장치</li><li>입출력 장치로만 구성되어 단독으로 작업을 처리할 수 있는 능력이 없는 단말장치</li><li>통신 회선으로 연결된 컴퓨터(호스트)에 처리를 의존</li></ul><h2 id="신호-변환장치"><a class="markdownIt-Anchor" href="#신호-변환장치"></a> 신호 변환장치</h2><ul><li>DCE = Data Circuit Equipment = Data Circuit terminal Equipment = 데이터 회선 종단장치</li><li>컴퓨터나 단말장치의 데이터를 통신 회선에 적합한 신호로 변경하거나 통신 회선의 신호를 컴퓨터나 단말장치에 적합한 데이터로 변경하는 신호 변환 기능을 수행</li><li>전송 회선 양 끝에 위치한다.</li></ul><table><thead><tr><th style="text-align:center">장치</th><th style="text-align:center">회선형태</th><th style="text-align:center">신호변환</th></tr></thead><tbody><tr><td style="text-align:center">전화</td><td style="text-align:center">아날로그</td><td style="text-align:center">아날로그 &gt; 아날로그</td></tr><tr><td style="text-align:center">모뎀</td><td style="text-align:center">아날로그</td><td style="text-align:center">디지털 &gt; 아날로그</td></tr><tr><td style="text-align:center">코덱</td><td style="text-align:center">디지털</td><td style="text-align:center">아날로그 &gt; 디지털</td></tr><tr><td style="text-align:center">DSU</td><td style="text-align:center">디지털</td><td style="text-align:center">디지털 &gt; 디지털</td></tr></tbody></table><h2 id="통신-회선"><a class="markdownIt-Anchor" href="#통신-회선"></a> 통신 회선</h2><ul><li>단말 장치에 입력된 데이터 또는 컴퓨터에서 처리된 결과가 실질적으로 전송되는 전송선</li><li>유선 매체 : 꼬임선, 통축케이블, 광섬유</li><li>무선 매체 : 라디오파, 지상 마이크로파, 위성 마이크로파</li></ul><h2 id="통신-제어장치"><a class="markdownIt-Anchor" href="#통신-제어장치"></a> 통신 제어장치</h2><ul><li>CCU = Communication Control Unit</li><li>데이터 전송 회선과 주 컴퓨터를 연결하는 장치</li><li>데이터를 일정 크기로 묶는 직, 병렬 변환 작업을 수행</li></ul><h2 id="통신-제어-프로그램"><a class="markdownIt-Anchor" href="#통신-제어-프로그램"></a> 통신 제어 프로그램</h2><ul><li>CCP = Communication Control Program</li><li>데이터 전송 회선과 통신 제어장치를 이용하여 컴퓨터와 단말장치 간의 데이터 송수신을 하기 위해 사용되는 프로그램</li><li>데이터 송수신, 통신 하드웨어 제어, 사용자 인터페이스 제어 기능</li><li>CPU의 기능 분담</li><li>하드웨어와의 인터페이스 기능</li><li>데이터 통신 회선과 신호 변환기 등의 회선 제어</li><li>접속의 확인과 종료를 제어하는 전송제어</li><li>오류 제어</li><li>데이터 처리와 교환</li><li>코드 변환</li><li>데이터 입출력 제어</li><li>단말 제어</li><li>데이터 버퍼링</li><li>파일 관리와 회복</li></ul><h1 id="통신-회선-2"><a class="markdownIt-Anchor" href="#통신-회선-2"></a> 통신 회선</h1><h2 id="꼬임선"><a class="markdownIt-Anchor" href="#꼬임선"></a> 꼬임선</h2><ul><li>Twisted Pair Wire</li><li>전기적 간섭 현상을 줄이기 위해 균일하게 서로 감겨져 있는 형태의 케이블</li><li>저렴하고 설치가 간편</li><li>거리, 대역폭, 데이터 전송률에 제약적</li><li>다른 전기적 신호의 간섭이나 잡음에 영향을 받기가 쉽다.</li><li>최근 100Mbps 이상 전송이 가능한 꼬임선이 개발되어 짧은 거리 고속 전송이 가능하다.</li><li>비차폐 트위스트 페어 : UTP 전화 가입자 선으로 이미 건물 내에 설치되어 있어 LAN선으로 활용됨</li><li>차폐 트위스트 페어 : STP</li></ul><h2 id="동축-케이블"><a class="markdownIt-Anchor" href="#동축-케이블"></a> 동축 케이블</h2><ul><li>Coaxial Cable</li><li>중심 도체를 플라스틱 절연체를 이용하여 감싸고 이를 다시 외부 도체를 이용해 감싸는 형태로 구성</li><li>주파수 범위가 넓어 데이터 전송률이 높음</li><li>꼬임선보다 외부 간섭과 누화의 영향이 적다.</li><li>신호 감쇠현상을 막기 위해 일정 간격마다 <strong>중계기를 설치</strong>해야한다.</li><li>아날로그와 디지털 신호 전송에 모두 사용</li><li>고주파 특성이 양호해 광대역 전송에 적합</li><li>케이블 TV, 근거리 통신망, 장거리 전화 등</li></ul><h2 id="광섬유"><a class="markdownIt-Anchor" href="#광섬유"></a> 광섬유</h2><ul><li>Optical Fiber Cable = 광 케이블</li><li>유리르 원료 제작된 가느다란 광섬유를 여러 가닥 묶어 케이블의 형태로 만든 것</li><li>코어, 클래드, 재킷 세부분으로 구성</li><li>가장 빠른 속도와 넓은 주파수 대역폭</li><li>데이터 전송률 높음</li><li>대용량, 장거리 전송 가능</li><li><strong>가늘고 가벼워 취급이 쉬움</strong></li><li><strong>도청하기 어려워 보안성이 뛰어남</strong></li><li>유리는 절연성이 좋아 전자 유도의 영향을 받지 않아 안정된 통신 및 누화 방지가 가능</li><li><strong>감쇠율이 적어 리피터의 설치 간격이 넓어 리피터 소요가 적음</strong></li><li>설치 비용이 비싸지만 대용량 전송이 가능해 단위 비용이 저렴</li><li>광 케이블간 연결이 어려워 고도의 기술이 필요</li></ul><h2 id="라디오파"><a class="markdownIt-Anchor" href="#라디오파"></a> 라디오파</h2><ul><li>통신 장비의 이동이 빈번하고 통신 회선을 이용하기 어려운 지역간 통신에 사용</li><li>무선 주파수 사용</li><li>장거리 통신, TV나 휴대폰 음성 전송에 사용</li><li>감쇠율이 적어 동축케이블보다 중계기가 적게 듦</li></ul><h2 id="위성-마이크로파"><a class="markdownIt-Anchor" href="#위성-마이크로파"></a> 위성 마이크로파</h2><ul><li>지상에서 마이크로 주파수를 보내면 통신 위성을 통해 변환, 증폭한 후 다른 주파수로 지상에 송신하는 방식</li><li>위성통신에 사용된다.</li><li>300~3000MHz인 UHF(Ultra High Frequency)나 3~30GHz인 SHF(Super)를 사용한다.</li><li>통신 위성, 지구국, 채널로 구성</li><li>대역폭이 넓어 고속, 대용량 통신이 가능하고 통신 비용이 저렴</li><li>오류율이 적어 고품질의 정보 전송이 가능</li><li>한 대의 통신위성은 지구표면의 1/3이상을 커버 가능</li><li>전송 비용은 거리와 무관하게 일정</li><li>데이터 전송시 반드시 통신 위성을 거쳐야하므로 전송 지연시간이 길다.</li><li>수신용 안테나만 있으면 누구나 통신 내용 수신 가능하므로 <strong>보안성이 취약</strong></li><li>사용 주파수가 높을 수록 기상 현상에 의한 신호 감쇠가 크다.</li><li>지상에 있는 무선 통신 시스템과의 상호 장애를 피하기 위해 지구국은 도시 외곽에 위치해야한다.</li></ul><h3 id="다중-접속-방식"><a class="markdownIt-Anchor" href="#다중-접속-방식"></a> 다중 접속 방식</h3><ul><li>통신 위성을 공동으로 사용하기 위한 다중 접속 방식</li><li>FDMA : <strong>Frequency</strong> Division Multiple Access, 주파수 대역을 분할</li><li>TDMA : <strong>Time</strong>, 사용 시간을 분할</li><li>CDMA : <strong>Code</strong>, 주파수나 시간을 모두 공유하면서 각 데이터에 고유 코드를 부여</li></ul><h1 id="통신-제어장치-2"><a class="markdownIt-Anchor" href="#통신-제어장치-2"></a> 통신 제어장치</h1><ul><li>데이터 전송 회선과 주 컴퓨터 사이에 위치</li><li>데이터 전송에 관한 전반적인 제어기능 수행</li></ul><h2 id="전송제어"><a class="markdownIt-Anchor" href="#전송제어"></a> 전송제어</h2><ul><li>다중 접속 제어</li><li>교환 접속 제어 : 데이터 송수신을 위한 회선의 설정과 절단</li><li>통신 방식 제어 : 단방향, 반이중, 전이중 선택</li><li>우회 중계 회선 설정 : 장애시 경로설정</li></ul><h2 id="동기-및-오류제어"><a class="markdownIt-Anchor" href="#동기-및-오류제어"></a> 동기 및 오류제어</h2><ul><li>동기 제어 : 컴퓨터 처리 속도와 통신 회선상의 전송 속도 차이 조정</li><li>오류 제어 : 회선과 단말장치에서 발생하는 오류 제어</li><li>흐름 제어 : 수신 가능한 데이터 양을 송신 측에 알려 원활한 정보 전송이 가능하게 조정</li><li>응답 제어</li><li>정보 전송 단위의 정합 : 전송 정보를 패킷 등의 길이로 분할 또는 결합</li><li>데이터 신호의 직병렬 변환</li><li>투과성 : 전송할 실데이터에 대한 비트열에 확장 비트를 부가 또는 소거</li><li>정보 표시 형식의 변환 : 문자 코드, 데이터 형식 등의 변환</li><li>우선권 제어</li><li>제어 정보 식별</li><li>기밀 보호 : 암호화 등 제어</li><li>관리 기능 : 통신 요금, 통계정보 수집</li></ul><h2 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h2><ul><li>통신 제어 장치 : CCU 전송 문자의 조립과 분해 기능을 수행</li><li>통신 제어 처리 장치 : CCP 문자와 메세지의 조립과 분해 기능 수행</li><li>전처리기<ul><li>FEP = Front End Processor</li><li>호스트 컴퓨터와 단말 사이에 고속 통신 회선으로 설치</li><li>통신 회선 및 단말기 제어</li><li>메세지의 조립과 분해</li><li>전송 메세지 검사</li><li>컴퓨터의 부담이 적어짐</li></ul></li></ul><h2 id="분류"><a class="markdownIt-Anchor" href="#분류"></a> 분류</h2><p>단위가 커질수록 통신 제어 장치의 기능과 구조가 복잡해지고 가격이 높아지지만 컴퓨터의 부담이 줄어든다.</p><ul><li>비트 버퍼 방식</li><li>문자 버퍼 방식</li><li>블록 버퍼 방식</li><li>메세지 버퍼 방식</li></ul><h1 id="데이터"><a class="markdownIt-Anchor" href="#데이터"></a> 데이터</h1><ul><li>아날로그 데이터 : 셀 수 없는 연속적인 값</li><li>디지털 데이터 : 셀 수 있는 이산적인 값</li></ul><h2 id="신호"><a class="markdownIt-Anchor" href="#신호"></a> 신호</h2><ul><li>아날로그 신호 : 정현파에 주파수, 진폭, 위상 특성을 포함하여 표현되는 전기적 신호가 연속적으로 변하는 파형</li><li>디지털 신호 : 2진수 0과 1에 대한 전압 펄스의 연속적인 구성</li></ul><h2 id="주파수"><a class="markdownIt-Anchor" href="#주파수"></a> 주파수</h2><ul><li>단위 시간(1초) 내에 신호 파형이 반복되는 횟수를 의미하는 것</li><li>Hz</li><li>고주파 : 파형의 가록 폭이 좁고 고속 전송에 사용하고 전송거리가 짧다.</li><li>저주파 : 파형의 가로 폭이 넓고 저속 전송에 사용하고 전송거리가 길다.</li></ul><table><thead><tr><th style="text-align:center">주파수</th><th style="text-align:center">대역</th></tr></thead><tbody><tr><td style="text-align:center">가청 주파수</td><td style="text-align:center">20 ~ 20000Hz</td></tr><tr><td style="text-align:center">음성</td><td style="text-align:center">300 ~ 3400Hz</td></tr><tr><td style="text-align:center"><strong>HF</strong></td><td style="text-align:center"><strong>3 ~ 30MHz</strong></td></tr><tr><td style="text-align:center">VHF</td><td style="text-align:center">30 ~ 300MHz</td></tr><tr><td style="text-align:center">UHF</td><td style="text-align:center">300 ~ 3000MHz</td></tr><tr><td style="text-align:center">SHF</td><td style="text-align:center">3000 ~ 30,000MHz</td></tr></tbody></table><h2 id="대역폭"><a class="markdownIt-Anchor" href="#대역폭"></a> 대역폭</h2><ul><li>Bandwidth</li><li>주파수의 변화 범위</li><li>상한 주파수와 하한 주파수의 차이</li></ul><h1 id="전송-방식"><a class="markdownIt-Anchor" href="#전송-방식"></a> 전송 방식</h1><h2 id="아날로그-전송"><a class="markdownIt-Anchor" href="#아날로그-전송"></a> 아날로그 전송</h2><ul><li>전송 매체를 통해 전달되는 신호가 아날로그 형태</li><li>신호 감쇠 현상이 심하다.</li><li>증폭기에 의해 신호를 다시 증폭하여 전송해야한다.</li><li>신호에 포함된 잡음까지 증폭되기 때문에 오류율이 높다.</li></ul><h2 id="디지털-전송"><a class="markdownIt-Anchor" href="#디지털-전송"></a> 디지털 전송</h2><ul><li>전송 매체를 통해 전달되는 신호가 디지털 형태</li><li>신호 감쇠 현상은 나타나지만 중계기에 의해 원래 신호 내용을 복원한 후 전송하는 방식이다.</li><li>잡음에 의한 오류율이 낮다.</li><li>대역폭을 효율적으로 이용해 더 많은 용량을 전송할 수 있다.</li><li>데이터 암호화를 쉽게 구현할 수 있다.</li></ul><h3 id="직렬-전송"><a class="markdownIt-Anchor" href="#직렬-전송"></a> 직렬 전송</h3><ul><li>각 비트들이 <strong>하나의 전송 매체</strong>를 통하여 한 비트씩 순서대로 전송되는 형태</li><li>전송 속도가 느리지만 구성 비용이 적다.</li><li>원거리 전송에 적합</li><li>대부분의 데이터 통신에 사용</li></ul><h3 id="병렬-전송"><a class="markdownIt-Anchor" href="#병렬-전송"></a> 병렬 전송</h3><ul><li>각 비트들이 여러 개의 전송 매체를 통하여 동시에 전송되는 형태</li><li>전송 속도는 빠르지만 구성 비용이 많다.</li><li>근거리 전송에 적합</li><li>주로 컴퓨터와 주변장치 사이의 데이터 전송에 사용</li></ul><h2 id="통신-방식"><a class="markdownIt-Anchor" href="#통신-방식"></a> 통신 방식</h2><h3 id="단방향-통신"><a class="markdownIt-Anchor" href="#단방향-통신"></a> 단방향 통신</h3><ul><li>Simplex</li><li>한 방향으로만 전송이 가능한 방식</li><li>라디오, TV</li></ul><h3 id="반이중-통신"><a class="markdownIt-Anchor" href="#반이중-통신"></a> 반이중 통신</h3><ul><li>Half Duplex</li><li>양방향 전송이 가능하지만 동시에 양방향으로 전송은 할 수 없는 방식</li><li>2선식 선로를 사용하여 송신과 수신을 번갈아 전송</li><li>무전기, 모뎀을 이용한 데이터 통신</li></ul><h3 id="전이중-통신"><a class="markdownIt-Anchor" href="#전이중-통신"></a> 전이중 통신</h3><ul><li>Full Duplex</li><li>동시에 양방향 전송이 가능한 방식</li><li>4선식 선로를 사용, 주파수 분할을 이용할 시 2선식도 가능</li><li>전송량이 많고 전송 매체의 용량이 클 때 사용</li><li>전화, 전용선을 이용한 데이터 통신</li></ul><h2 id="비동기식-전송"><a class="markdownIt-Anchor" href="#비동기식-전송"></a> 비동기식 전송</h2><ul><li>한 문자를 나타내는 부호 앞뒤에 Start Bit와 Stop Bit를 붙여 Byte와 Byte를 구분하여 전송하는 방식</li><li><strong>시작비트, 전송 문자(정보 비트), 정지 비트로 구성된 한 문자를 단위</strong>로 전송</li><li>오류 검출을 위한 패리티 비트를 추가하기도 한다.</li><li>문자와 문자 사이의 Idle Time이 불규칙하다.</li><li>한꺼번에 많은 데이터를 보내면 프레이밍 에러의 가능성이 높아진다.</li><li>2000bps 이하의 <strong>저속, 단거리 전송에 사용</strong></li><li>동기화가 단순하고 가격이 저렴</li><li>문자마다 시작과 정지를 알리기 위한 <strong>비트가 추가되므로 전송 효율이 떨어짐</strong></li><li>정지 비트는 휴지 상태와 같으므로 송신기는 다음 문자를 보낼 준비가 될 때까지 정지 비트를 계속 전송</li></ul><h2 id="동기식-전송"><a class="markdownIt-Anchor" href="#동기식-전송"></a> 동기식 전송</h2><ul><li><strong>미리 정해진 수만큼의 문자열을 한 블록(프레임)으로 만들어 일시에 전송하는 방식</strong></li><li>송수신 양쪽의 동기를 유지하기 위해 타이밍 신호(클럭)을 계속적으로 공급하거나 동기 문자를 전송</li><li>동기화된 방식으로 비트가 송수신되기 때문에 시작비트와 종료비트가 필요가 없다.</li><li><strong>블록과 블록 사이에 Idle Time이 없다.</strong></li><li>프레임 단위로 전송하므로 전송 속도가 빠르다.</li><li>제어 정보의 앞부분은 프리앰블, 뒷부분은 포스트앰블</li><li>전송 효율이 좋다.</li><li><strong>원거리 전송에 사용</strong></li><li><strong>단말기는 반드시 버퍼 기억 장치를 내장해야 한다.</strong></li><li>비트 동기 방식과 블록 동기 방식으로 나뉜다.</li><li>블록 동기방식<ul><li>문자 위주 동기 방식 : SYN 등의 동기 문자로 동기를 맞추는 방식, BSC에서 사용</li><li>비트 위주 동기 방식 : 데이터 블록 처음과 끝에 8bit 플래그 비트(01111110)를 표시해 동기를 맞추는 방식, HDLC와 SDLC에서 사용</li></ul></li></ul><h1 id="아날로그-데이터-전송-방식"><a class="markdownIt-Anchor" href="#아날로그-데이터-전송-방식"></a> 아날로그 데이터 전송 방식</h1><h2 id="아날로그-데이터에서-아날로그-신호"><a class="markdownIt-Anchor" href="#아날로그-데이터에서-아날로그-신호"></a> 아날로그 데이터에서 아날로그 신호</h2><ul><li>아날로그 데이터를 아날로그 회선을 통해 전송하기 위해 아날로그 형태로 변조하는 것</li><li>아날로그 데이터를 먼 거리까지 효율적으로 전송하거나 주파수 분할 다중화를 위해 변조한다.</li><li>라디오, TV, 전화에서 주로 사용</li></ul><h3 id="변조-방법"><a class="markdownIt-Anchor" href="#변조-방법"></a> 변조 방법</h3><ul><li>진폭 변조</li><li>주파수 변조</li><li>위상 변조</li></ul><h2 id="아날로그-데이터에서-디지털-신호"><a class="markdownIt-Anchor" href="#아날로그-데이터에서-디지털-신호"></a> 아날로그 데이터에서 디지털 신호</h2><ul><li>아날로그 데이터를 디지털 회선을 통해 전송하기 위해 디지털 형태로 변환하는 것</li></ul><h3 id="코덱"><a class="markdownIt-Anchor" href="#코덱"></a> 코덱</h3><ul><li>CODEC = COder/DECoder</li><li>아날로그 데이터를 디지털 통신 회선에 적합한 디지털 신호로 변환하거나 반대 과정을 수행</li><li>펄스 코드 변조(PCM) 방식을 이용해 데이터를 변환한다.</li><li>이동 통신이나 멀티미디어 분야에 사용</li></ul><h1 id="디지털-데이터-전송-방식"><a class="markdownIt-Anchor" href="#디지털-데이터-전송-방식"></a> 디지털 데이터 전송 방식</h1><h2 id="디지털-데이터에서-아날로그-신호"><a class="markdownIt-Anchor" href="#디지털-데이터에서-아날로그-신호"></a> 디지털 데이터에서 아날로그 신호</h2><ul><li>디지털 데이터를 아날로그 회선을 통해 전송하기 위해 아날로그 형태로 변환하는 것</li><li>모뎀을 이용한다.</li><li>변조 방식은 ASK, FSK, PSSK, QAM이 있다.</li></ul><h2 id="모뎀"><a class="markdownIt-Anchor" href="#모뎀"></a> 모뎀</h2><ul><li>MODEM = MOdulation DEModulation</li><li>디지털 데이터를 아날로그 회선에 적합한 아날로그 신호로 변환하는 변조 과정과 그 반대의 복조 과정을 수행한다.</li><li>디지털 데이터를 공중 전화 교환망과 같은 아날로그 통신망을 이용하여 전송할 때 사용</li><li>Null 모뎀 : 모뎀을 사용하지 않고 두 대의 컴퓨터를 직접 접속해서 정보를 교환하는 방식</li></ul><h3 id="기능"><a class="markdownIt-Anchor" href="#기능"></a> 기능</h3><ul><li>변복조 기능</li><li>자동 응답 기능</li><li>자동 호출 기능</li><li>자동 속도 조절 기능</li><li>모뎀 시험 기능 : Loop Test</li></ul><h2 id="디지털-데이터에서-디지털-신호"><a class="markdownIt-Anchor" href="#디지털-데이터에서-디지털-신호"></a> 디지털 데이터에서 디지털 신호</h2><ul><li>디지털 데이터를 디지털 회선을 통해 전송하기 위해 디지털 형태로 변환하는 것</li><li>2진 데이터의 각 비트를 디지털 신호 요소로 변환하며 DSU를 이용한다.</li></ul><h2 id="dsu"><a class="markdownIt-Anchor" href="#dsu"></a> DSU</h2><ul><li>Digital Service Unit</li><li>컴퓨터나 단말장치로부터 전송되는 디지털 데이터를 디지털 회선에 적합한 디지털 신호로 변환하는 과정과 그 반대를 수행한다.</li><li>신호의 변조 과정 없이 단순히 유니폴라 신호를 바이폴라 신호로 변환하 주는 기능만 제공한다.</li><li>모뎀에 비해 구조가 단순하다.</li><li>디지털 데이터를 공중 데이터 교환망과 같은 디지털 통신망을 이용하여 전송할 때 사용</li><li>송수신 기능과 타이밍 회복 기능을 DSU 자체에서 수행한다.</li><li>속도가 빠르고 오류율이 낮다.</li></ul><h1 id="디지털-변조"><a class="markdownIt-Anchor" href="#디지털-변조"></a> 디지털 변조</h1><ul><li>Keying</li><li>디지털 데이터를 아날로그 신호로 변환하는 것을 의미</li><li>모뎀을 사용</li><li>진폭 편이변조, 주파수 편이변조, 위상 편이변조, 직교 진폭변조</li></ul><h2 id="진폭-편이-변조"><a class="markdownIt-Anchor" href="#진폭-편이-변조"></a> 진폭 편이 변조</h2><ul><li>ASK = Amplitude Shift Keying</li><li>2진수 0과 1을 서로 다른 진폭의 신호로 변조하는 방식</li><li>이 방식의 모뎀은 구조가 단순하고 가격이 저렴하다.</li><li><strong>신호 변동과 잡음에 약해 데이터 전송용으로 거의 쓰이지 않는다.</strong></li></ul><h2 id="주파수-편이-변조"><a class="markdownIt-Anchor" href="#주파수-편이-변조"></a> 주파수 편이 변조</h2><ul><li>FSK = Frequency Shift Keying</li><li>2진수 0과 1을 서로 다른 주파수로 변조하는 방식</li><li>1200bps 이하의 <strong>저속도 비동기식 모뎀에서 사용</strong></li><li><strong>모뎀 구조가 단순하고 신호 변동과 잡음에 강하다.</strong></li><li>대역폭을 넓게 차지한다.</li></ul><h2 id="위상-편이-변조"><a class="markdownIt-Anchor" href="#위상-편이-변조"></a> 위상 편이 변조</h2><ul><li><p>PSK = Phase Shift Keying</p></li><li><p>2진수 0과 1을 서로 다른 위상을 갖는 신호로 변조하는 방식</p></li><li><p>일정한 진폭 또는 주파수를 갖는 정현파의 위상을 180/ 90/ 45도 단위로 2등분/ 4등분/ 8등분 했을 때의 각 위치에 신호를 할당하여 전송하는 방식</p></li><li><p>파형의 시작 위치를 다르게 하여 신호를 전송</p></li><li><p>한 위상에 1bit(2위상), 2bit(4위상), 3bit(8위상)를 대응시켜 전송하므로 속도를 증가시킬 수 있다.</p></li><li><p><strong>중고속의 동기식 모뎀에 많이 사용</strong></p></li><li><p>잡음에 크게 영향을 받지 않는다.</p></li><li><p>2위상 편이 변조</p><ul><li>DPSK, BPSK</li><li>위상을 2등분하는 방식</li><li>2등분된 각각의 위상에 1과 0을 할당하여 전송</li></ul></li><li><p>4위상 편이 변조</p><ul><li>QDPSK QPSK</li><li>위상을 4등분하는 방식</li><li>4등분된 각각의 위상에 2비트(00, 01, 10, 11)씩 할당하여 전송</li></ul></li><li><p>8위상 편이 변조 : ODPSK</p></li></ul><h2 id="직교-진폭-변조"><a class="markdownIt-Anchor" href="#직교-진폭-변조"></a> 직교 진폭 변조</h2><ul><li>QAM = Quadrature Amplitude Modulation = 진폭 위상 변조 = 직교 위상 변조</li><li>제한된 전송 대역 내에 고속 전송이 가능 (9600bps)</li><li>ITU-T에서 9600bps 모뎀의 표준 방식으로 권고</li><li>신호의 진폭과 위상을 표시하는 신호의 구분점이 통신 회선의 잡음과 위상 변화에 대해 우수하다.</li><li>QAM 방식의 전송 비트 수 예시 : 4위상은 2² = 2bit, 2진폭은 2¹ = 1bit 이므로 3bit식 전송</li></ul><h1 id="펄스-코드-변조"><a class="markdownIt-Anchor" href="#펄스-코드-변조"></a> 펄스 코드 변조</h1><ul><li><p>펄스 변조</p><ul><li>펄스파의 진폭, 폭 위상 등을 변화시키는 변조 방식</li><li>연속 레벨 변조 : 펄스 진폭 변조, 펄스 폭 변조, 펄스 위상 변조</li><li>불연속 레벨 변조 : 펄스 수 변조, 펄스 코드 변조, 델타 변조</li></ul></li><li><p>PCM = Pulse Code Modulation</p></li><li><p>화상, 음성, 동영상, 가상 현실 등과 같이 연속적인 시간과 진폭을 가진 아날로그 데이터를 디지털 신호로 변환하는 것</p></li><li><p><strong>코덱을 사용</strong></p></li><li><p>송신 측에서 아날로그 데이터를 표본화하여 PAM 신호로 만든 후 양자화, 부호화 단계를 거쳐 디지털 형태로 전송하는 방식</p></li></ul><h2 id="순서"><a class="markdownIt-Anchor" href="#순서"></a> 순서</h2><p>표본화 =&gt; 양자화 =&gt; 부호화 =&gt; 복호화 =&gt; 여파화</p><h2 id="표본화"><a class="markdownIt-Anchor" href="#표본화"></a> 표본화</h2><ul><li>Sampling</li><li>연속적인 신호 파형을 일정 시간 간격으로 검출하는 단계</li><li>샤논의 표본화 이론을 바탕 : 어떤 신호가 의미를 지니는 최고 주파수보다 2배 이상의 주파수로 균일한 시간 간격 동안 채집되면 이 데이터는 원래 신호가 가진 모든 정보를 포함</li><li>표본화에 의해 검출된 신호를 PAM 신호라 하며 아날로그 형태이다.</li><li>PAM 신호는 양자화를 거쳐야 디지털 형태를 갖춘다.</li><li>표본화 간격 = 1 / 표본화 횟수 = 1 / ( 2 * 주파수 대역폭 )</li></ul><h2 id="양자화"><a class="markdownIt-Anchor" href="#양자화"></a> 양자화</h2><ul><li>Quantizing</li><li>표본화된 PAM 신호를 유한 개의 부호에 대한 대표값으로 조정하는 과정</li><li>실수 형태의 PAM 신호를 반올림하여 정수형으로 만드는 것</li><li>PAM 신호 값이 양자화 레벨의 1/2 보다 높은 경우는 위의 레벨값으로 낮은 경우는 아래의 레벨값으로 조정</li><li>양자화 잡음 : 표본 측정값과 양자화 파형과의 오차를 말하는 것, PCM 단국 장치에서 발생</li><li>양자화 잡음은 양자화 레벨을 세밀하게 함으로 줄일 수 있으나 데이터 양이 많아지고 전송 효율이 낮아진다.</li><li>양자화 레벨 : PAM 신호를 부호화할 때 2진수로 표현할 수 있는 레벨</li><li>표본당 전송 비트수가 3Bit이면 8개, 5Bit이면 32개의 양자화 레벨이 필요</li><li>원래 신호 =&gt; 표본화 =&gt; PAM 신호 =&gt; 양자화 =&gt; PCM 신호 =&gt; 부호화 =&gt; PCM 데이터</li></ul><h2 id="부호화"><a class="markdownIt-Anchor" href="#부호화"></a> 부호화</h2><ul><li>Encoding</li><li>양자화된 PCM 펄스의 진폭 크기를 2진수로 표시하는 과정</li></ul><h2 id="복호화"><a class="markdownIt-Anchor" href="#복호화"></a> 복호화</h2><ul><li>Decoding</li><li>수신된 디지털 신호인 PCM을 PAM 신호로 되돌리는 과정</li></ul><h2 id="여파화"><a class="markdownIt-Anchor" href="#여파화"></a> 여파화</h2><ul><li>Filtering</li><li>PAM 신호를 원래 입력 신호인 아날로그 데이터를 복원하는 과정</li></ul><h1 id="베이스밴드-전송"><a class="markdownIt-Anchor" href="#베이스밴드-전송"></a> 베이스밴드 전송</h1><ul><li>Base Band = 기저대역 전송</li><li>컴퓨터나 단말장치 등에서 처리된 디지털 데이터를 다른 주파수 대역으로 변조하지 않고 직류 펄스 형태 그대로 전송하는 것</li><li>신호만 전송되기 때문에 전송 신호 품질이 우수</li><li><strong>직류를 사용하므로 감쇠 등에 문제가 생겨 장거리 전송에는 비적합</strong></li><li>컴퓨터와 주변장치 간의 통신, LAN 등 가까운 거리에 사용</li></ul><h2 id="전송-방식-2"><a class="markdownIt-Anchor" href="#전송-방식-2"></a> 전송 방식</h2><h3 id="단류-nrz"><a class="markdownIt-Anchor" href="#단류-nrz"></a> 단류 NRZ</h3><ul><li>Non Return to Zero</li><li>입력 데이터가 1이면 양의 전압을 주고 0이면 전압을 주지 않는다.</li><li>송수신 회로의 구성이 간단하다.</li><li>단거리 구간에 이용한다.</li></ul><h3 id="복류-nrz"><a class="markdownIt-Anchor" href="#복류-nrz"></a> 복류 NRZ</h3><ul><li>0은 음, 1은 양의 전압으로 표현</li><li>저속도 전송의 표준 방식으로 사용</li></ul><h3 id="nrz-l"><a class="markdownIt-Anchor" href="#nrz-l"></a> NRZ-L</h3><ul><li>Non Return to Zero Level</li><li>0은 양, 1은 음의 전압으로 표현</li><li>가장 대표적인 디지털 파형</li></ul><h3 id="nrz-m"><a class="markdownIt-Anchor" href="#nrz-m"></a> NRZ-M</h3><ul><li>Non Return to Zero Mark = 차등 부호 = Differential Encoding</li><li>비트 간격 시작점에는 항상 신호 변화가 발생</li><li><strong>0은 신호 변화 없이 전 상태를 유지하고 1일 때는 신호 변화가 발생</strong></li></ul><h3 id="nrz-s"><a class="markdownIt-Anchor" href="#nrz-s"></a> NRZ-S</h3><ul><li>Non Return to Zero Space</li><li>NRZ-M과 동일한 신호 변화를 적용하되 입력신호의 보수를 취한 형태로 적용</li><li>1일 때는 변화없음 0일 때는 변화</li></ul><h3 id="단류-rz"><a class="markdownIt-Anchor" href="#단류-rz"></a> 단류 RZ</h3><ul><li>Return to Zero</li><li>입력 데이터가 1이면 하나의 데이터 폭을 두 개로 나눠 1/2시간 동안은 양의 전압으로, 나머지 1/2시간은 0으로 되돌아온다.</li><li>0이면 전압을 주지 않는다.</li></ul><h3 id="복류-rz"><a class="markdownIt-Anchor" href="#복류-rz"></a> 복류 RZ</h3><ul><li>하나의 데이터 폭을 두 개로 나눠 1/2시간 동안에 0은 음, 1은 양의 전압으로 표현하고 나머지 1/2시간은 0으로 되돌아온다.</li></ul><h3 id="바이폴라"><a class="markdownIt-Anchor" href="#바이폴라"></a> 바이폴라</h3><ul><li>Bipolar = AMI = 교호 부호 반전</li><li>0은 신호 변화 없이 0V를 유지하고, 1은 +V와 -V 상태를 교대로 표현</li><li>고속 디지털망에 사용</li></ul><h3 id="맨체스터"><a class="markdownIt-Anchor" href="#맨체스터"></a> 맨체스터</h3><ul><li>Manchester</li><li>입력 데이터가 1이면 하나의 데이터 폭을 두 개로 나눠 1/2시간 동안 양의 전압으로 나머지 1/2시간 동안은 음의 전압으로 표현</li><li>입력 데이터가 0이면 1/2시간 동안에는 음의 전압으로 나머지 1/2시간 동안에는 양의 전압으로 표현</li></ul><h3 id="기타"><a class="markdownIt-Anchor" href="#기타"></a> 기타</h3><ul><li>RB 방식</li><li>CMI 방식 = 부호화 마크 반전 방식</li><li>차분 방식</li></ul><h1 id="다중화"><a class="markdownIt-Anchor" href="#다중화"></a> 다중화</h1><ul><li>Multiplexing</li><li>하나의 고속 통신 회선을 다수의 단말기가 공유할 수 있도록 하는 것</li><li>다중화기, 집중화기, 공동 이용기</li></ul><h2 id="공동이용기"><a class="markdownIt-Anchor" href="#공동이용기"></a> 공동이용기</h2><ul><li>폴링 방식으로 네트워크를 제어시 통신 회선을 공동으로 이용할 수 있도록 하는 장치</li><li>모뎀 공동 이용기, 선로 공동 이용기, 포트 공동 이용기</li><li>네트워크를 단순화하고 비용을 절감</li></ul><h2 id="다중화기"><a class="markdownIt-Anchor" href="#다중화기"></a> 다중화기</h2><ul><li>MUX = MUltipleXer</li><li>하나의 통신 회선에 여러 대의 단말기가 동시에 접속하여 사용할 수 있도록 하는 장치</li><li>고속 통신 회선의 주파수나 시간을 일정한 간격으로 나눠 각 단말기에 할당하는 방식으로 운영</li><li>여러 단말기가 같은 장소에 위차하는 경우 다중화 기능을 이용해 전송로의 수를 감소시킬 수 있다.</li><li>주파수 분할 다중화기와 시분할 다중화기로 구분</li><li>통신 회선을 공유함으로써 전송 효율을 높이고 통신회선 비용이 절감</li><li>입력 회선 수와 출력 회선 수가 같다.</li><li><strong>여러 대의 단말기 속도의 합이 하나의 통신 회선 속도와 같다.</strong></li></ul><h2 id="주파수-분할-다중화기"><a class="markdownIt-Anchor" href="#주파수-분할-다중화기"></a> 주파수 분할 다중화기</h2><ul><li>FDM = Frequency Division Multiplexer</li><li>통신 회선 주파수를 여러 개로 분할하여 여러 대의 단말기가 동시에 사용할 수 있도록 한 것</li><li>필요한 대역폭보다 통신 회선의 유효 대역폭이 큰 경우에 사용</li><li>다중화기 <strong>자체에 변복조 기능</strong>이 있어 모뎀을 설치할 필요가 없다.</li><li>구조가 간단하고 가격이 저렴하다.</li><li><strong>저속(1200bps)의 비동기식 전송, 멀티 포인트 방식에 적합</strong></li><li><strong>아날로그 신호 전송에 적합</strong></li><li><strong>전화, TV, 유선방송</strong></li><li>각 채널들 간 상호 간섭을 방지하기 위해 <strong>보호대역(Guard Band)가 필요</strong></li><li>보호 대역 사용으로 인한 대역폭 낭비 초래</li></ul><h2 id="시분할-다중화기"><a class="markdownIt-Anchor" href="#시분할-다중화기"></a> 시분할 다중화기</h2><ul><li>TDM = Time Division Multiplexer</li><li>통신 회선의 대역폭을 일정한 시간 폭으로 나눠 여러 대의 단말장치가 동시에 사용할 수 있도록 한 것</li><li><strong>디지털 회선을 이용해 디지털 전송</strong>을 한다.</li><li><strong>디지털 회선에서 주로 사용하며 대부분 데이터 통신에 사용</strong></li><li><strong>point to point 방식에 적합</strong></li></ul><h3 id="동기식-시분할-다중화기"><a class="markdownIt-Anchor" href="#동기식-시분할-다중화기"></a> 동기식 시분할 다중화기</h3><ul><li>STDM = Synchronous TDM</li><li>일반적인 다중화기를 말한다.</li><li>모든 단말에 균등한 시간폭을 제공</li><li>전송되는 데이터의 시간폭을 정확히 맞추기 위해 <strong>동기 비트가 필요</strong></li><li>통신 회선의 데이터 전송률이 전송 디지털 신호의 데이터 전송률을 능가할 때 사용</li><li>다중화기 내부 속도와 단말기 <strong>속도차이를 보완해주는 버퍼가 필요</strong></li><li>전송할 데이터가 없어도 시간폭이 제공되므로 효율성이 떨어짐</li><li>송신 측에서는 입력된 데이터를 채널 별로 분리하여 각각의 채널 버퍼에 저장하고 이를 순차적으로 전송</li></ul><h3 id="비동기식-시분할-다중화기"><a class="markdownIt-Anchor" href="#비동기식-시분할-다중화기"></a> 비동기식 시분할 다중화기</h3><ul><li>ATDM = Asynchronous TDM = 지능 다중화기, 확률적 다중화기, 통계적 시분할 다중화기</li><li>마이크로프로세서를 이용해 접속된 단말기 중 전송할 데이터가 있는 단말기에만 시간폭을 제공</li><li>낭비되는 시간폭을 줄일 수 있어 전송 효율이 높음</li><li>다중화기 내부 속도와 단말기의 <strong>속도 차이를 보완하기 위한 버퍼가 필요</strong> (데이터의 임시 저장)</li><li>데이터 전송량이 많아질 경우 전송 지연이 생김</li><li><strong>접속하는데 소요 시간이 길다.</strong></li><li>데이터와 함께 <strong>주소 정보를 헤더에 붙여 전송</strong></li><li>주소 제어, 흐름 제어, 오류 제어 등의 기능이 있어 복잡한 제어 회로와 임시 기억장치가 필요하며 가격이 비싸다.</li></ul><h2 id="역다중화기"><a class="markdownIt-Anchor" href="#역다중화기"></a> 역다중화기</h2><ul><li>Inverse Multiplexer</li><li>광대역 회선 대신 두 개의 음성 대역 회선을 이용하여 데이터를 전송할 수 있도록 하는 장치</li><li>광대역 통신 회선을 사용하지 않고도 9600bps 이상의 광대역 속도를 얻을 수 있어 통신비용이 절감</li><li>하나의 통신 회선이 고장나도 나머지 하나의 회선을 통해 1/2 속도로 전송을 유지할 수 있다.</li><li>여러 가지 변화에 대응해 다양한 전송 속도를 얻을 수 있다.</li><li>음성 대역 회선의 특성상 두 회선의 상대적 전송 지연이 발생할 수 있어 두 회선의 속도 차이를 조절하기 위해 순환 기억장치가 사용된다.</li><li>위 문제를 비트 스트림 혼란 방지라고 한다.</li><li>성격이 다른 두 개의 채널을 사용할 수 있다.</li><li>회선 변경이 쉽다.</li></ul><h2 id="집중화기"><a class="markdownIt-Anchor" href="#집중화기"></a> 집중화기</h2><ul><li>Concentrator</li><li>하나 또는 소수의 통신 회선에 여러 대의 단말기를 접속하여 사용할 수 있도록 하는 장치</li><li>실제 전송할 데이터가 있는 단말기에만 통신 회선을 할당하여 동적으로 통신 회선을 이용할 수 있도록 한다.</li><li>한 개의 단말기가 통신 회선을 점유하면 다른 단말기는 통신 회선을 사용할 수 없다.</li><li><strong>다른 단말기의 자료를 임시로 보관할 버퍼가 필요</strong></li><li>m개의 입력 회선을 n개의 출력회선으로 집중화하는 장치</li><li><strong>입력 회선의 수가 출력 회선의 수보다 같거나 많다.</strong></li><li><strong>회선의 이용률이 낮고 불규칙적인 전송에 적합</strong></li><li>전송할 데이터의 유무를 판단해야 하므로 제어 조작이 어렵다.</li><li><strong>회선 교환, 메세지 교환, 패킷 교환 등의 교환방식에 사용</strong></li><li><strong>여러 대의 단말기 속도의 합이 통신 회선의 속도보다 크거나 같다.</strong></li></ul><h1 id="통신-속도와-통신-용량"><a class="markdownIt-Anchor" href="#통신-속도와-통신-용량"></a> 통신 속도와 통신 용량</h1><h2 id="변조-속도"><a class="markdownIt-Anchor" href="#변조-속도"></a> 변조 속도</h2><ul><li>1초 동안 몇 개의 신호 변화가 있었는가를 나타내는 것</li><li>단위는 baud를 사용한다.</li><li>1개의 신호가 변조되는 시간을 t초라고 하면 baud = 1/t</li></ul><h2 id="신호-속도"><a class="markdownIt-Anchor" href="#신호-속도"></a> 신호 속도</h2><ul><li>1초 동안 전송 가능한 비트의 수</li><li>단위는 bps</li><li>bps = baud X 변조시 상태 변화 수</li><li>baud = bps / 변조시 상태 변화 수</li></ul><blockquote><p>변조 시 상태 변화 수</p><ul><li>모노비트 : 1bit</li><li>디비트 : 2bit</li><li>트리비트 : 3bit</li><li>쿼드비트 : 4bit</li></ul></blockquote><h2 id="전송-속도"><a class="markdownIt-Anchor" href="#전송-속도"></a> 전송 속도</h2><ul><li>단위 시간에 전송되는 데이터 양을 나타낸다.</li><li>문자, 블록, 비트, 단어 수 등</li></ul><h2 id="베어러-속도"><a class="markdownIt-Anchor" href="#베어러-속도"></a> 베어러 속도</h2><ul><li>데이터 신호에 동기 문자, 상태 신호 등을 합한 속도</li><li>단위는 bps</li></ul><h2 id="통신-용량"><a class="markdownIt-Anchor" href="#통신-용량"></a> 통신 용량</h2><p>단위 시간 동안 전송 회선이 최대로 전송할 수 있는 통신 정보량</p><h3 id="샤논의-정의"><a class="markdownIt-Anchor" href="#샤논의-정의"></a> 샤논의 정의</h3><ul><li>Shannon</li><li>전송 회선의 대역폭과 신호, 잡음을 고려해 통신 용량을 정의한 것</li></ul><p><img data-src="https://kiranbot.com/images/wifi/shannon-hartley.png" alt="shannon's_theorem"></p><ul><li>C : 통신 용량</li><li>B : 대역폭</li><li>S : 신호 전력</li><li>N : 잡음 전력<br>주파수 대역폭을 늘리고, 신호를 높이고, 잡음을 줄인다.</li></ul><h1 id="전송-제어"><a class="markdownIt-Anchor" href="#전송-제어"></a> 전송 제어</h1><ul><li>Transmission Control</li><li>데이터의 원활한 흐름을 위해 입출력 제어, 회선 제어, 동기 제어, 오류 제어, 흐름 제어 등을 수행하는 것</li><li>OSI7 모델의 데이터 링크 계층에서 수행</li><li>전송 제어 프로토콜, 데이터 링크 제어 프로토콜</li></ul><h2 id="절차"><a class="markdownIt-Anchor" href="#절차"></a> 절차</h2><p>데이터 통신 회선 접속 =&gt; 데이터 링크 설정 =&gt; 정보 메세지 전송 =&gt; 데이터 링크 종결 =&gt; 데이터 통신 회선 절단</p><h3 id="데이터-통신-회선의-접속"><a class="markdownIt-Anchor" href="#데이터-통신-회선의-접속"></a> 데이터 통신 회선의 접속</h3><ul><li>교환 회선에서 통신 회선과 단말기를 물리적으로 접속하는 단계</li><li>교환 회선을 이용하는 Point to Point 방식이나 Multi Point 방식으로 연결된 경우에 필요한 단계</li><li>전용 회선을 이용한 Point to Point 방식에는 불필요하다.</li></ul><h3 id="데이터-링크의-설정"><a class="markdownIt-Anchor" href="#데이터-링크의-설정"></a> 데이터 링크의 설정</h3><ul><li>접속된 통신 회선상에서 송수신 측 간의 확실한 데이터 전송을 수행하기 위해 논리적 경로를 구성하는 단계</li><li>데이터 링크의 설정 방법에는 폴링/셀렉션 방식, 경쟁 방식이 있다.</li></ul><h3 id="정보-메세지-전송"><a class="markdownIt-Anchor" href="#정보-메세지-전송"></a> 정보 메세지 전송</h3><ul><li>데이터를 수신 측에 전송하고 오류 제어와 순서 제어를 수행하는 단계</li></ul><h3 id="데이터-링크-종결"><a class="markdownIt-Anchor" href="#데이터-링크-종결"></a> 데이터 링크 종결</h3><ul><li>송수신 측 간의 논리적 경로를 해제하는 단계</li></ul><h3 id="데이터-통신-회선의-절단"><a class="markdownIt-Anchor" href="#데이터-통신-회선의-절단"></a> 데이터 통신 회선의 절단</h3><ul><li>통신 회선과 단말기 간의 물리적 접속을 절단하는 단계</li></ul><h1 id="데이터-링크-제어-프로토콜"><a class="markdownIt-Anchor" href="#데이터-링크-제어-프로토콜"></a> 데이터 링크 제어 프로토콜</h1><ul><li>컴퓨터와 컴퓨터, 컴퓨터와 단말장치 등의 두 장치 상호 간에 신속하고 정확하게 데이터를 주고 받을 수 있도록 전송 제어를 수행하는 프로토콜</li><li>데이터 링크 레벨 프로토콜 = 전송 제어 프로토콜</li><li>문자위주 방식과 비트 위주 방식으로 구분된다.</li></ul><h2 id="bsc"><a class="markdownIt-Anchor" href="#bsc"></a> BSC</h2><ul><li>Binary Synchronous Control</li><li>문자 위주의 프로토콜</li><li>각 프레임에 전송 제어 문자를 삽입하여 전송을 제어</li><li>문자 코드 상에 정의된 전송 제어 문자를 이용해 링크를 제어하기 때문에 사용하는 문자 코드에 의존적이며 사용할 수 있는 코드가 제한적</li><li>컴퓨터가 사용하는 문자 코드 체계가 통일되어야 한다.</li><li><strong>반이중 전송만을 지원</strong>한다.</li><li>주로 동기식 전송 방식을 사용하나 비동기식 전송방식도 사용</li><li>Point to Point, Multi Point 방식에서 주로 사용</li><li><strong>오류 제어 및 흐름 제어를 위해 Stop and Wait ARQ를 사용</strong></li><li>전파 지연 시간이 긴 선로에서는 비효율적</li><li>오류 검출이 어렵고 전송 효율이 나쁘다.</li></ul><h3 id="전송-제어-문자"><a class="markdownIt-Anchor" href="#전송-제어-문자"></a> 전송 제어 문자</h3><ul><li>링크 관리, 프레임의 시작 끝의 구별, 오류 제어 등의 기능을 하는 것</li><li>SYN : Synchronous idle 문자 동기</li><li>SOH : Start of Heading 헤드의 시작</li><li><strong>STX</strong> : Start of Text 본문의 시작 및 헤드의 종료</li><li><strong>ETX</strong> : End of Text 본문의 종료</li><li>ETB : End of Transmission Block 블록의 종료</li><li><strong>EOT</strong> : End Of Transmission 전송 종료 및 데이터 링크 해제</li><li><strong>ENQ</strong> : ENQuiry 상대편에 데이터 링크 설정 및 응답 요구</li><li><strong>DLE</strong> : Data Link Escape 전송 제어 문자 앞에 삽입하여 전송 제어 문자임을 알려줌, <strong>데이터 투명성을 위해 삽입</strong></li><li><strong>ACK</strong> : ACKnowledge 긍정 응답</li><li><strong>NAK</strong> : Negative AcKnowledge 부정 응답</li></ul><h2 id="hdlc"><a class="markdownIt-Anchor" href="#hdlc"></a> HDLC</h2><ul><li>High level Data Link Control</li><li>비트 위주의 프로토콜</li><li>각 프레임에 데이터 흐름을 제어하고 오류를 검출할 수 있는 비트 열을 삽입하여 전송</li><li>Point to Point, Multi Point, Loop 등 다양한 데이터 링크 형태에 동일하게 적용 가능</li><li>단방향, 반이중, 전이중 통신을 모두 지원</li><li><strong>동기식 전송 방식 사용</strong></li><li>오류 제어를 위해 GO-Back-N과 Selective Repeat ARQ를 사용</li><li>흐름 제어를 위해 슬라이딩 윈도우 방식 사용</li><li>전송 제어상의 제한을 받지 않고 자유로이 비트 정보를 전송할 수 있다.</li><li>전송 효율과 신뢰성이 높다.</li></ul><blockquote><p>비트 스터핑</p><ul><li>Bit Stuffing</li><li>프레임에 임의의 비트를 삽입하여 데이터의 자유로운 전송을 보장하는 기능</li><li>프레임 내의 플래그 비트와 다른 비트를 구분하여 기본적인 오류를 검출</li><li><strong>투명성을 보장</strong>한다.</li><li>플래그 비트를 제외한 모든 비트는 '1’이 6개 이상 연속되지 않도록 한다.</li><li>'1’이 연속적으로 5개가 오면 다음 6번째 비트는 '0’을 강제로 추가해 송신한다.</li><li>'1’이 6개가 연속된 비트는 플래그 비트</li><li>'1’이 7개 이상 연속되면 오류 프레임으로 검출된다.</li></ul></blockquote><h3 id="프레임-구조"><a class="markdownIt-Anchor" href="#프레임-구조"></a> 프레임 구조</h3><ul><li>플래그 : 프레임 시작과 끝을 나타내는 고유한 비트 패턴 01111110</li><li>주소부<ul><li>Address Field</li><li>송수신국을 식별하기 위해 사용</li><li>불특정 다수에게 전송하는 방송용은 11111111</li><li>시스템에 의해 임의로 수신국이 지정되는 시험용은 00000000</li></ul></li><li>제어부<ul><li>Control Field</li><li>프레임의 종류를 식별하기 위해 사용</li><li>제어부의 첫 번째, 두 번째 비트를 사용하여 프레임 종류를 구별</li><li><strong>I 프레임</strong> : Information Frame = 정보 프레임, <strong>제어부가 '0’으로 시작</strong>하는 프레임, 사용자에게 데이터를 전달하거나 피기백킹 기법을 통해 데이터에 대한 확인 응답을 보낼 때 사용</li><li><strong>S 프레임</strong> : Supervisory Frame = 감독 프레임, <strong>제어부가 '10’으로 시작</strong>하는 프레임, 오류 제어와 흐름 제어를 위해 사용</li><li><strong>U 프레임</strong> : Unnumbered Frame = 비번호 프레임, <strong>제어부가 '11’로 시작</strong>하는 프레임, 링크의 동작 모드 설정과 관리</li></ul></li><li>정보부<ul><li>Information Field</li><li>실제 정보 메세지가 들어 있는 부분</li></ul></li><li>FCS<ul><li>Frame Check Sequence Field = 프레임 검사 순서 필드</li><li>프레임 내용에 대한 오류 검출을 위해 사용하는 부분</li><li>일반적으로 CRC 코드가 사용된다.</li></ul></li></ul><blockquote><p>피기백킹</p><ul><li>Piggybacking</li><li>데이터 프레임 확인 응답을 포함시켜 전송하는 것</li></ul><p>HDLC의 Station</p><ul><li>주국 : 종속된 단말기를 제어하거나 정보를 제공해주는 컴퓨터, 주 스테이션 = 1차국 = 서버</li><li>종국 : 주국으로부터 제어를 받고 정보를 제공받는 컴퓨터, 부 스테이션 = 2차국 = 클라이언트</li><li>혼합국 : 상대국 컴퓨터의 제어를 받기도 하고 제어를 하기도 하는 동등한 위상을 가진 컴퓨터, 복합국</li></ul></blockquote><h3 id="데이터-전송-모드"><a class="markdownIt-Anchor" href="#데이터-전송-모드"></a> 데이터 전송 모드</h3><ul><li><strong>표준 응답 모드</strong><ul><li>NRM = Normal Response Mode</li><li>반이중 통신을 하는 Point to Point 또는 Multi Point 불균형 링크 구성에 사용</li><li>종국은 주국의 허가가 있을 때만 송신</li></ul></li><li><strong>비동기 응답 모드</strong><ul><li>ARM = Asynchronous Response Mode</li><li>전이중 통신을 하는 Point to Point 불균형 링크 구성에 사용</li><li>종국은 주국의 허가 없이도 송신이 가능하지만 링크 설정이나 오류 복구 등의 제어 기능은 주국만 가능</li></ul></li><li><strong>비동기 균형(평형) 모드</strong><ul><li>ABM = Asynchronous Balanced Mode</li><li>Point to Point 균형 링크에서 사용</li><li>혼합국끼리 허가 없이 언제나 전송할 수 있도록 설정</li></ul></li></ul><blockquote><p>불균형 링크</p><ul><li>주국과 종국 사이의 통신<br>균형 링크</li><li>모든 국의 동등한 혼합국끼리의 통신</li></ul></blockquote><h1 id="회선-제어-방식"><a class="markdownIt-Anchor" href="#회선-제어-방식"></a> 회선 제어 방식</h1><h2 id="경쟁-방식"><a class="markdownIt-Anchor" href="#경쟁-방식"></a> 경쟁 방식</h2><ul><li>Contention</li><li>회선 접속을 위해서 서로 경쟁하는 방식</li><li>송신 요구를 먼저 한 쪽이 송신권을 갖는다.</li><li><strong>Point to Point 방식에서 주로 사용</strong></li><li>송신 요구가 발생한 국이 주국이 되어 상대국에 셀렉팅 순서를 송신하여 상대국의 수신 가능 상태를 확인한 후 정보 메세지를 송신</li><li>데이터 링크 설정되면 정보 전송이 종료되기 전까지는 데이터 링크의 종결이 이루어지지 않고 <strong>독점적으로 정보 전송</strong>을 하게 된다.</li><li>송신 측에 전송할 메세지가 있을 경우 사용 가능한 회선이 있을 때까지 기다려야한다.</li><li>대표적 시스템으로 ALOHA</li></ul><h2 id="폴링셀렉션-방식"><a class="markdownIt-Anchor" href="#폴링셀렉션-방식"></a> 폴링/셀렉션 방식</h2><ul><li>Polling/Selection</li><li>주 컴퓨터에서 송수신 제어권을 가지고 있는 방식</li><li>트래픽이 많은 <strong>Multi Point 방식으로 연결된 회선에서 사용</strong></li></ul><h3 id="폴링"><a class="markdownIt-Anchor" href="#폴링"></a> 폴링</h3><ul><li>Polling</li><li><strong>주 컴퓨터에서 단말기에게 전송할 데이터가 있는지를 물어 전송할 데이터가 있다면 전송을 허가</strong>하는 방식</li><li>단말기에서 주 컴퓨터로 보낼 데이터가 있는 경우에 사용</li></ul><h3 id="셀렉션"><a class="markdownIt-Anchor" href="#셀렉션"></a> 셀렉션</h3><ul><li>Selection</li><li><strong>주 컴퓨터가 단말기로 전송할 데이터가 있는 경우 그 단말기가 받을 준비가 되어있는가를 묻고</strong> 준비가 되어있으면 주 컴퓨터에서 단말기로 데이터를 전송하는 방식</li></ul><h1 id="오류-제어-방식"><a class="markdownIt-Anchor" href="#오류-제어-방식"></a> 오류 제어 방식</h1><h2 id="발생-원인"><a class="markdownIt-Anchor" href="#발생-원인"></a> 발생 원인</h2><h3 id="감쇠"><a class="markdownIt-Anchor" href="#감쇠"></a> 감쇠</h3><ul><li>Attenuation</li><li>전송 신호 세력이 전송 매체를 통과하는 과정에서 거리에 따라 약해지는 현상</li><li>주파수가 높을수록 감쇠 현상이 심해진다.</li></ul><h3 id="지연-왜곡"><a class="markdownIt-Anchor" href="#지연-왜곡"></a> 지연 왜곡</h3><ul><li>Delay Distortion</li><li>유선 매체에서 발생하는 문제</li><li>하나의 전송 매체를 통해 여러 신호를 전달했을 때 주파수에 따라 그 속도가 달라짐으로써 생기는 오류</li><li>중심 주파수의 전달 속도가 가장 빠르고 양쪽 끝의 주파수일수록 느려진다.</li></ul><h3 id="백색-잡음"><a class="markdownIt-Anchor" href="#백색-잡음"></a> 백색 잡음</h3><ul><li>White Noise = 가우스 잡음 = 열 잡음</li><li>전송 매체 내부에서 온도에 따라 전자의 운동량이 변화함으로써 생기는 잡음</li><li>완벽하게 제거하기 힘들다.</li></ul><h3 id="상호-변조-잡음"><a class="markdownIt-Anchor" href="#상호-변조-잡음"></a> 상호 변조 잡음</h3><ul><li>Intermodulation Noise</li><li>서로 다른 주파수들이 하나의 전송 매체를 공유할 때 주파수 간의 합이나 차로인해 새로운 주파수가 생성되는 잡음</li><li>통신 시스템의 비선형성 때문에 발생</li></ul><h3 id="누화-잡음"><a class="markdownIt-Anchor" href="#누화-잡음"></a> 누화 잡음</h3><ul><li>Cross Talk Noise = 혼선</li><li>인접한 전송 매체의 전자기적 상호 유도 작용에 의해 생기는 잡음</li><li>신호의 경로가 비정상적으로 결합된 경우 나타난다.</li></ul><h3 id="충격성-잡음"><a class="markdownIt-Anchor" href="#충격성-잡음"></a> 충격성 잡음</h3><ul><li>Impulse Noise</li><li>번개와 같은 외부적인 충격 또는 통신 시스템의 결함이나 파손 등의 기계적인 충격에 의해 생기는 잡음</li><li>순간적으로 일어나는 높은 진폭의 잡음</li><li>비연속적이고 불규칙적인 진폭을 가진다.</li></ul><h3 id="돌발성-잡음"><a class="markdownIt-Anchor" href="#돌발성-잡음"></a> 돌발성 잡음</h3><ul><li>자연 현상, 통신 장비의 결함 등 예측할 수 없는 외부 요인에 의해 발생하는 잡음</li></ul><h3 id="위상-지터-잡음"><a class="markdownIt-Anchor" href="#위상-지터-잡음"></a> 위상 지터 잡음</h3><ul><li>Phase Jitter Noise</li><li>전송 네트워크에서 전송 신호의 위상이 연속적으로 일그러지는 현상</li></ul><h3 id="위상-히트-잡음"><a class="markdownIt-Anchor" href="#위상-히트-잡음"></a> 위상 히트 잡음</h3><ul><li>Phase Hit Noise</li><li>전송 네트워크에서 전송 신호의 위상에 불연속적인 순간 변화가 일어나는 현상</li></ul><blockquote><p>우연적 왜곡</p><ul><li>예측 할 수 없이 무작위로 발생하는 왜곡</li><li>백색 잡음, 충격 잡음, 누화 잡음, 위상 히트 잡음</li></ul><p>시스템적 왜국</p><ul><li>전송 매체에서 언제든지 일어날 수 있는 왜곡</li><li>손실, 감쇠, 하모닉 왜곡</li></ul></blockquote><h2 id="오류율"><a class="markdownIt-Anchor" href="#오류율"></a> 오류율</h2><ul><li>비트 오류율 = 오류 비트수 / 전송한 총 비트 수</li><li>블록 오류율 = 오류 블록 수 / 전송한 총 블록 수</li><li>문자 오류율 = 오류 문자 수 / 전송한 총 문자 수</li></ul><h2 id="전송-오류-제어-방식"><a class="markdownIt-Anchor" href="#전송-오류-제어-방식"></a> 전송 오류 제어 방식</h2><h3 id="전진-오류-수정"><a class="markdownIt-Anchor" href="#전진-오류-수정"></a> 전진 오류 수정</h3><ul><li>FEC = Forward Error Corrction = 순방향 오류 수정</li><li>데이터 전송 과정에서 발생한 오류를 검출하여 검출된 오류를 재전송 요구 없이 스스로 수정하는 방식</li><li>송신 측에서는 문자나 프레임에 오류 검출을 위한 부가 정보를 추가시켜 전송하고, 수신 측에서는 부가정보를 이용해 자신이 수신한 데이터에 존재하는 오류를 발견하고 수정</li><li>재전송 요구가 없어 역 채널이 필요 없고 연속적인 데이터 흐름이 가능하다.</li><li>데이터 비트 외에 오류 검출 및 수정을 위한 비트가 추가로 전송되어야 하기 때문에 전송 효율이 떨어진다.</li><li>해밍 코드 방식과 상승 코드 방식</li></ul><h3 id="후진-오류-수정"><a class="markdownIt-Anchor" href="#후진-오류-수정"></a> 후진 오류 수정</h3><ul><li>BEC = Backward Error Correction</li><li>데이터 전송 과정에서 오류가 발생하면 송신 측에 재전송을 요구하는 방식</li><li>패리티 검사, CRC, 블록 합 방식으로 오류 검출</li><li>ARQ에 의해 오류 제어</li></ul><h2 id="자동-반복-요청"><a class="markdownIt-Anchor" href="#자동-반복-요청"></a> 자동 반복 요청</h2><ul><li>ARQ = Automatic Repeat reQuest</li><li>오류 발생시 수신측은 오류 발생을 송신 측에 통보하고 송신 측은 오류 발생 블록을 재전송하는 모든 절차를 의미</li><li>정지대기 ARQ, Go-Back ARQ, 선택적 재전송 ARQ, 적응적 ARQ가 있다.</li></ul><h3 id="정지대기-arq"><a class="markdownIt-Anchor" href="#정지대기-arq"></a> 정지대기 ARQ</h3><ul><li>Stop and Wait ARQ</li><li>송신 측에서 한 개의 블록을 전송한 후 수신 측으로부터 응답을 기다리는 방식</li><li>수신 측의 응답이 ACK면 다음 블록을 전송하고 NAK면 앞서 송신했던 블록을 재전송한다.</li><li>블록을 전송할 때마다 수신 측의 응답을 기다려야되므로 전송 효율이 가장 낮다.</li><li>오류가 발생한 경우 앞서 송신한 블록만 재전송하면 되므로 구현 방법이 단순하다.</li></ul><h3 id="연속-arq"><a class="markdownIt-Anchor" href="#연속-arq"></a> 연속 ARQ</h3><ul><li>Continuous ARQ</li><li>정지대기 ARQ가 갖는 오버헤드를 줄이기 위해 연속적으로 데이터 블록을 보내는 방식</li><li><strong>수신 측에서는 부정응답만을 송신</strong></li><li>프레임의 송신 순서와 수신 순서가 동일해야 수신이 가능하다.</li></ul><h4 id="go-back-n-arq"><a class="markdownIt-Anchor" href="#go-back-n-arq"></a> Go-BACK-N ARQ</h4><ul><li>여러 블록을 연속적으로 전송하고 수신 측에서 NAK를 보내면 송신 측이 오류가 밠애한 블록 이후의 모든 블록을 재전송</li><li><strong>전송 오류가 발생하지 않으면 쉬지 않고 연속적으로 송신이 가능</strong>하다.</li><li><strong>오류가 발생한 부분부터 모두 재전송</strong>하므로 중복 전송의 단점이 있다.</li></ul><h4 id="선택적-재전송"><a class="markdownIt-Anchor" href="#선택적-재전송"></a> 선택적 재전송</h4><ul><li>Selective Repeat ARQ</li><li>여러 블록을 연속적으로 전송하고 수신 측에서 NAK를 보내면 송신 측이 <strong>오류가 발생한 블록만을 재전송</strong></li><li>수신 측에서 데이터를 처리하기 전에 원래 순서대로 조립해야 하므로 더 복잡한 논리 회로와 큰 용량의 <strong>버퍼가 필요</strong>하다.</li></ul><h3 id="적응적-arq"><a class="markdownIt-Anchor" href="#적응적-arq"></a> 적응적 ARQ</h3><ul><li>Adaptive ARQ</li><li>전송 효율을 최대로 하기 위해 데이터 블록의 길이를 채널의 상태에 따라 동적으로 변경하는 방식</li><li>제어 회로가 매우 복잡하고 비용이 비싸 현재는 거의 사용되지 않는다.</li></ul><h1 id="오류-검출-방식"><a class="markdownIt-Anchor" href="#오류-검출-방식"></a> 오류 검출 방식</h1><ul><li>가장 대표적인 방법은 오류 검출 코드를 이용하는 방법</li><li>전송 데이터에 오류 검출 코드를 부가해 그 코드로 수신된 데이터의 오류를 검출한다.</li><li>패리티 검사, 순환 중복 검사, 궤환 전송 방식, 자동 연속 방식, 해밍 코드 방식, 상승 코드 방식</li></ul><h2 id="수직-패리티-체크"><a class="markdownIt-Anchor" href="#수직-패리티-체크"></a> 수직 패리티 체크</h2><ul><li>수직 중복 검사 = VRC = Vertical Redundancy Check</li><li>수직 방향으로 패리티 비트를 부여하는 방식</li><li>보통의 패리티 검사를 일컫는다.</li><li>짝수 패리티 : 주로 비동기식 전송에 사용</li><li>홀수 패리티 : 주로 동기식 전송에 사용</li><li>가장 간단하지만 두 개의 비트에 동시에 오류가 발생하면 검출이 불가능하다.</li><li>오류를 검출만하고 수정은 못한다.</li></ul><h2 id="수평-패리티-체크"><a class="markdownIt-Anchor" href="#수평-패리티-체크"></a> 수평 패리티 체크</h2><ul><li>세로 중복 검사 = LRC = Longitudinal Redundancy Check</li><li>수평 방향으로 패리티 비트를 부여하는 방식</li><li>전송 비트를 일정량의 블록으로 묶어서 블록의 맨 마지막에 패리티 비트를 부여</li></ul><h2 id="순환-중복-검사"><a class="markdownIt-Anchor" href="#순환-중복-검사"></a> 순환 중복 검사</h2><ul><li>CRC = Cyclic Redundancy Check</li><li><strong>다항식 코드를 사용하여 오류를 검출하는 방식</strong></li><li>HDLC 프레임의 FCS에 사용되는 방식</li><li>집단 오류를 검출할 수 잇고, 검출률이 높아 가장 많이 사용된다.</li></ul><h2 id="궤환-전송-방식"><a class="markdownIt-Anchor" href="#궤환-전송-방식"></a> 궤환 전송 방식</h2><ul><li>Echo Check</li><li>수신 측에서 받은 데이터를 송신 측으로 되돌려 보내어 원본 데이터와 비교하여 오류가 있는 경우 재전송하는 방식</li></ul><h2 id="자동-연속-방식"><a class="markdownIt-Anchor" href="#자동-연속-방식"></a> 자동 연속 방식</h2><ul><li>연속 전송 방식</li><li>송신 측에서 동일 데이터를 두 번 이상 전송하면 수신 측에서 두 데이터를 비교해 이상 유무를 판별한 후 오류 발생 시 이를 수정하는 방식</li></ul><h2 id="해밍-코드-방식"><a class="markdownIt-Anchor" href="#해밍-코드-방식"></a> 해밍 코드 방식</h2><ul><li>Hamming Code = 자기 정정 부호</li><li>수신 측에서 오류가 발생한 비트를 검출한 후 직접 수정하는 방식</li><li>1bit의 오류만 수정이가능하다.</li><li>정보 비트 외에 잉여 비트가 많이 필요하다.</li><li>해밍 거리: 송신한 데이터와 수신한 데이터의 각 대응하는 비트가 서로 다른 비트의 수</li></ul><h2 id="상승-코드-방식"><a class="markdownIt-Anchor" href="#상승-코드-방식"></a> 상승 코드 방식</h2><ul><li>순차적 디코딩과 한계값 디코딩을 사용하여 오류를 수정한다.</li><li>수신 측에서 오류 데이터를 수정할 수 있다는 점은 해밍 코드와 같지만 상승 코드는 여러 비트의 오류도 수정할 수 있다.</li></ul><h1 id="전용-회선"><a class="markdownIt-Anchor" href="#전용-회선"></a> 전용 회선</h1><ul><li>Leased Line</li><li>송수신 상호 간에 통신 회선이 항상 고정되어 있는 방식</li><li>Point to Point 방식과 Multi Point 방식이 있다.</li><li>전송 속도가 빠르고 전송 오류가 적다.</li><li>사용 방법이 간편하고 업무 적용이 쉽다.</li><li>전송할 데이터의 양이 많고 회선 사용 시간이 많을 때 효율적</li><li>고장 발생시 유지보수가 쉽다.</li></ul><h1 id="교환-회선"><a class="markdownIt-Anchor" href="#교환-회선"></a> 교환 회선</h1><ul><li>Switched Line</li><li>교환기에 의해 송수신 상호 간이 연결되는 방식</li><li>전용 회선에 비해 전송 속도가 느리다.</li><li>보안을 위해 정보 누설과 파괴를 방지하는 조치가 필요하다.</li><li>회선을 공유하므로 효용도가 높고 통신 장치와 회선 비용을 줄일 수 있다.</li><li>전송할 데이터의 양이 많지 않고 회선 사용시간이 적을 때 효율적</li></ul><h2 id="데이터-교환-방식"><a class="markdownIt-Anchor" href="#데이터-교환-방식"></a> 데이터 교환 방식</h2><ul><li>회선 교환 방식 : 통신 회선을 교환기에 의해 물리적으로 접속<ul><li>공간 분할 교환 방식</li><li>시분할 교환 방식</li></ul></li><li>축적 교환 방식 : 교환기의 임시기억장치를 이용<ul><li>메시지 교환 방식</li><li>패킷 교환 방식<ul><li>가상 회선 교환 방식</li><li>데이터그램 교환 방식</li></ul></li></ul></li></ul><h2 id="성능-비교-요소"><a class="markdownIt-Anchor" href="#성능-비교-요소"></a> 성능 비교 요소</h2><ul><li>전파 지연 : 신호가 한 노드에서 다음 노드로 도달하는 데 걸리는 시간</li><li>전송 시간 : 데이터가 출발지에서 도착지까지 도달하는 데 걸리는 시간</li><li>노드 지연 : 한 노드가 데이터를 교환하기 위하여 필요한 시간</li><li>데이터 처리율 : 정해진 시간 동안 받아들이고 전송할 수 있는 데이터의 비율</li></ul><h1 id="회선-구성-방식"><a class="markdownIt-Anchor" href="#회선-구성-방식"></a> 회선 구성 방식</h1><p>컴퓨터와 여러 대의 단말기를 연결하는 방식</p><h2 id="포인트-투-포인트"><a class="markdownIt-Anchor" href="#포인트-투-포인트"></a> 포인트 투 포인트</h2><ul><li>점 대 점 방식</li><li>중앙 컴퓨터와 단말기를 일대일 독립적으로 연결하여 언제든지 데이터 전송이 가능하게 한 방식</li><li>전송할 데이터의 양과 회선 사용 시간이 많을 때 효율적</li><li>전용 회선 또는 교환 회선에 이용</li><li>고장 발생 시 유지보수가 쉽다.</li><li>통신망을 성형으로 구성할 때 사용</li></ul><h2 id="멀티-드롭-방식"><a class="markdownIt-Anchor" href="#멀티-드롭-방식"></a> 멀티 드롭 방식</h2><ul><li>Multi Drop = 멀티 포인트 = 다중 점 방식</li><li>여러 대의 단말기를 한 개의 통신 회선에 연결하는 방식</li><li>통신 회선은 전용 회선을 사용한다.</li><li>제어용 컴퓨터가 주국이 되고 다말기가 종국이 된다.</li><li>단말기는 주소 판단 기능과 데이터 블록을 일시 저장할 수 있는 버퍼 기억장치가 있어야한다.</li><li>데이터의 양과 회선 사용 시간이 적을 때 효율적</li><li>회선을 공유하기에 효용도가 높고 가격이 저렴</li><li>통신망을 버스형으로 구성할 때 사용</li><li>데이터 전송은 폴링과 셀렉션에 의해 수행</li></ul><h2 id="회선-다중-방식"><a class="markdownIt-Anchor" href="#회선-다중-방식"></a> 회선 다중 방식</h2><ul><li>Line Multiplexing = 다중화 방식</li><li>여러 대의 단말기들을 다중화 장치를 이용해 중앙 컴퓨터와 연결하는 방식</li></ul><h1 id="회선-교환-방식"><a class="markdownIt-Anchor" href="#회선-교환-방식"></a> 회선 교환 방식</h1><ul><li>Circuit Switching</li><li>통신을 원하는 두 지점을 교환기를 이용하여 물리적으로 접속시키는 방식</li><li>음성 전화망</li><li>공간 분할 교환 방식과 시분할 교환 방식으로 나뉜다.</li><li>데이터 전송 전에 물리적 통신 회선을 통한 연결이 필요하다.</li><li>접속이 되고나면 전용 회선에 의한 통신처럼 데이터가 전달된다.</li><li><strong>접속에는 긴 시간이 걸리나 접속되면 실시간 전송이 가능하다.</strong></li><li>회선이 접속되어도 수신 측이 준비가 되지 않으면 데이터 전송이 불가능</li><li>접속된 두 지점이 회선을 독점하기 때문에 다른 단말기는 전달 지연을 갖는다.</li><li>데이터가 전송되지 않아도 접속이 유지되기 때문에 통신 회선이 낭비된다.</li><li>일정한 데이터 전송률을 제공하므로 동일한 전송 속도가 유지</li><li><strong>오류 제어나 흐름 제어는 사용자에 의해 수행</strong></li></ul><h2 id="공간-분할-교환-방식"><a class="markdownIt-Anchor" href="#공간-분할-교환-방식"></a> 공간 분할 교환 방식</h2><ul><li>SDS = Space Division Switching</li><li>기계식 접점과 전자 교환기의 전자식 접점 등을 이용해 교환을 수행하는 방식</li><li>음성 전화용 교환기</li><li>기존의 음성 전화망을 그대로 이용할 수 있어 간단한 저속 데이터 전송에 매우 효과적</li><li>데이터 통신을 위해서는 융통성이 적고 오류율이 높다.</li><li>연결 접속시간이 길고 고속 전송이 어렵다.</li><li>속도나 코드의 변환이 어렵다.</li></ul><h3 id="1단-공간-분할-교환-방식"><a class="markdownIt-Anchor" href="#1단-공간-분할-교환-방식"></a> 1단 공간 분할 교환 방식</h3><ul><li>장치 대 장치를 Cross Bar Matrix 형태의 공간으로 분할하는 방식</li><li>입력이 m 출력이 n개 회선일 때 교차점의 개수는 m * n 개</li><li>비효율적</li><li>하나의 교차점이 고장나면 두 장치가 연결될 수 없다.</li></ul><h3 id="다단-공간-분할-교환-방식"><a class="markdownIt-Anchor" href="#다단-공간-분할-교환-방식"></a> 다단 공간 분할 교환 방식</h3><ul><li>교차점의 수를 줄일 수 있고 Cross Bar의 이용도가 높아진다.</li><li>장치 대 장치를 연결하는 경로가 하나 이상이므로 신뢰도가 향상</li><li>제어 체계가 복잡</li><li>연결할 중간 회선이 없으면 연결되지 않을 수 있다.</li></ul><h2 id="시분할-교환-방식"><a class="markdownIt-Anchor" href="#시분할-교환-방식"></a> 시분할 교환 방식</h2><ul><li>TDS = Time Division Switching</li><li>전자 부품이 갖는 고속성과 디지털 교환 기술을 이용해 다수의 디지털 신호를 시분할적으로 동작시켜 다중화하는 방식</li><li>데이터 전용 회선 교환 방식에 사용</li><li>TDM 버스 교환방식, 타임 슬롯 교환 방식, 시간 다중화 교환 방식</li></ul><h2 id="제어-신호"><a class="markdownIt-Anchor" href="#제어-신호"></a> 제어 신호</h2><ul><li>감시 제어 신호 : 서비스 요청, 응답, 경보 및 휴지 상태 복귀 신호 기능</li><li>주소 제어 신호 : 상대방 식별, 경로 배정</li><li>호 정보 제어 신호 : 호 상태에 대한 정보를 송신자에게 제공</li><li>망 관리 제어 신호 : 통신망의 운영, 유지, 고장 수리</li></ul><h1 id="축적-교환-방식"><a class="markdownIt-Anchor" href="#축적-교환-방식"></a> 축적 교환 방식</h1><ul><li>송신 측에서 전송한 데이터를 송신 측 교환기에 저장시켰다가 이를 다시 적절한 통신 경로를 선택하여 수신 측 터미널에 전송하는 방식</li><li>메세지 교환 방식과 패킷 교환 방식</li><li>하나의 통신 회선을 여러 메세지가 공유 가능</li><li>메세지를 저장 시켰다가 전송하므로 기억장치 필요</li><li>전송 속도와 코드가 서로 다른 장치 간에도 통신이 가능하다.</li><li>초기 설계 비용 및 통신 비용이 저렴</li><li>부가적인 내용을 추가해 전송 가능</li><li>전송 속도나 코드의 변환 및 전송 오류 정정이 가능</li></ul><h2 id="메세지-교환-방식"><a class="markdownIt-Anchor" href="#메세지-교환-방식"></a> 메세지 교환 방식</h2><ul><li>Message Switching</li><li>교환기가 일단 송신 측의 메세지를 받아서 저장한 후 전송 순서가 되면 수신 측으로 전송</li><li>각 메세지마다 전송 경로를 결정하고 수신 측 주소를 붙여서 전송</li><li>전송 메세지는 교환기의 기억장치에 일정 기간동안 저장되어 검색이 가능</li><li><strong>전송 지연 시간이 매우 길다.</strong></li><li><strong>응답 시간이 느려 대화형 데이터 전송에 부적절</strong></li><li>전송량이 폭주해도 저장 기능을 사용해 교환기의 혼란을 방지할 수 있다.</li><li>송신 측과 수신 측이 동시에 운영 상태에 있지 않아도 된다.</li><li>같은 메세지를 여러 곳에 전송 가능</li></ul><h2 id="패킷-교환-방식"><a class="markdownIt-Anchor" href="#패킷-교환-방식"></a> 패킷 교환 방식</h2><ul><li>Packet Switching</li><li>패킷은 장애 발생 시의 재전송을 위해 패킷 교환기에 일시 저장되었다가 곧 전송되며 전송이 끝난 후 폐기된다.</li><li>패킷 교환망은 OSI7 모델의 네트워크 계층에 해당</li><li>패킷형 터미널을 위한 DTE와 DCE 사이의 접속 규정은 X.25</li><li>패킷망 상호 간의 접속을 위한 프로토콜은 X.75</li><li>하나의 통신 회선을 여러 사용자가 공유할 수 있어 회선 이용률이 높다.</li><li>수신 측에서 분할된 패킷을 재조립해야한다.</li><li>응답 시간이 빨라 대화형 응용이 가능하다.</li><li>통신량의 제어를 통한 망의 안전성을 높일 수 있다.</li><li>음성보다 데이터 전송에 적합</li><li>장애 발생시 다른 정상적인 경로를 선택해 우회할 수 있다.</li></ul><h3 id="가상-회선-방식"><a class="markdownIt-Anchor" href="#가상-회선-방식"></a> 가상 회선 방식</h3><ul><li>단말기 상호간 논리적인 가상 통신 회선을 미리 설정하여 송신지와 수신지 사이의 연결을 확립한 후 에 설정된 경로를 따라 패킷들을 순서적으로 운반하는 방식</li><li>정보 전송 전에 제어 패킷에 의해 경로가 설정된다.</li><li>데이터 전송의 안정성과 신뢰성이 보장</li><li>패킷의 송수신 순서가 같다.</li><li>호 설정 =&gt; 데이터 전송 =&gt; 호 해제</li><li>모든 패킷이 전송되면 Clear Request Packet을 전송한다.</li></ul><h3 id="데이터그램-방식"><a class="markdownIt-Anchor" href="#데이터그램-방식"></a> 데이터그램 방식</h3><ul><li>연결 경로를 설정하지 않고 인접한 노드들의 트래픽 상황을 감안해 각각의 패킷을 순서에 상관없이 독립적으로 운반하는 방식</li><li>패킷마다 전송 경로가 달라 패킷은 목적지의 완전한 주소를 가진다.</li><li>적절한 경로로 패킷을 전송하기 때문에 융통성이 좋다.</li><li>순서에 상관 없이 여러 경로를 통해 도착한 패킷은 수신 측에서 순서를 재정리</li><li>소수의 패킷으로 구성된 짧은 데이터 전송에 적합</li></ul><h3 id="패킷-교환망"><a class="markdownIt-Anchor" href="#패킷-교환망"></a> 패킷 교환망</h3><ul><li>PSDN = Packet Switched Data Network</li><li>패킷 다중화 : 물리적으로는 한 개의 통신 회선을 사용하면서 패킷마다 논리 채널 번호를 붙여 동시에 다수 상대 터미널과 통신을 수행하도록 하는 기능</li><li>경로 제어 : Routing</li><li>논리 채널 : 송수신 단말기 사이에서 논리 채널(가상 회선)을 설정하는 기능</li><li>순서 제어</li><li>트래픽 제어 : 흐름 제어, 교착 상태 방지</li><li>오류 제어</li><li>구성 : 비패킷 단말기, 패킷형 단말기, 패킷 교환기, 패킷 다중화 장치 (NPT, PT, PSE, PMX)</li></ul><h1 id="경로-제어"><a class="markdownIt-Anchor" href="#경로-제어"></a> 경로 제어</h1><ul><li>Routing</li><li>송수신 측 간의 전송 경로 중에서 최적 패킷 교환 경로를 설정하는 기능</li><li>경로 제어표를 참조해 이뤄진다.</li><li>라우터에 의해 수행된다.</li><li>경로 설정 요소 : 성능 기준, 경로 결정 시간과 장소, 정보 발생지, 경로 정보의 갱신 시간</li></ul><h2 id="경로-설정-프로토콜"><a class="markdownIt-Anchor" href="#경로-설정-프로토콜"></a> 경로 설정 프로토콜</h2><p>효율적인 경로 제어를 위해 네트워크 정보를 생성, 교환, 제어하는 프로토콜</p><h3 id="igp"><a class="markdownIt-Anchor" href="#igp"></a> IGP</h3><ul><li>Interior Gateway Protocol = 내부 게이트웨이 프로토콜</li><li>하나의 자율 시스템 내의 라우팅에 사용되는 프로토콜</li><li>RIP(Routing Information Protocol)<ul><li>현재 가장 많이 사용되는 라우팅 프로토콜</li><li>소규모 동종 네트워크(자율 시스템, AS) ㅐ넹서 효율적인 방법</li><li>최대 홉 수를 15로 제한하기에 대규모 네트워크에서는 RIP를 사용할 수 없다.</li><li>라우팅 정보를 30초마다 네트워크 내의 모든 라우터에 알린다.</li><li>180초 내에 새로운 라우팅 정보가 수신되지 않으면 해당 경로를 상태 이상으로 간주</li></ul></li><li>OSPF(Open Shortest Path First protocol)<ul><li>대규모 네트워크에서 많이 사용되는 라우팅 프로토콜</li><li>라우팅 정보에 변화가 생길시 변화된 정보만 네트워크의 모든 라우터에게 알린다.</li></ul></li></ul><h3 id="egp"><a class="markdownIt-Anchor" href="#egp"></a> EGP</h3><ul><li>Exterior Gateway Protocol = 외부 게이트웨이 프로토콜</li><li>자율 시스템(AS) 간의 라우팅</li><li>게이트웨이 간의 라우팅에 사용</li></ul><h3 id="bgp"><a class="markdownIt-Anchor" href="#bgp"></a> BGP</h3><ul><li>Border Gateway Protocol</li><li>자율 시스템 간의 라우팅 프로토콜</li><li>EGP의 단점을 보완하기 위해 만들어짐</li><li>초기 BGP 라우터들이 연결될 때 전체 라우팅 테이블을 교환하고 이후에는 변화된 정보만을 교환</li></ul><h2 id="경로-설정-방식"><a class="markdownIt-Anchor" href="#경로-설정-방식"></a> 경로 설정 방식</h2><h3 id="고정-경로-제어"><a class="markdownIt-Anchor" href="#고정-경로-제어"></a> 고정 경로 제어</h3><ul><li>Static Routing = 착국 부호 방식</li><li>네트워크 내의 모든 쌍에 대해 경로를 미리 정해 놓은 방식</li><li>통신망 설계자가 최적 경로를 미리 결정</li><li>네트워크 상태 변화와 관계없이 경로를 설정하는 비적응 경로 배정에 해당</li></ul><h3 id="적응-경로-제어"><a class="markdownIt-Anchor" href="#적응-경로-제어"></a> 적응 경로 제어</h3><ul><li>Adaptive Routing</li><li>통신망 내에서 변하는 통화량에 따른 교환기 및 통신망 상태 등에 의해 전송 경로를 동적으로 결정하는 방식</li></ul><h3 id="범람-경로-제어"><a class="markdownIt-Anchor" href="#범람-경로-제어"></a> 범람 경로 제어</h3><ul><li>Flooding</li><li>네트워크 정보를 요구하지 않고, 송신처와 수신처 사이에 존재하는 모든 경로로 패킷을 전송하는 방식</li><li><strong>각 교환기에 도착하는 패킷을 다른 모든 교환기로 복사하여 전송하는 방식</strong></li><li><strong>경로 제어표가 필요 없다.</strong></li></ul><h3 id="임의-경로-제어"><a class="markdownIt-Anchor" href="#임의-경로-제어"></a> 임의 경로 제어</h3><ul><li>Random Routing</li><li>인접하는 교환기 중 하나를 임의로 선택하여 전송하는 방식</li></ul><h1 id="트래픽-제어"><a class="markdownIt-Anchor" href="#트래픽-제어"></a> 트래픽 제어</h1><ul><li>Traffic Control</li><li>패킷 흐름 또는 그 양을 조절하는 기능</li><li>흐름 제어, 폭주 제어, 교착상태 방지 기법</li></ul><h2 id="흐름-제어"><a class="markdownIt-Anchor" href="#흐름-제어"></a> 흐름 제어</h2><ul><li>Flow Control</li><li>패킷의 양이나 속도를 규제하는 기능</li><li>송신 측과 수신 측 간의 처리 속도 또는 버퍼 크기 차이에 의해 생길 수 있는 수신 측 버퍼의 오버플로를 방지하기 위한 기능</li></ul><h3 id="stop-and-wait"><a class="markdownIt-Anchor" href="#stop-and-wait"></a> Stop and Wait</h3><ul><li>수신 측의 확인 신호를 받은 후에 다음 패킷을 전송</li><li>한 번의 하나의 패킷만을 전송</li></ul><h3 id="슬라이딩-윈도우"><a class="markdownIt-Anchor" href="#슬라이딩-윈도우"></a> 슬라이딩 윈도우</h3><ul><li>Sliding Window</li><li>수신 통지를 이용하여 송신 데이터의 양을 조절하는 방식</li><li>수신 측의 확인 신호를 받지 않더라도 미리 정해진 패킷의 수만큼 연속적으로 전송하는 방식</li><li>한 번의 여러 개의 패킷을 전송할 수 있어 효율이 좋다.</li><li>송신 측은 수신 측으로부터 ACK 없이도 보낼 수 있는 패킷의 최대치를 미리 약속 받는다.</li><li>이 패킷의 최대치가 윈도우 크기이다.</li><li>윈도우 크기는 이전 응답이 ACK일 경우 늘어나고 NAK일 경우 감소한다.</li></ul><h2 id="폭주-제어"><a class="markdownIt-Anchor" href="#폭주-제어"></a> 폭주 제어</h2><ul><li>Congesting Control = 혼잡 제어</li><li>네트워크 내의 패킷 수를 조절하여 네트워크의 오버플로를 방지하는 기능</li><li>네트워크 내의 모든 단말의 패킷 수를 제어</li></ul><h2 id="교착상태-방지"><a class="markdownIt-Anchor" href="#교착상태-방지"></a> 교착상태 방지</h2><ul><li>패킷이 같은 목적지를 갖지 않도록 할당</li><li>교착상태 발생 시 교착상태에 있는 한 단말장치를 선택해 패킷 버퍼를 폐기</li></ul><h1 id="망-구성-형태"><a class="markdownIt-Anchor" href="#망-구성-형태"></a> 망 구성 형태</h1><h2 id="성형"><a class="markdownIt-Anchor" href="#성형"></a> 성형</h2><ul><li>Point to Point 방식</li><li>각 단말은 중앙 컴퓨터를 통해 데이터를 교환</li><li>추가와 제거가 쉽다.</li><li>교환 노드의 수가 가장 적다.</li><li>중앙이 고장나면 통신망이 마비</li></ul><h2 id="링형"><a class="markdownIt-Anchor" href="#링형"></a> 링형</h2><ul><li>루프형</li><li>서로 이웃하는 단말끼리 Point to Point</li><li>분산 및 집중 제어 모두 가능</li><li>단말의 추가/제거 및 기밀 보호가 어렵다.</li><li>각 단말에서 전송 지연이 발생할 수 있다.</li><li>중계기가 많아짐</li><li>데이터는 단방향 또는 양방향으로 전송된다.</li><li>단방향의 경우 단말 하나라도 고장시 통신 마비</li></ul><h2 id="버스형"><a class="markdownIt-Anchor" href="#버스형"></a> 버스형</h2><ul><li>한 개의 통신 회선에 여러 대에 단말이 연결된 형태</li><li>물리적 구조가 간단</li><li>단말 추가와 제거가 쉽다.</li><li>단말이 고장나도 통신망 전체에 영향이 되지 않는다.</li><li>신뢰성이 높다.</li><li>기밀 보장이 어렵다.</li><li>통신 회선 길이에 제한이 있다.</li></ul><h2 id="계층형"><a class="markdownIt-Anchor" href="#계층형"></a> 계층형</h2><ul><li>Tree = 분산형</li><li>중앙 컴퓨터와 일정 지역 단말까지는 하나의 통신 회선으로 연결하고 중간 단말장치로부터 다시 연결시키는 형태</li><li>분산 처리 시스템을 구성하는 방식</li></ul><h2 id="망형"><a class="markdownIt-Anchor" href="#망형"></a> 망형</h2><ul><li>Mesh</li><li>모든 지점의 컴퓨터와 단말을 서로 연결한 형태</li><li>많은 단말로 많은 양의 통신을 필요로 하는 경우에 유리</li><li>공중 데이터 통신망에서 사용</li><li>통신 회선의 총 경로가 가장 길다.</li><li>회선 수는 n(n-1)/2, 포트 수는 n-1</li></ul><h1 id="lan"><a class="markdownIt-Anchor" href="#lan"></a> LAN</h1><ul><li>Local Area Network</li><li>제한된 지역내의 통신</li><li>광대역 전송 매체의 사용으로 고속 통신 가능</li><li>공유 매체를 사용하므로 경로 선택 없이 매체에 연결된 모든 장치로 데이터를 전송</li><li>오류 발생률이 낮다.</li><li>네트워크 확장이나 재배치가 쉽다.</li><li>꼬임선, 동축 케이블, 광섬유 케이블 등을 사용</li></ul><h2 id="표준안"><a class="markdownIt-Anchor" href="#표준안"></a> 표준안</h2><ul><li>IEEE 802에 의해 추진</li><li>OSI7의 물리 계층과 데이터 링크 계층을 대상으로 한다.</li><li>데이터 링크 계층<ul><li><strong>매체 접근 제어</strong> : MAC 물리 네트워크에 대한 접근 제어 담당</li><li><strong>논리 링크 제어</strong> : LLC 매체 접근 제어에 의해 확보된 채널을 사용하여 메세지를 전송할 때 필요한 연결 관리 절차와 ACK, NAK, 순서화, 오류 제어, 흐름 제어 담당</li></ul></li><li><strong>802.3</strong> : CSMA/CD 방식</li><li><strong>802.4</strong> : 토큰 버스 방식</li><li><strong>802.5</strong> : 토큰 링 방식</li><li><strong>802.11</strong> : 무선 LAN</li></ul><blockquote><p>CO-LAN</p><ul><li>Central Office LAN</li><li>여건이 안 되는 기관 간에 인근 전화국의 데이터 교환망과 기존 통신망을 연동시켜 구성하는 통신망</li></ul></blockquote><h1 id="매체-접근-제어"><a class="markdownIt-Anchor" href="#매체-접근-제어"></a> 매체 접근 제어</h1><ul><li>MAC = Media Access Control</li><li>LAN에서 하나의 통신 회선을 여러 단말이 원활하게 공유할 수 있도록 해주는 통신회선에 대한 접근 방식</li><li>CSMA, CSMA/CD, 토큰 버스, 토큰 링</li></ul><h2 id="csmacd"><a class="markdownIt-Anchor" href="#csmacd"></a> CSMA/CD</h2><ul><li>Carrier Sence Multiple Access / Collision Detection</li><li>데이터 프레임 간의 충돌이 발생하는 것을 인전하고 이 문제를 해결하기 위해 CSMA 방식에 충돌 검출 기능과 충돌 발생시 재송신하는 기능을 추가했다.</li><li>통신 회선이 사용 중이면 일정 시간 동안 대기하고, 통신 회선상에 데이터가 없을 경우 송신한다.</li><li>송신 중에도 전송로의 상태를 계속 감시한다.</li><li>송신 도중 충돌이 발생하면 송신을 중지하고 모든 노드의 충돌을 알린 후 일정 시간 후에 다음 데이터를 재송신한다.</li><li>버스형 LAN에 가장 많이 사용된다.</li><li>전송량이 적을 때 매우 효율적이고 신뢰성이 높다.</li><li>알고리즘이 간단</li><li>노드 장애가 시스템 전체에 영향을 주지 않고 장애 처리가 간단</li><li>충돌과 채널 경쟁을 위한 기법에는 non persistent, 1- persistent, p-persistent가 있고 효율적인 1-persistent 기법을 주로 사용한다.</li><li>일정 길이 이하의 데이터를 송신할 경우 충돌 검출이 불가능하다.</li><li>전송량이 많아지면 충돌이 많아져 채널 이용률이 떨어지고 전송 지연 시간이 급격히 증가</li><li>충돌 발생시 다른 노드에서 데이터를 전송할 수 없다.</li><li>충돌 발생시 지연 시간을 예측하기 어렵다.</li></ul><h3 id="이더넷"><a class="markdownIt-Anchor" href="#이더넷"></a> 이더넷</h3><ul><li>Ethernet</li><li>CSMA/CD 방식을 사용하는 LAN</li><li>가장 많이 보급된 네트워크</li><li>10 BASE T : 전송 속도가 10Mbps, BASEBand 방식, Twisted Pair Wire 케이블을 사용</li><li>10 BASE 2 : 얇은 동축 케이블을 사용, 한 세그먼트의 최장기리가 약 200m</li><li>10 BASE 5 : 굵은 동축 케이블 사용, 한 세그먼트의 최장 기리가 500m</li><li>10 BASE F : 광섬유 케이블을 사용하는 이더넷</li><li>고속 이더넷 : 100 BASE T, 100Mbps, CSMA/CD 사용</li><li>기가비트 이더넷 : 1Gbps, 기존의 이더넷과 완벽 호환성, CSMA/CD 사용</li></ul><h2 id="토큰-버스-방식"><a class="markdownIt-Anchor" href="#토큰-버스-방식"></a> 토큰 버스 방식</h2><ul><li>Token Bus</li><li>버스형 LAN에서 사용하는 방식</li><li>토큰이 논리적으로 형성된 링을 따라 각 노드를 차례로 옮겨 다니는 방식</li><li>토큰은 논리적인 링을 따라 순서대로 전달되고 토큰을 점유한 노드는 정보를 전송할 수 있고 전송이 끝나면 다음 노드로 토큰을 보낸다.</li><li>각 노드가 공평한 송신 권한을 가진다.</li><li>전송 시간을 가변적으로 조절할 수 있다.</li><li>전송량이 많아도 안정적이고 액세스 시간이 일정하다.</li><li>CSMA/CD보다 장치가 복잡하고 평균 대기 시간이 길다.</li><li>노드나 통신 회선에 장애 발생시 전체적인 장애가 될 수 있다.</li></ul><h2 id="토큰-링-방식"><a class="markdownIt-Anchor" href="#토큰-링-방식"></a> 토큰 링 방식</h2><ul><li>Token Ring</li><li>링형 LAN에서 사용하는 방식</li><li>물리적으로 연결된 링을 따라 순환하는 토큰을 이용하여 송신 권리를 제어</li><li>프리 토큰 : 회선을 사용할 수 있는 상태</li><li>비지 토큰 : 회선이 데이터 전송에 사용중인 상태</li><li>각 노드가 공평한 송신 권한을 가진다.</li><li>노드의 수가 많아질 수록 토큰의 순회 시간이 길어지므로 네트워크 속도가 저하 될 수 있다.</li></ul><h1 id="van"><a class="markdownIt-Anchor" href="#van"></a> VAN</h1><ul><li>부가 가치 통신망 = Value Added Network</li><li>공중 통신 사업자로부터 통신 회선을 임대해 사설망을 구축하고 이를 통해 정보의 축적, 가공, 변환 처리 등 부가 가치를 첨가한 후 불특정 다수를 대상으로 서비스하는 통신망</li></ul><h2 id="구조"><a class="markdownIt-Anchor" href="#구조"></a> 구조</h2><p>기본 통신 계층(전송 계층), 네트워크 계층(교환 계층), 통신 처리 계층, 정보 처리 계층</p><h3 id="통신-처리-기능"><a class="markdownIt-Anchor" href="#통신-처리-기능"></a> 통신 처리 기능</h3><ul><li>축적 교환 기능과 변환 기능을 이용해 서로 다른 기종 간, 다른 시간 대에 통신이 가능하도록 제공하는 서비스</li><li><strong>프로토콜 변환</strong> : 서로 다른 네트워크 간 또는 서로 다른 기종 간 통신이 가능하도록 통신 절차를 변환하는 기능</li></ul><h3 id="정보-처리-기능"><a class="markdownIt-Anchor" href="#정보-처리-기능"></a> 정보 처리 기능</h3><ul><li>온라인 실시간 처리, 원격 일괄 처리, 시분할 시스템을 이용해 응용 소프트웨어를 처리하는 기능</li></ul><h1 id="isdn"><a class="markdownIt-Anchor" href="#isdn"></a> ISDN</h1><ul><li>종합 정보 통신망 = Integrated Service Digital Network</li><li>다양한 통신 서비스를 하나의 디지털 통신망에서 제공할 수 있도록 통합한 것</li><li>통신 방식 및 전송로가 모두 디지털 방식</li><li>단일 통신망으로 음성, 문자, 영상 등의 다양한 서비스를 제공</li><li>고속 통신이 가능</li><li>확장성과 재배치성이 좋다.</li><li>동시에 복수 통신이 가능</li><li>통신망의 중복 투자를 피할 수 있어 경제적</li><li>64Kbps 1회선 교환 서비스가 기본</li><li>회선 교환 방식과 패킷 교환 방식</li></ul><h2 id="통신-서비스"><a class="markdownIt-Anchor" href="#통신-서비스"></a> 통신 서비스</h2><ul><li>베어러 서비스 : ISDN 사용자와 망 간의 인터페이스에서 단말이 전송하는 정보를 변형없이 그대로 전달만 하는 서비스</li><li>텔레 서비스 : 베어러 서비스를 기본으로 통신망, 단말장치 등에서 이용하는 고도의 기능을 부가하여 제공하는 서비스</li><li>부가 서비스 : 베어러 서비스나 텔레 서비스에 기능을 부가하여 서비스 이용률을 높이는 서비스</li></ul><h2 id="구조-2"><a class="markdownIt-Anchor" href="#구조-2"></a> 구조</h2><h3 id="b"><a class="markdownIt-Anchor" href="#b"></a> B</h3><ul><li>Bearer Channel</li><li>64Kbps</li><li>디지털 정보용 채널</li><li>정보를 전송하기 위한 기본적인 사용자 채널</li><li>PCM화된 디지털 음성이나 회선 교환에 의한 제어 신호, 패킷 교화넹 의한 정보 전송에 이용</li></ul><h3 id="d"><a class="markdownIt-Anchor" href="#d"></a> D</h3><ul><li>Data Channel</li><li>16Kbps, 64Kbps</li><li>디지털 신호용 채널</li><li>서비스 제어를 위한 신호 메세지를 전달하는 역할</li><li>저속 패킷 교환에 의한 정보 전송을 위해 사용</li></ul><h3 id="h"><a class="markdownIt-Anchor" href="#h"></a> H</h3><ul><li>Hybrid Channel</li><li>384Kbps, 1536Kbps, 1920Kbps</li><li>고속의 디지털 정보용 채널</li><li>B채널을 통해 제공하는 모든 방식의 정보를 고속으로전송</li><li>고속 팩스나 화상회의, 고속 대용량 정보 전송</li></ul><h2 id="참조점"><a class="markdownIt-Anchor" href="#참조점"></a> 참조점</h2><ul><li>Referance Point = 기준점 = 접속점 = 분계점</li><li>ISDN을 구성하는 각 요소간 인터페이스를 구분하는 기능</li><li>정보 통신망을 연결할 때 시설, 운영, 유지보수의 책임 한계를 구분하기 위한 접속점</li><li>U : User 내부망과 외부망 구분</li><li>T : Terminal 사용자 영역과 네트워크 영역을 구분</li><li>S : System 사용자 장비와 네트워크 장비를 구분</li><li>R : Rate 비 ISDN 단말기와 ISDN 장비를 구분</li></ul><h2 id="b-isdn"><a class="markdownIt-Anchor" href="#b-isdn"></a> B-ISDN</h2><ul><li>광대역 종합 정보 통신망 = BroadBand ISDN</li><li>광대역 전송 방식과 광대역 교환 방식을 통해 다양한 형태의 통신 서비스를 제공하는 광대역 ISDN</li><li>1.5 ~ 2Mbps 이상의 고속 전송과 고속 교환 기술</li><li>전송 방식은 ATM을 사용</li></ul><h3 id="b-isdn-참조-계층"><a class="markdownIt-Anchor" href="#b-isdn-참조-계층"></a> B-ISDN 참조 계층</h3><ul><li>물리 계층 : Physical Layer ATM 셀 전송</li><li><strong>ATM 계층</strong> : Asynchronous Transfer Mode Layer 가입자 정보 유형에 따라 셀 헤더 생성, 가입자 채널 다중화</li><li>ATM 적응 계층 : Asynchronous Transfer Mode Adaption Layer 패킷 메세지 생성</li></ul><blockquote><p>ATM</p><ul><li>Asynchronous Transfer Mode</li><li>회선 교환과 패킷 교환의 장점을 결합한 교환 및 다중화 기술</li><li>고정 길이의 셀 다누이로 전송하므로 전송 지연 시간을 예측 가능</li><li>가변 길이 패킷보다 처리가 간단하고 신뢰성이 더 높다.</li></ul></blockquote><h1 id="인터넷"><a class="markdownIt-Anchor" href="#인터넷"></a> 인터넷</h1><ul><li>TCP/IP 프로토콜을 기반으로 컴퓨터와 네트워크가 연결된 광범위한 컴퓨터 통신망</li><li>ARPANET에서 시작</li><li>유닉스 운영체제를 기반</li><li>모든 컴퓨터는 고유한 IP를 갖는다.</li><li>컴퓨터 또는 네트워크를 서로 연결하기 위해서 브리지, 라우터, 겡이트웨이가 사용됨</li><li>백본 : Backbone 인터넷의 주가 되는 기간망</li></ul><h2 id="인터넷-서비스"><a class="markdownIt-Anchor" href="#인터넷-서비스"></a> 인터넷 서비스</h2><ul><li>TCP/IP 응용계층에서 제공</li><li>WWW : HTTP 프로토콜을 사용하는 하이퍼텍스트 기반</li><li>Email : SMTP, POP3, MIME</li><li>텔넷 : 원격 접속, 가상 터미널 기능</li><li>HTTP : Hyper Text Transfer Protocol 하이퍼 텍스트 문서를 전송하기위해 사용되는 프로토콜</li><li>FTP</li><li>ASDL<ul><li>ASymmetri Digital Subscriber Line = 비대칭 디지털 가입자 회선</li><li>기존 전화선을 이용해 주파수가 서로 다른 음성 데이터와 디지털 데이터를 함께 보내는 방식</li><li>한 전화선으로 전화와 데이터 통신을 모두 처리 가능</li><li>전화국과 가정이 1대 1로 연결된 것</li><li>고속 데이터 통신이 가능</li><li>다운로드 속도가 업로드 속도보다 빠름</li></ul></li></ul><h1 id="인터넷-주소-체계"><a class="markdownIt-Anchor" href="#인터넷-주소-체계"></a> 인터넷 주소 체계</h1><h2 id="ip"><a class="markdownIt-Anchor" href="#ip"></a> IP</h2><ul><li>Internet Protocol Address</li><li>숫자로 8bit 씩 4부분, <strong>32bit로 구성</strong></li><li>네트워크 부분의 길이에 따라 A~E클래스의 5단계로 구성</li></ul><h3 id="a-class"><a class="markdownIt-Anchor" href="#a-class"></a> A Class</h3><ul><li>국가나 대형 통신망에 사용</li><li>2^24 개의 호스트 사용 가능</li><li>0과 127은 예약된 주소로 1~126으로 시작</li></ul><h3 id="b-class"><a class="markdownIt-Anchor" href="#b-class"></a> B Class</h3><ul><li>중대형 통신망에 사용</li><li>2^16 = 65536개의 호스트 사용 가능</li></ul><h3 id="c-class"><a class="markdownIt-Anchor" href="#c-class"></a> C Class</h3><ul><li>소규모 통신망에 사용</li><li>2^8 = 256 개의 호스트 사용 가능</li></ul><h3 id="d-class"><a class="markdownIt-Anchor" href="#d-class"></a> D Class</h3><ul><li><strong>멀티 캐스트 용으로 사용</strong></li></ul><h3 id="e-class"><a class="markdownIt-Anchor" href="#e-class"></a> E Class</h3><ul><li><strong>실험적 주소로 공용되지 않음</strong></li></ul><h2 id="서브네팅"><a class="markdownIt-Anchor" href="#서브네팅"></a> 서브네팅</h2><ul><li>Subnetting</li><li>할당된 네트워크 주소를 다시 여러 개의 작은 네트워크로 나눠 사용하는 것</li><li>4Byte의 IP 주소 중 네트워크 주소와 호스트 주소를 구분하기 위한 비트를 Subnet Mask라고 한다.</li><li>이를 변경해 네트워크 주소를 여러 개로 분할하여 사용</li><li>서브넷 마스크 기본값<ul><li>A Class = 255.0.0.0</li><li>B Class = 255.255.0.0</li><li>C Class = 255.255.255.0</li></ul></li></ul><h2 id="ipv6"><a class="markdownIt-Anchor" href="#ipv6"></a> IPv6</h2><ul><li>현재 사용하고 있는 IP 주소 체계인 IPv4의 주소 부족문제를 해결하기 위해 개발</li><li><strong>128bit</strong></li><li>Ipv4에 비해 자료 전송 속도가 빠르다.</li><li>인증성, 기밀성, 데이터 무결성의 지원으로 보안 문제 해결</li><li>실시간 흐름 제어로 향상된 멀티미디어 기능 지원</li><li>Traffic Class, Flow Label을 이용해 등급, 서비습려 패킷을 구분할 수 있어 품질 보장이 용이</li></ul><h3 id="ipv4에서-ipv6"><a class="markdownIt-Anchor" href="#ipv4에서-ipv6"></a> IPv4에서 IPv6</h3><ul><li>듀얼 스택 : 호스트에서 IPv4와 v6을 모두 처리할 수 있게 두개의 스택을 구성하는 것</li><li>터널링 : IPv6에서 인접한 IPv4망을 거쳐 IPv6망으로 통신할 때 IPv4 망에 터널을 만들어 IPv6 패킷이 통과할 수 있도록 하는 것</li><li>헤더 변환 : IP 계층에서 IPv6 패킷 헤더를 IPv4 헤더나 그 반대로 변환하는 방식</li><li>전송 계층 릴레이 방식 : 전송 계층에서 IPv6 헤더를 IPv4 헤더나 그 반대로 변환하는 방식</li><li>응용 계층 게이트웨이 방식 : 응용 계층에서 IPv6 패킷 헤더를 IPv4 패킷 헤더나 그 반대로 변화하는 방식</li></ul><h2 id="도메인-네임"><a class="markdownIt-Anchor" href="#도메인-네임"></a> 도메인 네임</h2><ul><li>Domain Name</li><li>숫자로 된 IP주소를 사람이 이해하기 쉬운 문자 형태로 표현한 것</li><li>문자로 된 도메인 네임을 컴퓨터가 이해할 수 있는 IP 주소로 변환하는 역할을 하는 시스템을 DNS</li></ul><h1 id="네트워크-장비"><a class="markdownIt-Anchor" href="#네트워크-장비"></a> 네트워크 장비</h1><h2 id="허브"><a class="markdownIt-Anchor" href="#허브"></a> 허브</h2><ul><li>사무실이나 가까운 거리의 컴퓨터를 연결하는 장치</li><li>신호 증폭 기능을 하는 리피터의 역할도 포함</li></ul><h2 id="리피터"><a class="markdownIt-Anchor" href="#리피터"></a> 리피터</h2><ul><li>전송되는 신호가 전송 선로의 특성 및 외부 충격의 요인으로 원래의 형태와 다르게 왜곡되거나 약해질 경우 원래의 신호 형태로 재생하여 다시 전송하는 역할</li><li>OSI7의 물리계층</li></ul><h2 id="브리지"><a class="markdownIt-Anchor" href="#브리지"></a> 브리지</h2><ul><li>Bridge</li><li>LAN과 LAN을 연결하거나 LAN안에서의 세그먼트(컴퓨터 그룹)를 연결하는 기능 수행</li><li>데이터 링크 계층 중 MAC 계층에서 사용 = MAC 브리지</li><li>트래픽 병목 현상을 줄인다.</li><li>네트워크를 분산적으로 구성할 수 있어 보완성을 높인다.</li><li>브리지를 이용한 서브넷 구성시 전송 가능한 회선 수는 n(n-1)/2</li></ul><h2 id="라우터"><a class="markdownIt-Anchor" href="#라우터"></a> 라우터</h2><ul><li>브리지와 같이 LAN과 LAN의 연결 기능에 데이터 전송의 쵲거 경로를 선택할 수 있는 기능이 추가된 것</li><li>서로 다른 LAN이나 LAN과 WAN의 연결도 수행</li><li>OSI7의 네트워크 계층</li><li>접속 가능한 경로에 대한 정보를 라우팅 테이블에 저장하여 보관</li><li>네트워크 계층 까지의 프로토콜 구조가 다른 네트워크 간의 연결으 위해 프로토콜 변환 기능을 수행</li></ul><h2 id="게이트웨이"><a class="markdownIt-Anchor" href="#게이트웨이"></a> 게이트웨이</h2><ul><li>전 계층의 프로토콜 구조가 다른 네트워크의 연결을 수행</li><li>세션 계층, 표현 계층, 응용 계층 간을 연결하여 데이터형식 변환, 주소 변환, 프로토콜 변환 등을 수행</li><li>LAN에서 다른 네트워크에 데이터를 보내거나 다른 네트워크로부터 데이터를 받아 들이는 출입구 역할</li></ul><h1 id="통신-프로토콜"><a class="markdownIt-Anchor" href="#통신-프로토콜"></a> 통신 프로토콜</h1><ul><li>Communication Protocol</li><li>서로 다른 기기 간의 데이터 교환을 원활하게 수행하도록 표준화 시켜놓은 통신 규약</li><li>통신을 제어하기 위한 표준 규칙과 절차의 집합</li><li>하드웨어와 소프트웨어, 문서를 모두 규정한다.</li><li>구성 요소 : <strong>구문(Syntax), 의미(Semantics), 시간(Timing)</strong></li></ul><h2 id="기능-2"><a class="markdownIt-Anchor" href="#기능-2"></a> 기능</h2><h3 id="단편화"><a class="markdownIt-Anchor" href="#단편화"></a> 단편화</h3><ul><li>Fragmentation</li><li>송신 측에서 전송할 데이터를 전송에 알맞은 일정 크기의 작은 블록으로 자르는 작업</li><li>단편화를 통해 세분화된 데이터 블록을 프로토콜 데이터 단위(PDU)라 한다.</li></ul><h3 id="재결합"><a class="markdownIt-Anchor" href="#재결합"></a> 재결합</h3><ul><li>Reassembly</li><li>수신 측에서 단편화된 블록을 원래의 데이터로 모으는 것</li></ul><h3 id="캡슐화"><a class="markdownIt-Anchor" href="#캡슐화"></a> 캡슐화</h3><ul><li>Encapsulation = 요약화</li><li>단편화된 데이터에 송수신지 주소, 오류 검출코드, 프로토콜 기능을 구현하기 위한 프로토콜 제어 정보 등의 정보를 부가하는 것</li><li>데이터 링크 제어 프로토콜의 HDLC 프레임이 있다.</li></ul><h3 id="흐름-제어-2"><a class="markdownIt-Anchor" href="#흐름-제어-2"></a> 흐름 제어</h3><ul><li>Flow Control</li><li>수신 측 처리능력에 따라 송신 측에서 송신하는 데이터의 전송량이나 전송 속도를 조절하는 기능</li><li>정지 대기, 슬라이딩 윈도우 방식</li></ul><h3 id="오류-제어"><a class="markdownIt-Anchor" href="#오류-제어"></a> 오류 제어</h3><h3 id="동기화"><a class="markdownIt-Anchor" href="#동기화"></a> 동기화</h3><h3 id="순서-제어"><a class="markdownIt-Anchor" href="#순서-제어"></a> 순서 제어</h3><ul><li>Sequencing</li><li>전송되는 데이터 블록에 전송 순서를 부여하는 기능</li><li>연결 위주의 데이터 전송방식에서만 사용</li></ul><h3 id="주소-지정"><a class="markdownIt-Anchor" href="#주소-지정"></a> 주소 지정</h3><h3 id="다중화-2"><a class="markdownIt-Anchor" href="#다중화-2"></a> 다중화</h3><h3 id="경로-제어-2"><a class="markdownIt-Anchor" href="#경로-제어-2"></a> 경로 제어</h3><h3 id="전송-서비스"><a class="markdownIt-Anchor" href="#전송-서비스"></a> 전송 서비스</h3><h2 id="전송-방식-3"><a class="markdownIt-Anchor" href="#전송-방식-3"></a> 전송 방식</h2><h3 id="문자-전송-방식"><a class="markdownIt-Anchor" href="#문자-전송-방식"></a> 문자 전송 방식</h3><ul><li>전송 제어 문자를 사용해 데이터 프레임의 시작과 끝을 나타내느 방식</li><li>BSC</li></ul><h3 id="바이트-전송-방식"><a class="markdownIt-Anchor" href="#바이트-전송-방식"></a> 바이트 전송 방식</h3><ul><li>데이터 프레임 헤더에 전송 데이터 프레임의 문자 수, 메세지 수신 상태 등의 제어 정보를 삽입하여 전송하는 방식</li><li>DDCM</li></ul><h3 id="비트-방식"><a class="markdownIt-Anchor" href="#비트-방식"></a> 비트 방식</h3><ul><li>데이터 프레임의 시작과 끝을 나타내는 고유한 비트 패턴을 삽입해 전송하는 방식</li><li>HDLC, SDLC, LAPB</li></ul><h1 id="osi-7-layer"><a class="markdownIt-Anchor" href="#osi-7-layer"></a> OSI 7 Layer</h1><ul><li>Open System Interconnection</li><li>다른 시스템 간의 원활한 통신을 위해 ISO에서 제안한 통신 규약</li><li>하위 계층 : 물리 계층 =&gt; 데이터 링크 계층 =&gt; 네트워크 계층</li><li>상위 계층 : 전송 계층 =&gt; 세션 계층 =&gt; 표현 계층 =&gt; 응용 계층</li><li><strong>물 데 네 전 세 표 응</strong></li></ul><h2 id="목적"><a class="markdownIt-Anchor" href="#목적"></a> 목적</h2><ul><li>서로 다른 시스템 간 상호 접속하기 위한 개념 규정</li><li>OSI 규격을 개발하기 위한 범위 설정</li><li>관련 규정의 적합성을 조절하기 위한 공통적 기반 제공</li></ul><h2 id="데이터-단위"><a class="markdownIt-Anchor" href="#데이터-단위"></a> 데이터 단위</h2><h3 id="프로토콜-데이터-단위"><a class="markdownIt-Anchor" href="#프로토콜-데이터-단위"></a> 프로토콜 데이터 단위</h3><ul><li>PDU = Protocol Data Unit</li><li>동일 계층 간에 교환되는 정보의 단위</li><li>물리 계층 : 비트</li><li>데이터 링크 계층 : 프레임</li><li>네트워크 계층 : 패킷</li><li>전송 계층 : 세그먼트</li><li>세션, 표현, 응용 계층 : 메세지</li></ul><h3 id="서비스-데이터-단위"><a class="markdownIt-Anchor" href="#서비스-데이터-단위"></a> 서비스 데이터 단위</h3><ul><li>SDU = Service Data Unit</li><li>SAP 를 통해 상하위 계층끼리 주고 받는 정보의 단위</li><li>SAP : 서비스 접근점 = 하위 계층과 상위 계층의 통신 경계점</li></ul><h2 id="물리-계층"><a class="markdownIt-Anchor" href="#물리-계층"></a> 물리 계층</h2><ul><li>전송에 필요한 두 장치 간의 실제 접속과 절단 등 기계적, 전기적, 기능적, 절차적 특성에 대한 규칙을 정의</li><li>물리적 전송 매체와 전송 신호 방식을 정의</li><li>RS-232C, X.21</li></ul><h2 id="데이터-링크-계층"><a class="markdownIt-Anchor" href="#데이터-링크-계층"></a> 데이터 링크 계층</h2><ul><li>두 개의 인접한 개방 시스템 간의 신뢰성 있고 효율적인 정보 전송을 할 수 있도록 한다.</li><li>송수신 측의 속도차이를 해결하기 위한 흐름 제어 기능</li><li>프레임의 시작과 끝을 구분하기 위한 프레임 동기화 기능</li><li>오류의 검출과 회복을 위한 오류 제어 기능</li><li>프레임의 순서적 전송을 위한 순서 제어 기능</li><li>HDLC, LAPB, LLC, LAPD, PPP</li></ul><h2 id="네트워크-계층"><a class="markdownIt-Anchor" href="#네트워크-계층"></a> 네트워크 계층</h2><ul><li>망 계층</li><li>개방 시스템들 간의 네트워크 연결을 관리하는 기능 및 데이터의 교환 기능, 중계 기능</li><li>네트워크 연결을 설정, 유지, 해제하는 기능</li><li>경로 설정, 데이터 교환 및 중계, 트래픽 제어, 패킷 정보 전송 수행</li><li>X.25, IP</li></ul><h2 id="전송-계층"><a class="markdownIt-Anchor" href="#전송-계층"></a> 전송 계층</h2><ul><li>Transport Layer</li><li>논리적 안정과 균일한 데이터 전송 서비스를 제공함으로 종단 시스템 간에 투명한 데이터 전송을 가능하게 함</li><li>하위 3계층과 상위 3계층 사이의 인터페이스 담당</li><li>종단 시스템 간의 전송 연결 설정, 데이터 전송, 연결 해제 기능</li><li>주소 설정, 다중화, 오류 제어, 흐름 제어</li><li>TCP, UDP</li><li>연결형과 비연결형 서비스로 구분</li></ul><h2 id="세션-계층"><a class="markdownIt-Anchor" href="#세션-계층"></a> 세션 계층</h2><ul><li>송수신 측 간의 관련성을 유지하고 대화 제어를 담당하는 계층</li><li>대화 구성 및 동기 제어, 데이터 교환 관리 기능</li><li>송수신 측 간의 대화 동기를 위해 전송하는 정보의 일정한 부분을 체크점을 두어 정보의 수신 상태를 체크하며 이 것을 동기점이라 한다.</li></ul><h2 id="표현-계층"><a class="markdownIt-Anchor" href="#표현-계층"></a> 표현 계층</h2><ul><li>Presentation Layer</li><li>응용 계층으로부터 받은 데이터를 세션 계층에 보내기 전에 통신에 적당한 형태로 변환하고 세션 계층에서 받은 데이터는 응용 계층에 맞게 변환하는 기능</li><li>서로 다른 데이터 표현 형태를 갖는 시스템 간의 상호 접속을 위해 필요한 계층</li><li>코드 변환, 데이터 암호화, 데이터 압축, 구문 검색, 정보 포맷 변환, 문맥 관리 기능</li></ul><h2 id="응용-계층"><a class="markdownIt-Anchor" href="#응용-계층"></a> 응용 계층</h2><ul><li>Application Layer</li><li>사용자 또는 응용 프로그램이 OSI환경에 접근할 수 있도록 서비스 제공</li><li>응용 프로세스 간의 정보 교환, 전자 사서함, 파일 전송, 가상 터미널 등의 서비스 제공</li></ul><h1 id="x25"><a class="markdownIt-Anchor" href="#x25"></a> X.25</h1><ul><li>DTE(데이터 터미널 장치)와 DCE(데이터 회선 종단 장치) 간의 인터페이스를 제공하는 프로토콜</li><li>두 단말장치가 패킷 교환망을 통해 패킷을 원할히 전달하기 위한 통신 절차</li><li>1976년 ITU-T에서 제정</li><li>연결형 프로토콜로 흐름제어, 오류 제어 기능</li><li>강력한 오류 체크 기능으로 신뢰성이 높다.</li><li>한 회선에 장애가 있어도 정상적인 경로를 선택해 우회 가능</li><li>디지털 전송을 기본</li><li>전송 품질 우수</li><li>가상 회선 방식을 사용해 하나의 물리적 회선에 다수의 논리 채널을 할당하므로 효율성이 높다.<ul><li>영구 가상회선 : PVC 두 단말기 사이에 영구적으로 가상회선이 연결된 것으로 호설정이나 해제의 절차가 필요 없음</li><li>교환 가상회선 : SVC 두 단말기 사이에 필요할 때마다 가상 회선 연결을 위해 호 설정과 호 해제 절차가 필요한 것 = 가상 호</li></ul></li><li><strong>X.25 모든 패킷은 최소 3옥텟의 헤더를 가진다.</strong></li><li><strong>축적 교환 방식을 사용</strong>해 전송을 위한 처리 지연 발생</li></ul><h2 id="계층-구조"><a class="markdownIt-Anchor" href="#계층-구조"></a> 계층 구조</h2><h3 id="물리-계층-2"><a class="markdownIt-Anchor" href="#물리-계층-2"></a> 물리 계층</h3><ul><li>단말장치(DTE)와 패킷 교환망(DCE) 사이의 물리적 접속에 관한 인터페이스를 정의하는 계층</li><li>X.21을 사용</li></ul><h3 id="프레임-계층"><a class="markdownIt-Anchor" href="#프레임-계층"></a> 프레임 계층</h3><ul><li>패킷의 원할한 전송을 위해 데이터 링크의 제어를 수행하는 계층</li><li>링크 계층</li><li>OSI 7 계층의 데이터 링크 계층에 해당</li><li>전송 제어를 위해 HDLC 프로토콜의 변형인 LAPB를 사용</li><li>다중화, 순서 제어, 오류 제어, 흐름 제어</li></ul><h3 id="패킷-계층"><a class="markdownIt-Anchor" href="#패킷-계층"></a> 패킷 계층</h3><ul><li>OSI 7 계층의 네트워크 계층</li><li>호 설정 =&gt; 데이터 전송 =&gt; 호 해제</li><li>데이터 전송 시 오류 제어, 순서 제어, 흐름 제어, 다중화, 망 고장시 복구 등의 데이터 전송 제어 기능 수행</li><li>호를 설정한 후 호 해제까지 가상 회선을 이용하여 통신 경로를 유지하므로 패킷을 끝까지 안전하게 전송 가능</li></ul><blockquote><p>LAPB</p><ul><li>Link Access Procedure on Balanced</li><li>HDLC의 원리를 이용한 비트 중심의 프로토콜</li><li>X.25의 2계층에서 사용</li><li>프레임 순서 번호를 유지하므로 오류 발견 및 회복이 쉽다.</li></ul><p>X.75</p><ul><li>두개의 X.25 네트워크를 연결하기 위한 프로토콜</li><li>다른 네트워크에 존재하는 사용자들이 데이터를 교환하고 자원을 공유하기 위한 절차를 정의</li></ul></blockquote><h1 id="tcpip"><a class="markdownIt-Anchor" href="#tcpip"></a> TCP/IP</h1><ul><li>Transmission Control Protocol/Internet Protocol</li><li>인터넷에 연결된 서로 다른 기종의 컴퓨터가 데이터를 주고받을 수 있도록 하는 표준 프로토콜</li><li>1960년 말 ARPA에서 개발에서 ARPANET에서 사용하기 시작</li><li>UNIX의 기본 프로토콜</li><li>현재 인터넷 범용 프로토콜</li></ul><h2 id="tcp"><a class="markdownIt-Anchor" href="#tcp"></a> TCP</h2><ul><li>OSI 7 계층의 <strong>전송 계층</strong>에 해당</li><li>신뢰성 있는 <strong>연결형 서비스 제공</strong></li><li>패킷의 다중화, 순서 제어, 오류 제어, 흐름 제어 기능 제공</li><li><strong>스트림 전송 기능 제공</strong></li><li>헤더에는 순서를 제어하기 위한 긴급 포인터, 순서 번호와 오류 제어를 위한 체크섬이 포함</li><li>투명성이 보장되는 통신 제공</li></ul><h2 id="ip-2"><a class="markdownIt-Anchor" href="#ip-2"></a> IP</h2><ul><li>OSI 7 계층의 <strong>네트워크 계층</strong>에 해당</li><li><strong>데이터그램을 기반으로 하는 비연결형 서비스 제공</strong></li><li><strong>패킷의 분해/조립, 주소지정, 경로 선택기능 제공</strong></li><li>헤더의 길이는 최소 20Byte에서 최대 60Byte</li><li><strong>신뢰성이 보장되지 않는다.</strong></li></ul><h2 id="구조-3"><a class="markdownIt-Anchor" href="#구조-3"></a> 구조</h2><h3 id="응용-계층-2"><a class="markdownIt-Anchor" href="#응용-계층-2"></a> 응용 계층</h3><ul><li>OSI의 응용, 표현, 세션 계층</li><li>응용 프로그램 간 데이터 송수신 제공</li><li>TELNET, FTP, SMTP, SNMP</li></ul><h3 id="전송-계층-2"><a class="markdownIt-Anchor" href="#전송-계층-2"></a> 전송 계층</h3><ul><li>OSI의 전송 계층</li><li>호스트들 간의 신뢰성 있는 통신 제공</li><li>TCP, UDP</li></ul><h3 id="인터넷-계층"><a class="markdownIt-Anchor" href="#인터넷-계층"></a> 인터넷 계층</h3><ul><li>OSI의 네트워크 계층</li><li>데이터 전송을 위한 주소 지정, 경로 설정 제공</li><li>IP, ICMP, IGMP, ARP, RARP</li></ul><h3 id="네트워크-액세스-계층"><a class="markdownIt-Anchor" href="#네트워크-액세스-계층"></a> 네트워크 액세스 계층</h3><ul><li>OSI의 데이터 링크계층, 물리 계층</li><li>실제 데이터를 송수신하는 역할</li><li>Ethernet, IEEE 802, HDLC, X.25, RS-232C</li></ul><h2 id="응용-계층-주요-프로토콜"><a class="markdownIt-Anchor" href="#응용-계층-주요-프로토콜"></a> 응용 계층 주요 프로토콜</h2><ul><li>FTP</li><li>SMTP</li><li>TELNET</li><li>SNMP : 간이 망 관리 프로토콜</li><li>DNS : 도메인 네임 서비스</li></ul><h2 id="전송-계층-주요-프로토콜"><a class="markdownIt-Anchor" href="#전송-계층-주요-프로토콜"></a> 전송 계층 주요 프로토콜</h2><ul><li>TCP</li></ul><h3 id="udp"><a class="markdownIt-Anchor" href="#udp"></a> UDP</h3><ul><li>User Datagram Protocol</li><li>데이터 전송 전에 연결을 설정하지 않는 <strong>비연결형 서비스</strong></li><li>TCP에 비해 상대적으로 단순한 헤더구조를 가져 오버헤드가 적다.</li><li>고속의 안정성 있는 전송매체를 사용해 빠른 속도를 필요로 하는 경우, 동시에 여러 사용자에게 데이터를 전달할 경우, 정기적으로 반복해서 전송할 경우 사용</li><li>실시간 전송에 유리</li><li><strong>신뢰성보다 속도가 중요시되는 네트워크에 사용</strong></li><li>헤더에는 Source Port Number, Destination Port Number, Length, Checksum이 포함</li></ul><h3 id="rtcp"><a class="markdownIt-Anchor" href="#rtcp"></a> RTCP</h3><ul><li>RealTime Control Protocol</li><li>RTP 패킷의 전송 품질을 제어하기 위한 프로토콜</li><li>세션에 참여한 각 참여자에게 주기적으로 제어 정보를 전송</li><li>하위 프로토콜은 데이터 패킷과 제어 패킷의 다중화를 제공</li><li>데이터 전송을 모니터링하고 최소한의 제어와 인증 기능만을 제공</li><li>32bit의 경계로 끝난다.</li></ul><h2 id="인터넷-계층의-주요-프로토콜"><a class="markdownIt-Anchor" href="#인터넷-계층의-주요-프로토콜"></a> 인터넷 계층의 주요 프로토콜</h2><ul><li>IP</li></ul><h3 id="icmp"><a class="markdownIt-Anchor" href="#icmp"></a> ICMP</h3><ul><li>Internet Control Message Protocol</li><li>IP와 조합하여 통신중 발생하는 오류의 처리와 전송 경로 변경 등을 위한 제어 메세지를 관리하는 역할</li><li>헤더는 8Byte</li></ul><h3 id="igmp"><a class="markdownIt-Anchor" href="#igmp"></a> IGMP</h3><ul><li>Internet Group Management Protocol</li><li>멀티캐스트를 지원하는 호스트나 라우터 사이에서 멀티캐스트 그룹 유지를 위해 사용</li></ul><h3 id="arp"><a class="markdownIt-Anchor" href="#arp"></a> ARP</h3><ul><li>Address Resolution Protocol = 주소 분석 프로토콜</li><li>호스트의 <strong>IP주소를 물리적 주소(MAC Address)로 바꿈</strong></li></ul><h3 id="rarp"><a class="markdownIt-Anchor" href="#rarp"></a> RARP</h3><ul><li>Reverse Address Resolution Protocol</li><li>ARP와 반대로 <strong>물리적 주소를 IP 주소로 바꿈</strong></li></ul><h2 id="네트워크-액세스-계층의-주요-프로토콜"><a class="markdownIt-Anchor" href="#네트워크-액세스-계층의-주요-프로토콜"></a> 네트워크 액세스 계층의 주요 프로토콜</h2><ul><li>Ethernet : IEEE 802.3 CSMA/CD 방식의 LAN</li><li>IEEE 802 : LAN을 위한 표준 프로토콜</li><li>HDLC : 비트 위주의 데이터 링크 제어 프로토콜</li><li>X.25 : 패킷 교환망을 통한 DTE와 DCE 간의 인터페이스르 제공하는 프로토콜</li><li>RS-232C : 공중 전화 교환망을 통한 DTE와 DCE 간의 인터페이스를 제공하는 프로토콜</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu에서 timezone 변경</title>
      <link href="/2017/02/14/Ubuntu-change-timezone/"/>
      <url>/2017/02/14/Ubuntu-change-timezone/</url>
      
        <content type="html"><![CDATA[<p>Ubuntu 설치시 다른 국가로 되어있는 시간대를 바꿔야한다.</p><h1 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tzselect</span><br></pre></td></tr></table></figure><p>명령어를 실행하면 아래처럼 번호를 선택할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Please identify a location so that time zone rules can be <span class="built_in">set</span> correctly.</span><br><span class="line">Please select a continent, ocean, <span class="string">"coord"</span>, or <span class="string">"TZ"</span>.</span><br><span class="line"> 1) Africa</span><br><span class="line"> 2) Americas</span><br><span class="line"> 3) Antarctica</span><br><span class="line"> 4) Asia</span><br><span class="line"> 5) Atlantic Ocean</span><br><span class="line"> 6) Australia</span><br><span class="line"> 7) Europe</span><br><span class="line"> 8) Indian Ocean</span><br><span class="line"> 9) Pacific Ocean</span><br><span class="line">10) coord - I want to use geographical coordinates.</span><br><span class="line">11) TZ - I want to specify the time zone using the Posix TZ format.</span><br><span class="line"><span class="comment">#? 4</span></span><br></pre></td></tr></table></figure><p>4번 아시아를 선택하면 국가 선택지가 나온다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Please select a country whose clocks agree with yours.</span><br><span class="line"> 1) Afghanistan           18) Israel                35) Palestine</span><br><span class="line"> 2) Armenia               19) Japan                 36) Philippines</span><br><span class="line"> 3) Azerbaijan            20) Jordan                37) Qatar</span><br><span class="line"> 4) Bahrain               21) Kazakhstan            38) Russia</span><br><span class="line"> 5) Bangladesh            22) Korea (North)         39) Saudi Arabia</span><br><span class="line"> 6) Bhutan                23) Korea (South)         40) Singapore</span><br><span class="line"> 7) Brunei                24) Kuwait                41) Sri Lanka</span><br><span class="line"> 8) Cambodia              25) Kyrgyzstan            42) Syria</span><br><span class="line"> 9) China                 26) Laos                  43) Taiwan</span><br><span class="line">10) Cyprus                27) Lebanon               44) Tajikistan</span><br><span class="line">11) East Timor            28) Macau                 45) Thailand</span><br><span class="line">12) Georgia               29) Malaysia              46) Turkmenistan</span><br><span class="line">13) Hong Kong             30) Mongolia              47) United Arab Emirates</span><br><span class="line">14) India                 31) Myanmar (Burma)       48) Uzbekistan</span><br><span class="line">15) Indonesia             32) Nepal                 49) Vietnam</span><br><span class="line">16) Iran                  33) Oman                  50) Yemen</span><br><span class="line">17) Iraq                  34) Pakistan</span><br><span class="line"><span class="comment">#? 23</span></span><br></pre></td></tr></table></figure><p>국가를 선택 후 마지막으로 확인을 해주면</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">The following information has been given:</span><br><span class="line"></span><br><span class="line">        Korea (South)</span><br><span class="line"></span><br><span class="line">Therefore TZ=\<span class="string">'Asia/Seoul\'</span> will be used.</span><br><span class="line">Local time is now:      Tue Feb 14 23:04:10 KST 2017.</span><br><span class="line">Universal Time is now:  Tue Feb 14 14:04:10 UTC 2017.</span><br><span class="line">Is the above information OK?</span><br><span class="line">1) Yes</span><br><span class="line">2) No</span><br><span class="line"><span class="comment">#? 1</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">Here is that TZ value again, this time on standard output so that you</span><br><span class="line">can use the /usr/bin/tzselect <span class="built_in">command</span> <span class="keyword">in</span> shell scripts:</span><br><span class="line">Asia/Seoul</span><br></pre></td></tr></table></figure><p>성공적으로 반영되었다.</p><h1 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ date</span><br><span class="line">Tue Feb 14 23:04:21 KST 2017</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP에서 HTML tag 사이의 문자 가져오기</title>
      <link href="/2017/02/13/php-get-text-between-tags/"/>
      <url>/2017/02/13/php-get-text-between-tags/</url>
      
        <content type="html"><![CDATA[<p>PHP 로 페이지를 크롤링한 후 HTML tag 안의 데이터가 필요할 때 함수 하나로 해결할 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [splitBetweenStr 텍스트 사이의 문자열을 배열로 반환]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [string] $str        [전체 문자열]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [string] $startWord  [찾을 시작 문자열]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [string] $endWord    [찾을 종료 문자열]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> [array]              [텍스트 사이의 문자열 배열]</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ex) splitBetweenStr('&lt;br&gt;hi&lt;/br&gt;&lt;b&gt;test&lt;/b&gt;&lt;br&gt;graceful_light&lt;/br&gt;', '&lt;br&gt;', '&lt;/br&gt;')</span></span><br><span class="line"><span class="comment"> *     =&gt; ['hi', 'graceful_light']</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">splitBetweenStr</span><span class="params">($str, $startWord, $endWord)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> ($i=<span class="number">0</span>, $len=strlen($str); $i&lt;$len; $i++) &#123;</span><br><span class="line">        $target = substr($str,$i);</span><br><span class="line">        $prevStartIdx = strpos($target, $startWord);</span><br><span class="line">        $startIdx = $prevStartIdx + strlen($startWord);</span><br><span class="line">        $endIdx = strpos(substr($target, $startIdx), $endWord);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($prevStartIdx===<span class="keyword">false</span> || $endIdx===<span class="keyword">false</span>) &#123;</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             $betweenStrings[] = substr($target, $startIdx, $endIdx);</span><br><span class="line">             $i += $startIdx + $endIdx + strlen($endWord) - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $betweenStrings;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>물론 <a href="https://packagist.org/search/?q=crawl&amp;orderBys%5B0%5D%5Bsort%5D=downloads&amp;orderBys%5B0%5D%5Border%5D=desc" target="_blank" rel="external nofollow noopener noreferrer">다른 크롤러 라이브러리</a>를 사용하는게 속편하다.<br>호스팅 환경에서는 유용하게 사용할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>소프트웨어 공학 정리</title>
      <link href="/2017/02/12/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%EA%B3%B5%ED%95%99-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/02/12/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%EA%B3%B5%ED%95%99-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="소프트웨어"><a class="markdownIt-Anchor" href="#소프트웨어"></a> 소프트웨어</h1><ul><li>하드웨어를 동작시켜 사용자가 작업을 편리하게 수행하도록하는 프로그램과 자료구조</li><li>프로그램 개발, 운용, 유지보수 관련된 모든 문서와 정보를 포함</li><li>상품성 : 개발된 소프트웨어는 상품화되어 판매된다.</li><li>견고성 : 일부 수정으로 소프트웨어 전체에 영향을 줄 수 있다.</li><li>복잡성 : 개발과정이 복잡, 비표준화</li><li>순응성 : 사용자의 요구나 환경 변화에 적절히 변경</li><li>비가시성 : 소프트웨어 구조는 외관으로 나타나지 않고 코드로 숨어 있다.</li><li>비마모성 : 마모되거나 소멸되지 않는다.</li><li>비제조성 : 하드웨어처럼 제작이 아니라 논리적인 절차에 맞게 개발</li><li>비과학성 : 과학적이 아니라 조직, 인력, 시간, 절차 등 중심</li></ul><h2 id="분류"><a class="markdownIt-Anchor" href="#분류"></a> 분류</h2><ul><li>기능에 의한 분류 : 시스템, 응용</li><li>사용 분야에 의한 분류 : 프로그래밍, 문서, 통신, 분산처리, 멀티미디어, 개발, 인공지능</li><li>개발 과정 성격에 따른 분류 : 프로토타입, 프로젝트 산출물, 패키지</li><li>정보처리 방법에 따른 분류 : 일괄처리, 온라인, 실시간</li></ul><h2 id="시스템-구성요소"><a class="markdownIt-Anchor" href="#시스템-구성요소"></a> 시스템 구성요소</h2><ul><li>입력 : 처리 방법, 처리할 데이터, 조건을 시스템에 투입하는 것</li><li>처리 : 입력된 데이터를 처리 방법과 조건에 따라 처리하는 것</li><li>출력 : 처리된 결과를 시스템에서 산출하는 것</li><li>제어 : 자료를 입력하여 출력될 때까지의 처리 과정이 올바르게 진행되는지 감독하는 것</li><li>피드백 : 출력된 결과가 예정된 목표를 만족시키지 못할 경우 목표 달성을 위해 반복 처리 하는 것</li></ul><h2 id="위기"><a class="markdownIt-Anchor" href="#위기"></a> 위기</h2><p>여러가지 원인해 의해 개발 속도가 하드웨어의 개발속도를 따라가지 못해 소프트웨어에 대한 사용자들의 요구사항을 처리할 수 없는 문제가 발생함을 의미</p><ul><li>소프트웨어의 특징에 대한 이해 부족 : 물리적이지 않고 논리적인 소프트웨어 특징을 이해하지 못함</li><li>소프트웨어의 관리 부재 : 소프트웨어에 대한 관리를 소홀히 하여 효율적인 자원 통제가 이루어지지 못했다.</li><li>프로그래밍에만 치중 : 소프트웨어 품질이나 유지보수는 고려하지 않고, 프로그래밍만 하려하므로 다양하고 복잡해지는 소프트웨어의 요구사항을 처리하지 못함</li><li>개발 인력 부족과 그로 인한 인건비 상승</li><li>성능 및 신뢰성 부족</li><li>개발 기간 지연 및 개발 비용 증가</li><li>유지보수가 어려워져 비용 증가</li><li>소프트웨어의 생산성 저하</li><li>소프트웨어의 품질 저하</li></ul><h1 id="소프트웨어-공학"><a class="markdownIt-Anchor" href="#소프트웨어-공학"></a> 소프트웨어 공학</h1><ul><li>소프트웨어의 위기를 극복하기 위한 방안으로 연구된 학문</li><li>소프트웨어의 품질과 생산성 향상을 목적</li><li>IEEE 정의 : 소프트웨어의 개발, 운용, 유지보수, 폐기 처분에 대한 체계적인 접근 방안</li><li>Fairley 정의 : 지정된 비용과 기간 내의 소프트웨어를 체계적으로 생산하고 유지보수하는 데 관련된 기술적이고 관리적인 원리</li><li>Boehm 정의 : 과학적인 지식을 소프트웨어 설계와 제작에 응용하는 것이며 이를 개발 운용, 유지보수하는 데 필요한 문서 작성 과정</li><li>제품을 단지 생산하는 것이 아니라 가장 경제적인 방법으로 양질의 제품을 생산하는 것</li><li>계층화 기술을 사용한다.</li></ul><h2 id="계층화-기술"><a class="markdownIt-Anchor" href="#계층화-기술"></a> 계층화 기술</h2><p>도구, 방법, 절차가 있다.</p><ul><li>도구 : Tool 절차와 방법을 자동 또는 반자동으로 처리하는 기능을 제공, 대표적으로 CASE를 사용</li><li>방법 : Method 소프트웨어를 구축하는 기술적인 방법을 제공</li><li>절차 : Process<ul><li>소프트웨어 개발에 사용되는 개발 방법과 도구가 사용되는 순서</li><li>계층화 기술들을 결합시켜 합리적이고 적절한 방법으로 소프트웨어를 개발하고 유지</li></ul></li></ul><h2 id="기본-원칙"><a class="markdownIt-Anchor" href="#기본-원칙"></a> 기본 원칙</h2><ul><li>현대적인 프로그래밍 기술을 계속적으로 적용해야한다.</li><li>개발된 소프트웨어 품질이 유지되도록 지속적으로 검증해야한다.</li><li>소프트웨어 개발 관련 사항 및 결과에 대한 명확한 기록을 유지해야한다.</li></ul><h2 id="발전-과정"><a class="markdownIt-Anchor" href="#발전-과정"></a> 발전 과정</h2><ul><li>1960 : 소프트웨어 공학의 시작, 구조적 프로그래밍</li><li>1970 : 구조적 분석/설계 개념 도입, 상품화</li><li>1980 : 하드웨어 가격 하락</li><li>1985~ : 객체지향 기술 사용, CASE 등의 활용, 재공학</li></ul><h2 id="품질과-생산성"><a class="markdownIt-Anchor" href="#품질과-생산성"></a> 품질과 생산성</h2><h3 id="품질"><a class="markdownIt-Anchor" href="#품질"></a> 품질</h3><ul><li>사용자가 요구하는 대로 동작</li><li>하드웨어 자원을 효율적으로 이용</li><li>일정 시간 내에 주어진 조건하에서 원하는 기능을 실행</li><li>처리 절차에 맞게 수행되어 정확하게 결과가 산출</li><li>소프트웨어의 개발, 유지보수 등이 초기 예상 비용 이내에서 수행</li><li>적당한 사용자 인터페이스를 제공해 사용하기가 편리해야한다.</li><li>유지보수가 용이하고 신뢰성이 높아야한다.</li><li>에러가 최소화</li><li>소프트웨어 사용법, 구조의 설명, 성능, 기능이 이해하기 쉬어야한다.</li><li>실행 속도가 빠르고, 기억 용량을 적게 차지해야 한다.</li></ul><h3 id="생산성"><a class="markdownIt-Anchor" href="#생산성"></a> 생산성</h3><p>투입된 비용, 노력에 대한 생산량을 의미</p><ul><li>개발자의 능력</li><li>원활한 의사 전달</li><li>프로젝트의 복잡도와 성격</li><li>기술 수준</li><li>관리 기술</li></ul><h1 id="생명-주기"><a class="markdownIt-Anchor" href="#생명-주기"></a> 생명 주기</h1><ul><li>소프트웨어 수명 주기</li><li>소프트웨어 개발 방법론의 바탕</li><li>소프트웨어를 개발하기 위해 정의하고 운용, 유지보수 등의 과정을 단계별로 나눈 것</li><li>프로젝트 비용 산정과 개발 계획을 수립할 수 있는 기본 골격</li><li>프롲게트 진행 방향을 명확하게 파악</li><li>용어 및 기술의 표준화를 가능하게 한다.</li><li>프로젝트 관리를 용이하게 한다.</li><li>여러 소프트웨어 간 상호 일관성을 유지하게 한다.</li></ul><h2 id="단계"><a class="markdownIt-Anchor" href="#단계"></a> 단계</h2><p>정의 단계, 개발단계, 유지보수 단계로 나뉨</p><h3 id="정의-단계"><a class="markdownIt-Anchor" href="#정의-단계"></a> 정의 단계</h3><ul><li>소프트웨어를 개발할 것인지 정의하는 단계</li><li><strong>관리자와 사용자가 가장 많이 참여하는 단계</strong></li><li>타당성 검토단계, 개발 계획단계, 요구사항 분석 단계로 나뉨</li></ul><h3 id="개발-단계"><a class="markdownIt-Anchor" href="#개발-단계"></a> 개발 단계</h3><ul><li>실제적으로 소프트웨어를 개발하는 단계</li><li>설계 단계 : 구조, 알고리즘, 자료구조를 작성하는 단계로 에러가 가장 많이 발생</li><li>구현 단계 : 설계 단계에서 작성된 문서를 기초로 하여 코딩하고 번역하는 단계</li><li>테스트 단계 : 구현된 소프트웨어에 내재되어 있는 오류를 찾아주는 단계</li></ul><h3 id="유지보수-단계"><a class="markdownIt-Anchor" href="#유지보수-단계"></a> 유지보수 단계</h3><ul><li>소프트웨어를 적응 및 유지시키는 단계</li><li>소프트웨어 생명 주기 단계 중에서 시간과 비용이 가장 많이 든다.</li></ul><blockquote><p>정의 : 개발 계획, 요구사항 분석<br>설계 : 구조, 알고리즘<br>구현 : 코딩<br>테스트 : 오류 검출</p></blockquote><h1 id="생명-주기-모형"><a class="markdownIt-Anchor" href="#생명-주기-모형"></a> 생명 주기 모형</h1><h2 id="폭포수-모형"><a class="markdownIt-Anchor" href="#폭포수-모형"></a> 폭포수 모형</h2><ul><li>소프트웨어 개발이 각 단계를 확실히 매듭짓고 그 결과를 철저히 검토하여 승인한 뒤 다음 단계로 진행</li><li><strong>이전 단계로 넘어갈 수 없는 방식</strong></li><li>가장 오래되고 <strong>가장 폭넓게 사용된 전통적인 소프트웨어 생명 주기 모형</strong></li><li>고전적 생명 주기 모형</li><li>앞 단계가 끝나야만 다음 단계로 넘어갈 수 있는 선형 순차적 모형</li><li>제품의 일부가 될 매뉴얼을 작성해야 한다.</li><li><strong>타당성 검토 =&gt; 계획 =&gt; 요구 분석 =&gt; 설계 =&gt; 구현(코딩) =&gt; 테스트(검사) =&gt; 유지보수</strong></li><li>모형 적용 경험과 성공 사례가 많다.</li><li>단계별 정의가 분명하고 전체 공조의 이해가 용이하다.</li><li>단계별 산출물이 정확하여 개발 공정의 기준점을 잘 제시한다.</li><li>개발 중 발생하는 새로운 요구나 경험을 반영하기 어려워 처음부터 사용자가 모든 요구사항을 명확하게 제시해야한다.</li><li>오류 없이 다음 단계로 진행해야 하는데 현실적으로 힘들다.</li><li>업무에 운용할 때 검출되지 않은 오류가 발생할 수 있다.</li></ul><h2 id="프로토타입-모형"><a class="markdownIt-Anchor" href="#프로토타입-모형"></a> 프로토타입 모형</h2><ul><li><strong>사용자의 요구사항을 정확하게 파악하기 위해 프로토타입</strong>(견본품)을 만들어 최종 결과물을 예측하는 모형</li><li>시제품은 사용자와 시스템 사이의 인터페이스에 중점을 두어 개발한다.</li><li>폭포수 모형의 단점을 보완</li><li>프로토타입은 요구 분석 단계에서 사용한다.</li><li>소프트웨어 생명주기에서 유지보수가 없어지고, 개발 단계 안에서 유지 보수가 이뤄지는 것으로 볼 수 있다.</li><li><strong>요구 수집 =&gt; 빠른 설계 =&gt; 프로토타입 구축 =&gt; 고객 평가 =&gt; 프로토타입 조정 =&gt; 구현</strong></li><li>요구사항을 충실히 반영하며 요구사항의 변경이 용이</li><li>최종 결과물이 만들어지기 전에 의뢰자가 최종 결과물의 일부 또는 모형을 볼 수 있다.</li><li>프로토타입은 의뢰자나 개발자 모두에게 공동의 참조 모델을 제공한다.</li><li>미리 제작된 소프트웨어를 사용할 경우 실제 소프트웨어와의 차이가 발생할 수 있다.</li><li>단기간 제작해야되기 때문에 비효율적 언어나 알고리즘을 사용할 수 있다.</li></ul><h2 id="나선형-모형"><a class="markdownIt-Anchor" href="#나선형-모형"></a> 나선형 모형</h2><ul><li>Boehm이 제안한 것으로 폭포수와 프로토타입 모형의 장점에 위험 분석 기능을 추가한 모형</li><li>여러 번의 개발 과정을 거쳐 점진적으로 완벽한 최종 소프트웨어를 개발하는 것</li><li>점진적 모형</li><li>소프트웨어를 개발하면서 발생하는 위험을 관리하고 최소화하는 것을 목적으로 한다.</li><li><strong>계획 및 정의 =&gt; 위험 분석 =&gt; 공학적 개발 =&gt; 고객평가의 반복</strong></li><li>Planning =&gt; Risk Analysis =&gt; Engineering =&gt; Customer Evalutation</li><li>가장 현실적인 모형</li><li>대규모 프로젝트나 큰 시스템에 적합하다.</li><li>개발 과정이 반복되므로 누락되거나 추가된 요구사항을 추가할 수 있고, 정밀하며 유지보수가 필요 없다.</li><li>위험성 평가에 크게 의존하기 때문에 발견하지 못하면 문제가 발생한다.</li><li>비교적 최신 기법이라 널리 사용되지 않는다.</li></ul><h2 id="4gt-모형"><a class="markdownIt-Anchor" href="#4gt-모형"></a> 4GT 모형</h2><ul><li>사용자와 개발자가 쉽게 접근하고 사용할 수 있는 4세대 언어를 이용하여 개발자가 조사한 요구사항 명세서로부터 원시 코드를 자동으로 생성할 수 있게 해주는 모형</li><li>설계 단계를 축소하고 요구 분석단계에서 코딩단계로 전환할 수 있는 <strong>비절차적 모형</strong></li><li>요구사항 수집 =&gt; 설계 전략 =&gt; 4세대 언어를 이용한 구현 =&gt; 제품화</li><li>중소형 소프트웨어 개발에는 시간이 감소하지만 대규모에서는 자동화로 인해 분석 설계 단계에서 더 많은 시간이 필요</li></ul><h1 id="프로젝트-관리"><a class="markdownIt-Anchor" href="#프로젝트-관리"></a> 프로젝트 관리</h1><ul><li>주어진 기간 내에 최소의 비용으로 사용자를 만족시키는 시스템을 개발하기 위한 활동</li><li>소프트웨어 개발 계획을 세우고 분석, 설계, 구현 등 작업을 통제하는 것</li><li>소프트웨어 생명 주기의 전 과정에 걸쳐 진행된다.</li></ul><h2 id="관리-대상"><a class="markdownIt-Anchor" href="#관리-대상"></a> 관리 대상</h2><ul><li>계획관리 : 프로젝트 계획, 비용산정, 일정 계획, 조직 계획</li><li>품질관리</li><li>위험관리</li></ul><h2 id="3대-요소"><a class="markdownIt-Anchor" href="#3대-요소"></a> 3대 요소</h2><ul><li>사람 : People 프로젝트 관리에서 가장 기본이 되는 인적자원</li><li>문제 : Problem 사용자 입장에서 문제를 분석하여 인식</li><li>프로세스 : Process 소프트웨어 개발에 필요한 전체적인 작업 계획 및 구조</li></ul><h2 id="구성-단계"><a class="markdownIt-Anchor" href="#구성-단계"></a> 구성 단계</h2><ul><li>프로젝트 계획 수립</li><li>프로젝트 가동</li><li>프로젝트 통제</li><li>프로젝트 종료</li></ul><h1 id="프로젝트-계획-수립"><a class="markdownIt-Anchor" href="#프로젝트-계획-수립"></a> 프로젝트 계획 수립</h1><ul><li>프로젝트가 수행되기 전에 소프트웨어 개발 영역 결정, 필요한 자원, 비용, 일정 등을 예측하는 작업</li><li>관리자가 합리적으로 예측할 수 있도록 프레임워크 제공</li><li>소프트웨어 개발 과정에서 발생할 수 있는 위험성 최소화</li><li>계획 수립 후에는 시스템 정의서와 프로젝트 계획서가 산출</li><li>프로젝트 관리자의 임무</li></ul><h2 id="소프트웨어-개발-영역-결정"><a class="markdownIt-Anchor" href="#소프트웨어-개발-영역-결정"></a> 소프트웨어 개발 영역 결정</h2><ul><li>프로젝트 계획 수립의 첫 번째 업무</li><li>개발될 소프트웨어의 영역을 결정</li><li>주요 요소 : 처리될 데이터, 소프트웨어에 대한 기능, 성능, 제약 조건, 신뢰도, 인터페이스 등</li><li>인터페이스<ul><li>소프트웨어에 의해 간접적으로 제어되는 장치와 소프트웨러를 실행하는 프로세서나 하드웨어</li><li>운영체제, 서브루틴 패키지와 같이 새로운 소프트웨어에 연결되어야 하는 소프트웨어</li><li>키보드나 기타 I/O 장치를 통해 소프트웨어를 사용하는 사람</li><li>순서적인 연산에 의해 소프트웨어를 실행하는 절차</li></ul></li></ul><h2 id="자원-추산"><a class="markdownIt-Anchor" href="#자원-추산"></a> 자원 추산</h2><ul><li>소프트웨어 개발에 필요한 자원을 예측하는 것</li><li>인적자원, 재사용 소프트웨어자원, 환경 자원</li></ul><h2 id="소프트웨어-프로젝트-추산"><a class="markdownIt-Anchor" href="#소프트웨어-프로젝트-추산"></a> 소프트웨어 프로젝트 추산</h2><ul><li>프로젝트 수행에 필요한 비용을 예측하는 것</li></ul><h2 id="프로젝트-계획-수립시-고려사항"><a class="markdownIt-Anchor" href="#프로젝트-계획-수립시-고려사항"></a> 프로젝트 계획 수립시 고려사항</h2><ul><li>프로젝트 복잡도</li><li>프로젝트 규모</li><li>구조적 불확실성의 정도</li><li>과거 정보의 가용성</li><li>위험성</li></ul><h1 id="소프트웨어-프로젝트-추산-2"><a class="markdownIt-Anchor" href="#소프트웨어-프로젝트-추산-2"></a> 소프트웨어 프로젝트 추산</h1><ul><li>비용을 예측하는 작업</li><li>가장 어렵고 오차 발생이 심한 작업</li></ul><h2 id="프로젝트-비용-결정-요소"><a class="markdownIt-Anchor" href="#프로젝트-비용-결정-요소"></a> 프로젝트 비용 결정 요소</h2><h3 id="프로젝트-요소"><a class="markdownIt-Anchor" href="#프로젝트-요소"></a> 프로젝트 요소</h3><ul><li>제품의 복잡도</li><li>시스템의 크기</li><li>요구되는 신뢰도 : 일정한 기간 내에 주어진 조건 하에서 필요한 기능을 수행하는 정도</li></ul><h3 id="자원-요소"><a class="markdownIt-Anchor" href="#자원-요소"></a> 자원 요소</h3><ul><li>인적 자원 : 관리자, 개발자의 자질</li><li>하드웨어 자원</li><li>소프트웨어 자원 : 개발 지원 도구</li></ul><h3 id="생산성-요소"><a class="markdownIt-Anchor" href="#생산성-요소"></a> 생산성 요소</h3><ul><li>개발자의 능력</li><li>개발 기간 : 개발 기간이 길어질수록 개발 비용이 적어짐</li></ul><h1 id="비용-산정-기법"><a class="markdownIt-Anchor" href="#비용-산정-기법"></a> 비용 산정 기법</h1><h2 id="하향식"><a class="markdownIt-Anchor" href="#하향식"></a> 하향식</h2><h3 id="전문가-감정-기법"><a class="markdownIt-Anchor" href="#전문가-감정-기법"></a> 전문가 감정 기법</h3><ul><li>경험이 많은 두 명 이상의 전문가에게 비용 산정 의뢰</li><li>개인적이고 주관적</li><li>편리하고 신속하게 비용 산정</li><li>의뢰자에게 신뢰를 얻을 수 있음</li></ul><h3 id="델파이-기법"><a class="markdownIt-Anchor" href="#델파이-기법"></a> 델파이 기법</h3><ul><li>전문가 감정 기법의 주관적 편견을 보완하기 위함</li><li>많은 전문가의 의견을 종합해 선정하는 방법</li><li>한 명의 조정자와 여러 명의 전문가</li></ul><h2 id="상향식"><a class="markdownIt-Anchor" href="#상향식"></a> 상향식</h2><p>프로젝트의 세부적인 작업 단위별로 비용을 산정한 후 집계하여 전체 비용을 산정하는 방법</p><h3 id="loc-기법"><a class="markdownIt-Anchor" href="#loc-기법"></a> LOC 기법</h3><ul><li>원시 코드 라인수 기법</li><li>소프트웨어 각 기능의 원시 코드 라인 수와 비관치, 낙관치, 기대치를 측정하여 예측치를 구하고 이를 이용하여 비용을 산정하는 기법</li><li>측정이 용이하고 이해하기 쉬워 가장 많이 사용된다.</li><li>예측치 = (낙관치 + (4 X 기대치) + 비관치) / 6 = (a + 4m + b) / 6</li><li>ManMonth = 개발 기간 X 투입 인원 = LOC / 1인당 월평균 코딩량</li><li>개발 비용 = ManMonth X 1인 인건비</li><li>개발 기간 = ManMonth / 투입 인원</li><li>생산성 = LOC / ManMonth</li></ul><h3 id="개발-단계별-인원수-기법"><a class="markdownIt-Anchor" href="#개발-단계별-인원수-기법"></a> 개발 단계별 인원수 기법</h3><ul><li>Effort Per Task</li><li>각 기능을 구현시키는데 필요한 ManMonth를 생명 주기의 각 단계별로 산정</li><li>LOC보다 정확하다.</li></ul><h1 id="수학적-산정-기법"><a class="markdownIt-Anchor" href="#수학적-산정-기법"></a> 수학적 산정 기법</h1><ul><li>상향식 비용 산정 기법</li><li>경험적 추정 모형 = 실험적 추정 모형</li><li>COCOMO, Putnam, FP 모형</li></ul><h2 id="cocomo-모형"><a class="markdownIt-Anchor" href="#cocomo-모형"></a> COCOMO 모형</h2><ul><li>COnstructive COst MOdel</li><li>Boehm이 제안</li><li>원시 프로그램 규모인 LOC에 의한 비용 산정 기법</li><li>개발할 소프트웨어의 규모를 예측한 후 소프트웨어의 종류에 따라 다르게 책정되는 비용 산정 방정식에 대입하여 비용을 구한다.</li><li>비용 견적의 강도 분석 및 유연성이 높아 널리 사용된다.</li><li>같은 규모의 프로그램이라도 성격에 따라 비용이 다르게 산정된다.</li><li>비용 산정 결과는 ManMonth로 나타낸다.</li></ul><h3 id="조직형"><a class="markdownIt-Anchor" href="#조직형"></a> 조직형</h3><ul><li>Organic Mode</li><li>중소규모, 5만 라인 이하의 소프트웨어 개발</li><li>사무처리, 업무, 과학용 응용 소프트웨어 개발에 적합</li></ul><h3 id="반분리형"><a class="markdownIt-Anchor" href="#반분리형"></a> 반분리형</h3><ul><li>Semi-Detached Mode</li><li>30만 라인 이하의 소프트웨어 개발</li><li>트랜잭션 처리 시스템, 운영체제, DBMS, 컴파일러, 인터프리터 등 유틸리티 개발에 적합</li></ul><h3 id="내장형"><a class="markdownIt-Anchor" href="#내장형"></a> 내장형</h3><ul><li>Embedded Mode</li><li>30만 라인 이상의 소프트웨어 개발</li><li>최대형 규모의 트랜잭션 처리 시스템, 운영체제, 신호기 제어, 미사일 유도, 실시간 처리 등 시스템 프로그램 개발에 적합</li></ul><h3 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h3><ul><li>기본형 : Basic 소프트웨어 크기와 개발 유형만을 이용</li><li>중간형 : Intermediate 기본 COCOMO를 사용하나 제품, 컴퓨터, 개발요원, 프로젝트 특성에 따라 비용을 산정한다.</li><li>발전형 : Detail 개발 공정별로 보다 자세하고 정확하게 노력을 산출하여 비용을 산정하는 모형, 소프트웨어 환경과 구성요소가 사전에 정의되어 있어야하고 개발과정 후반부에 주로 적용한다.</li></ul><h2 id="putnam-모형"><a class="markdownIt-Anchor" href="#putnam-모형"></a> Putnam 모형</h2><ul><li>Putnam이 제안</li><li>생명 주기 예측 모형</li><li>시간에 따른 함수로 표현되는 <strong>Rayleigh-Norden 곡선의 노력 분포</strong>도를 기초로 한다.</li><li>SLIM : Rayleigh-Norden 곡선과 Putnam 예측 모델을 기초로하여 개발된 자동화 추정 도구</li></ul><h2 id="fp-모형"><a class="markdownIt-Anchor" href="#fp-모형"></a> FP 모형</h2><ul><li><strong>기능 점수</strong> = Function Point</li><li>Albrecht이 제안</li><li>소프트웨어의 기능을 증대시키는 요인별로 가중치를 부여하고 가중치와 영향도를 합하여 기능 점수를 구한 후 비용을 산정하는 기법</li><li>최근에 유용성과 간편성으로 비용 산정 기법 가운데 최선의 평가를 받고 있다.</li><li>ESTIMACS : FP 모형을 기초로하여 개발된 자동화 추정 도구</li></ul><h1 id="프로젝트-일정-계획"><a class="markdownIt-Anchor" href="#프로젝트-일정-계획"></a> 프로젝트 일정 계획</h1><ul><li>프로젝트 프로세스를 이루는 소작업의 순서와 일정을 정하는 것</li><li>소프트웨어 개발 기간의 지연을 방지하고 프로젝트가 계획대로 진행되도록 일정을 계획</li><li>계획된 일정은 프로젝트의 진행을 관리하는데 기초 자료가 된다.</li><li>계획된 일정과 프로젝트의 진행도를 비교하여 차질이 있을 경우 조정할 수 있다.</li><li>WBS, PERT/CPM, 간트 차트가 사용된다.</li></ul><h2 id="사람-노력-관계"><a class="markdownIt-Anchor" href="#사람-노력-관계"></a> 사람-노력 관계</h2><ul><li>소규모 개발 프로젝트에서는 한 사람이 요구사항을 분석하고 설계, 코딩, 테스트까지 수행할 수 있다.</li><li>프로젝트의 크기가 증가할수록 더 많은 사람들이 참여해야 한다.</li><li><strong>Brooks의 법칙</strong> : 프로젝트 중 새로운 인력을 투입할 경우 작업 적응기간과 부작용으로 인해 일정이 더 지연된다.</li></ul><h2 id="노력-분배"><a class="markdownIt-Anchor" href="#노력-분배"></a> 노력 분배</h2><ul><li>노력을 개발과정에 분배할 때는 40-20-40 규칙을 권장한다.</li><li>분석 설계에 40, 코딩에 20, 테스트에 40</li></ul><h2 id="wbs"><a class="markdownIt-Anchor" href="#wbs"></a> WBS</h2><ul><li>Work Breakdown Structure = 업무 분류 구조</li><li>개발 프롲게트를 여러 개의 작은 관리 단위로 분할하여 계층적으로 기술한 업무 구조</li></ul><h2 id="pertcpm"><a class="markdownIt-Anchor" href="#pertcpm"></a> PERT/CPM</h2><ul><li>프로젝트 지연을 방지하고 계획대로 진행되게 하기 위한 일정을 계획하는 것</li><li>초단시간 내 계획 완성을 위한 프로젝트 일정 방법</li><li>프로젝트 개발 기간을 결정하는 임계 경로를 제공한다.</li><li>통계적 모델을 적용해 개별 작업에 대한 가장 근접한 시간을 측정하는 기준이 된다.</li><li>각 작업에 대한 시작 시간을 정의하여 작업들 간의 경계 시간을 계산할 수 있게 한다.</li><li>가장 빠른 완료시간, 가장 늦은 완료시간, 총 자유시간을 구할 수 있다.</li></ul><h3 id="pert"><a class="markdownIt-Anchor" href="#pert"></a> PERT</h3><ul><li>Program Evaluation and Review Technique = 프로그램 평가 및 검토 기술</li><li>프로젝트에 필요한 전체 작업의 상호 관계를 표시하는 네트워크</li><li>낙관적인 경우, 가능성이 있는경우, 비관적인 경우로 나누어 각 단계별 종료 시기를 결정하는 방법</li><li>과거에 경험이 없어 소요 기간 예측이 어려운 소프트웨어에서 사용</li><li>노드와 간선으로 구성되며 원 노드에는 작업을 화살표 간선에는 낙관치, 기대치, 비관치를 표시한다.</li><li>결정 경로, 작업에 대한 경계시간, 작업 간의 상호관련성을 알 수 있다.</li><li>작업 예측치 = (비관치 + (4 X 기대치) + 낙관치) / 6</li></ul><h3 id="cpm"><a class="markdownIt-Anchor" href="#cpm"></a> CPM</h3><ul><li>Critical Path Method = 임계 경로 기법</li><li>프로젝트 완성에 필요한 작업을 나열하고 작업에 필요한 소요 기간을 예측하는데 사용하는 기법</li><li>노드와 간선으로 구성된 네트워크로 노드는 작업을, 간선은 작업사이의 전후 의존 관계를 나타낸다.</li><li>원형 노드는 작업과 소요기간을 표시하고, 박스 노드는 이정표를 의미하며 예상 완료 시간을 표시한다.</li><li>전 작업이 완료된 후 다음 작업을 진행할 수 있다.</li><li>각 작업의 순서와 의존관계, 작업의 동시성을 한 눈에 볼 수 있다.</li><li>프로젝트 규모 추정 =&gt; 단계별 필요작업 분할 =&gt; 작업의 상호 의존 관계를 CPM 네트워크로 나타냄 =&gt; 일정 계획을 간트 차트로 나타냄</li></ul><h3 id="gantt-chart"><a class="markdownIt-Anchor" href="#gantt-chart"></a> Gantt Chart</h3><ul><li>간트 차트 = 시간선 = Time Line</li><li>프로젝트의 각 작업들이 언제 시작하고 언제 종료되는지에 대한 작업 일정을 막대 도표를 이용하여 표시하는 프로젝트 일정표</li><li>중간 목표 미달성시 그 이유와 기간을 예측 가능</li><li>사용자와의 문제점이나 예산의 초과 지출 등을 관리</li><li>자원 배치와 인원 계획에 사용 가능</li><li>다양한 형태로 변경 가능</li><li><strong>작업 경로를 표시할 수 없다.</strong></li><li>계획의 변화에 대한 적응성이 약하다.</li><li>계획 수립 또는 수정 때 주관적 수치에 기울어지기 쉽다.</li><li>이정표, 작업 일정, 작업 기간, 산출물로 구성</li></ul><h1 id="프로젝트-조직-구성-계획"><a class="markdownIt-Anchor" href="#프로젝트-조직-구성-계획"></a> 프로젝트 조직 구성 계획</h1><h2 id="분산형-팀-구성"><a class="markdownIt-Anchor" href="#분산형-팀-구성"></a> 분산형 팀 구성</h2><ul><li>팀원 모두가 의사 결정에 참여하는 비이기적인 구성 방식</li><li>민주주의식 팀 구성</li><li>팀 구성원의 참여도와 만족도를 높이고 이직률을 낮게 한다.</li><li>팀 구성원 각자가 서로의 일을 검토하고 다른 구성원이 일한 결과에 대해 같은 그룹의 일원으로 책임을 진다.</li><li>여러 사람의 의사를 교류하므로 복잡하고 이해되지 않는 문제가 많은 장기 프로젝트 개발에 적합</li><li>링 모양의 구조를 가진다.</li><li>팀 구성 방법 중 가장 많은 의사 소통 경로를 갖는다.</li></ul><h2 id="중앙-집중형-팀-구성"><a class="markdownIt-Anchor" href="#중앙-집중형-팀-구성"></a> 중앙 집중형 팀 구성</h2><ul><li>관리자가 의사 결정을 하고 그 결정에 따르는 구성 방식</li><li>책임 프로그래머 팀 구성</li><li>프로젝트 수행에 따른 모든 권한과 책임을 한 명의 관리자에게 위임하고 기술 및 관리 지원을 위해 인력을 투입하는 형태</li><li>소규모 프로젝트에 적합</li><li>프로젝트의 성공은 책임 프로그래머의 능력에 달렸다.</li><li>책임 프로그래머에 따라 의사 결정이 이뤄지기 때문에 의사 결정이 빠르고 의사 교환 경로를 줄일 수 있다.</li><li>책임 프로그래머 : 요구 분석 및 설계, 기술적 판단, 프로그래머 작업 지시 및 배분</li><li>프로그래머 : 책임 프로그래머 지시에 따른 코딩, 테스트, 디버깅, 문서 작성</li><li>프로그램 사서 : 프로그램 리스트, 설계 문서, 테스트 계획 관리</li><li>보조 프로그래머 : 책임 프로그래머의 업무 지원, 기술적 문제에 대한 자문, 사용자와 품질 보등 담당자 섭외, 책임 프로그래머 감독 하 분석, 설계 구현 담당</li></ul><h2 id="계층적-팀-구성"><a class="markdownIt-Anchor" href="#계층적-팀-구성"></a> 계층적 팀 구성</h2><ul><li>분산형과 중앙 집중형을 혼합한 형태로 혼합형 팀 구성</li><li>초급 프로그래머를 작은 그룹으로 만들어 각 그룹을 고급 프로그래머가 관리</li><li>경험자와 초보자를 구별</li><li>기술 인력이 관리를 담당하게 되어 좋은 기술력을 사장시킬 수 있고, 기술 인력이 업무 관리 능력을 갖춰야한다.</li></ul><h1 id="소프트웨어-품질-보증"><a class="markdownIt-Anchor" href="#소프트웨어-품질-보증"></a> 소프트웨어 품질 보증</h1><h2 id="품질-표준"><a class="markdownIt-Anchor" href="#품질-표준"></a> 품질 표준</h2><p>소프트웨어의 운영적인 특성, 소프트웨어의 변경 수용능력, 새로운 환경에 대한 소프트웨어의 적응 능력에 따라 분류</p><h3 id="운영특성"><a class="markdownIt-Anchor" href="#운영특성"></a> 운영특성</h3><ul><li><strong>정확성</strong> : Correctness 사용자의 요구 기능 충족</li><li><strong>신뢰성</strong> : Reliability 요구된 기능을 오류 없이 수행하는 정도</li><li><strong>효율성</strong> : Efficiency 소프트웨어가 자원을 쓸데없이 낭비하지 않아야한다.</li><li><strong>무결성</strong> : Integrity 허용되지 않는 사용이나 자료의 변경을 제어하는 정도</li><li><strong>사용 용이성</strong> : Usability 소프트웨어는 적절한 UI와 문서를 가지고 있어야한다.</li></ul><h3 id="변경-수용-능력"><a class="markdownIt-Anchor" href="#변경-수용-능력"></a> 변경 수용 능력</h3><ul><li><strong>유지보수성</strong> : Maintainability 변경 및 오류 사항 교정에 대한 노력을 최소화 하는 정도, 소프트웨어를 진화하는 것이 가능해야 한다.</li><li><strong>유연성</strong> : Flexibility 소프트웨어를 얼마만큼 쉽게 수정할 수 있는가의 정도</li><li>시험 역량 : Testability 프로그램을 시험할 수 있는 정도</li></ul><h3 id="적응-능력"><a class="markdownIt-Anchor" href="#적응-능력"></a> 적응 능력</h3><ul><li>이식성 : Portability 다양한 하드웨어 환경에 운용이 가능하도록 쉽게 수정될 수 있는 정도</li><li>재사용성 : Reusability 전체나 일부 소프트웨어를 다른 목적으로 사용할 수 있는가의 정도</li><li>상호 운용성 : Interoperability 다른 소프트웨어와 정보를 교환할 수 있는 정도</li></ul><h2 id="품질-보증"><a class="markdownIt-Anchor" href="#품질-보증"></a> 품질 보증</h2><ul><li>SQA = Software Quality Assurance</li><li>어떠한 소프트웨어가 이미 설정된 요구사항과 일치하는가를 확인하는 데 필요한 개발 단계 전체에 걸친 계획적이고 체계적인 작업</li><li>소프트웨어 개발 초기에 소프트웨어 특성과 요구사항을 철저히 파악하여 품질 목표를 설정하고, 개발 단계에서는 정형 기술 검토를 통해 품질 목표의 충족 여부를 점검하며, 개발 후에는 디버깅과 시험 과정을 거친다.</li></ul><h2 id="정형-기술-검토"><a class="markdownIt-Anchor" href="#정형-기술-검토"></a> 정형 기술 검토</h2><ul><li>FTR = Formal Technical Review</li><li>가장 일반적인 검토 방법으로 소프트웨어 기술자들에 의해 수행되는 소프트웨어 품질 보증 활동</li><li>검토회의, 검열 등이 있으며 회의 형태로 수행된다.</li><li>검토중인 소프트웨어가 해당 요구사항과 일치하는지를 검증</li><li>미리 정해진 표준에 따라 표현되는지를 확인</li><li>기능과 로직에 오류가 있는지 확인</li><li>소프트웨어가 균일한 방식으로 개발되도록 한다.</li><li>프로젝트를 용이하게 관리하도록 한다.</li></ul><h3 id="정형-기술-검토-지침사항"><a class="markdownIt-Anchor" href="#정형-기술-검토-지침사항"></a> 정형 기술 검토 지침사항</h3><ul><li>제품 검토에만 집중</li><li>의제를 제한하여 진행</li><li>논쟁과 반박을 제한</li><li>문제 영역을 명확히 표현</li><li><strong>해결책이나 개선책에는 논하지 말라</strong></li><li><strong>참가자의 수를 제한</strong>하고 사전 준비를 강요</li><li>검토될 확률이 있는 각 제품에 대한 체크리스트 개발</li><li>자원과 시간 일정을 할당</li><li>모든 검토자들을 위해 훈련</li><li><strong>사전에 작성한 메모를 공유</strong></li><li>검토 과정과 결과를 재검토</li></ul><h2 id="정형-기술-검토-유형"><a class="markdownIt-Anchor" href="#정형-기술-검토-유형"></a> 정형 기술 검토 유형</h2><h3 id="walkthrough"><a class="markdownIt-Anchor" href="#walkthrough"></a> Walkthrough</h3><ul><li>검토 회의 = 워크스루</li><li>소프트웨어 개발 각 단계에서 개최하는 <strong>기술 평가 회의</strong></li><li>소프트웨어 구성요소와 같은 작은 단위를 검토하는 것</li><li><strong>오류의 조기 검출을 목적</strong>으로 하며 발견된 오류는 문서화</li><li><strong>검출된 오류는 회의 후에 해결</strong></li><li>3~5명이 검토에 참여해야하며 두 시간 이내</li><li>검토를 위한 자료를 미리 배포하여 검토, 미리 검토하는 시간도 두 시간 이내</li></ul><h3 id="inspections"><a class="markdownIt-Anchor" href="#inspections"></a> Inspections</h3><ul><li>검열 = 심사</li><li>검토 회의를 발전시킨 형태</li><li>소프트웨어 개발 단계에서 산출된 결과물의 품질을 평가하며 이를 개선시키는데 사용</li></ul><h3 id="기타"><a class="markdownIt-Anchor" href="#기타"></a> 기타</h3><ul><li>검증 : Verification 설계의 각 과정이 올바른지, 프로그램이나 하드웨어에 오류가 있는지를 검사</li><li>확인 : Validation 올바른 제품을 생산할 수 있도록 정의, 분석이 잘 되었는지를 검사</li><li>인증 : Certification 사용자 또는 전문가가 소프트웨어 품질을 공식적으로 확인</li><li>소프트웨어 시험 : Test</li><li>오류 수정 : Debugging</li></ul><h1 id="소프트웨어-신뢰성과-가용성"><a class="markdownIt-Anchor" href="#소프트웨어-신뢰성과-가용성"></a> 소프트웨어 신뢰성과 가용성</h1><ul><li>신뢰성 : 프로그램이 주어진 환경에서 주어진 시간동안 오류 없이 작동할 확률로 측정과 예측이 가능하다.</li><li>가용성 : 한 프로그램이 주어진 시점에서 요구사항에 따라 운영되는 확률</li></ul><h2 id="측정"><a class="markdownIt-Anchor" href="#측정"></a> 측정</h2><ul><li>신뢰성 측정은 MTBF를 이용한다.</li><li>MTBF<ul><li>Mean Time Between Failure</li><li>평균 고장 간격</li><li>수리가 가능한 시스템이 고장난 후부터 다음 고장이 날 때까지의 평균 시간</li><li>MTBF = MTTF + MTTR</li></ul></li><li>MTTF<ul><li>Mean Time To Failure</li><li>평균 가동 시간 = 고장 평균 시간</li><li>수리 불가능한 시스템의 사용 시점부터 고장이 발생할 때까지의 가동 시간 평균</li><li>MTTF = (가동중1 + 가동중2 + 가동중3 + … + 가동중 n) / n</li></ul></li><li>MTTR<ul><li>Mean Time To Repair</li><li>평균 수리 시간</li><li>시스템 고장이 발생하여 가동하지 못한 시간들의 평균</li><li>MTTR = (고장중1 + 고장중2 + 고장중3 + … + 고장중 n) / n</li></ul></li><li>가용성 측정<ul><li>시스템의 총 운용 시간 중 정상적으로 가동된 시간의 비율</li><li>가용성 = 가동시간 / (가동시간 + 고장시간) = MTBF / (MTBF + MTTR)</li></ul></li></ul><h1 id="위험-관리"><a class="markdownIt-Anchor" href="#위험-관리"></a> 위험 관리</h1><ul><li>Risk Analysis</li><li>프로젝트 추진 과정에서 예상되는 각종 돌발 상황을 미리 예상하고 대책을 수립하는 활동</li><li>위험은 불확실성과 손실을 가지고 있는데, 위험관리로 대비한다.</li><li>위험 식별 =&gt; 위험 분석 및 평가 =&gt; 위험 관리 계획 =&gt; 위험 감시 및 조치</li></ul><h2 id="범주"><a class="markdownIt-Anchor" href="#범주"></a> 범주</h2><ul><li>프로젝트 위험 : Project Risk</li><li>기술 위험 : Technical Risk</li><li>비즈니스 위험 : Business Risk</li></ul><h2 id="종류-2"><a class="markdownIt-Anchor" href="#종류-2"></a> 종류</h2><ul><li>인력 부족</li><li>예산 관리</li><li>일정 관리</li><li><strong>사용자 요구사항 변경</strong> : 대표적 위험 요소</li></ul><h2 id="charette가-제안한-종류"><a class="markdownIt-Anchor" href="#charette가-제안한-종류"></a> Charette가 제안한 종류</h2><ul><li>알려진 위험 : 프로젝트 계획서, 기술적 환경, 정보 등에 의해 발견 될 수 있는 위험</li><li>예측 가능한 위험 : 과거의 경험으로 예측 가능한 위험</li><li>예측 불가능한 위험 : 사전 예측이 매우 어려운 위험</li></ul><h2 id="위험-분석-및-평가"><a class="markdownIt-Anchor" href="#위험-분석-및-평가"></a> 위험 분석 및 평가</h2><ul><li>프로젝트에 내재한 위험 요소를 인식하고 그 영향을 분석하는 활동</li><li>위험 추산(Risk Estimation) 작업을 통해 수행된다.</li><li>가능한 모든 위험 요소와 영향을 분석하여 의사결정에 반영</li><li>위험표(Risk Table)을 작성하여 활용한다.</li></ul><h3 id="위험표"><a class="markdownIt-Anchor" href="#위험표"></a> 위험표</h3><ul><li>위험 내용</li><li>위험 범주</li><li>발생 확률</li><li>영향력</li><li>위험 감시 및 조치</li></ul><h2 id="위험-감시-및-조치"><a class="markdownIt-Anchor" href="#위험-감시-및-조치"></a> 위험 감시 및 조치</h2><ul><li>위험 회피 : Risk Avoidance 예상하고 회피</li><li>위험 감시 : Risk Monitoring 위험 요소 징후에 대해 계속적으로 인지하는 것</li><li>위험 관리 : Risk Management</li><li>비상 계획 수립 : Contingency Plan 위험 회피 전략이 실패할 경우 위험에 대해 관리하고 대비책과 비상 계획을 수립한다.</li></ul><h1 id="소프트웨어-형상-관리"><a class="markdownIt-Anchor" href="#소프트웨어-형상-관리"></a> 소프트웨어 형상 관리</h1><ul><li>SCM = Software Configuration Management</li><li>소프트웨어 변경 사항을 관리하기 위해 개발된 일련의 활동</li><li>소프트웨어 변경의 원인을 알아내고 제어하며 적절이 변경되고 있는지 확인하여 담당자에게 통보하는 작업</li><li>형상 관리는 소프트웨어 개발의 전 단계에 적용되는 활동</li><li>유지보수 단계에서도 수행</li><li>형상 관리는 소프트웨어 개발의 전체 비용을 줄인다.</li><li>개발 과정의 여러 방해 요인을 최소화시킨다.</li><li>형상은 소프트웨어 각 개발 단계의 결과물</li></ul><h2 id="형상-항목"><a class="markdownIt-Anchor" href="#형상-항목"></a> 형상 항목</h2><ul><li>SCI = Software Configuration Item</li><li>스시템 명세서</li><li>소프트웨어 프로젝트 계획서</li><li>소프트웨어 요구사항 명세와 실행가능한 프로토타입</li><li>예비 사용자 매뉴얼</li><li>설계 명세서</li><li>원시 코드 목록</li><li>테스트 계획, 절차, 시험 사례, 결과</li><li>운영과 설치에 필요한 매뉴얼</li><li>실행 프로그램</li><li>DB 기술서 : 스키마, 파일 구조, 초기 내용</li><li>구축된 사용자 매뉴얼</li><li>유지보수 문서 : 변경 요청서, 변경 처리 보고서</li><li>소프트웨어 공학을 위한 표준과 절차</li></ul><h2 id="관리-기능"><a class="markdownIt-Anchor" href="#관리-기능"></a> 관리 기능</h2><ul><li>형상 식별 : 대상에게 이름과 관리 번호를 부여하고 계층(트리)구조로 구분</li><li>버전 제어 : 다른 버전과의 형상 항목을 관리하려 특정 절차와 도구를 결합시키는 작업</li><li>변경 제어 : 형상 항목의 변경 요구를 검토해 현재의 기준선이 잘 반영될 수 있도록 조정</li><li>형상 감사 : 기준선의 무결성을 평가</li><li>형상 상태 보고</li></ul><h1 id="전통적-소프트웨어-개발-방법"><a class="markdownIt-Anchor" href="#전통적-소프트웨어-개발-방법"></a> 전통적 소프트웨어 개발 방법</h1><ul><li>고전적 소프트웨어 개발 방법 = 구조적 소프트웨어 개발 방법</li><li>과거의 많은 소프트웨어 개발 경험을 토대로하여 성공적으로 평가되는 소프트웨어 분석 및 설계 방법들을 집대성하여 하나의 개발 방법으로 정형화한 것</li></ul><h1 id="요구사항-분석"><a class="markdownIt-Anchor" href="#요구사항-분석"></a> 요구사항 분석</h1><ul><li>소프트웨어 개발의 첫 단계</li><li>개발 대상에 대한 사용자의 요구사항을 이해하고 문서화하는 활동</li><li>사용자 요구의 타당성을 조사하고 비용과 일정에 대한 제약 설정</li><li>사용자 요구를 정확하게 추출하여 목표를 정하고 어떤 방식으로 해결할 것인지 결정</li><li>요구사항 분석을 통한 결과는 소프트웨어 설계단계에서 필요한 자료가 된다.</li><li>사용자의 요구사항을 정확하고 일관성있게 분석하여 문서화</li><li>소프트웨어 분석가에 의해 요구사항 분석이 수행</li></ul><h2 id="요구사항-분석작업"><a class="markdownIt-Anchor" href="#요구사항-분석작업"></a> 요구사항 분석작업</h2><ul><li>문제 인식 : 사용자 면담, 설문조사 및 협조, 문서 검토</li><li>평가와 종합 : 요구사항에 대한 정보를 평가하고 해결책 종합</li><li>모델 제작 : 내용을 이해하기 쉽도록 모델로 작성</li><li>문서화와 검토 : 요구사항 분석 명세서 작성</li></ul><h2 id="요구사항-분석의-어려움"><a class="markdownIt-Anchor" href="#요구사항-분석의-어려움"></a> 요구사항 분석의 어려움</h2><ul><li>대화 장벽 : 다이어그램 및 프로토타입 이용</li><li>시스템의 복잡도 : 구조적 분석이나 객체지향 분석 이용</li><li>요구의 변경 : 수정 요구와 상반된 요구들의 수용 기술 필요</li><li>요구 명세화의 어려움 : 제도적인 요구 분석 기술 필요</li></ul><h2 id="분석가의-자질"><a class="markdownIt-Anchor" href="#분석가의-자질"></a> 분석가의 자질</h2><ul><li>개발 경험이 많아야한다.</li><li>사용자의 요구를 정확히 수용하고 환경을 이해해야한다.</li><li>설계에 필요한 자료를 충분히 제공</li><li>시간 배정과 계획을 빠른 시간내에 파악</li><li>하드웨어 소프트웨어를 포함한 컴퓨터 기술에 대한 이해</li><li>고객 관점에서의 문제 파악</li></ul><h1 id="구조적-분석-기법"><a class="markdownIt-Anchor" href="#구조적-분석-기법"></a> 구조적 분석 기법</h1><ul><li>자료의 흐름과 처리를 중심으로 하는 요구사항 분석 방법</li><li>도형 중심의 도구를 사용하므로 분석가와 사용자 간의 대화가 용이</li><li>하향식 방법을 사용해 시스템을 세분화하고 분석의 중복을 배제할 수 있다.</li><li>자료흐름도, 자료사전, 소단위 명세서, 개체 관계도, 상태 전이도, 제어 명세서</li></ul><h1 id="구조적-분석-도구"><a class="markdownIt-Anchor" href="#구조적-분석-도구"></a> 구조적 분석 도구</h1><h2 id="자료-흐름도"><a class="markdownIt-Anchor" href="#자료-흐름도"></a> 자료 흐름도</h2><ul><li>DFD = Data Flow Diagram = 자료 흐름 그래프 = 버블 차트</li><li>자료의 흐름 및 변환 과정과 기능을 도형 중심으로 기술하는 방법</li><li>시스템 안의 프로세스와 자료 저장소 사이의 자료 흐름을 나타내는 그래프</li><li>자료흐름과 처리를 중심으로하는 <strong>구조적 분석 기법</strong></li><li>자료 흐름과 기능을 자세히 표현하기 위해 단계적으로 세분화된다.</li><li>자료는 처리(프로세스)를 거쳐 변환될 때마다 새로운 이름이 부여된다.</li><li>처리는 입력 자료가 발생하면 기능을 수행한 후 출력 자료를 산출한다.</li><li>자료 흐름도를 세분화 할 수 록 소프트웨어 설계와 구현작업이 용이해진다.</li></ul><p><img data-src="http://cfile25.uf.tistory.com/image/13273B354CC56E55023ED4" alt="자료흐름도"></p><h3 id="자료-흐름도-구성요소"><a class="markdownIt-Anchor" href="#자료-흐름도-구성요소"></a> 자료 흐름도 구성요소</h3><ul><li>프로세스<ul><li>자료를 변환시키는 시스템의 한 부분을 나타낸다.</li><li>처리 = 기능 = 변환 = 버블</li><li>원이나 둥근 사각형으로 표시하고 안에 프로세스 이름을 적는다.</li></ul></li><li>자료 흐름<ul><li>Data Flow</li><li>자료의 흐름이나 연관관계를 나타낸다.</li><li>화살표 위에 자료의 이름을 적는다.</li></ul></li><li>자료 저장소<ul><li>Data Store</li><li>시스템에서의 자료 저장소를 나타낸다.</li><li>파일, 데이터베이스</li><li>도형 안에 자료 저장소 이름을 적는다.</li></ul></li><li>단말<ul><li>Terminator</li><li>시스템과 교신하는 외부 개체</li><li>입력 데이터가 만들어지고 출력 데이터를 받는다.</li><li>정보의 생산자와 소비자</li><li>도형 안에 이름을 적는다.</li></ul></li></ul><h2 id="자료-사전"><a class="markdownIt-Anchor" href="#자료-사전"></a> 자료 사전</h2><ul><li>DD = Data Dictionary = 데이터의 데이터 = Meta Data</li><li>자료 흐름도에 있는 자료를 더 자세히 정의하고 기록한 것</li><li>데이터를 설명하는 데이터</li></ul><h3 id="자료-사전-기호"><a class="markdownIt-Anchor" href="#자료-사전-기호"></a> 자료 사전 기호</h3><ul><li>= : 자료의 정의 is composed of</li><li><ul><li>: 자료의 연결 and</li></ul></li><li>( ) : 자료의 생략 optional</li><li>[ | ] : 자료의 선택 or</li><li>{ } : 자료의 반복 Iteration of</li><li>* * : 자료의 설명 comment</li></ul><h2 id="소단위-명세서"><a class="markdownIt-Anchor" href="#소단위-명세서"></a> 소단위 명세서</h2><ul><li>Mini Specification = 프로세스 명세서</li><li>세분화된 자료 흐름도에서 최하위 단계 프로세스의 처리 절차를 기술한 것</li><li>분석가의 문서</li><li>자료 흐름도를 지원하기 위해 작성</li><li>서술 문장, 구조적언어, 의사결정나무, 의사 결정표, 그래프 등을 이용해 기술</li></ul><h2 id="개체-관계도"><a class="markdownIt-Anchor" href="#개체-관계도"></a> 개체 관계도</h2><ul><li>ERD = Entity Relationship Diagram</li><li>시스템에서 처리되는 개체와 개체의 구성과 속성, 개체 간의 관계를 표현하여 자료를 모델화하는 데에 사용</li><li>Entity, Attribute, Relationship으로 구성</li></ul><h2 id="상태-전이도"><a class="markdownIt-Anchor" href="#상태-전이도"></a> 상태 전이도</h2><ul><li>STD = State Transition Diagram</li><li>시스템에 어떤 일이 발생할 경우 시스템의 상태와 상태 간의 전이를 모델화한 것</li><li>상태 전이도를 통해 개발자는 시스템의 행위를 정의할 수 있다.</li></ul><h1 id="case"><a class="markdownIt-Anchor" href="#case"></a> CASE</h1><p>요구사항 분석을 위한 자동화 도구</p><ul><li>SADT : Structured Analysis and Design Technique</li><li>SREM : Software Requirements Engineering Methodology = RSL/REVS</li><li>PSL/PSA : Problem Statement Language / Problem Statement Analyzer</li><li>TAGS : Technology for Automated Generation of Systems</li></ul><h1 id="hipo"><a class="markdownIt-Anchor" href="#hipo"></a> HIPO</h1><ul><li>Hierarchy Input Process Output</li><li>시스템의 분석 및 설계나 문서화할 때 사용되는 기법</li><li>기본 시스템 모델은 입력, 처리, 출력으로 구성</li><li><strong>하향식 소프트웨어 개발을 위한 문서화 도구</strong></li><li>기호, 도표 등을 사용하므로 이해하기 쉽다.</li><li>기능과 자료의 의존 관계를 동시에 표현할 수 있다.</li><li>변경, 유지보수가 쉽다.</li></ul><h2 id="hipo-chart"><a class="markdownIt-Anchor" href="#hipo-chart"></a> HIPO Chart</h2><ul><li>시스템의 기능을 여러 개의 고유 모듈로 분할하여 이들 간의 인터페이스를 계층 구조로 표현한 것</li><li>가시적 도표, 총체적 도표, 세부적 도표가 있다.</li></ul><h3 id="가시적-도표"><a class="markdownIt-Anchor" href="#가시적-도표"></a> 가시적 도표</h3><ul><li>도식 목차 = Visual Table of Contents</li><li>시스템 전체적인 기능과 흐름을 보여주는 트리 구조도</li></ul><h3 id="총체적-도표"><a class="markdownIt-Anchor" href="#총체적-도표"></a> 총체적 도표</h3><ul><li>총괄 도표 = 개요 도표 = Overview Diagram</li><li>프로그램을 구성하는 기능을 기술한 것</li><li>입력, 출력, 처리에 대한 전반적인 정보를 제공</li></ul><h3 id="세부적-도표"><a class="markdownIt-Anchor" href="#세부적-도표"></a> 세부적 도표</h3><ul><li>상세 도표 = Detail Diagram</li><li>총체적 도표에 표시된 기능을 구성하는 기본 요소들을 상세히 기술하는 도표</li></ul><h1 id="설계"><a class="markdownIt-Anchor" href="#설계"></a> 설계</h1><ul><li>구조적 분석 기법의 결과물인 자료 흐름도 등으로 소프트웨어 기능과 프로그램 구조, 모듈 설계 전략, 평가 지침, 문서화 도구를 제공하는 체계화된 기법</li><li>자료 흐름 중심 설계 기법</li><li>자료 흐름도, 자료 사전, 개체 관계도, 소단위 명세서가 준비된 이후에 설계</li></ul><h2 id="설계-모형"><a class="markdownIt-Anchor" href="#설계-모형"></a> 설계 모형</h2><ul><li>데이터 설계, 구조 설계, 인터페이스 설계, 프로시저 설계로 구성된다.</li><li>소프트웨어 품질 평가를 위한 지침</li></ul><h3 id="데이터-설계"><a class="markdownIt-Anchor" href="#데이터-설계"></a> 데이터 설계</h3><ul><li>Data Design</li><li>요구사항 분석 단계에서 생성된 정보를 소프트웨어를 구현하는데 필요한 자료 구조로 변환하는 것</li><li>ERD를 이요하여 정의된 개체와 관계, 자료 사전에 정의된 자료의 설명 등이 데이터 설계의 기초가 된다.</li></ul><h3 id="구조-설계"><a class="markdownIt-Anchor" href="#구조-설계"></a> 구조 설계</h3><ul><li>Architectural Design</li><li>소프트웨어를 구성하는 모듈 간의 관계와 프로그램 구조를 정의하는 것</li><li>DFD, DD, STD 등과 모듈의 상호 작용이 구조 설계의 기초가 된다.</li></ul><h3 id="인터페이스-설계"><a class="markdownIt-Anchor" href="#인터페이스-설계"></a> 인터페이스 설계</h3><ul><li>Interface Design</li><li>소프트웨어와 상호 작용하는 시스템, 사용자 등과 어떻게 통신하는지를 기술하는 것</li><li>DFD 등이 인터페이스 설계의 기초가 된다.</li></ul><h3 id="프로시저-설계"><a class="markdownIt-Anchor" href="#프로시저-설계"></a> 프로시저 설계</h3><ul><li>절차 설계</li><li>모듈이 수행할 기능을 절차적 기술로 바꾸는 것</li><li>소단위 명세서, 상태 전이도의 정보가 절차 설계의 기초가 된다.</li></ul><h2 id="기타-분류"><a class="markdownIt-Anchor" href="#기타-분류"></a> 기타 분류</h2><ul><li>사용자적 관점<ul><li>내부 설계 : 시스템 내부 조직과 세부 절차를 개념화하고 명세화</li><li>외부 설계 : 시스템 외부 특성 명세화</li></ul></li><li>관리적 관점<ul><li>기본 설계 : 요구사항 분석 단계에서 생성된 정보를 자료 구조와 소프트웨어 구조로 변경</li><li>상세 설계 : 기본 설계 사항을 구체적인 자료 구조와 알고리즘으로 표현</li></ul></li></ul><h2 id="설계-기본-원리"><a class="markdownIt-Anchor" href="#설계-기본-원리"></a> 설계 기본 원리</h2><h3 id="모듈화"><a class="markdownIt-Anchor" href="#모듈화"></a> 모듈화</h3><ul><li>Modularity</li><li>소프트웨어를 모듈 단위로 나누는 것</li></ul><h3 id="추상화"><a class="markdownIt-Anchor" href="#추상화"></a> 추상화</h3><ul><li>Abstraction = 개념화</li><li>문제의 세부 사항을 먼저 설계하기 보다는 전체적이고 포괄적인 개념을 설계한 후 차례로 세분화하여 구체화시켜 나가는 설계 방법</li><li><strong>기능 추상화</strong> : 입력 자료를 출력 자료로 변환하는 과정을 추상화하는 방법</li><li><strong>제어 추상화</strong> : 제어의 정확한 메커니즘을 정의하지 않고 원하는 효과를 정하는 데 이용하는 방법</li><li><strong>자료 추상화</strong> : 자료와 자료에 적용될 수 있는 기능을 함께 정의함으로써 자료 객체를 구성하는 방법</li></ul><h3 id="단계적-정제"><a class="markdownIt-Anchor" href="#단계적-정제"></a> 단계적 정제</h3><ul><li>Stepwise Refinement</li><li>문제를 사윙의 중요 개념으로부터 하위의 개념으로 구체화시키는 분할 기법</li></ul><h3 id="정보-은닉"><a class="markdownIt-Anchor" href="#정보-은닉"></a> 정보 은닉</h3><ul><li>Information Hiding</li><li>한 모듈 내부에 포함된 절차와 자료들의 정보가 감추어져 다른 모듈이 접근하거나 변경하지 못하도록 하는 기법</li><li>모듈을 독립적으로 수행할 수 있고, 하나의 모듈이 변경되더라도 다른 모듈에 영향을 주지 않으므로 수정, 시험, 유지보수가 쉽다.</li></ul><h3 id="프로그램-구조"><a class="markdownIt-Anchor" href="#프로그램-구조"></a> 프로그램 구조</h3><ul><li>Program Structure = 제어 계층 구조</li><li>모듈의 계층적 구성을 나타내는 것</li><li>일반적으로 트리 구조의 다이어그램으로 표기</li><li><strong>공유도</strong> : Fan - In 어떤 모듈을 제어(호출)하는 모듈의 수</li><li><strong>제어도</strong> : Fan - Out 어떤 모듈에 의해 제어(호출)되는 모듈의 수</li></ul><h3 id="자료-구조"><a class="markdownIt-Anchor" href="#자료-구조"></a> 자료 구조</h3><ul><li>자료 사이의 논리적인 관계를 표현한 것</li></ul><h2 id="좋은-설계"><a class="markdownIt-Anchor" href="#좋은-설계"></a> 좋은 설계</h2><ul><li>소프트웨어 구조를 나타내야한다.</li><li>독립적인 기능적 특성을 가진 요소(모듈)로 구성되어야 한다.</li><li>특정 기능 또는 부기능을 수행하는 논리적 요소들로 분리되는 구조를 가져야 한다.</li><li>모듈 간의 효과적인 제어를 위해 설계에서 계층적 자료조직이 제시되어야 한다.</li><li>자료와 프로시저에 대한 분명하고 분리된 표현을 포함해야 한다.</li><li>모듈 간과 외부 개체 간의 연결 복잡성을 줄이는 인터페이스를 가져야 한다.</li><li>요구사항 분석에서 얻어진 정보를 이용하여 반복적인 방법으로 이루어져야 한다.</li><li>요구사항을 모두 구현해야 하고, 유지보수가 쉬워야한다.</li><li>모듈의 기능을 예측할 수 있도록 정의한다.</li><li>적당한 모듈의 크기를 유지한다.</li><li>모듈 간의 결합도는 낮추고 응집도는 높인다.</li><li>전체적이고 포괄적인 개념을 설계한 후 차례대로 세분화하여 구체화시켜 나간다.</li><li>이식성을 고려한다.</li></ul><h1 id="모듈"><a class="markdownIt-Anchor" href="#모듈"></a> 모듈</h1><ul><li>모듈화 : 소프트웨어를 각 기능별로 분할하는 것</li><li>모듈 : 각 기능별로 분할한 것</li></ul><h2 id="기능적-독립성"><a class="markdownIt-Anchor" href="#기능적-독립성"></a> 기능적 독립성</h2><ul><li>모듈의 기능적 독립성은 소프트웨어를 구성하는 각 모듈의 기능이 독립됨을 의미</li><li>모듈화, 추상화, 정보 은닉의 부산물</li><li>모듈이 하나의 기능만을 수행하고 다른 모듈과의 과도한 상호작용을 배제</li><li>독립된 모듈은 특정 기능을 수행하고 다른 모듈과는 간단한 인터페이스만을 가지므로 개발이 쉽고 재사용이 가능</li><li>독립성이 높은 모듈일 수록 모듈을 수정하더라도 다른 모듈에게는 영향을 미치지 않음</li><li>오류가 발생해도 쉽게 발견할 수 있고 해결 가능</li><li>결합도와 응집도에 의해 측정되며 결합도는 약하게, 응집도를 강하게 하고 모듈의 크기를 작게 만들어야한다.</li><li>결합도와 응집도는 소프트웨어 설계시 평가 지침이 된다.</li></ul><h2 id="결합도"><a class="markdownIt-Anchor" href="#결합도"></a> 결합도</h2><ul><li>Coupling</li><li>모듈 간에 상호 의존하는 정도</li><li>각 모듈 간의 결합도가 약해야 하며 의존하는 모듈이 적어야한다.</li><li>결합도가 강하면 시스템 구현 및 유지보수 작업이 어렵다.</li></ul><h3 id="결합-정도"><a class="markdownIt-Anchor" href="#결합-정도"></a> 결합 정도</h3><table><thead><tr><th style="text-align:center">약함</th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center">강함</th></tr></thead><tbody><tr><td style="text-align:center">자료 결합도</td><td style="text-align:center">스탬프 결합도</td><td style="text-align:center">제어 결합도</td><td style="text-align:center">외부 결합도</td><td style="text-align:center">공통 결합도</td><td style="text-align:center">내용 결합도</td></tr></tbody></table><h3 id="자료-결합도"><a class="markdownIt-Anchor" href="#자료-결합도"></a> 자료 결합도</h3><ul><li>Data Coupling</li><li>모듈 간의 인터페이스가 자료 요소로만 구성될 때의 결합도</li><li>모듈이 다른 모듈을 호출하면서 매개 변수나 인수로 데이터를 넘겨주고, 호출받은 모듈은 받은 데이터에 대한 <strong>처리 결과를 다시 돌려주는 것</strong></li><li>모듈 간의 내용을 전혀 알 필요가 없는 상태로 한 모듈의 내용을 변경하더라도 다른 모듈에는 전혀 영향을 미치지 않는 가장 좋은 결합도</li></ul><h3 id="스탬프-결합도"><a class="markdownIt-Anchor" href="#스탬프-결합도"></a> 스탬프 결합도</h3><ul><li>Stamp Coupling = 검인 결합도</li><li>모듈 간의 인터페이스로 배열이나 레코드 등의 <strong>자료구조가 전달될 때</strong>의 결합도</li><li>두 모듈이 동일한 자료 구조를 조회하는 경우의 결합도</li></ul><h3 id="제어-결합도"><a class="markdownIt-Anchor" href="#제어-결합도"></a> 제어 결합도</h3><ul><li>Control Coupling</li><li>모듈이 다른 모듈 내부의 논리적인 흐름을 제어하기 위해 <strong>제어신호를 이용하여 통신하거나 제어 요소를 전달</strong>하는 결합도</li><li>상위 모듈이 하위 모듈의 상세한 처리 절차를 알고 있어 이를 통제하는 경우나 처리 기능이 두 모듈에 분리되어 설계된 경우 발생</li><li>권리 전도현상이 발생</li></ul><h3 id="외부-결합도"><a class="markdownIt-Anchor" href="#외부-결합도"></a> 외부 결합도</h3><ul><li>External Coupling</li><li>모듈에서 <strong>외부로 선언한 데이터(변수)를 다른 모듈에서 참조</strong>할 때의 결합도</li></ul><h3 id="공통-결합도"><a class="markdownIt-Anchor" href="#공통-결합도"></a> 공통 결합도</h3><ul><li>Common Coupling = 공유 결합도</li><li>공유되는 <strong>공통 데이터 영역을 여러 모듈이 사용할 때</strong>의 결합도</li><li>공통 데이터 영역이 내용을 변경하면 이를 사용하는 모든 모듈에 영향을 미친다.</li></ul><h3 id="내용-결합도"><a class="markdownIt-Anchor" href="#내용-결합도"></a> 내용 결합도</h3><ul><li>Content Coupling</li><li>모듈이 <strong>다른 모듈의 내부 기능 및 그 내부 자료를 직접 참조</strong>하거나 수정할 때의 결합도</li><li><strong>모듈에서 다른 모듈로 제어가 이동하는 경우</strong>에도 내용 결합도</li></ul><h2 id="응집도"><a class="markdownIt-Anchor" href="#응집도"></a> 응집도</h2><ul><li>Cohesion</li><li>정보 은닉 개념을 확장한 것</li><li>명령어나 호출문 등 모듈의 내부 요소들의 서로 관련되어 있는 정도</li><li>모듈이 독립적인 기능으로 정의되어 있는 정도</li><li>독립적인 모듈이 되기 위해서는 각 모듈의 응집도가 강해야한다.</li></ul><h3 id="응집-정도"><a class="markdownIt-Anchor" href="#응집-정도"></a> 응집 정도</h3><table><thead><tr><th style="text-align:center">강함</th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center">약함</th></tr></thead><tbody><tr><td style="text-align:center">기능적 응집도</td><td style="text-align:center">순차적 응집도</td><td style="text-align:center">교환적 응집도</td><td style="text-align:center">절차적 응집도</td><td style="text-align:center">시간적 응집도</td><td style="text-align:center">논리적 응집도</td><td style="text-align:center">우연적 응집도</td></tr></tbody></table><h3 id="기능적-응집도"><a class="markdownIt-Anchor" href="#기능적-응집도"></a> 기능적 응집도</h3><ul><li>Functional Cohesion</li><li>모듈 내부의 모든 기능 요소들이 단일 문제와 연관되어 수행될 경우</li></ul><h3 id="순차적-응집도"><a class="markdownIt-Anchor" href="#순차적-응집도"></a> 순차적 응집도</h3><ul><li>Sequential Cohesion</li><li>모듈 내 하나의 활동으로부터 나온 출력 데이터를 그 다음 활동의 입력 데이터로 사용할 경우의 응집도</li></ul><h3 id="교환적-응집도"><a class="markdownIt-Anchor" href="#교환적-응집도"></a> 교환적 응집도</h3><ul><li>Communication Cohesion = 통신적 응집도</li><li>동일한 입력과 출력을 사용하여 서로 다른 기능을 수행하는 구성 요소들이 모였을 경우의 응집도</li></ul><h3 id="절차적-응집도"><a class="markdownIt-Anchor" href="#절차적-응집도"></a> 절차적 응집도</h3><ul><li>Procedural Cohesion</li><li>모듈이 다수의 관련 기능을 가질 때 모듈 안의 구성요소들이 그 기능을 순차적으로 수행할 경우의 응집도</li></ul><h3 id="시간적-응집도"><a class="markdownIt-Anchor" href="#시간적-응집도"></a> 시간적 응집도</h3><ul><li>Temporal Cohesion</li><li>특정 시간에 처리되는 몇 개의 기능을 모아 하나의 모듈로 작성할 경우의 응집도</li></ul><h3 id="논리적-응집도"><a class="markdownIt-Anchor" href="#논리적-응집도"></a> 논리적 응집도</h3><ul><li>Logical Cohesion</li><li>유사한 성격을 갖거나 특정 형태로 분류되는 처리 요소들로 하나의 모듈이 형성되는 경우의 응집도</li></ul><h3 id="우연적-응집도"><a class="markdownIt-Anchor" href="#우연적-응집도"></a> 우연적 응집도</h3><ul><li>Coincidental Cohesion</li><li>모듈 내부의 각 구성 요소들이 서로 관련 없는 요소로만 구성된 경우의 응집도</li></ul><h2 id="효과적인-모듈-설계"><a class="markdownIt-Anchor" href="#효과적인-모듈-설계"></a> 효과적인 모듈 설계</h2><ul><li><strong>결합도는 줄이고 응집도는 높여 모듈의 독립성을 높인다.</strong></li><li>모듈의 제어영역에서 모듈의 영향영역을 유지시킨다.</li><li>복잡도와 중복성을 줄이고 일관성을 유지시킨다.</li><li>모듈의 기능은 예측이 가능해야한다.</li><li>유지보수가 쉬어야한다.</li><li>모듈 크기는 시스템의 전반적인 기능과 구조를 이해하기 쉬운 크기로 분해한다.</li><li><strong>하나의 입구와 하나의 출구를 갖도록 한다.</strong></li></ul><h1 id="설계-방법"><a class="markdownIt-Anchor" href="#설계-방법"></a> 설계 방법</h1><h2 id="자료설계"><a class="markdownIt-Anchor" href="#자료설계"></a> 자료설계</h2><ul><li>설계의 첫번째 작업</li><li>요구사항 분석에서 생성된 여러 모델들을 소프트웨어를 구현하는 데 필욯나 자료 구조로 변환하는 것</li></ul><h2 id="구조-설계-2"><a class="markdownIt-Anchor" href="#구조-설계-2"></a> 구조 설계</h2><ul><li>프로그램 구조를 개발하고 소프트웨어 구성 요소들 간의 관계를 정의하는 것</li><li>구조 도표 : 소프트웨어 기능을 몇 개의 고유 기능으로 분할하여 블랙 박스로 나타내고 블랙 박스 간의 인터페이스를 계층 구조로 표현하는 것</li><li>변환 분해 접근법 : DFD를 흐름에 따라 구분하여 프로그램 구조 도표로 변환시키는 방법</li><li>거래 분해 접근법 : DFD에서 거래에 해당하는 부분을 중심으로 자료 흐름도를 거래 중심 구조 도표로 변환하는 방법</li></ul><h3 id="구조적-설계-절차"><a class="markdownIt-Anchor" href="#구조적-설계-절차"></a> 구조적 설계 절차</h3><ol><li>정보 흐름의 유형을 설정</li><li>흐름의 경계를 표시</li><li>자료 흐름도를 프로그램 구조로 사상</li><li>제어 계층을 분해시켜서 정의</li><li>경험적 방법으로 구체화</li></ol><h2 id="인터페이스-설계-2"><a class="markdownIt-Anchor" href="#인터페이스-설계-2"></a> 인터페이스 설계</h2><p>소프트웨어 상호 작용하는 시스템, 사용자 등과 어떻게 통신하는지를 기술하는 과정</p><h3 id="인터페이스-경고-메세지-지침"><a class="markdownIt-Anchor" href="#인터페이스-경고-메세지-지침"></a> 인터페이스 경고 메세지 지침</h3><ul><li>메세지 내용을 이해하기 쉬어야한다.</li><li>오류 회복을 위한 구체적인 설명이 제공되어야 한다.</li><li>소리나 색을 이용해 듣거나 보기 쉽도록 의미를 전달해야 한다.</li><li><strong>오류로 인해 발생될 수 있는 부정적 내용은 절대 사용하면 안 된다.</strong></li></ul><h3 id="ui-평가-기준"><a class="markdownIt-Anchor" href="#ui-평가-기준"></a> UI 평가 기준</h3><ul><li>소프트웨어 사용법을 쉽게 배울 수 있고, 특정 기능 수행 속도가 빨라야한다.</li><li>사용중 오류 발생 빈도가 적어야한다.</li><li>소프트웨어를 사용하는 사용자의 만족을 충족시켜야 한다.</li><li>소프트웨어 사용법을 쉽게 기억할 수 있도록 제작되어야 한다.</li></ul><h2 id="프로시저-설계-2"><a class="markdownIt-Anchor" href="#프로시저-설계-2"></a> 프로시저 설계</h2><ul><li>절차 설계는 데이터, 아키텍쳐, 인터페이스 설계가 이뤄진 후 수행되는 설계 작업</li><li>모듈이 수행할 기능을 절차적 기술로 바꾸는 것</li><li>코드에 가까운 추상화 수준의 모듈 명세서를 작성하는 것</li><li>그래픽 설계 표기법이나 프로그램 설계 언어 등을 사용해서 나타낸다.</li></ul><h3 id="흐름도"><a class="markdownIt-Anchor" href="#흐름도"></a> 흐름도</h3><ul><li>그래픽 설계 표기법</li><li>Flowchart</li></ul><h3 id="n-s-차트"><a class="markdownIt-Anchor" href="#n-s-차트"></a> N-S 차트</h3><p><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Multiple_Branching.svg/651px-Multiple_Branching.svg.png" alt="NS Chart"></p><ul><li>Nassi-Schneiderman Chart = 박스 다이어그램 = Chapin Chart</li><li>그래픽 설계 표기법</li><li>논리의 기술에 중점을 둔 도형을 이용한 표현 방법</li><li>박스를 기본 요소로 하여 연속, 선택 및 다중 선택, 반복 등의 제어 논리 구조를 표현</li><li><strong>GOTO나 화살표를 사용하지 않는다.</strong></li><li>조건이 복합되어 있는 곳의 처리를 시각적으로 명확히 식별하는 데 적합하다.</li><li>선택과 반복 구조를 시각적으로 표현한다.</li><li>이해하기 쉽고, 코드 변환이 용이하다.</li><li>읽기는 쉽지만 작성하기가 어렵다.</li><li>임의로 제어를 전이하는 게 불가능하다.</li><li>총체적인 구조 표현과 인터페이스를 나타내기가 어렵다.</li><li><strong>단일 입구와 단일 출구로 표현한다.</strong></li></ul><h3 id="프로그램-설계-언어"><a class="markdownIt-Anchor" href="#프로그램-설계-언어"></a> 프로그램 설계 언어</h3><ul><li>PDL = Program Design Language = 의사 코드 = <strong>Pseudo Code</strong> = 구조적 영어</li><li>영어 단어를 이요해 구조적 프로그래밍의 제어 구조를 기술하는 것</li><li>하향식 접근 방식으로 논리의 전체 흐름을 표현한다.</li><li>사용자와의 의사소통을 용이하게 한다.</li><li>현재 프로그래밍 언어와 유사한 서술적 표현에 의해 프로그램, 설계, 시스템 검토, 문서화 기법에 사용된다.</li></ul><h3 id="자료-구조-중심-설계"><a class="markdownIt-Anchor" href="#자료-구조-중심-설계"></a> 자료 구조 중심 설계</h3><ul><li>자료 구조 중심 분석 기법에서 생성한 요구사항 분석 명세서를 토대로 입력과 출력 자료 구조로부터 프로그램의 구조와 세부 절차를 도출해 내는 방법</li><li>Jackson의 JSD, Warnier-Orr의 DSSD</li></ul><h1 id="구현"><a class="markdownIt-Anchor" href="#구현"></a> 구현</h1><ul><li>설계 단계에서 생성된 설계 명세서를 컴퓨터가 알 수 있는 모습으로 변환하는 과정</li><li>프로그래밍 = 코딩</li><li>각 모듈을 프로그래밍 언어를 사용해 원시 코드로 작성하고 문서화하는 작업</li><li>설계를 철저히 반영시키고 원시 코드를 간단 명료하게 작성한다.</li><li>사용할 프로그램이 언어와 코딩 스타일 등을 결정해야한다.</li></ul><h2 id="프로그래밍-언어"><a class="markdownIt-Anchor" href="#프로그래밍-언어"></a> 프로그래밍 언어</h2><ul><li>1세대 : 기계어, 어셈블리어</li><li>2세대 : FORTRAN, ALGOL, COBOL, BASIC</li><li>3세대 : PL/1, PASCAL, C, Lisp, C++</li><li>4세대 : 비절차적 언어, 자연언어, 사용자 중심언어, 응용 프로그램 생성기 언어, 프로토타입 언어, SQL, 정보 검색어, 보고서 작성기</li></ul><h2 id="구조적-프로그래밍"><a class="markdownIt-Anchor" href="#구조적-프로그래밍"></a> 구조적 프로그래밍</h2><ul><li>Dijkstra에 의해 제안</li><li>신뢰성 있는 소프트웨어의 생산과 코딩의 표준화 등을 위해 개발</li><li><strong>순차, 선택, 반복</strong> (Sequence, Selection, Iteration)</li></ul><h1 id="검사"><a class="markdownIt-Anchor" href="#검사"></a> 검사</h1><p>Test</p><h2 id="검사-사례-설계-고려사항"><a class="markdownIt-Anchor" href="#검사-사례-설계-고려사항"></a> 검사 사례 설계 고려사항</h2><ul><li>모듈 내의 모든 독립적인 경로가 적어도 한 번은 수행되어야 한다.</li><li>가능한 복잡한 논리는 배제한다.</li><li>임의의 조건을 만족시켜야 한다.</li><li>내부 자료 구조를 사용하여 테스트를 수행한다.</li></ul><h2 id="화이트-박스-테스트"><a class="markdownIt-Anchor" href="#화이트-박스-테스트"></a> 화이트 박스 테스트</h2><ul><li>모듈의 원시 코드를 오픈시킨 상태에서 원시 코드의 논리적인 모든 경로를 검사하여 검사 사례를 설계하는 방법</li><li>설계된 절차에 초점을 둔 구조적 테스트</li><li>프로시저 설계의 제어 구조를 사용하여 검사 사례를 설계한다.</li><li><strong>테스트 초기에 적용된다.</strong></li><li><strong>모듈 안 작동을 직접 관찰한다.</strong></li><li><strong>원시 코드의 모든 문장을 한 번 이상 수행한다.</strong></li><li><strong>논리 흐름도, 루프 구조, 순환 복잡도에 관한 오류를 찾을 수 있다.</strong></li><li><strong>기초 경로 검사, 제어 구조 검사 (조건 검사, 루프 검사, 데이터 흐름 검사)</strong></li></ul><h3 id="기초-경로-검사"><a class="markdownIt-Anchor" href="#기초-경로-검사"></a> 기초 경로 검사</h3><ul><li>Basic Path Testing</li><li>Tom McCabe가 제안</li><li>대표적인 화이트 박스 테스트</li><li>절차<ol><li>흐름도 작성</li><li>논리적 복잡도 측정</li><li>독립 경로들의 기초 집합 결정</li><li>기초 집합의 각 경로를 실행시키는 검사 사례 선정</li></ol></li><li>제어 흐름도<ul><li>제어 흐름을 표현하기 위해 사용되는 그래프</li><li>프로그램 그래프 = 흐름 그래프</li><li>노드(원) : 절차적 명령문</li><li>화살표 : 제어의 흐름</li><li>영역 : 화살표와 노드로 둘러싸인 구역, 외부 구역도 하나의 영역에 포함된다.</li></ul></li><li><strong>순환 복잡도</strong><ul><li>한 프로그램의 논리적인 복잡도를 측정하기 위한 소프트웨어의 척도</li><li>제어 흐름도 이론에 기초를 둔다.</li><li>순환 복잡도는 제어 흐름도의 영역 수와 일치하므로 영역 수를 계산한다.</li><li><strong>순환복잡도 = 화살표 수 - 노드 수 + 2</strong></li></ul></li></ul><h3 id="제어-구조-검사"><a class="markdownIt-Anchor" href="#제어-구조-검사"></a> 제어 구조 검사</h3><ul><li>조건 검사<ul><li>Condition Testing</li><li>모듈 내에 있는 논리적 조건을 검사하는 검사 사례 설계 기법</li></ul></li><li>루프 검사<ul><li>Loop Testing</li><li>반복 구조에 초점을 맞춰 실시하는 검사 사례 설계 기법</li><li>초기화 오류, 인덱싱 증가 오류, 경계값 오류 등을 발견할 수 있다.</li></ul></li><li>데이터 흐름 검사<ul><li>Data Flow Testing</li><li>변수의 정의와 변수 사용의 위치에 초점을 맞춰 실시하는 검사 사례 설계 기법</li></ul></li></ul><h2 id="블랙-박스-테스트"><a class="markdownIt-Anchor" href="#블랙-박스-테스트"></a> 블랙 박스 테스트</h2><ul><li>소프트웨어가 수행할 특정 기능을 알기 위해 각 기능이 완전히 작동되는 것을 입증하는 검사</li><li>기능 검사</li><li><strong>소프트웨어 인터페이스에서 실시되는 검사</strong></li><li><strong>테스트 과정 후반부에 적용</strong></li><li>적합한 입력에 대한 출력의 정확성을 점검</li><li><strong>동치 분할 검사, 경계값 분석, 원인효과 그래프 검사, 오류 예측 검사, 비교 검사</strong></li></ul><h3 id="동치-분할-검사"><a class="markdownIt-Anchor" href="#동치-분할-검사"></a> 동치 분할 검사</h3><ul><li>Equivalence Partitioning Testing = 동등 분할 기법</li><li>입력 자료에 초점을 맞춰 검사 사례를 만들고 검사하는 방법</li><li>입력 조건에 타당한 입력 자료와 그렇지 않는 입력 자료의 개수를 균등하게 하여 검사 사례를 정하고, 해당 입력 자료에 맞는 결과가 출력되는지 확인하는 방법</li></ul><h3 id="경계값-분석"><a class="markdownIt-Anchor" href="#경계값-분석"></a> 경계값 분석</h3><ul><li>Boundary Value Analysis</li><li>입력 자료에만 치중한 동치 분할 기법을 보완하기 위한 기법</li><li>입력 조건의 중간 값보다 경계값에서 오류가 발생될 확률이 높다는 점을 이용</li><li>입력 조건의 경계값을 검사 사례로 선정</li></ul><h3 id="원인효과-그래프-검사"><a class="markdownIt-Anchor" href="#원인효과-그래프-검사"></a> 원인효과 그래프 검사</h3><ul><li>Cause-Effect Graphing Testing</li><li>입력 데이터 간의 관계와 출력에 영향을 미치는 상황을 체계적으로 분석하여 효용성이 높은 검사 사례를 선정하여 검사하는 기법</li><li>그래프로 표현한다.</li></ul><h3 id="오류-예측-검사"><a class="markdownIt-Anchor" href="#오류-예측-검사"></a> 오류 예측 검사</h3><ul><li>Fault Based Testing = Mutation Testing = 데이터 확인 검사</li><li>과거의 경험이나 확인자의 감각으로 검사하는 기법</li><li>보충적 검사 기법</li></ul><h3 id="비교-검사"><a class="markdownIt-Anchor" href="#비교-검사"></a> 비교 검사</h3><ul><li>Comparison Testing</li><li><strong>여러 버전</strong>의 프로그램에 동일한 검사 자료를 제공해 동일한 결과가 출력되는지 검사하는 기법</li></ul><h1 id="검사-전략"><a class="markdownIt-Anchor" href="#검사-전략"></a> 검사 전략</h1><ul><li>설계된 검사 사례를 수행하는 것</li><li>단위 검사 : 프로그램의 기본 단위인 모듈 수준에서 시작</li><li>통합 검사 : 단위 검사 후 모듈을 결합하여 전체 시스템에 대해 검사</li><li>검증 검사 : 사용자의 요구사항을 충족시키는가를 검사</li><li>시스템 검사 : 개발된 소프트웨어가 컴퓨터 시스템에서 완벽하게 수행되는지를 검사</li></ul><h2 id="단위-검사"><a class="markdownIt-Anchor" href="#단위-검사"></a> 단위 검사</h2><ul><li>Unit Test</li><li>코딩이 이뤄진 후 모듈에 초점을 맞춰 검사하는 것</li><li>화이트 박스 테스트 기법을 사용</li><li>인터페이스, 외부적 I/O, 자료구조, 독립적 기초 경로, 오류 처리경로, 경계 조건 등을 검사</li></ul><h2 id="통합-검사"><a class="markdownIt-Anchor" href="#통합-검사"></a> 통합 검사</h2><ul><li>Integration Test</li><li>단위 검사가 완료된 모듈을 결합하여 하나의 시스템으로 완성시키는 과정에서의 검사</li><li>모듈 간 인터페이스와 연관된 오류를 밝히기 위한 검사 기법</li></ul><h3 id="비점진적-통합-방식"><a class="markdownIt-Anchor" href="#비점진적-통합-방식"></a> 비점진적 통합 방식</h3><ul><li>단계적으로 통합하는 절차 없이 모든 모듈이 미리 결합되어 프로그램 전체를 검사하는 방법</li><li>전체 프로그램을 대상으로 하므로 오류 발견이 힘들고 수정이 어렵다.</li></ul><h3 id="점진적-통합-방식"><a class="markdownIt-Anchor" href="#점진적-통합-방식"></a> 점진적 통합 방식</h3><ul><li>모듈 단위로 단계적으로 통합하면서 검사하는 방식</li><li>하향식, 상향식, 혼합식 통합 방식이 있다.</li><li>오류 수정이 용이하고 인터페이스와 연관된 오류를 완전히 검사할 가능성이 높다.</li></ul><h2 id="하향식-통합-검사"><a class="markdownIt-Anchor" href="#하향식-통합-검사"></a> 하향식 통합 검사</h2><ul><li>Top Down Integration Test</li><li>프로그램 상위 모듈에서 하위 모듈 방향으로 통합하면서 검사</li><li><strong>주요 제어 모듈을 드라이버로 사용하고, 주요 제어 모듈의 종속 모듈들은 스터브로 대체한다.</strong></li><li>스터브 : 일시적으로 필요한 조건만을 가지고 임시로 제공되는 시험용 모듈</li><li>스터브 사용 이유 : 상위 모듈은 하위 모듈이 모두 결합되어야 정상적으로 검사될 수 있으므로 스터브를 사용해서 검사한다.</li></ul><h2 id="상향식-통합-검사"><a class="markdownIt-Anchor" href="#상향식-통합-검사"></a> 상향식 통합 검사</h2><ul><li><p>Bottom Up Integration Test</p></li><li><p>프로그램 하위 모듈에서 상위 모듈 방향으로 통합하면서 검사</p></li><li><p>순서</p><ol><li><strong>하위 모듈을 클러스터로 결합</strong></li><li>검사 사례 입출력을 조정하기 위해 <strong>드라이버를 작성</strong></li><li>클러스터 검사</li><li>드라이버를 제거하고 클러스터는 프로그램 구조의 상위로 이동하여 결합</li></ol></li></ul><h2 id="혼합식-통합-검사"><a class="markdownIt-Anchor" href="#혼합식-통합-검사"></a> 혼합식 통합 검사</h2><ul><li>하위 수준에서는 상향식 통합, 상위 수준에서는 하향식 통합을 사용해 쵲거의 검사를 지원하는 방식</li><li>샌드위치식 통합 검사 방법</li></ul><h2 id="검증-검사"><a class="markdownIt-Anchor" href="#검증-검사"></a> 검증 검사</h2><ul><li>Validation Test = 확인 검사 = 인수 검사</li><li>소프트웨어가 사용자의 요구사항을 충족시키는가를 중점으로 검사</li><li><strong>블랙 박스 테스트를 이용하여 진행</strong></li><li>형상 검사, 알파 검사, 베타 검사 등이 있다.</li></ul><h3 id="형상-검사"><a class="markdownIt-Anchor" href="#형상-검사"></a> 형상 검사</h3><ul><li>구성 검토 = 감사</li><li>소프트웨어 구성요소, 목록, 유지보수를 지원하기 위해 필요한 모든 사항들이 제대로 표현되었는지를 검사</li></ul><h3 id="알파-검사"><a class="markdownIt-Anchor" href="#알파-검사"></a> 알파 검사</h3><ul><li><strong>개발자의 장소에서 사용자가 개발자 앞에서 행하는 검사 기법</strong></li><li><strong>통제된 환경에서 행해지며</strong> 오류를 사용자와 개발자가 함께 확인하면서 기록한다.</li></ul><h3 id="베타-검사"><a class="markdownIt-Anchor" href="#베타-검사"></a> 베타 검사</h3><ul><li>선정된 최종 <strong>사용자가 여러 명의 사용자 앞에서 행하는 검사 기법</strong></li><li>실업무를 가지고 사용자가 직접 시험하는 것</li><li><strong>개발자에 의해 제어되지 않은 상태</strong>에서 검사가 행해지며, 오류는 기록 후 개발자에게 주기적으로 보고한다.</li></ul><h2 id="시스템-검사"><a class="markdownIt-Anchor" href="#시스템-검사"></a> 시스템 검사</h2><ul><li>개발된 소프트웨어가 해당 컴퓨터 시스템에서 완벽하게 수행되는가를 검사</li><li>복구 검사, 보안 검사, 강도 검사, 성능 검사</li><li>복구 검사 : 실패 후 올바르게 복구되는가</li><li>보안 검사 : 침투로부터 시스템이 보호되는가</li><li>강도 검사 : 비정상적인 양, 빈도로 호출시 소프트웨어가 실행되는가</li><li>성능 검사 : 소프트웨어 실시간 성능을 검사하기 위한 것으로 검사 단계 전 과정에 걸쳐 수행</li></ul><h2 id="디버깅"><a class="markdownIt-Anchor" href="#디버깅"></a> 디버깅</h2><ul><li>검사사례에 의해 오류를 찾은 후 그 오류를 수정하는 과정</li><li>검사기법은 아니다.</li><li>맹목적 강요 : 가장 비효율적 방법</li><li>역추적 : Backtracking 오류가 발견된 위치에서 원인이 발견될 때까지의 코딩 부분을 거슬러 수정하는 일반적인 방법</li><li>원인 제거 : Cause Elimination 오류 가능성이 있는 원인을 제거해 버그를 분리</li></ul><blockquote><p>단위 검사 : 코드<br>통합 검사 : 설계<br>검증 검사 : 요구사항</p></blockquote><h1 id="유지보수"><a class="markdownIt-Anchor" href="#유지보수"></a> 유지보수</h1><ul><li>소프트웨어 개발 단계 중 가장 많은 노력과 비용이 투입되는 단계</li><li>시험 용이성, 이해성, 수정 용이성, 이식성이 고려되어야 한다.</li><li>수리 보수, 적응 보수, 완전화 보수, 예방 보수 활동으로 구분된다.</li></ul><h2 id="수정-보수"><a class="markdownIt-Anchor" href="#수정-보수"></a> 수정 보수</h2><ul><li>Corrective</li><li>시스템을 운영하면서 검사 단계에서 발견핟지 못한 잠재적인 오류를 찾아 수정하는 활동</li><li>오류의 수정과 진단을 포함한다.</li></ul><h2 id="적응-보수"><a class="markdownIt-Anchor" href="#적응-보수"></a> 적응 보수</h2><ul><li>Adaptive = 환경 적응 = 조정 보수</li><li>소프트웨어 수명 기간 중 발생하는 환경의 변화(하드웨어, OS)를 기존 소프트웨어에 반영하기 위해 수행하는 활동</li><li>프로그래밍 환경의 변화 또는 주변장치, 시스템 요소의 업그레이드시 대처할 수 있는 유지보수 활동</li></ul><h2 id="완전화-보수"><a class="markdownIt-Anchor" href="#완전화-보수"></a> 완전화 보수</h2><ul><li>Perfective = 기능 개선 = 기능 보수</li><li>소프트웨어 본래 기능에 새로운 기능을 추가하거나 성능을 개선하기 위해 소프트웨어를 확장시키는 활동</li><li>유지보수 활동 중 가장 큰 업무 및 비용을 차지한다.</li></ul><h2 id="예방-보수"><a class="markdownIt-Anchor" href="#예방-보수"></a> 예방 보수</h2><ul><li>Preventive = 소프트웨어 재공학</li><li>소프트웨어의 오류 발생에 대비하여 미리 예방 수단을 강구하는 활동</li></ul><h2 id="유지보수-과정"><a class="markdownIt-Anchor" href="#유지보수-과정"></a> 유지보수 과정</h2><ol><li>유지보수 요구</li><li>현 시스템에 대한 이해</li><li>수정 및 시험</li></ol><h2 id="유지보수-비용"><a class="markdownIt-Anchor" href="#유지보수-비용"></a> 유지보수 비용</h2><ul><li>소프트웨어 개발에 필요한 비중 중 약 70%</li><li>Belady, Lehman에 의해 제안된 공식으로 구한다.</li></ul><img data-src="https://i.imgur.com/ml3uWS2.png"><h2 id="유지보수-부작용"><a class="markdownIt-Anchor" href="#유지보수-부작용"></a> 유지보수 부작용</h2><ul><li>코딩 부작용 : 코딩 내용 변경으로 발생</li><li>자료 부작용 : 자료나 자료 구조의 변경으로 발생</li><li>문서화 부작용 : 자료 코드에 대한 변경이 설계문서나 사용자 매뉴얼에 반영되지 않을 때 발생</li></ul><h2 id="외계인-코드"><a class="markdownIt-Anchor" href="#외계인-코드"></a> 외계인 코드</h2><ul><li>Alien Code</li><li>아주 오래 전에 개발되어 유지보수 작업이 매우 어려운 프로그램</li><li>일반적으로 15년이 더 된 프로그램</li><li>문서화로 방지할 수 있다.</li></ul><h1 id="객체지향-소프트웨어-공학"><a class="markdownIt-Anchor" href="#객체지향-소프트웨어-공학"></a> 객체지향 소프트웨어 공학</h1><ul><li>현실 세계의 개체를 기계의 부품처럼 하나의 객체로 만들어 부품을 조립하여 제품을 만들 듯이 소프트웨어를 개발할 때에도 객체들을 조립해서 작성할 수 있도록 하는 기법</li><li>구조적 기법의 문제점 해결</li><li>소프트웨어 재사용 및 확장을 용이하게 해서 빠르게 개발이 가능하고 유지보수가 쉽다.</li><li>복잡한 구조를 단계적, 계층적으로 표현한다.</li><li>멀티미디어 데이터 및 병령 처리를 지원한다.</li><li>현실 세계를 모형화하여 사용자와 개발자가 쉽게 이해할 수 있다.</li></ul><h2 id="객체"><a class="markdownIt-Anchor" href="#객체"></a> 객체</h2><ul><li>Object</li><li>데이터와 데이터를 처리하는 함수를 묶어 놓은 하나의 소프트웨어 모듈</li><li>데이터<ul><li>객체가 가지고 있는 정보로 속성이나 상태, 분류를 나타낸다.</li><li>속성 = Attribute = 상태 = 변수 = 상수 = 자료 구조</li></ul></li><li>함수<ul><li>객체가 수행하는 기능으로 객체가 갖는 데이터를 처리하는 알고리즘</li><li>객체의 상태를 참조하거나 변경하는 수단이 되는 것</li><li>메소드 = 서비스 = 동작 = 연산</li><li>기존 구조적 기법에서의 함수, 프로시저에 해당하는 연산 기능</li></ul></li><li>객체는 상태와행위를 가지고 있다.</li><li>다른 객체와 구별될 수 있는 이름을 가지고 있다.</li><li>일정한 기억 장소를 가지고 있다.</li><li>객체의 메소드는 다른 객체로부터 메세지를 받을 때 수행하게 된다.</li></ul><h2 id="클래스"><a class="markdownIt-Anchor" href="#클래스"></a> 클래스</h2><ul><li>공통된 속성과 연산을 갖는 객체의 집합</li><li>객체의 일반적인 타입을 의미</li><li>각각의 객체들이 갖는 속성과 연산을 정의하고 있는 틀</li><li>인스턴스 : 클래스에 속한 각각의 객체</li><li>인스턴스화 : 클래스로부터 새로운 객체를 생성하는 것</li><li>최상위 클래스는 상위 클래스를 갖지 않는 유일한 클래스</li><li>슈퍼클래스는 특정 클래스의 상위 클래스</li><li>서브클래스는 특정 클래스의 하위 클래스</li></ul><h2 id="메세지"><a class="markdownIt-Anchor" href="#메세지"></a> 메세지</h2><ul><li>객체들 간에 상호작용을 하는 데 사용되는 수단</li><li>객체에게 어떤 행위를 하도록 지시하는 명령 또는 요구사항</li><li><strong>메세지를 받은 수신 객체는 요구된 메소드를 수행</strong>한다.</li></ul><h1 id="객체지향-기법의-기본-원칙"><a class="markdownIt-Anchor" href="#객체지향-기법의-기본-원칙"></a> 객체지향 기법의 기본 원칙</h1><h2 id="캡슐화"><a class="markdownIt-Anchor" href="#캡슐화"></a> 캡슐화</h2><ul><li>Encapsulation</li><li>데이터와 데이터를 처리하는 함수를 하나로 묶는 것</li><li>캡슐화된 객체의 세부내용이 외부에 은폐된다.</li><li>캡슐화된 객체는 재사용이 용이하다.</li><li>객체 간의 메세지를 주고받을 때 각 객체의 세부 내용은 알 필요가 없으므로 인터페이스가 단순해지고 객체 간의 결합도가 낮아진다.</li></ul><h2 id="정보-은닉-2"><a class="markdownIt-Anchor" href="#정보-은닉-2"></a> 정보 은닉</h2><ul><li>Information Hiding</li><li>캡슐화에서 가장 중요한 개념</li><li>다른 객체에게 자신의 정보를 숨기고 자신의 연산만을 통하여 접근을 허용하는 것</li><li>각 객체의 수정이 다른 객체에 주는 영향을 최소화하는 기술</li><li>유지보수와 소프트웨어 확장시 오류를 최소화</li></ul><h2 id="추상화-2"><a class="markdownIt-Anchor" href="#추상화-2"></a> 추상화</h2><ul><li>Abstraction</li><li>불필요한 부분을 생략하고 객체의 속성 중 가장 중요한 것에만 중점을 두어 모델화하는 것</li></ul><h2 id="상속성"><a class="markdownIt-Anchor" href="#상속성"></a> 상속성</h2><ul><li>Inheritance</li><li>이미 정의된 상위 클래스의 모든 속성과 연산을 하위 클래스가 물려받는 것</li><li>다중 상속성 : Multiple Inheritance 한 개의 클래스가 두 개 이상의 상위 클래스로부터 속성과 연산을 상속받는 것</li></ul><h2 id="다형성"><a class="markdownIt-Anchor" href="#다형성"></a> 다형성</h2><ul><li>Polymorphism</li><li>객체들은 동일한 메소드명을 사용하며 같은 의미의 응답을 한다.</li><li>응용 프로그램 상에서 하나의 함수나 연산자가 두 개 이상의 서로 다른 클래스의 인스턴스들을 같은 클래스에 속한 인스턴스처럼 수행할 수 있도록하는 것</li></ul><h1 id="객체지향-기법의-생명주기"><a class="markdownIt-Anchor" href="#객체지향-기법의-생명주기"></a> 객체지향 기법의 생명주기</h1><p>각 과정이 명확하게 순찾거으로 이루어지지는 않는다.</p><ol><li>계획 및 분석</li><li>설계</li><li>구현</li><li>테스트 및 검증</li></ol><h1 id="객체지향-분석"><a class="markdownIt-Anchor" href="#객체지향-분석"></a> 객체지향 분석</h1><ul><li>OOA = Object Oriented Analysis</li><li>사용자의 요구사항을 분석하여 요구된 문제와 관련된 모든 클래스, 연관된 속성과 연산, 관계 등을 정의하여 모델링 하는 작업</li><li>소프트웨어를 개발하기 위한 비즈니스를 객체와 속성, 클래스와 멤버, 전체와 부분 등으로 나눠서 분석한다.</li><li>분석가에게 주요한 모델링 구성요소인 클래스, 속성, 연선달을 표현해서 문제를 모형화할 수 있게 해준다.</li><li>객체는 클래스로부터 인스턴스화되고, 클래스를 식별하는 것이 객체지향 분석의 주요한 목적이다.</li></ul><h2 id="객체지향-분석-방법론"><a class="markdownIt-Anchor" href="#객체지향-분석-방법론"></a> 객체지향 분석 방법론</h2><h3 id="rumbaugh-방법"><a class="markdownIt-Anchor" href="#rumbaugh-방법"></a> Rumbaugh 방법</h3><ul><li>럼바우 방법</li><li>가장 일반적으로 사용되는 방법</li><li>분석 활동을 <strong>객체 모델, 동적 모델, 기능 모델</strong>로 나누어 수행</li></ul><h3 id="booch-방법"><a class="markdownIt-Anchor" href="#booch-방법"></a> Booch 방법</h3><ul><li>부치 방법</li><li><strong>미시적Micro 개발 프로세스와 거시적Macro 개발 프로세스</strong> 모두를 사용하는 분석 방법</li><li>클래스와 객체들을 분석 및 식별하고 클래스의 속성과 연산을 정의한다.</li></ul><h3 id="jacobson-방법"><a class="markdownIt-Anchor" href="#jacobson-방법"></a> jacobson 방법</h3><ul><li>Use Case를 강조하여 사용하는 분석 방법이다.</li></ul><h3 id="coad와-yourdon-방법"><a class="markdownIt-Anchor" href="#coad와-yourdon-방법"></a> Coad와 Yourdon 방법</h3><ul><li><strong>E-R 다이어그램</strong>을 사용하여 객체의 행위를 모델링한다.</li></ul><h3 id="wirfs-brock-방법"><a class="markdownIt-Anchor" href="#wirfs-brock-방법"></a> Wirfs-Brock 방법</h3><ul><li>분석과 설계 간의 구분이 없고 고객 명세서를 평가해서 설계 작업까지 연속적으로 수행하는 기법</li></ul><h2 id="rumbaugh-분석-기법"><a class="markdownIt-Anchor" href="#rumbaugh-분석-기법"></a> Rumbaugh 분석 기법</h2><ul><li>모든 소프트웨어 구성요소를 그래픽 표기법을 이용하여 모델링하는 기법</li><li>객체 모델링 기법 = OMT = Object Modeling Technique</li><li>객체 모델링, 동적 모델링, 기능 모델링을 통해 이뤄진다.</li></ul><h3 id="객체-모델링"><a class="markdownIt-Anchor" href="#객체-모델링"></a> 객체 모델링</h3><ul><li>Object Modeling = 정보 모델링</li><li>관계를 규정하여 객체 다이어그램으로 표시하는 것</li><li>분석 활동의 모델 중 가장 중요하며 선행되어야 할 모델링</li><li>순서<ol><li>객체와 클래스를 식별</li><li>클래스에 대한 자료 사전 작성</li><li>클래스 간의 관계를 정의</li><li>객체 속성 및 연결 관계 정의</li><li>클래스를 계층화하고 모듈로 정의</li><li>생성된 모형을 반복적으로 검증</li></ol></li></ul><h3 id="동적-모델링"><a class="markdownIt-Anchor" href="#동적-모델링"></a> 동적 모델링</h3><ul><li>Dynamic Modeling</li><li>상태 다이어그램(상태도)을 이용하여 객체들 간의 제어 흐름, 상호 작용, 동작 순서 등의 동적인 행위를 표현하는 모델링</li><li>객체나 클래스의 상태, 사건을 중심으로 다룬다.</li><li>사건 : 하나의 객체로부터 다른 객체에 자극을 주어 객체의 상태를 변화시키는 것</li><li>상태 : 특정 시점의 객체에 대한 속성값</li><li>순서<ol><li>시나리오 작성</li><li>사건 추적도 작성</li><li>사건 흐름도 작성</li><li>상태도 작성</li></ol></li></ul><h3 id="기능-모델링"><a class="markdownIt-Anchor" href="#기능-모델링"></a> 기능 모델링</h3><ul><li>Functional Modeling</li><li>자료 흐름도를 이용해 다수의 프로세스 간의 자료 흐름을 중심으로 처리과정을 표현한 모델</li><li>순서<ol><li>입출력 자료를 정의</li><li>자료 흐름도를 상세화</li><li>기능 명세서 작성</li><li>제약 조건 파악</li><li>최적화 기준 명세</li></ol></li></ul><blockquote><p>객체 모델링 : 객체<br>동적 모델링 : 객체의 흐름, 상태, 행위<br>기능 모델링 : 자료 흐름, 처리 과정</p></blockquote><h1 id="객체지향-설계"><a class="markdownIt-Anchor" href="#객체지향-설계"></a> 객체지향 설계</h1><ul><li>Object Oriented Design</li><li>객체지향 분석을 사용해서 생성한 여러 가지 분석 모델을 설계 모델로 변환하는 작업</li><li>시스템 설계와 객체 설계를 수행한다.</li><li>사용자 중심, 대화식 프로그램 개발에 적합하다.</li><li>시스템을 구성하는 객체와 속성, 연산을 인식하는 것이 중요한 문제</li><li>추상화, 정보 은닉, 기능 독립성, 모듈화, 상속성을 바탕으로 하며 모듈화가 가장 중요하다.</li><li>문제 정의 =&gt; 요구 명세화 =&gt; 객체 연산자 정의 =&gt; 객체 인터페이스 결정 =&gt; 객체 구현</li></ul><h2 id="럼바우의-객체지향-설계"><a class="markdownIt-Anchor" href="#럼바우의-객체지향-설계"></a> 럼바우의 객체지향 설계</h2><ul><li>가장 많이 사용된다.</li><li>시스템 설계 : 전체적인 시스템 구조를 설계하는 것으로 분석 단계의 분석 모델을 서브시스템으로 분할하고, 시스템의 계층을 정의하며 분할 과정 중에서 성능의 최적 방안, 문제 해결 전략, 자원 분해 등을 확정하는 것이다.</li><li>객체 설계 : 분석 단계에서 만들어진 클래스, 속성, 관계, 메세지를 이용한 통신들을 설계 모델로 제작하고 상세화하여 구체적인 자료 구조와 알고리즘을 정의한다.</li></ul><h2 id="부치의-객체지향-설계"><a class="markdownIt-Anchor" href="#부치의-객체지향-설계"></a> 부치의 객체지향 설계</h2><ul><li>자료 흐름도를 사용해서 객체를 분해하고 객체 간의 인터페이스를 찾아 Ada 프로그램으로 변환시키는 기법</li></ul><h2 id="윌리엄-로렌슨의-객체-지향-설계"><a class="markdownIt-Anchor" href="#윌리엄-로렌슨의-객체-지향-설계"></a> 윌리엄 로렌슨의 객체 지향 설계</h2><ul><li>추상화, 상속성, 메세지, 그리고 다른 OOD 개념들을 직접 지원해주는 기능으 갖추고 있는 Smalltalk과 같은 프로그래밍 언어로 소프트웨어를 개발하기 위한 기법</li></ul><h1 id="객체지향-구현"><a class="markdownIt-Anchor" href="#객체지향-구현"></a> 객체지향 구현</h1><ul><li>구현은 설계 단계에서 생성된 설계 모델과 명세서를 근거로 하여 코딩하는 단계이다.</li><li>객체지향 프로그래밍을 이용하면 용이하게 구현할 수 있다.</li><li>객체는 순차적으로 또는 동시적으로 구현될 수 있다.</li></ul><h2 id="객체지향-프로그래밍"><a class="markdownIt-Anchor" href="#객체지향-프로그래밍"></a> 객체지향 프로그래밍</h2><ul><li>Object Oriented Programming</li><li>객체 기반 언어 : 객체의 개념만을 지원하는 언어</li><li>클래스 기반 언어 : 객체와 클래스의 개념을 지원하는 언어</li><li>객체 지향성 언어 : 객체, 클래스, 상속의 개념을 모두 지원하는 언어 (Simula, Smalltalk, C++, Objective C)</li></ul><h2 id="객체지향-테스트"><a class="markdownIt-Anchor" href="#객체지향-테스트"></a> 객체지향 테스트</h2><ul><li>클래스 테스트 : 캡슐화 된 클래스나 객체를 검사하는 것</li><li>통합 테스트 : 객체 몇개를 결합하여 하나의 시스템으로 완성시키는 과정에서의 검사<ul><li>스레드 기반 테스트</li><li>사용 기반 테스트</li></ul></li><li>확인 테스트 : 사용자 요구사항에 대한 만족 여부를 검사</li><li>시스템 테스트 : 모든 요소들이 적합하게 통합되고 올바른 기능을 수행하는지 검사</li></ul><h2 id="uml"><a class="markdownIt-Anchor" href="#uml"></a> UML</h2><ul><li>Unified Modeling Language</li><li>Rumbaugh, Booch, Jacobson 등의 객체지향 방법론의 장점을 통합한 객체지향 모델의 표준 표현 방법</li><li>객체지향 분석과 설계를 위한 모델링 언어로 객체 기술에 관한 국제 표준화 기구인 Object Management Group에서 UML을 표준으로 지정했다.</li><li>어플리케이션을 개발할 때 이해를 도와주는 사용 사례 다이어그램, 순서 다이어그램, 상태 다이어그램, 활동 다이어그램 등 여러 형태의 다이어 그램을 제공</li><li><strong>사용 사례 다이어그램</strong><ul><li>Use Case</li><li><strong>사용자와 사용사례로 구성</strong></li><li>사용 사례 간에는 여러 형태의 관계로 이루어진다.</li><li>기능 모델링 작업에 사용된다.</li></ul></li><li>클래스 다이어그램 : 객체 모델링 작업에 사용</li><li>순서 다이어그램 : 동적 모델링 작업에 사용</li><li>상태 다이어그램 : 동적 모델링 작업에 사용</li><li>활동 다이어그램 : 동적 모델링 작업에 사용</li></ul><h1 id="소프트웨어-재사용"><a class="markdownIt-Anchor" href="#소프트웨어-재사용"></a> 소프트웨어 재사용</h1><ul><li>이미 개발되어 인정받은 소프트웨어의 전체 혹은 일부분을 다른 소프트웨어 개발이나 유지에 사용하는 것</li><li>클래스, 객체 등의 소프트웨어 요소는 소프트웨어 재사용성을 크게 향상시켰다.</li><li>소프트웨어 재사용에 가장 많이 이용되는 것은 소스코드이다.</li><li>모듈의 크기가 작고 일반적인 설계일수록 재사용률이 높다.</li></ul><h2 id="재사용의-이점"><a class="markdownIt-Anchor" href="#재사용의-이점"></a> 재사용의 이점</h2><ul><li>개발 시간과 비용의 단축</li><li>소프트웨어 품질 향상</li><li>개발 생산성 향상</li><li>프로젝트 실패 위험 감소</li><li>시스템 구축 방법에 대한 지식 공유</li><li>시스템 명세, 설계, 코드 등 문서를 공유</li></ul><h2 id="재사용의-문제점"><a class="markdownIt-Anchor" href="#재사용의-문제점"></a> 재사용의 문제점</h2><ul><li>새로운 개발방법론 도입이 어려움</li><li>프로그램 표준화가 부족</li><li>프로그램 언어가 종속적</li><li>소프트웨어 요소 내부 뿐아니라 인터페이스 요구사항의 이해가 필요하다.</li></ul><h2 id="재사용-방법"><a class="markdownIt-Anchor" href="#재사용-방법"></a> 재사용 방법</h2><h3 id="합성-중심-방법"><a class="markdownIt-Anchor" href="#합성-중심-방법"></a> 합성 중심 방법</h3><ul><li>Composition Based = 블록 구성 방법</li><li>모듈을 만들어 조립하며 소프트웨어를 완성시키는 방법</li></ul><h3 id="생성-중심"><a class="markdownIt-Anchor" href="#생성-중심"></a> 생성 중심</h3><ul><li>Generation Based = 패턴 구성 방법</li><li>추상화 형태로 쓰여진 명세를 구체화하여 소프트웨어를 완성시키는 방법</li></ul><h1 id="소프트웨어-재공학"><a class="markdownIt-Anchor" href="#소프트웨어-재공학"></a> 소프트웨어 재공학</h1><ul><li>Software Reengineering</li><li>새로운 요구에 맞도록 기존 시스템을 이용하여 보다 나은 시스템을 구축</li><li>새로운 기능을 추가하여 소프트웨어 성능을 향상</li><li><strong>유지보수 생산성 향상</strong>을 통해 소프트웨어 위기를 해결</li><li>기존 소프트웨어의 기능을 개조하거나 개선하므로 예방 유지보수 측면</li><li>자동화된 도구를 사용하여 소프트웨어를 분석하고 수정하는 과정을 포함</li><li>소프트웨어 수명이 연장되고 기술이 향상</li><li>오류가 줄어들고 비용이 절감</li><li><strong>예방 유지보수</strong></li></ul><h2 id="재공학의-목표"><a class="markdownIt-Anchor" href="#재공학의-목표"></a> 재공학의 목표</h2><ul><li>복잡한 시스템을 다루는 방법 구현 : 자동화 도구 사용</li><li>다른 뷰의 생성 : 기존 시스템 개발 관점 외에 다른 방향의 관점을 생성</li><li>잃어 버린 정보의 복구 및 제거</li><li>부작용의 발견</li><li>고수준의 추상 : 추상화된 어려운 내용을 여러 형태로 추출해 이해</li><li>재사용 용이</li></ul><h2 id="주요활동"><a class="markdownIt-Anchor" href="#주요활동"></a> 주요활동</h2><h3 id="분석"><a class="markdownIt-Anchor" href="#분석"></a> 분석</h3><ul><li>Analysis</li><li>기존 소프트웨어의 명세서를 확인하여 소프트웨어의 동작을 이해하고 재공학 대상을 선정하는 것</li></ul><h3 id="개조"><a class="markdownIt-Anchor" href="#개조"></a> 개조</h3><ul><li>Restructuring = 재구조 - 재구성</li><li>상대적으로 같은 추상적 수준에서 하나의 표현을 다른 표현 형태로 바꾸는 것</li><li>기존 소프트웨어의 구조를 향상시키기 위해 코드를 재구성 하는 것</li><li>소프트웨어의 기능과 외적인 동작은 바뀌지 않는다.</li><li>IF ELSE를 SWITCH CASE로 변경하듯이</li></ul><h3 id="역공학"><a class="markdownIt-Anchor" href="#역공학"></a> 역공학</h3><ul><li>Reverse Engineering</li><li>기존 소프트웨어를 분석하여 소프트웨어 개발 과정과 데이터 처리 과정을 설명하는 분석 및 설계 정보를 재발견하거나 다시 만들어 내는 작업</li><li>기존 코드를 복구하는 방법</li><li>대상 소프트웨어가 가능하다.</li><li>코드 역공학 : 코드 =&gt; 흐름도 =&gt; 자료 구조도 =&gt; 자료 흐름도</li><li>데이터 역공학 : 코드 =&gt; 자료 사전 =&gt; 개체 관계도</li><li><strong>재문서화</strong> : Redocumentation 역공학의 가장 간단하고 오래된 형태</li></ul><h3 id="이식"><a class="markdownIt-Anchor" href="#이식"></a> 이식</h3><ul><li>Migration</li><li>기존 소프트웨어를 다른 운영체제나 하드웨어 환경에서 사용할 수 있도록 변환하는 작업</li></ul><h1 id="clientserver-시스템"><a class="markdownIt-Anchor" href="#clientserver-시스템"></a> Client/Server 시스템</h1><ul><li>분산 시스템의 가장 대표적인 모델</li><li>정보를 제공하는 서버와 정보를 요구하는 클라이언트로 구성</li><li>클라이언트와 서버가 하나의 작업을 분산 협동 처리한다.</li></ul><h2 id="요소"><a class="markdownIt-Anchor" href="#요소"></a> 요소</h2><ul><li>애플리케이션 요소 : 응용 프로그램에 의해 정의된 요구사항을 구현</li><li>데이터베이스 요소</li><li>프리젠테이션/상호작용 요소 : GUI와 관련된 모든 기능</li></ul><h2 id="미들웨어"><a class="markdownIt-Anchor" href="#미들웨어"></a> 미들웨어</h2><ul><li>클라이언트와 서버 사이에 존재해서 데이터 전송 과정을 효율적으로 수행하도록 도와주는 소프트웨어</li><li>통신 미들웨어 : NOS(Network Operating System)</li><li>데이터베이스 미들웨어 : ODBC</li><li>분산 객체 미들웨어 : CORBA, DCOM</li></ul><h2 id="객체-요청-브로커"><a class="markdownIt-Anchor" href="#객체-요청-브로커"></a> 객체 요청 브로커</h2><ul><li>ORB = Object Request Broker</li><li>분산 객체 미들웨어의 일종</li><li>클라이언트의 객체가 서버 객체의 캡슐화된 메소드에게 메세지를 보낼 수 있게 하는 것</li></ul><h2 id="corba"><a class="markdownIt-Anchor" href="#corba"></a> CORBA</h2><ul><li>Common Object Request Broker Architecture</li><li>가장 많이 사용되는 객체 요청 브로커의 표준</li><li>OMG(Obejct Management Group)라는 개발자 연합에서 인가</li><li>IDL : Interface Description Language CORBA가 클라이언트/서버 시스템에서 구현될 때 필요한 인터페이스 언어</li></ul><h1 id="case-2"><a class="markdownIt-Anchor" href="#case-2"></a> CASE</h1><ul><li>Computer Aided Software Engineering</li><li>소프트웨어 개발 과정에서 사용되는 요구 분석, 설계, 구현, 검사 및 디버깅 과정 전체 또는 일부를 컴퓨터와 전용 소프트웨어 도구를 사용하여 자동화하는 것</li><li>소프트웨어 개발 도구와 방법론이 결합된 것</li><li>정형화된 구조 및 방법을 소프트웨어 개발에 적용하여 생산성 향상을 구현하는 공학 기법</li><li>자동화 도구를 지원하고 개발자는 소프트웨어 개발의 표준화를 지향하며 자동화의 이점을 얻을 수 있다.</li><li>소프트웨어 생명주기 전 단계의 연결, 다양한 소프트웨어 개발 모형 지원, 그래픽 지원</li></ul><h2 id="사용-이점"><a class="markdownIt-Anchor" href="#사용-이점"></a> 사용 이점</h2><ul><li>소프트웨어 개발 기간 단축하고 개발 비용 절감</li><li>자동화된 기법을 통해 소프트웨어 품질 향상</li><li>유지보수 간편하게 수행</li><li>생산성 향상</li><li>운용 활동 효과적으로 관리 및 통제</li><li>품질과 일관성을 효과적으로 제어</li><li>소프트웨어 개발 모든 단계에 걸친 표준 확립</li><li>모듈의 재사용성 향상</li><li>개발 기법의 실용화, 문서화가 쉬움</li></ul><h2 id="분류-2"><a class="markdownIt-Anchor" href="#분류-2"></a> 분류</h2><h3 id="상위-case"><a class="markdownIt-Anchor" href="#상위-case"></a> 상위 CASE</h3><ul><li>Upper CASE</li><li>소프트웨어 생명 주기 전반부에서 사용</li><li>문제를 기술하고 계획하며 요구 분석과 설계 단계를 지원</li><li>여러가지 명세와 문서를 작성하는데 사용</li><li>SREM, PSL/PSA, SERA, FOUNDATION</li></ul><h3 id="하위-case"><a class="markdownIt-Anchor" href="#하위-case"></a> 하위 CASE</h3><ul><li>Lower CASE</li><li>소프트웨어 생명 주기 하반부에서 사용</li><li>코드의 작성과 테스트, 문서화하는 과정을 지원</li><li>구문 중십 편집기, 코드 생성기</li></ul><h3 id="통합-case"><a class="markdownIt-Anchor" href="#통합-case"></a> 통합 CASE</h3><ul><li>Integrate CASE</li><li>소프트웨어 생명 주기 포함되는 전체 과정을 지원</li><li>공통의 정보 저장 장소와 통일된 사용자 인터페이스를 사용하여 도구를 통합</li><li>IEF, POWERTOOLS, TAGS/IORL, TEAMWORK</li></ul><h2 id="정보-저장소"><a class="markdownIt-Anchor" href="#정보-저장소"></a> 정보 저장소</h2><ul><li>소프트웨어를 개발하는 과정 동안 모아진 정보를 보관하여 관리하는 곳</li><li>CASE 정보 저장소 = CASE 데이터베이스 = 요구사항 사전 = 저장소</li><li>초기에는 사람이 정보 저장소, 오늘은 DB가 정보 저장소</li><li>도구들의 통합, 소프트웨어 시스템의 표준화, 소프트웨어 시스템의 정보 공유, 소프트웨어 재사용성의 기본</li><li>시스템의 정보 공유 활성화</li><li>유지보수성 향상</li><li>CASE 도구간 정보를 쉽게 교환, 사용자가 새로운 도구를 쉽게 추가</li><li>중복된 공통정보를 통합해 불필요한 정보 제거</li><li>생명 주기 정보를 재사용</li><li>소프트웨어 시스템의 이삭과 변환을 용이하게 함</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>운영체제 정리</title>
      <link href="/2017/02/08/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/02/08/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="시스템-소프트웨어"><a class="markdownIt-Anchor" href="#시스템-소프트웨어"></a> 시스템 소프트웨어</h1><ul><li>시스템 전체를 작동시키는 프로그램</li><li>프로그램을 주기억 장치에 적재시키거나 인터럽트 관리, 장치 관리, 언어번역 등의 기능 담당</li><li>대표적으로 운영체제가 있음</li><li>번역프로그램, 매크로 프로세서, 링커, 라이브러리, 정렬/합병프로그램, 로더 등</li></ul><h2 id="구성"><a class="markdownIt-Anchor" href="#구성"></a> 구성</h2><ul><li>제어프로그램</li><li>감시프로그램</li><li>작업 제어 프로그램 : Jbo Scheduler, Master Scheduler</li><li>자료 관리 프로그램</li><li>처리프로그램</li><li>언어 번역기 : 어셈블러, 컴파일러, 인터프리터</li><li>서비스 프로그램 : 연결 편집기, 정렬/합병 프로그램, 라이브러리안, 유틸리티</li><li>문제 프로그램</li></ul><h2 id="제어-프로그램"><a class="markdownIt-Anchor" href="#제어-프로그램"></a> 제어 프로그램</h2><ul><li>Control Program</li><li>시스템 전체의 작동 상태 감시, 작업의 순서 지정, 작업에 사용되는 데이터의 관리 등의 역할 수행</li><li><strong>깜짝데이트</strong>(감시, 작업, 데이터)</li></ul><h3 id="감시-프로그램"><a class="markdownIt-Anchor" href="#감시-프로그램"></a> 감시 프로그램</h3><ul><li>Supervisor Program</li><li>제어 프로그램 중 가장 중요함</li><li>각종 프로그램 실행과 시스템 전체의 작동 상태를 감시 감독</li></ul><h3 id="작업-제어-프로그램"><a class="markdownIt-Anchor" href="#작업-제어-프로그램"></a> 작업 제어 프로그램</h3><ul><li>Job Control Program</li><li>다른 업무의 이행을 자동으로 수행하기 위해 준비</li><li>처리에 대한 완료를 담당하는 프로그램</li><li>작업의 연속 처리를 위한 스케쥴 및 시스템 자원 할당</li><li>Job Scheduler : 다음 작업을 준비시키는 역할</li><li>Master Scheduler : 시스템과 운영자 사이에서 정보를 주고 받을 수 있도록 중개자 역할 (CMD)</li></ul><h3 id="자료-관리-프로그램"><a class="markdownIt-Anchor" href="#자료-관리-프로그램"></a> 자료 관리 프로그램</h3><ul><li>Data Management Program</li><li>주기억장치와 보조기억장치 사이의 데이터 전송과 보조기억장치의 자료 갱신 및 유지보수 기능을 수행</li></ul><h2 id="처리-프로그램"><a class="markdownIt-Anchor" href="#처리-프로그램"></a> 처리 프로그램</h2><ul><li>Processing Program</li></ul><h3 id="언어-번역-프로그램"><a class="markdownIt-Anchor" href="#언어-번역-프로그램"></a> 언어 번역 프로그램</h3><ul><li>원시 프로그램을 기계어 형태의 목적 프로그램으로 번역하는 프로그램</li><li>어셈블러, 컴파일러, 인터프리터</li></ul><h3 id="서비스-프로그램"><a class="markdownIt-Anchor" href="#서비스-프로그램"></a> 서비스 프로그램</h3><ul><li>연결 편집기 : 프로그램을 연결하여 실행 가능한 프로그램을 만드는 프로그램 (링커)</li><li>정렬/합병 프로그램 : 데이터를 일정한 기준으로 정렬하거나 정렬된 파일을 합치는 프로그램</li><li>라이브러리안 : 프로그램의 라이브러리를 유지 관리</li><li>유틸리티 프로그램 : 사용자의 편의를 도모하기 위한 프로그램 (텍스트에디터, 디버거)</li><li>문제 프로그램 : 특정 업무 및 문제 해결을 위해 사용자가 작성</li></ul><h1 id="운영체제"><a class="markdownIt-Anchor" href="#운영체제"></a> 운영체제</h1><ul><li>컴퓨터 시스템의 자원들을 효율적으로 관리</li><li>사용자가 컴퓨터를 편리하고 효과적으로 사용할 수 있도록 환경을 제공하는 프로그램의 집합</li><li>유틸리티와 하드웨어 사이의 인터페이스 제공</li></ul><h2 id="목적"><a class="markdownIt-Anchor" href="#목적"></a> 목적</h2><ul><li>처리능력 : Throughput 일정 시간 내에 시스템이 처리하는 양</li><li>반환시간 : Turn Around Time 시스템에 작업을 의뢰한 시간부터 처리가 완료될 때까지 걸린 시간</li><li>사용가능도 : Availability 시스템을 사용할 필요가 있을 때 즉시 사용 가능한 정도</li><li>신뢰도 : Reliability 시스템이 주어진 문제를 정확하게 해결하는 정도</li></ul><h2 id="기능"><a class="markdownIt-Anchor" href="#기능"></a> 기능</h2><ul><li>프로세서, 기억장치, 입출력장치, 파일 및 자원 관리</li><li>자원 스케쥴링</li><li>사용자와 시스템 간의 인터페이스 제공</li><li>하드웨어와 네트워크 관리 제어</li><li>데이터 관리하고 데이터 및 자원 공유 기능 제공</li><li>시스템 오류 검사 및 복구</li><li>자원 보호 기능 제공</li><li>입 출력에 대한 보조 기능을 제공</li><li>가상 계산기 기능을 제공</li></ul><h2 id="자원관리"><a class="markdownIt-Anchor" href="#자원관리"></a> 자원관리</h2><ul><li>프로세스 관리 : 프레세스 스케쥴링, 동기화, 생성 제거, 시작 정지, 메시지 전달</li><li>기억장치 관리 : 프로세스 메모리 할당 및 회수</li><li>주변장치 관리 : 입출력 장치 스케쥴링 및 관리</li><li>파일 관리</li></ul><h2 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h2><ul><li>단일 작업 처리 시스템</li><li>Single Tasking System</li><li>시스템을 한 개의 작업이 독점하여 사용하는 방식</li><li>DOS</li><li>다중 작업 처리 시스템</li><li>Multi Tasking System</li><li>여러 개의 프로그램을 열어 두고 다양한 작업을 동시에 진행하는 방식</li><li>Windows</li></ul><h1 id="운영체제-운용-기법"><a class="markdownIt-Anchor" href="#운영체제-운용-기법"></a> 운영체제 운용 기법</h1><h2 id="일괄-처리-시스템"><a class="markdownIt-Anchor" href="#일괄-처리-시스템"></a> 일괄 처리 시스템</h2><ul><li>초기의 컴퓨터 시스템</li><li>일정량 또는 일정 기간 동안 데이터를 모아서 한꺼번에 처리하는 방식</li><li>일괄 처리를 위해 작업제어언어(JCL)을 제공</li><li>시스템 효율적 사용 가능</li><li>반환 시간이 늦지만 하나의 작업이 모든 자원을 독점하므로 CPU Idle Time이 줄어듦</li><li>급여 계산, 지불 계산, 연말 결산 등</li></ul><h2 id="다중-프로그래밍-시스템"><a class="markdownIt-Anchor" href="#다중-프로그래밍-시스템"></a> 다중 프로그래밍 시스템</h2><ul><li>하나의 CPU와 주기억장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식</li><li>CPU 사용률과 처리량이 증가</li></ul><h2 id="시분할-시스템"><a class="markdownIt-Anchor" href="#시분할-시스템"></a> 시분할 시스템</h2><ul><li>Time Sharing System = Round Robin</li><li>여러 명의 사용자가 사용하는 시스템에서 컴퓨터가 사용자들의 프로그램을 번갈아가며 처리</li><li>여러 사용자가 각자의 컴퓨터로 동시에 운영체제와 대화하면서 프로그램 실행</li><li>하나의 CPU는 같은 시점에서 여러 개의 작업을 동시 수행이 안되기 때문에 CPU를 같은 작업 시간량으로 나눠서 그 시간량 동안 번갈아가면서 CPU를 사용</li><li>작업시간량 : Time Slice = Quantum</li><li>다중 프로그래밍 방식과 결합하여 모든 작업이 동시에 진행되는 것처럼 대화식 처리 가능</li><li>시스템 전체 효율은 좋으나 사용자는 반응 속도가 느려질 수 있음</li></ul><h2 id="다중-처리-시스템"><a class="markdownIt-Anchor" href="#다중-처리-시스템"></a> 다중 처리 시스템</h2><ul><li>여러 개의 CPU와 하나의 주기억장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식</li><li>여러 CPU는 하나의 메모리를 공유하며 단일 운영체제에 의해 관리</li><li>프로그램의 처리 속도는 빠르지만 기억장치, 입출력장치 등의 자원 공유에 대한 문제점을 해결해야함</li></ul><h2 id="실시간-처리-시스템"><a class="markdownIt-Anchor" href="#실시간-처리-시스템"></a> 실시간 처리 시스템</h2><ul><li>데이터 발생 즉시 처리하여 결과를 산출</li><li>처리시간이 단축되고 처리비용이 절감</li><li>우주선, 교통제어, 레이더, 핵실험, 데이터수집, 전화교환장치, 인터넷뱅킹 등 시간에 제한을 두고 수행되어야하는 작업</li></ul><h2 id="다중-모드-처리"><a class="markdownIt-Anchor" href="#다중-모드-처리"></a> 다중 모드 처리</h2><ul><li>일괄처리, 시분할, 다중처리, 실시간처리를 한 시스템에서 모두 제공하는 방식</li></ul><h2 id="분산-처리-시스템"><a class="markdownIt-Anchor" href="#분산-처리-시스템"></a> 분산 처리 시스템</h2><ul><li>Distributed Processing System</li><li>여러 개의 컴퓨터를 통신 회선으로 연결하여 하나의 작업을 처리하는 방식</li><li>각 단말은 고유의 운영체제와 CPU, 메모리를 가진다.</li></ul><h2 id="발달과정"><a class="markdownIt-Anchor" href="#발달과정"></a> 발달과정</h2><ul><li>1세데 : 일괄처리</li><li>2세대 : 다중프로그래밍, 다중처리, 시분할, 실시간</li><li>3세대 : 다중모드</li><li>4세대 : 분산처리</li></ul><h1 id="컴파일러와-인터프리터"><a class="markdownIt-Anchor" href="#컴파일러와-인터프리터"></a> 컴파일러와 인터프리터</h1><p>고급언어로 작성된 원시프로그램을 목적프로그램으로 번역하는 번역프로그램</p><h2 id="저급-언어"><a class="markdownIt-Anchor" href="#저급-언어"></a> 저급 언어</h2><h3 id="기계어"><a class="markdownIt-Anchor" href="#기계어"></a> 기계어</h3><ul><li>컴퓨터가 직접 이해할 수 있는 언어</li><li>기종마다 기계어가 다르므로 언어의 호환성이 없음</li></ul><h3 id="어셈블리어"><a class="markdownIt-Anchor" href="#어셈블리어"></a> 어셈블리어</h3><ul><li>기계어와 1:1 대응되는 기호로 이루어진 언어</li><li>니모닉 언어 = Mnemonic = 상징어</li><li>하드웨어 제어에 주로 사용</li><li>언어의 호환성이 없음</li><li>어셈블러를 사용하여 기계어로 번역해야 됨</li></ul><h2 id="고급-언어"><a class="markdownIt-Anchor" href="#고급-언어"></a> 고급 언어</h2><ul><li>컴파일러 언어</li><li>자연어와 비슷한 형태 및 구조</li><li>하드웨어 지식이 없어도 작성 가능</li><li>기계어로 번역하기 위해 컴파일러나 인터프리터가 사용</li><li>C, BASIC, COBOL, ALGOL 등</li></ul><h2 id="컴파일러"><a class="markdownIt-Anchor" href="#컴파일러"></a> 컴파일러</h2><ul><li>고급언어로 작성된 프로그램 전체를 목적 프로그램으로 번역한 후 링킹 작업을 통해 실행 프로그램을 생헝</li><li>번역과 실행과정을 거쳐야하기 때문에 번역 과정이 번거로움</li><li>번역 시간이 오래걸림</li><li>한번 번역 후에는 다시 번역하지 않아 실행속도는 빠름</li><li>C, C++, FORTRAN, COBOL, PL/1</li><li>대부분의 언어는 컴파일러로 변환된다.</li></ul><h2 id="인터프리터"><a class="markdownIt-Anchor" href="#인터프리터"></a> 인터프리터</h2><ul><li>고급 언어로 작성된 프로그램을 한 줄 단위로 받아들여 번역</li><li>번역과 동시에 프로그램을 한 줄 단위로 즉시 실행</li><li>프로그램이 직접 실행되므로 <strong>목적프로그램이 생성되지 않음</strong></li><li>시분할 시스템에 유용</li><li>원시 프로그램에 변화에 대한 반응이 빠름</li><li>번역 속도는 빠르지만 실행속도는 느림</li><li>BASIC, SNOBOL, LISP, APL</li><li>CPU의 시간낭비가 크다.</li></ul><h1 id="어셈블리어-2"><a class="markdownIt-Anchor" href="#어셈블리어-2"></a> 어셈블리어</h1><ul><li>사용자가 이해하기 어려운 기계어 대신에 명령 기능을 쉽게 연상할 수 있는 기호를 기계어와 1:1 대응시켜 코드화한 기호 언어</li><li>어셈블리어로 작성한 원이프로그램은 어셈블러를 통해 목적 프로그램으로 어셈블하는 과정을 거쳐야한다.</li><li>사용자가 프로그램을 쉽게 읽고 이해할 수 있다.</li><li>프로그램에 기호화된 명령 및 주소를 사용한다.</li><li>CPU마다 사용되는 어셈블리어가 다르다.</li><li>의사명령과 실행명령으로 구분</li></ul><h2 id="형식"><a class="markdownIt-Anchor" href="#형식"></a> 형식</h2><p>Label, OP, Operand</p><ul><li>Label : 데이터를 기억할 장소 또는 분기할 위치, 기호 상수에 대한 Symbol을 기술하는 부분으로 생략할 수 있다.</li><li>OP : OPCode를 기술하는 부분</li><li>Operand : OPCode가 연산을 수행하기 위한 대상인 상수, 데이터나 주소, 레지스터 번호를 기술하는 부분</li></ul><h2 id="어셈블러"><a class="markdownIt-Anchor" href="#어셈블러"></a> 어셈블러</h2><ul><li>어셈블리어로 작성된 걸 기계어로 번역하는 프로그램</li><li>이중 패스 어셈블러르 사용하면 정의되지 않은 기호를 사용할 수 있다.</li><li>현재 대부분 이중 패스 어셈블러를 사용한다.</li><li><strong>두 개의 패스를 사용하면 기호를 정의하기 전에 사용할 수 있는 프로그램 작업이 용이</strong>하다.</li><li>단일 패스 어셈블러 : 원시 프로그램을 하나의 명령문씩 읽는 즉시 기계어로 번역하여 목적 프로그램을 만듦</li><li>이중 패스 어셈블러 : 원시 프로그램을 끝까지 읽어서 1단계 작업을 수행한 후 다시 처음부터 읽어나가면서 1단계에서 수행한 결과를 이용해 완전한 목적프로그램을 만듦</li><li>크로스 어셈블러 : 현재 사용하는 컴퓨터와 다른 명령 형태로 동작하는 컴퓨터에서 사용할 프로그램을 어셈블 할 때 사용하므로 실행시킬 컴퓨터에 맞게 목적 프로그램을 생성</li></ul><h3 id="구성-2"><a class="markdownIt-Anchor" href="#구성-2"></a> 구성</h3><ul><li>기계 명령어 테이블<ul><li>Machin Operation Table = MOT</li><li>어셈블리어의 실행 명령에 대응하는 기계어에 대한 정보를 가지고 있는 테이블</li><li>어셈블러에 기본적으로 포함</li></ul></li><li>의사 명령어 테이블<ul><li>Pseudo Operation Table = POT</li><li>의사 명령과 그 명령을 처리하는 실행 루틴의 주소를 가지고 있는 테이블</li><li>어셈블러에 기본적으로 포함</li></ul></li><li>기호 테이블<ul><li>Symbol Table = ST</li><li>원시 프로그램의 Label 부분에 있는 기호들을 모두 차례대로 저장하는 테이블</li></ul></li><li>리터럴 테이블<ul><li>Literal Table = LT</li><li>원시 프로그램의 Operand 부분에 있는 리터럴을 차례로 저장하는 테이블</li></ul></li></ul><h3 id="pass-1-pass-2"><a class="markdownIt-Anchor" href="#pass-1-pass-2"></a> Pass-1 Pass-2</h3><ul><li>Pass-1<ul><li>기호와 리터럴을 정의</li><li>기계 명령어의 길이 정의</li><li>위치 계수기(PC, LC) 관리</li><li>기호들의 값을 심볼 테이블에 기억</li><li>사용된 리터럴을 리터럴 테이블에 기억</li><li>해당하는 의사 명령어 처리</li><li>사용 관련 DB : 원시 프로그램, Program Counter, MOT, POT, ST, LT</li></ul></li><li>Pass-2<ul><li>기호 번지에 대한 상대 번지를 생성</li><li>목적 프로그램 생성</li><li>기계 명령어 생성</li><li>심볼 테이블에서 기호의 값을 찾음</li><li>의사 명령어 처리</li><li>리터럴 발생</li><li>사용 관련 DB : 원시 프로그램의 사본, Program Counter, Pass-1에서 만든 ST, LT, MOT, POT, 베이스 레지스터 테이블, PRINT LINE, 목적 프로그램</li></ul></li></ul><h1 id="매크로"><a class="markdownIt-Anchor" href="#매크로"></a> 매크로</h1><ul><li>일종의 부 프로그램 = 개방 서브루틴</li><li>프로그램 작성시 한 프로그램에서 동일한 코드가 반복될 경우 반복되는 코드를 한 번만 작성하여 이름을 정의하고 피료시에 정의된 이름을 호출하여 사용</li><li>호출된 횟수만큼 정의된 매크로 코드가 해당 위치에 삽입되어 실행</li><li>매크로 내에 매크로 사용 가능</li><li>사용자의 반복적인 코드 입력을 줄여준다.</li><li>프로그램 내에서 매크로 코드를 확인할 수 있음</li></ul><h2 id="부프로그램과-비교"><a class="markdownIt-Anchor" href="#부프로그램과-비교"></a> 부프로그램과 비교</h2><table><thead><tr><th style="text-align:center">구분</th><th>매크로</th><th>부 프로그램</th></tr></thead><tbody><tr><td style="text-align:center">별칭</td><td>개방 서트루틴</td><td>폐쇄 서브루틴</td></tr><tr><td style="text-align:center">처리방식</td><td>매크로 호출 명령이 있는 위치마다 매크로 내용을 삽입하여 확장된 프로그램을 만들어 놓고 연속적으로 실행</td><td>부 프로그램 호출될 때마다 제어가 부 프로그램으로 넘어갔다가 다시 주 프로그램으로 복귀</td></tr><tr><td style="text-align:center">특징</td><td>부 프로그램은 매크로에 비해 프로그램 크기가 작아지고 기억장소가 절약되지만 실행 시간은 약간 느림</td><td></td></tr></tbody></table><h2 id="매크로-프로세서"><a class="markdownIt-Anchor" href="#매크로-프로세서"></a> 매크로 프로세서</h2><ul><li>원시프로그램에 존재하는 매크로 호출 부분에 매크로를 삽입하여 확장된 원시 프로그램을 생성하는 시스템 소프트웨어</li><li>처리과정<ul><li>매크로 <strong>정의 인식</strong></li><li>매크로 <strong>정의 저장</strong></li><li>매크로 <strong>호출 인식</strong></li><li>매크로 <strong>확장과 매개변수 치환</strong></li></ul></li></ul><h1 id="링커"><a class="markdownIt-Anchor" href="#링커"></a> 링커</h1><ul><li>연결 편집기</li><li>언어 번역 프로그램이 생성한 목적 프로그램과 라이브러리, 또 다른 실행 프로그램 등을 연결하여 실행 가능한 로드 모듈을 만드는 시스템 소프트웨어</li><li>연결 기능만 수행하는 로더의 한 형태</li></ul><h1 id="로더"><a class="markdownIt-Anchor" href="#로더"></a> 로더</h1><ul><li>컴퓨터 내부로 정보를 들여오거나 로드 모듈을 보조기억장치로부터 주기억장치에 적재하는 시스템 소프트웨어</li></ul><h2 id="기능-2"><a class="markdownIt-Anchor" href="#기능-2"></a> 기능</h2><ul><li>할당 : Allocation 실행 프로그램을 실행시키기 위해 기억장치 내에 옮길 공간을 확보하는 기능</li><li>연결 : Linking 부 프로그램 호출 시 그 부 프로그램이 할당된 기억장소의 시작주소를 호출한 부분에 등록하여 연결하는 기능</li><li>재배치 : Relocation 기억장소의 실제 주소로 배치시키는 기능</li><li>적재 : Loading 실행 프로그램을 할당된 기억공간에 실제로 옮기는 기능</li></ul><h2 id="종류-2"><a class="markdownIt-Anchor" href="#종류-2"></a> 종류</h2><h3 id="compile-and-go-로더"><a class="markdownIt-Anchor" href="#compile-and-go-로더"></a> Compile And Go 로더</h3><ul><li>별도의 로더 없이 언어 번역 프로그램이 로더의 기능까지 수행</li><li>연결 기능은 수행하지 않는다.</li><li>할당, 재배치, 적재 작업을 모두 언어 번역 프로그램이 담당</li></ul><h3 id="절대-로더"><a class="markdownIt-Anchor" href="#절대-로더"></a> 절대 로더</h3><ul><li><p>Absolute Loader</p></li><li><p>절대적으로 로딩(적재)만 하는 로더</p></li><li><p>목적 프로그램을 기억장소에 적지시키는 기능만 수행하는 로더</p></li><li><p>로더 중 가장 간단한 프로그램으로 구성</p></li><li><p>기억장소 할당이나 연결을 프로그래머가 직접 지정</p></li><li><p>한번 지정한 주기억장소의 위치는 변경이 어려움</p></li><li><p>절대로더의 기능별 행위 주체</p><ul><li>할당 : 프로그래머</li><li>연결 : 프로그래머</li><li>재배치 : 언어 번역 프로그램</li><li>적재 : 로더</li></ul></li></ul><h3 id="직접-연결-로더"><a class="markdownIt-Anchor" href="#직접-연결-로더"></a> 직접 연결 로더</h3><ul><li>Direct Linking Loader = Relocation Loader = Relative Loader = 재배치로더 = 상대로더</li><li>일반적인 기능의 로더로 로더의 기본 네 가지 기능을 모두 수행</li></ul><h3 id="동적-적대-로더"><a class="markdownIt-Anchor" href="#동적-적대-로더"></a> 동적 적대 로더</h3><ul><li>Dynamic Loading Loader = 호출 시 적재 로더</li><li>프로그램을 실행시 필요한 부분만을 적재하고 나머지는 보조기억장치에 저장</li><li>프로그램 크기가 주기억장치의 크기보다 큰 경우에 사용</li></ul><h1 id="프로세스"><a class="markdownIt-Anchor" href="#프로세스"></a> 프로세스</h1><ul><li>프로세서에 의해 처리되는 실행중인 프로그램</li><li>작업 = 태스크</li><li>PCB를 가진 프로그램</li><li>실기억장치에 저장된 프로그램</li><li>프로세서가 할다오디는 실체로 디스패치가 가능한 단위</li><li>프로시저가 활동중인 것</li><li><strong>비동기적 행위</strong>를 일으키는 주체</li><li>지정된 결과를 얻기 위한 일련의 계통적 동작</li><li>목적 또는 결과에 따라 발생되는 사건들의 과정</li><li>운영체제가 관리하는 실행 단위</li></ul><h2 id="pcb"><a class="markdownIt-Anchor" href="#pcb"></a> PCB</h2><ul><li>Process Control Block = 프로세스 제어 블록 = Task Control Block = Job Control Block</li><li>운영체제가 프로세스에 대한 중요한 정보를 저장해 놓는 곳</li><li>각 프로세스가 생성될 때마다 고유의 PCB가 생성</li><li>프로세스가 완료되면 PCB는 제거됨</li><li>PCB에 저장된 정보<ul><li>프로세스의 현재 상태</li><li>포인터<ul><li>부모 프로세스에 대한 포인터</li><li>자식 프로세스에 대한 포인터</li><li>프로세스가 위치한 메모리에 대한 포인터</li><li>할당된 자원에 대한 포인터</li></ul></li><li>프로세스 고유 식별자</li><li>스케쥴링 및 프로세스의 우선순위</li><li>CPU 레지스터 정보 : AC, IR, PC, 범용 레지스터</li><li>주기억 장치 관리 정보 : Base Register, Page Table</li><li>입출력 상태 정보</li><li>계정 정보 : CPU 사용시간, 실제 사용시간, 한정된 시간</li></ul></li></ul><h2 id="프로세스-상태"><a class="markdownIt-Anchor" href="#프로세스-상태"></a> 프로세스 상태</h2><ul><li><p><strong>제출</strong> : Submit 사용자가 작업을 시스템에 제출한 상태</p></li><li><p><strong>접수</strong> : Hold 작업이 스풀공간인 디스크의 할당 위치에 저장된 상태</p></li><li><p><strong>준비</strong> : Ready</p><ul><li>프로세스가 프로세서를 할당 받기 위해 기다리고 있는 상태</li><li>프로세스는 준비상태 큐(스케쥴링 큐)에서 실행을 준비</li><li>접수 상태에서 준비상태로의 전이는 Job Scheduler에 의해 수행</li></ul></li><li><p><strong>실행</strong> : Run</p><ul><li>준비상태 큐에 있는 프로세스가 프로세서를 할당받아 실행되는 상태</li><li>할당 시간이 종료되면 프로세스는 준비상태로 전이</li><li>실행중인 프로세스에 I/O처리가 필요하면 실행중인 프로세스는 대기상태로 전이</li><li>준비 상태에서 실행상태로의 전이는 CPU Scheduler에 의해 수행</li></ul></li><li><p><strong>대기, 보류, 블록</strong>: 프로세스에 I/O처리가 필요하면 현재 실행 중인 프로세스가 중단되고 I/O처리가 완료될 때까지 대기하는 상태</p></li><li><p><strong>종료</strong> : Terminated, Exit 프로세스 실행이 끝나고 프로세스 할당이 해제된 상태</p></li><li><p>실행중지 : Suspend</p></li><li><p>하나의 프로세스가 입출력 이외의 다른 이유에 의해 실행되지 못하는 상태</p></li><li><p>실행중지된 프로세스는 다른 프로세스로 다시 시작하기 전에는 실행될 수 없다.</p></li><li><p>시스템에 이상이 있거나 부하가 많을 경우 운영체제 필요에 의해 중지</p></li><li><p>프로세스의 이상유무를 확인하기 위해 해당 프로세스를 완전히 종료하지 않고 중지</p></li></ul><h3 id="상태-용어"><a class="markdownIt-Anchor" href="#상태-용어"></a> 상태 용어</h3><ul><li>Dispatch : 준비상태에서 대기하고 있는 프로세스 중 하나가 프로세서를 할당받아 실행 상태로 전이되는 과정</li><li>Wake Up : 입출력 작업이 완료되어 프로세스가 대기 상태에서 준비상태로 전이되는 과정</li><li>Traffic Controller : 프로세스의 상태에 대한 조사와 통보 담당</li></ul><h2 id="스레드"><a class="markdownIt-Anchor" href="#스레드"></a> 스레드</h2><ul><li>프로세스의 작업 단위로서 시스템의 여러 자원을 할당받아 실행하는 프로그램 단위</li><li>프로세스의 일부 특성을 가지고 있지 때문에 경량 프로세스라고 한다.</li><li>독립적인 스케쥴링의 최소 단위</li><li>동일 프로세스 환경에서 서로 독립적인 다중 수행 가능</li><li>병행성 증진</li><li>처리율 향상</li><li>응답시간 단축</li><li>기억장소 낭비 줄어듦</li><li>프로세스 간 통신 향상</li><li>공통적으로 접근 가능한 기억장치를 통해 효율적으로 통신</li></ul><h3 id="사용자-수준의-스레드"><a class="markdownIt-Anchor" href="#사용자-수준의-스레드"></a> 사용자 수준의 스레드</h3><ul><li>사용자가 만든 라이브러리를 사용하여 스레드 운용</li><li>속도는 빠르지만 구현이 어려움</li></ul><h3 id="커널-수준의-스레드"><a class="markdownIt-Anchor" href="#커널-수준의-스레드"></a> 커널 수준의 스레드</h3><ul><li>운영체제 커널에 의해 스레드 운용</li><li>구현 쉽지만 속도가 느림</li></ul><h1 id="스케쥴링"><a class="markdownIt-Anchor" href="#스케쥴링"></a> 스케쥴링</h1><ul><li>프로세스가 생성되어 실행될 때 필요한 시스템의 여러 자원을 해당 프로세스에게 할당하는 작업</li><li>장기 스케쥴링 : 어떤 프로세스가 시스템의 자원을 차지할 수 있도록 할 것인가를 결정하여 준비상태 큐로 보내는 작업</li><li>중기 스케쥴링 : 어떤 프로세스들이 CPU를 할당받을 것인지 결정하는 작업</li><li>단기 스케쥴링 : 프로세스가 실행되기 위해 CPU를 할당받는 시기와 특정 프로세스를 지정하는 작업</li><li><strong>문맥교환</strong> : 하나의 프로세스에서 다른 프로세스로 CPU가 할당되는 과정에서 발생되는 것으로 새로운 프로세스에 CPU를 할당하기 위해 현재 할당된 프로세스의 상태를 저장하고 새로운 프로세스의 상태정보를 설정한 후 CPU를 할당하여 실행되도록 하는 작업</li></ul><h2 id="목적-2"><a class="markdownIt-Anchor" href="#목적-2"></a> 목적</h2><p>스케쥴링은 PCU나 자원을 효율적으로 사용하기 위한 정책</p><ul><li>공정성</li><li>처리율 증가</li><li>CPU 이용률 증가</li><li>우선순위 제도 : 우선순위가 높은 프로세스 먼저 실행</li><li>오버헤드 최소화</li><li>응답시간 최소화</li><li>반환시간 최소화</li><li>대시시간 최소화</li><li>균형 있는 자원의 사용</li><li>무한 연기 회피</li></ul><h2 id="성능-평가-기준"><a class="markdownIt-Anchor" href="#성능-평가-기준"></a> 성능 평가 기준</h2><ul><li>CPU 이용률</li><li>처리율</li><li>반환시간</li><li>대기시간</li><li>응답시간</li></ul><h2 id="비선점-스케쥴링"><a class="markdownIt-Anchor" href="#비선점-스케쥴링"></a> 비선점 스케쥴링</h2><ul><li>Non-preemptive</li><li>이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 스케쥴링 기법</li><li>프로세스가 CPU를 할당받으면 해당 프로세스가 완료될 때까지 CPU를 사용</li><li>모든 프로세스에 대한 요구를 공정하게 처리 가능</li><li>응답 시간 예측이 용이</li><li>일괄 처리 방식에 적합</li><li>짧은 작업이 긴 작업을 기다리는 경우가 발생</li><li>FCFS, SJF, 우선순위, HRN, 기한부 알고리즘</li></ul><h2 id="선점-스케쥴링"><a class="markdownIt-Anchor" href="#선점-스케쥴링"></a> 선점 스케쥴링</h2><ul><li>Preemptive</li><li>하나의 프로세스가 CPU를 할당받아 실행하고 있을 때 우선순위가 높은 다른 프로세스가 CPU를 빼앗아 사용할 수 있는 스케쥴링 기법</li><li>우선순위가 높은 프로세스를 빠르게 처리 가능</li><li>시분할 시스템에 사용</li><li>많은 오버헤드 초래</li><li>인터럽트용 타이머 클록이 필요</li><li>RR, SRT, 선점우선순위, 다단계 큐, 다단계 피드백 큐 알고리즘</li></ul><h1 id="비선점-스케쥴링-2"><a class="markdownIt-Anchor" href="#비선점-스케쥴링-2"></a> 비선점 스케쥴링</h1><h2 id="fcfs"><a class="markdownIt-Anchor" href="#fcfs"></a> FCFS</h2><ul><li>FIFO</li><li>짧은 작업이 긴 작업을 기다리는 경우가 생김</li><li>가장 간단한 알고리즘</li></ul><h2 id="sjf"><a class="markdownIt-Anchor" href="#sjf"></a> SJF</h2><ul><li>Shortest Job First = 단기 작업 우선</li><li>프로세스들 중에서 실행시간이 가장 짧은 프로세스에게 먼저 CPU를 할당</li><li>가장 적은 평균 대기시간을 제공하는 최적 알고리즘</li><li>실행시간이 긴 프로세스는 실행시간이 짧은 프로세스에게 할당 순위가 밀려 무한 연기 상태가 발생할 수 있음</li></ul><h2 id="hrn"><a class="markdownIt-Anchor" href="#hrn"></a> HRN</h2><ul><li>긴 프로세스에 불리한 SJF를 보완하기 위한 것</li><li>대기 시간과 서비스 실행 시간을 이용하는 기법</li><li>서비스 실행 시간이 짧거나 <strong>대기 시간이 긴 프로세스일 경우</strong> 우선순위가 높아진다.</li><li>우선순위 = (대기시간 + 서비스시간) / 서비스 시간</li></ul><h2 id="기한부"><a class="markdownIt-Anchor" href="#기한부"></a> 기한부</h2><ul><li>Deadline</li><li>일정한 시간을 주고 그 시간안에 프로세스를 완료하도록 하는 기법</li><li>프로세스가 제한시간 안에 완료되지 않을 경우 제거되거나 처음부터 다시 실행해야함</li><li>프로세스 실행 시 집중적으로 요구되는 자원관리에 오버헤드가 발생</li></ul><h2 id="우선순위"><a class="markdownIt-Anchor" href="#우선순위"></a> 우선순위</h2><ul><li>Priority</li><li>준비상태 큐에서 기다리는 각 프로세스마다 우선순위를 부여하여 그 중 가장 높은 프로세스에게 먼저 CPU를 할당하는 기법</li><li>우선순위가 동일할 경우 FCFS 기법으로 CPU 할당</li><li>가장 낮은 순위를 부여받은 프로세스는 무한연기 또는 기아상태가 발생</li></ul><h2 id="에이징"><a class="markdownIt-Anchor" href="#에이징"></a> 에이징</h2><ul><li>Aging</li><li>특정 프로세스의 우선순위가 낮아 무한정 기다리게 되는 경우 기다린 시간에 비례하여 일정 시간이 지나면 우선순위를 한 단계씩 높여 가까운 시간에 자원을 할당받도록하는 기법</li><li>SJF나 우선순위 기법에서 발생하는 무한연기, 기아상태를 예방</li></ul><h1 id="선점-스케쥴링-2"><a class="markdownIt-Anchor" href="#선점-스케쥴링-2"></a> 선점 스케쥴링</h1><h2 id="선점-우선순위"><a class="markdownIt-Anchor" href="#선점-우선순위"></a> 선점 우선순위</h2><ul><li>준비상태 큐의 프로세스 중에서 우선순위가 가장 높은 프로세스에게 먼저 CPU를 할당하는 기법</li><li>준비상태 큐에 새로 들어온 프로세스의 우선순위가 높을 경우 현재 프로세스를 보류하고 새로운 프로세스를 실행</li></ul><h2 id="srt"><a class="markdownIt-Anchor" href="#srt"></a> SRT</h2><ul><li>Shortest Remaining Time = 선점 SJF 기법</li><li>비선점 스케쥴링인 SJF기법을 선점으로 변경</li><li>시분할 시스템에 유용</li><li>오버헤드 증가</li></ul><h2 id="rr"><a class="markdownIt-Anchor" href="#rr"></a> RR</h2><ul><li>Round Robin</li><li>시분할 시스템을 위해 고안</li><li>FCFS를 선점형태로 변경</li><li>시간할당량 동안만 실행 후 실행이 완료되지 않으면 다음 프로세스에게 CPU를 넘겨주고 준비상태 큐의 가장 뒤로 배치</li><li>할당시간이 큰 경우 FCFS와 같음</li><li>할당시간이 작을 경우 문맥교환 및 오버헤드가 자주 발생되 요청 작업을 신속히 처리 불가</li><li>할당되는 시간의 크기가 작으면 작은 프로세스에 유리</li><li>대기시간 : 구하고자하는 프로세스의 가장 마지막 실행이 시작되기 전까지의 진행시간을 구하고 해당 프로세스가 앞에서 실행되었을 경우 그 시간을 뺀다.</li></ul><h2 id="다단계-큐"><a class="markdownIt-Anchor" href="#다단계-큐"></a> 다단계 큐</h2><ul><li>MQ = Multi-level Queue</li><li>프로세스를 특정 그룹으로 분류할 수 있을경우 그룹에 따라 각기 다른 준비상태 큐를 사용하는 기법</li><li>우선순위에 따라 시스템 프로세스, 대화형 프로세스, 편집 프로세스, 일괄 처리 프로세스 등으로 나누어 큐를 배치</li><li>각 큐는 독자적인 스케쥴링을 가지고 있어 그룹의 특성에 따라 다른 스케쥴링 기법 사용 가능</li><li>각 큐가 준비상태로 들어간 경우 달느 준비상태 큐로 이동할 수 없음</li><li>하위 단계 큐를 실행 중이라도 상위 단계 큐에 프로세스가 들어오면 상위단계에게 CPU를 할당</li></ul><h2 id="다단계-피드백-큐"><a class="markdownIt-Anchor" href="#다단계-피드백-큐"></a> 다단계 피드백 큐</h2><ul><li>MFQ = Multi-level Feedback Queue</li><li>다단계 큐 기법에서 준비상태 큐 사이를 이동할 수 있게 개선</li><li>적응 기법(Adaptive Mechanism)의 개념을 적용</li><li>각 준비상태 큐마다 시간할당량을 부여해서 완료하지 못한 프로세스는 다음 단계의 준비상태 큐로 이동</li><li>상위 단계 큐일수록 우선순위가 높고 시간할당량이 적다.</li><li>요구 시간이 적은 프로세스, I/O 프로세스, 오래 기다린 프로세스를 기준으로 높은 우선순위를 할당</li><li>하위 단계 큐를 실행 중이라도 상위 단계 큐에 프로세스가 들어오면 상위단계에게 CPU를 할당, 마지막 단계 큐에선 작업이 완료될 때까지 RR 사용</li></ul><h1 id="병행-프로세스"><a class="markdownIt-Anchor" href="#병행-프로세스"></a> 병행 프로세스</h1><p>두 개 이상의 프로세스들이 동시에 존재하며 실행상태에 있는 것</p><h2 id="임계구역"><a class="markdownIt-Anchor" href="#임계구역"></a> 임계구역</h2><ul><li>다중 프로그래밍 운영체제에서 여러 개의 프로세스가 공유한 데이터 및 자원에 대해 어느 한 시점에는 하나의 프로세스만 데이터 또는 자원을 사용하도록 지정된 공유 자원영역</li><li>하나의 프로세스만 접근할 수 있고 해당 프로세스가 자원을 반납한 후 에만 다른 프로세스가 자원이나 데이터를 사용할 수 있다.</li><li>특정 프로세스가 독점할 수 없다.</li><li>수행 중인 프로세스는 인터럽트가 불가능하다.</li><li>임계 구역 내의 작업은 신속하게 이루어져야 한다.</li><li>프로세스가 임계 구역에 대한 진입을 요청하면 일정 시간 내에 진입을 허락해야한다.</li><li>Critical Section</li><li>임계구역은 화장실에 비유해 기억하자</li></ul><h2 id="상호-배제-기법"><a class="markdownIt-Anchor" href="#상호-배제-기법"></a> 상호 배제 기법</h2><ul><li><p>특정 프로세스가 공유 자원을 사용하고 있을 경우 다른 프로세스가 해당 공유 자원을 사용하지 못하게 제어하는 기법</p></li><li><p>임계 구역을 유지하는 기법</p></li><li><p>소프트웨어적 구현</p><ul><li>두 개 프로세스 기준 : Dekker, Peterson 알고리즘</li><li>여러 개의 프로세스 기준 : Lamport의 빵집 알고리즘</li></ul></li><li><p>하드웨어적 구현 : Test &amp; Set 기법, Swap 명령어 기법</p></li></ul><h2 id="동기화-기법"><a class="markdownIt-Anchor" href="#동기화-기법"></a> 동기화 기법</h2><p>두 개 이상의 프로세스를 한 시점에서는 동시에 처리할 수 없으므로 각 프로세스에 대한 처리 순서를 결정하는 것으로 상호 배제의 한 형태</p><h3 id="세마포어"><a class="markdownIt-Anchor" href="#세마포어"></a> 세마포어</h3><ul><li>Semaphore = 신호기 = 깃발</li><li>각 프로세스에 제어 신호를 전달하여 순서대로 작업을 수행하도록 하는 기법</li><li>E.J.Dijkstra가 제안</li><li>P와 V라는 두 개의 연산에 의해서 동기화를 유지시키고 상호 배제의 원리를 보장</li><li>S는 P와 V 연산으로만 접근 가능한 세마포어 변수로 공유 자원의 개수를 나타내며 0과 1혹은 0과 양의 값을 가질 수 있다.</li><li>다른 프로세스가 이미 자원을 점유한 상태라면 자원을 사용할 수 있을 때까지 기다린다.</li><li>순서<ul><li>P : While S &lt;= 0 Do skip;</li><li>S = S - 1;</li><li>V : S = S + 1;</li></ul></li></ul><h3 id="모니터"><a class="markdownIt-Anchor" href="#모니터"></a> 모니터</h3><ul><li>Monitor</li><li>동기화를 구현하기 위한 특수 프로그램 기법</li><li>특정 공유 자원을 프로세스에게 할당하는데 필요한 데이터와 이 데이터를 처리하는 프로시저로 구성</li><li>자료 추상화와 정보 은폐 개념을 기초</li><li>공유 자원을 할당하기 위한 병행성 구조</li><li>모니터 내의 공유자원을 사용하려면 프로세스는 반드시 모니터 진입부를 호출해야함</li><li>외부 프로시저는 직접 액세스할 수 없음</li><li>모니터 경계에서 상호배제가 시행</li><li><strong>한 순간에 하나의 프로세스만 진입하여 자원을 사용</strong></li><li>Wait와 Signal 연산 사용</li></ul><h1 id="교착상태"><a class="markdownIt-Anchor" href="#교착상태"></a> 교착상태</h1><ul><li>Dead Lock</li><li>상호 배제에 의해 나타나는 문제점</li><li>둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 현상</li></ul><h2 id="필요-충분-조건"><a class="markdownIt-Anchor" href="#필요-충분-조건"></a> 필요 충분 조건</h2><p>교착상태가 되려면 이 조건들이 모두 충족되어야함</p><ul><li><strong>상호 배제</strong> : Mutual Exclusion 한 번에 한 개의 프로세스만이 공유 자원을 사용할 수 있어야 한다.</li><li><strong>점유와 대기</strong> : Hold &amp; Wait 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 있어야 한다.</li><li><strong>비선점</strong> : Non-preemption 다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없어야 한다.</li><li><strong>환형 대기</strong> : Circular Wait 공유 자원과 공유 자원을 사용하기 위해 대기하는 프로세스들이 원형으로 구성되어 있어 자신에게 할당된 자원을 점유하면서 앞이나 뒤에 있는 프로세스의 자원을 요구해야 한다.</li></ul><h2 id="예방기법"><a class="markdownIt-Anchor" href="#예방기법"></a> 예방기법</h2><ul><li><p>교착상태가 발생하지 않도록 사전에 시스템을 제어하는 방법</p></li><li><p>교착상태 발생의 네 가지 조건 중에서 어느 하나를 제거함으로 수행</p></li><li><p>자원의 낭비가 가장 심한 기법</p></li><li><p>상호 배제 부정 : 한 번에 여러 개의 프로세스가 공유 자원을 사용할 수 있도록 한다, 실제로는 구현하지 않음</p></li><li><p>점유 대기 부정 : 프로세스가 실행되기 전 필요한 모든 자원을 할당하여 프로세스 대기를 없애거나 자원이 점유되지 않은 상태에서만 자원을 요구하도록 한다.</p></li><li><p>비선점 부정 : 다른 자원을 요구할 때 점유하고 있는 자원을 반납하고 요구한 자원을 사용하기 위해 기다리게 한다.</p></li><li><p>환형 대기 부정 : 자원을 선형 순서로 분류하여 고유 번호를 할당하고 각 프로세스는 현재 점유한 자원의 고유 번호보다 앞이나 뒤 <strong>어느 한 방향으로만 자원을 요구</strong>하도록 한다.</p></li></ul><h2 id="회피기법"><a class="markdownIt-Anchor" href="#회피기법"></a> 회피기법</h2><p>교착상태가 발생할 가능성을 배제하지 않고 교착상태가 발생하면 적절히 피해나가는 방법</p><h3 id="은행원-알고리즘"><a class="markdownIt-Anchor" href="#은행원-알고리즘"></a> 은행원 알고리즘</h3><ul><li>E.J.Dijkstra가 제안한 것</li><li>은행에서 모든 고객의 요구가 충족되도록 현금을 할당하는 데서 유래</li><li>각 프로세스에게 자원을 할당하여 교착상태가 발생하지 않음</li><li>모든 프로세스가 완료될 수 있는 상태를 안전 상태</li><li>교착상태가 발생할 수 있는 상태를 불안전 상태 (<strong>불안전 상태라고해서 모두 교착상태는 아님</strong>)</li><li>적용하기 위해선 자원의 양과 프로세스 수가 일정해야 한다.</li><li>프로세스의 모든 요구를 유한한 시간 안에 할당하는 것을 보장</li></ul><h2 id="발견기법"><a class="markdownIt-Anchor" href="#발견기법"></a> 발견기법</h2><ul><li>시스템에 교착상태가 발생했는지 점검하여 교착상태에 있는 프로세스와 자원을 발견하는 것</li><li>교착상태 발견 알고리즘과 자원할당 그래프 등을 사용</li></ul><h2 id="회복기법"><a class="markdownIt-Anchor" href="#회복기법"></a> 회복기법</h2><ul><li>교착상태를 일으킨 프로세스를 종료하거나 교착상태의 프로세스에 할당된 자원을 선점하여 프로세스나 자원을 회복하는 것</li><li>프로세스 종료 : 교착상태에 있는 프로세스 종료</li><li>자원 선점 : 프로세스가 점유하고 있는 자원을 선점하여 다른 프로세스에게 할당하며 해당 프로세스를 일시 정지시키는 방법</li></ul><h1 id="기억장치-관리"><a class="markdownIt-Anchor" href="#기억장치-관리"></a> 기억장치 관리</h1><p>상위 계층구조일 수록 접근 속도와 접근 시간이 빠르지만 기억용량이 적고 비싸다.</p><h2 id="반입-전략"><a class="markdownIt-Anchor" href="#반입-전략"></a> 반입 전략</h2><ul><li>Fetch</li><li>보조기억장치에 보관중인 프로그램이나 데이터를 <strong>언제</strong> 주기억장치로 적재할 것인지를 결정하는 전략</li><li>요구 반입 : Demand Fetch 실행 중인 프로그램이 특정 프로그램이나 데이터 등의 참조를 요구할 때 적재</li><li>예상 반입 : Anticipatory Fetch 실행 중인 프로그램에 의해 참조될 프로그램이나 데이터를 미리 예상하여 적재</li></ul><h2 id="배치-전략"><a class="markdownIt-Anchor" href="#배치-전략"></a> 배치 전략</h2><ul><li>Placement</li><li>새로 반입되는 프로그램이나 데이터를 주기억장치의 <strong>어디에</strong> 위치시킬 것인지를 결정하는 전략</li><li>최초 적합 : First Fit 프로그램에 데이터가 들어갈 수 있는 크기의 빈 영역 중에 첫 번째 분할 영역에 배치</li><li>최적 적합 : Best Fit 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중에서 단편화를 가장 작게 남기는 분할 영역에 배치</li><li>최악 적합 : Worst Fit 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중에서 단편화를 가장 많이 남기는 분할 영역에 배치</li></ul><h2 id="교체-전략"><a class="markdownIt-Anchor" href="#교체-전략"></a> 교체 전략</h2><ul><li>주기억장치의 모든 영역이 이미 사용중인 상태에서 새로운 프로그램이나 데이터를 주기억장치에 배치하려고 할 때, 이미 사용되고 있는 영역 중에서 어느 영역을 교체하여 사용할 것인지를 결정하는 전략</li><li>FIFO, OPT, LRU, LFU, NUR, SCR</li></ul><h1 id="주기억장치-할당-기법"><a class="markdownIt-Anchor" href="#주기억장치-할당-기법"></a> 주기억장치 할당 기법</h1><ul><li>연속 할당 기법 : 프로그램을 주기억장치에 연속으로 할당하는 기법 (로딩)<ul><li>단일 분할 할당 기법 : 오버레이, 스와핑</li><li>다중 분할 할당 기법 : 고정 분할 할당 기법, 동적 분할 할당 기법</li></ul></li><li>분산 할당 기법 : 프로그램을 특정 단위의 조각으로 나누어 주기억장치 내에 분산하여 할당하는 기법<ul><li>페이징 기법</li><li>세그먼테이션 기법</li></ul></li></ul><h2 id="단일-분할-할당-기법"><a class="markdownIt-Anchor" href="#단일-분할-할당-기법"></a> 단일 분할 할당 기법</h2><ul><li>주기억장치를 운영체제 영역과 사용자 영역으로 나누어 오직 한 명의 사용자만 주기억장치의 사용자 영역을 사용하는 기법</li><li><strong>경계 레지스터</strong>가 사용된다.</li><li>오버레이 기법을 사용하면서 주기억장치보다 큰 사용자 프로그램을 실행할 수 있게 되었다.</li></ul><h2 id="오버레이-기법"><a class="markdownIt-Anchor" href="#오버레이-기법"></a> 오버레이 기법</h2><ul><li>주기억장치보다 큰 사용자 프로그램을 실행하기 위한 기법</li><li>보조기억장치에 저장된 하나의 프로그램을 여러 개의 조각으로 분할한 후 필요한 조각을 차례로 주기억장치에 적재하여 프로그램을 실행한다.</li><li>불필요한 조각이 위치한 장소에 새로운 프로그램 조각을 중첩하여 적재</li><li>프로그램을 여러 개의 조각으로 분할하는 작업은 프로그래머가 수행하므로 시스템 구조나 프로그램 구조를 알아야함</li></ul><h2 id="스와핑-기법"><a class="markdownIt-Anchor" href="#스와핑-기법"></a> 스와핑 기법</h2><ul><li>하나의 프로그램 전체를 주기억장치에 할당하여 사용하다 필요에 따라 다른 프로그램과 교체하는 기법</li><li>하나의 사용자 프로그램이 완료될 때까지 교체 과정을 여러 번 수행할 수 있다.</li><li>주기억장치 =&gt; 보조기억장치 이동을 Swap Out</li><li>보조기억장치 =&gt; 주기억장치 이동을 Swap In</li></ul><h2 id="다중-분할-할당-기법"><a class="markdownIt-Anchor" href="#다중-분할-할당-기법"></a> 다중 분할 할당 기법</h2><h3 id="고정-분할-할당"><a class="markdownIt-Anchor" href="#고정-분할-할당"></a> 고정 분할 할당</h3><ul><li>Multiple contiguous Fixed partTition allocation = MFT = 정적 할당 = Static Allocation</li><li>프로그램을 할당하기 전에 운영체제가 주기억장치 사용자 영역을 여러 개의 고정된 크기로 분할하고 준비상태 큐에서 준비중인 프로그램을 각 영역에 할당하여 수행하는 기법</li><li>프로그램을 실행하려면 <strong>프로그램 전체가 주기억장치에 위치</strong>해야 한다.</li><li>프로그램이 분할된 영역보다 커서 영역 안에 못 들어가는 경우가 있다.</li><li>내부 단편화 및 외부 단편화 발생</li><li>다중 프로그래밍을 위해 사용되었으나 현재는 사용되지 않음</li></ul><h2 id="가변-분할-할당"><a class="markdownIt-Anchor" href="#가변-분할-할당"></a> 가변 분할 할당</h2><ul><li>Multiple contiguous Variable parTition allocation = MVT = 동적 할당 = Dynamic Allocation</li><li>고정 분할 할당 기법의 단편화를 줄이기 위한 것으로 <strong>프로그램을 주기억 장치에 적재하면서 필요한 만큼의 크기로 영역을 분할</strong>하는 기법</li><li>주기억장치를 효율적으로 사용 가능</li><li>다중 프로그래밍의 정도를 높일 수 있음</li><li>실행될 프로세스 크기에 대한 제약이 적음</li><li>단편화를 해결할 수 있으나 영역과 영역사이에 단편화가 발생할 수 있음</li></ul><h1 id="단편화"><a class="markdownIt-Anchor" href="#단편화"></a> 단편화</h1><ul><li>분할된 주기억 장치에 프로그램을 할당하고 반납하는 과정을 반복하면서 사용되지 않고 남는 기억장치의 빈 공간 조각</li><li>내부 단편화 : Internal Fragmentation 분할된 영역이 할당될 프로그램 크기보다 크기 때문에 남는 공간</li><li>외부 단편화 : External Fragmentation 분할된 영역이 할당될 프로그램 크기보다 작아 들어갈 수 없어 남는 공간</li></ul><h2 id="해결방법"><a class="markdownIt-Anchor" href="#해결방법"></a> 해결방법</h2><h3 id="통합-기법"><a class="markdownIt-Anchor" href="#통합-기법"></a> 통합 기법</h3><ul><li>Coalescing</li><li>빈 공간이 다른 빈 공간과 인접되어 있는지 점검한 후 결합하여 사용</li></ul><h3 id="압축-기법"><a class="markdownIt-Anchor" href="#압축-기법"></a> 압축 기법</h3><ul><li>Compaction</li><li>분산되어 있는 단편화된 빈 공간을 결합하여 하나의 큰 공간을 만드는 작업</li><li>집약 = 가비지 컬렉션</li><li>분산된 단편화된 공간을 주기억 장치의 한 쪽 끝으로 옮긴 후 합침</li><li>압축이 실행되는 동안 시스템은 모든 일을 일시 중지</li><li>기억장소의 재배치<ul><li>압축기법을 수행시에 각 프로그램에 주어진 분할영역의 주소를 새롭게 지정해줘야한다.</li><li>Base Register와 Boundary Register를 사용한다.</li></ul></li></ul><h1 id="가상기억장치"><a class="markdownIt-Anchor" href="#가상기억장치"></a> 가상기억장치</h1><ul><li>보조기억장치의 일부를 주기억장치처럼 사용하는 것</li><li>프로그램을 여러 개의 작은 블록으로 나눠서 가상기억장치에 보관하고 프로그램 실행시 요구되는 블록만 주기억장치에 불연속적으로 할당</li><li><strong>주기억장치의 용량보다 큰 프로그램을 실행하기 위해 사용</strong></li><li>주기억장치의 이용률과 다중 프로그래밍 효율 증대</li><li>단편화 해결</li><li>가상기억장치에 저장된 프로그램 실행시 주소변환 작업 필요</li><li>주소변환<ul><li>가상기억장이체 있는 프로그램이 주기억장치에 적재되어 실행될 때 논리적인 가상주소를 실기억주소로 변환하는 것</li><li>주소 사상 = 주소 매핑</li><li>인위적 연속성 : Artificial Contiguity 연속적인 가상주소가 반드시 연속적인 실기억주소로 변환되지 않아도 된다.</li><li>가상주소는 보조기억장치에 있는 프로그램 상의 주소 = 논리 주소</li><li>실기억주소는 주기억장치에 있는 기억공간의 주소 = 실주소</li></ul></li></ul><h2 id="페이징-기법"><a class="markdownIt-Anchor" href="#페이징-기법"></a> 페이징 기법</h2><ul><li>가상 기억장치에 보관되어 있는 프로그램과 주기억장치의 영역을 동일한 크기로 나눈 후 나눠진 프로그램(페이지)을 동일하게 나눠진 주기억장치의 영역(페이지 프레임)에 적재시켜 실행하는 기법</li><li>페이지 : 프로그램을 일정한 크기로 나눈 단위</li><li>페이지 프레임 : 페이지 크기로 일정하게 나눠진 주기억장치의 단위</li><li><strong>외부 단편화는 발생하지 않으나 내부 단편화는 발생</strong></li><li>주소 변환을 위해 페이지 위치정보를 가지고 있는 <strong>페이지 맵 테이블 필요</strong></li><li>페이지 맵 테이블 사용으로 비용 증가, 처리속도 감소</li><li>일반적인 페이지 크기는 1~4KB</li><li>가상 주소는 페이지 번호와 실제 내용이 위치하고 있는 곳까지의 거리를 나타내는 변위값으로 구성</li><li>실기억주소는 페이지 프레임 번호와 프레임 내에서 실제 참조하는 위치까지의 거리를 나타내는 변위값으로 구성</li><li>페이지 맵 테이블은 주기억장치에 존재하는지의 여부를 나타내는 상태 비트와 보조기억장치 주소를 나타내는 디스크주소, 페이지가 주기억장치에 있을 때의 페이지 프레임 번호로 구성</li></ul><h3 id="page-fault"><a class="markdownIt-Anchor" href="#page-fault"></a> Page Fault</h3><ul><li>프로그램 실행시 참조한 페이지가 주기억장치에 없는 현상</li><li>처리 순서<ul><li>운영체제에서 트랩요청</li><li>사용자 레지스트리와 프로그램 상태 저장</li><li>현재 교체 가능한 페이지를 페이지 맵 테이블에서 검색</li><li>가상기억장치에 있는 페이지를 주기억장치로 전달</li><li>페이지 맵 테이블 갱신</li><li>프로그램 상태를 불러와 이전 작업 진행</li></ul></li></ul><h1 id="세그먼테이션-기법"><a class="markdownIt-Anchor" href="#세그먼테이션-기법"></a> 세그먼테이션 기법</h1><ul><li>Segmentation</li><li>가상기억장치에 보관되어 있는 프로그램을 다양한 크기의 논리적인 단위로 나눈 후 주기억장치에 적재시켜 실행시키는 기법</li><li>각 세그먼트는 고유한 이름과 크기를 갖는다.</li><li>기억장치의 사용자 관점을 보존하는 기억장치 관리 기법이다.</li><li><strong>기억공간을 절약하기 위해 사용</strong>한다.</li><li>주소변환을 위해서 세그먼트 맵 테이블이 필요</li><li>세그먼트가 주기억장치에 적재될 때 다른 세그먼트에게 할당된 영역을 침범할 수 없으며 이를 위해 기억장치 보호키가 필요</li><li><strong>내부 단편화는 발생하지 않으나 외부 단편화는 발생</strong></li><li>가상 주소는 세그먼트 번호와 세그먼트 내에 실제 내용이 위치하고 있는 곳까지의 거리를 나타내는 변위값으로 구성</li><li>실기억주소는 완전주소 형태이면 세그먼트 기분번지와 변위값을 더해서 구함</li><li>세그먼트 맵 테이블은 세그먼트 번호와 세그먼트 크기, 주기억장치 상의 기준번지로 구성</li></ul><h1 id="페이지-교체-알고리즘"><a class="markdownIt-Anchor" href="#페이지-교체-알고리즘"></a> 페이지 교체 알고리즘</h1><ul><li>페이지 부재가 발생했을 때 가상기억장치의 필요한 페이지를 주기억장치에 적재해야 하는데 주기억장치의 모든 페이지 프레임이 사용중이면 어떤 페이지 프레임을 선택하여 교체할 것인지를 결정하는 기법</li><li>OPT ,FIFO, LRU, LFU, NUR, SCR</li></ul><h2 id="opt"><a class="markdownIt-Anchor" href="#opt"></a> OPT</h2><ul><li>OPTimal replacement = 최적 교체</li><li>가장 오랫동안 사용하지 않을 페이지를 교체하는 기법</li><li>Belady가 제안</li><li>페이지 부재가 가장 적게 발생하는 효율적인 알고리즘</li><li>각 페이지의 호출 순서와 참조 상황을 예측해야하므로 실현 가능성이 없음</li></ul><h2 id="fifo"><a class="markdownIt-Anchor" href="#fifo"></a> FIFO</h2><ul><li>가장 오래 있었던 페이지를 교체하는 기법</li><li>이해하기 쉽고 프로그램이 및 설계가 간단</li><li>벨레이디의 모순 현상 발생 : 페이지 프레임 수를 증가시켰는데도 페이지 부재가 더 많이 일어나는 현상</li></ul><h2 id="lru"><a class="markdownIt-Anchor" href="#lru"></a> LRU</h2><ul><li>Least Recently Used</li><li>가장 오랫동안 사용하지 않은 페이지를 교체하는 기법</li><li>각 페이지마다 Counter나 Stack을 두어 체크한다.</li><li>별도의 하드웨어가 필요하며 시간적인 오버헤드가 발생한다.</li><li>실제로 구현하기가 매우 어렵다.</li></ul><h2 id="lfu"><a class="markdownIt-Anchor" href="#lfu"></a> LFU</h2><ul><li>Least Frequently Used</li><li>사용 빈도가 가장 적은 페이지를 교체하는 기법</li><li>프로그램 실행 초기에 많이 사용된 페이지가 후에 사용되지 않을 경우에도 프레임을 계속 차지할 수 있다.</li></ul><h2 id="nur"><a class="markdownIt-Anchor" href="#nur"></a> NUR</h2><ul><li>Not Used Recently</li><li>LRU와 비슷한 알고리즘으로 최근에 사용하지 않은 페이지를 교체하는 기법</li><li>최근에 사용하지 않은 페이지는 나중에도 사용되지 않을 가능성이 높다는 것을 전제로, LRU에서 나타나는 시간적인 오버헤드를 줄일 수 있다.</li><li>각 페이지마다 <strong>참조 비트와 변형비트</strong>가 사용된다.<ul><li>참조비트 : 페이지가 호출되지 않았을 때는 0, 호출되었을 때는 1</li><li>변형비트 : 페이지 내용이 변경되지 않았을 때는 0, 변경되었을 때는 1</li></ul></li><li>참조비트와 변형비트 값에 따라 교체될 페이지의 순서가 결정된다.</li></ul><table><thead><tr><th style="text-align:center">순서</th><th style="text-align:center">참조비트</th><th style="text-align:center">변형비트</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">1</td><td style="text-align:center">1</td></tr></tbody></table><h2 id="scr"><a class="markdownIt-Anchor" href="#scr"></a> SCR</h2><ul><li>Second Chance Replacement = 2차 기회 교체</li><li>가장 오랫동안 주기억장치에 있던 페이지 중 자주 사용되는 페이지의 교체를 방지하기 위한 것</li><li>FIFO의 단점을 보완한다.</li><li>각 페이지마다 참조 비트를 두고 0일경우 교체하고 1일 경우 참조 비트를 0으로 변경 후 FIFO 큐의 맨 마지막으로 이동시킨다.</li><li>LRU처럼 참조 비트를 둔다.</li></ul><h1 id="가상기억장치-관리"><a class="markdownIt-Anchor" href="#가상기억장치-관리"></a> 가상기억장치 관리</h1><h2 id="페이지-크기"><a class="markdownIt-Anchor" href="#페이지-크기"></a> 페이지 크기</h2><p><strong>페이지 크기가 작을 경우</strong></p><ul><li>페이지 단편화 감소</li><li>효율적인 워킹 셋 유지</li><li>Locality에 더 일치하기 때문에 기억장치 효율이 높아짐</li><li>맵 테이블의 크기가 커지고 매핑 속도가 늦어짐</li><li>디스크 접근 횟수가 많아져서 전체적인 I/O 효율성 감소</li></ul><p><strong>페이지 크기가 클 경우</strong></p><ul><li>맵 테이블 크기가 작아지고 매핑 속도가 빨라짐</li><li>디스크 접근 횟수가 줄어들어 I/O 효율성이 증가</li><li>페이지 단편화가 증가</li><li>불필요한 내용까지 주기억장치에 적재될 수 있음</li></ul><h2 id="locality"><a class="markdownIt-Anchor" href="#locality"></a> Locality</h2><ul><li>국부성 = 지역성 = 구역성 = 국소성</li><li>프로세스가 실행되는 동안 주기억장치를 참조할 때 일부 페이지만 집중적으로 참조하는 성질이 있다는 이론</li><li>스레싱 방지를 위한 워킹 셋 이론의 기반</li><li>가상기억장치 관리의 이론적인 근거</li><li>Denning 교수에 의해 구역성의 개념이 증명</li><li>캐시 메모리 시스템의 이론적 근거</li></ul><h3 id="시간-구역성"><a class="markdownIt-Anchor" href="#시간-구역성"></a> 시간 구역성</h3><ul><li>Temporal Locality</li><li>프로세스가 실행되면서 하나의 페이지를 일정 시간동안 집중적으로 액세스</li><li>한 번 참조한 페이지는 가까운 시간 내에 계속 참조할 가능성이 높음</li><li>Loop, Stack, Sub Routine, Counting, 집계(Totaling)</li></ul><h3 id="공간-구역성"><a class="markdownIt-Anchor" href="#공간-구역성"></a> 공간 구역성</h3><ul><li>Spatial Locality</li><li>프로세스 실행 시 일정 위치의 페이지를 집중적으로 액세스하는 현상</li><li>어느 하나의 페이지를 참조하면 그 근처의 페이지를 계속 참조할 가능성이 높음을 의미</li><li>배열 순회, 순차적 코드 실행, 프로그래머가 변수를 서로 근처에 선언하여 할당되는 기억장소, 같은 영역에 있는 변수 참조할 때 사용</li></ul><h2 id="워킹-셋"><a class="markdownIt-Anchor" href="#워킹-셋"></a> 워킹 셋</h2><ul><li>프로세스가 일정 시간 동안 자주 참조하는 페이지들의 집합</li><li>Denning이 제안한 프로그램의 움직임에 대한 모델로 프로그램의 Locality 특징을 이용</li><li>워킹 셋을 주기억장치에 상주시킴으로 페이지 부재 및 페이지 교체 현상이 줄어들어 프로세스의 기억장치 사용이 안정</li><li>시간이 지남에 따라 자주 참조하는 페이지들의 집합이 변화하기 때문에 워킹셋은 시간에 따라 변경</li></ul><h2 id="페이지-부재-빈도-방식"><a class="markdownIt-Anchor" href="#페이지-부재-빈도-방식"></a> 페이지 부재 빈도 방식</h2><ul><li>페이지 부재율에 따라 주기억장치에 있는 페이지 프레임의 수를 늘리거나 줄여 페이지 부재율을 적정 수준으로 유지하는 방식</li></ul><h2 id="프리페이징"><a class="markdownIt-Anchor" href="#프리페이징"></a> 프리페이징</h2><ul><li>필요할 것 같은 모든 페이지를 한꺼번에 페이지 프레임에 적재하는 방식</li></ul><h2 id="스래싱"><a class="markdownIt-Anchor" href="#스래싱"></a> 스래싱</h2><ul><li>Thrashing</li><li>프로세스의 처리 시간보다 페이지 교체에 소요되는 시간이 더 많아지는 현상</li><li>다중 프로그래밍 시스템이나 가상기억장치를 사용하는 시스템에서 하나의 프로세스 수행 과정 중 자주 페이지 부재가 발생함으로써 나타나는 현상</li><li>다중 프로그래밍의 정도가 높아짐에 따라 CPU의 이용률은 어느 시점까지는 높아지지만, 더 높아질 경우 스래싱이 나타나고 CPU 이용률은 급격히 감소한다.</li></ul><h3 id="스래싱-방지"><a class="markdownIt-Anchor" href="#스래싱-방지"></a> 스래싱 방지</h3><ul><li>다중 프로그래밍의 정도를 적정 수준으로 유지</li><li>페이지 부재 빈도를 조절하여 사용</li><li>워킹 셋을 유지</li><li>부족한 자원을 증설하고 일부 프로세스를 중단</li><li>CPU 성능에 대한 자료의 지속적 관리 및 분석해 임계치를 예상하고 운영</li></ul><h1 id="디스크-스케쥴링"><a class="markdownIt-Anchor" href="#디스크-스케쥴링"></a> 디스크 스케쥴링</h1><ul><li>사용할 데이터가 디스크 상에 여러 곳에 저장되어 있을 경우 데이터를 액세스하기 위해 디스크 헤드가 움직이는 경로를 결정하는 기법</li><li>탐색시간을 최적화하기 위해 수행된다.</li><li><strong>처리량 최대화</strong></li><li><strong>응답 시간 최소화</strong></li><li><strong>응답 시간 편차의 최소화</strong></li></ul><h2 id="fcfs-2"><a class="markdownIt-Anchor" href="#fcfs-2"></a> FCFS</h2><ul><li>FIFO</li><li>가장 간단한 스케쥴링으로 디스크 대기 큐에 먼저 들어온 순서로 실행</li><li>디스크 오버헤드가 적을 때 효율적</li><li>프로그래밍이 쉬움</li><li>헤드 이동거리가 상당히 길어질 수 있다.</li><li>디스크 오버헤드가 커지면 응답시간이 길어진다.</li><li>탐색 시간을 최적화하려는 시도가 없는 기법</li></ul><h2 id="sstf"><a class="markdownIt-Anchor" href="#sstf"></a> SSTF</h2><ul><li>Short Seek Time First</li><li>탐색거리가 가장 짧은 트랙에 대한 요청을 먼저 서비스</li><li>현재 헤드 위치에서 가장 가까운 거리에 있는 트랙으로 헤드를 이동</li><li>FCFS보다 처리량이 많고 평균 탐색 시간이 짧다.</li><li>일괄 처리 시스템에 유용</li><li>먼 거리의 트랙은 무한정 기다릴 수도 있음</li><li>응답 시간 편차가 크기 때문에 대화형 시스템에 부적합</li></ul><h2 id="scan"><a class="markdownIt-Anchor" href="#scan"></a> SCAN</h2><ul><li>SSTF가 갖는 탐색 시간의 편차를 해소하기 위한 기법</li><li>Denning이 개발, 대부분의 디스크 스케쥴링에서 기본 전략으로 이용</li><li>현재 헤드의 위치에서 진행방향이 결정되면 탐색 거리가 짧은 순서에 따라 그 방향의 모든 요청을 서비스하고, 끝까지 이동하면 역방향으로 요청 사항을 서비스</li><li>헤드가 이동하면서 새로운 요청이 서비스됨</li><li>현재 진행방향에 더 이상의 요청이 없을 때만 방향을 바꿈</li><li>SSTF에서 발생하는 응답 시간의 편차 감소</li><li>오버헤드가 적을 경우 가장 효율적인 기법</li></ul><h2 id="c-scan"><a class="markdownIt-Anchor" href="#c-scan"></a> C-SCAN</h2><ul><li>Cicular SCAN</li><li>항상 바깥쪽에서 안쪽으로 움직이면서 가장 짧은 탐색 거리를 갖는 요청을 서비스</li><li>헤드는 트랙 바깥쪽에서 안쪽으로 한 방향만 움직이며 서비스하여 끝까지 이동한 후 안쪽에 더 이상의 요청이 없으면 헤드는 가장 바깥쪽의 끝으로 이동한 후 다시 안쪽으로 이동하면서 요청을 서비스</li><li>처음과 마지막 트랙을 인접시킨 것과 같은 원형 형태로 디스크를 처리</li><li><strong>새로운 요청이 도착하면 다음 헤드가 진행할 때 서비스</strong></li><li>트랙 안쪽과 바깥쪽 요청에 대한 서비스가 공평</li></ul><h2 id="lock"><a class="markdownIt-Anchor" href="#lock"></a> LOCK</h2><ul><li>SCAN 기법을 기초로 사용하되 마지막 요청을 서비스한 후 그 방향의 끝으로 이동하는 것이 아니라 바로 역방향으로 진행하는 기법</li></ul><h2 id="c-lock"><a class="markdownIt-Anchor" href="#c-lock"></a> C-LOCK</h2><ul><li>C-SCAN 기법을 기초로 사용하되 바깥쪽에서 안쪽 방향의 모든 요청을 처리한 후 가장 바깥쪽 요청 트랙으로 이동한 후 안쪽 방향으로 요청을 서비스</li></ul><h2 id="n-scan"><a class="markdownIt-Anchor" href="#n-scan"></a> N-SCAN</h2><ul><li>N-step SCAN</li><li>SCAN 기법의 무한 대기 발생 가능성을 제거한 것</li><li>어떤 방향의 진행이 시작될 시에 대기 중이던 요청들만 서비스하고 진행 도중 들어온 요청은 한데 모아서 다음 반대 방향 진행 때 서비스하는 기법</li><li>SSTF나 SCAN보다 응답시간의 편차가 적다.</li><li>특정 방향에 많은 수의 요청이 도착할 경우 반대 방향에서의 무한 지연 발생을 방지</li><li>진행도중 도착한 요청은 반대 방향 진행시 서비스하기 위해 디스크 대기 큐에 저장</li></ul><h2 id="eschenbach"><a class="markdownIt-Anchor" href="#eschenbach"></a> Eschenbach</h2><ul><li>에션바흐는 부하가 매우 큰 항공 예약 시스템을 위해 개발</li><li>탐색 시간과 회전 지연 시간을 최적화하기 위한 최초의 기법</li><li>헤드는 C-SCAN처럼 움직이며 모든 실린더는 그 실린더에 요청이 있던 없던 전체 트랙이 한 바퀴를 회전할 동안에 서비스를 받음</li></ul><h2 id="sltf"><a class="markdownIt-Anchor" href="#sltf"></a> SLTF</h2><ul><li>Shortest Latency Time First = Sector Queuing</li><li>회전 지연 시간의 최적화를 위해 구현된 기법</li><li>드럼에서 사용</li></ul><h1 id="파일"><a class="markdownIt-Anchor" href="#파일"></a> 파일</h1><ul><li>사용자가 작성한 서로 관련 잇는 레코드의 집합체</li><li>프로그램 구성의 기본 단위며 보조기억장치에 저장</li><li>소멸성 : 파일을 추가하거나 제거하는 작업의 빈도수</li><li>활성률 : 프로그램이 한번 수행되는 동안 처리되는 레코드 수의 백분율</li><li>크기 : 파일에 저장되어 있는 정보량</li></ul><h2 id="파일-시스템"><a class="markdownIt-Anchor" href="#파일-시스템"></a> 파일 시스템</h2><ul><li>파일의 저장, 액세스, 공유, 보호 등 보조기억장치에서의 파일을 총괄하는 파일 관리 기술</li><li>사용자와 보조기억장치 사이에서 인터페이스를 제공</li><li>사용자가 파일을 생성, 수정, 제거할 수 있도록 한다.</li><li>파일을 공동으로 사용할 수 있게 한다.</li><li>여러 종류의 액세스 제어방법 제공</li><li>사용자가 적합한 구조로 파일을 구성</li><li>파일의 예비와 복구 등의 기능 제공</li><li>사용자가 물리적 장치 이름 대신에 기호화된 이름을 사용할 수 있게 함</li><li>사용자가 파일을 편리하게 사용할 수 있도록 파일의 논리적 상태를 보여줘야함</li><li>파일을 안전하게 사용할 수 있도록하고 파일이 보호되어야함</li><li>파일 정보가 손실되지 않도록 데이터 무결성을 유지</li><li>파일 단위 작업 : Open Close Create Copy Destory Rename List</li><li>파일 내 레코드 단위 작업 : Read Write Update Insert Delete Search</li></ul><h2 id="파일-디스크립터"><a class="markdownIt-Anchor" href="#파일-디스크립터"></a> 파일 디스크립터</h2><ul><li>File Descriptor = 파일 서술자 = FCB = File Control Block = 파일 제어 블록</li><li>시스템이 필요로하는 파일에 대한 정보를 갖고 있는 제어블록</li><li>파일마다 독립적으로 존재</li><li>시스템에 따라 다른 구조를 가짐</li><li>보조기억장치 내에 저장되어 있다가 해당 파일이 열릴 때 주기억장치로 옮겨짐</li><li>파일 시스템이 관리하므로 사용자가 참조 불가</li><li><strong>파일 디스크립터의 정보</strong><ul><li>파일 이름 및 파일 크기</li><li>보조기억장치에서의 파일 위치</li><li>파일 구조 : 순차, 색인 순차, 색인 파일…</li><li>보조기억장치의 유형</li><li>액세스 제어 정보</li><li>파일 유형 : 텍스트, 목적 프로그램…</li><li>생성 날짜와 시간</li><li>제거 날짜와 시간</li><li>최종 수정 날짜와 시간</li><li>액세스한 횟수</li></ul></li></ul><h1 id="파일-구조"><a class="markdownIt-Anchor" href="#파일-구조"></a> 파일 구조</h1><p>파일 접근 방법이라고도 한다.</p><h2 id="순차-파일"><a class="markdownIt-Anchor" href="#순차-파일"></a> 순차 파일</h2><ul><li>Sequential File = 순서 파일 = 순차 접근 방식 = SAM = Sequential Access Method</li><li>레코드를 논리적인 처리 순서에 따라 연속된 물리적 저장공간에 기록하는 것</li><li>레코드들이 순차적으로 기록되어 판독할 때도 순차적으로 접근</li><li>자기 테이프를 모형화한 구조</li><li>일괄 처리에 적합한 구조</li><li>레코드를 삽입하거나 삭제하는 경우 <strong>파일 전체를 복사한 후 수행</strong>하므로 시간이 오래 걸림<ul><li>파일 전체를 복사</li><li>복사된 파일을 대상으로 레코드를 특정 위치에 삽입하거나 삭제</li><li>모든 레코드의 위치를 순차적으로 재배치</li><li>재비치된 복사파일을 원래 파일로 저장</li></ul></li></ul><h2 id="직접-파일"><a class="markdownIt-Anchor" href="#직접-파일"></a> 직접 파일</h2><ul><li>Direct File = 직접 접근 방식 = DAM = Direct Access Method</li><li>파일을 구성하는 레코드를 임의의 물리적 저장공간에 기록하는 것</li><li>레코드에 특정 기준으로 키가 할당</li><li>**해싱 함수(사상함수)**를 이용하여 이 키에 대한 보조기억장치의 물리적 상대 레코드 주소를 계산한 후 해당하는 주소에 레코드를 저장</li><li>레코드는 해싱 함수에 의해 계산된 물리적 주소를 통해 접근</li><li>임의 접근이 가능한 자기 디스크나 드럼을 사용</li><li>접근 시간이 빠르고 레코드의 삽입, 삭제, 갱신이 용이</li><li>레코드의 주소 변환 과정이 필요해 시간 소요</li><li>기억공간의 효율 저하</li><li>기억장치의 물리적 구조에 대한 지식 필요</li><li>프로그래밍이 복잡</li></ul><h2 id="색인-순차-파일"><a class="markdownIt-Anchor" href="#색인-순차-파일"></a> 색인 순차 파일</h2><ul><li>Indexed Sequential File = 색인 순차 접근 방식 = ISAM = Index Sequential Access Method</li><li>순차 파일과 직접 파일에서 지원하는 편성 방법이 결합된 형태</li><li>각 레코드를 키 값 순으로 논리적으로 저장하고 시스템은 각 레코드의 실제 주소가 저장된 색인을 관리</li><li>레코드 참조시 색인을 탐색한 후 색인이 가리키는 포인터를 사용하여 참조</li><li>자기디스크에서 많이 사용</li><li>자기테이프에서 사용 불가</li><li>순차처리나 임의처리가 모두 가능</li><li>효율적인 검색 가능하고 삽입 삭제 갱신이 용이</li><li>색인영역이나 오버플로 영역을 설정해야하므로 기억공간이 필요</li><li>색인을 이용하여 참조하기 때문에 접근 시간이 직접파일보다 느리다.</li></ul><h3 id="구성-3"><a class="markdownIt-Anchor" href="#구성-3"></a> 구성</h3><ul><li>기본 영역 : Prime Area 실제 레코드가 기록되는 데이터 영역</li><li>색인 영역 : Index Area 레코드들의 위치를 찾아가는 색인이 기록되는 영역</li><li>오버플로 영역 : Overflow Area 예비로 확보해 둔 영역</li></ul><h2 id="분할파일"><a class="markdownIt-Anchor" href="#분할파일"></a> 분할파일</h2><ul><li>하나의 파일을 여러 개로 분할하여 저장하는 형태</li><li>여러 개의 순차 서브파일로 구성된 파일</li><li>백업과 같이 하드디스크에 있는 내용을 테이프와 같은 보조기억장치에 저장할 때 사용</li><li>파일의 크기가 클 경우 사용</li></ul><h1 id="디렉터리-구조"><a class="markdownIt-Anchor" href="#디렉터리-구조"></a> 디렉터리 구조</h1><h2 id="1단계-디렉터리-구조"><a class="markdownIt-Anchor" href="#1단계-디렉터리-구조"></a> 1단계 디렉터리 구조</h2><ul><li>단일 디렉터리 구조</li><li>모든 파일이 하나의 디렉터리 내에 위치하여 관리되는 구조</li><li>모든 파일들이 유일한 이름을 갖고 있어야함</li><li>모든 파일이 같은 디렉터리 내에 유지되므로 이해가 쉬움</li><li>파일이나 사용자의 수가 증가하면 파일 관리가 복잡</li><li>파일명은 일반적으로 내용과 관련된 이름을 사용</li><li>파일명의 길이는 시스템에 따라 제한을 받음</li></ul><h2 id="2단계-디렉터리-구조"><a class="markdownIt-Anchor" href="#2단계-디렉터리-구조"></a> 2단계 디렉터리 구조</h2><ul><li>중앙에 마스터 파일 디렉터리(MFD)가 있고, 그 아래 사용자별 파일 디렉터리(UFD)가 있는 2계층 구조</li><li>마스터 파일 디렉터리는 각 사용자의 정보와 사용자 파일 디렉터리를 가리키는 포인터를 갖고 있으며 사용자 파일 디렉터리를 관리</li><li>사용자 파일 디렉터리는 오직 한 사용자가 갖고 있는 파일들에 대한 정보를 가짐</li><li>각 사용자는 다른 사용자의 파일 디렉터리를 검색할 수 없음</li><li>한 사용자 파일 디렉터리에서는 유일한 파일이름을 사용해야되나 서로 다른 사용자라면 동일한 파일이름을 사용할 수 있다.</li></ul><h2 id="트리-디렉터리-구조"><a class="markdownIt-Anchor" href="#트리-디렉터리-구조"></a> 트리 디렉터리 구조</h2><ul><li>하나의 루트 디렉터리와 여러 개의 서브 디렉터리로 구성된 구조</li><li>DOS, UNIX, Windows의 <strong>운영체제에서 사용되는 디렉터리 구조</strong></li><li>디렉터리 탐색은 포인터를 사용</li></ul><h2 id="비순환-그래프-디렉터리-구조"><a class="markdownIt-Anchor" href="#비순환-그래프-디렉터리-구조"></a> 비순환 그래프 디렉터리 구조</h2><ul><li>비주기 그래프 디렉터리 = Acyclic Graph Directory</li><li>하위 파일이나 하위 디렉터리를 공동으로 사용할 수 있는 것</li><li><strong>사이클이 허용되지 않는 구조</strong> = 하위 디렉터리가 상위 디렉터리나 상위 파일을 공유할 수 없다.</li><li>하나의 파일이나 디렉터리가 여러 개의 경로로 접근이 가능</li><li>디렉터리 구조가 복잡하고 시스템 성능이 저하됨</li><li>공유된 파일을 삭제할 경우 고아포인터(Dangling Pointer)가 발생</li></ul><h2 id="일반적인-그래프-디렉터리-구조"><a class="markdownIt-Anchor" href="#일반적인-그래프-디렉터리-구조"></a> 일반적인 그래프 디렉터리 구조</h2><ul><li>트리 구조에 링크를 첨가시켜 사이클을 허용하는 그래프 구조</li><li>디렉터리와 파일 공유에 완전한 융통성</li><li>탐색 알고리즘이 간단하여 파일과 디렉터리를 액세스하기 쉬움</li><li>사용되지 않은 디스크 공간을 되찾기 위해 가비지 컬렉션이 필요</li><li>가비지 컬렉팅을 해야되기에 참조 계수기가 필요</li></ul><h1 id="디스크-공간-할당-방법"><a class="markdownIt-Anchor" href="#디스크-공간-할당-방법"></a> 디스크 공간 할당 방법</h1><h2 id="연속-할당"><a class="markdownIt-Anchor" href="#연속-할당"></a> 연속 할당</h2><ul><li>Contiguous Allocation</li><li>연속된 공간에 할당하는 방법으로 생성되는 파일의 크기만큼 공간이 있어야함</li><li>논리적으로 연속된 레코드가 물리적인 저장공간에도 연속적으로 저장됨</li><li>파일의 생성과 삭제가 반복되면 단편화 발생</li><li>단편화를 줄이기 위해 재배치에 의한 주기적인 압축이 필요</li><li>파일의 크기가 시간에 따라 변경될 경우 구현하기 어려움</li></ul><h2 id="불연속-할당"><a class="markdownIt-Anchor" href="#불연속-할당"></a> 불연속 할당</h2><ul><li>Non-Contiguous Allocation</li><li>디스크 공간을 일정 단위로 나누어 할당하는 기법</li></ul><h3 id="섹터-단위-할당"><a class="markdownIt-Anchor" href="#섹터-단위-할당"></a> 섹터 단위 할당</h3><ul><li>하나의 파일이 디스크 섹터 단위로 분산되어 할당되는 방법</li><li>하나의 파일에 속하는 섹터들이 연결 리스트로 구성</li><li>디렉터리는 파일의 시작과 마지막 주소에 대한 정보만 가지고 있음</li><li>섹터 단위로 저장되므로 디스크 단편화가 발생되지 않음</li><li>파일의 크기만큼 연속된 공간이 없어도 저장 가능</li><li>레코드 검색시 파일이 속한 레코드를 순차적으로 검색해야 하므로 탐색시간이 오래 걸린다.</li><li>직접 접근이 불가능</li></ul><h3 id="블록-단위-할당"><a class="markdownIt-Anchor" href="#블록-단위-할당"></a> 블록 단위 할당</h3><ul><li>하나의 파일이 연속된 여러 개의 섹터를 묶은 블록 단위로 할당되는 방법</li></ul><h4 id="블록-체인-기법"><a class="markdownIt-Anchor" href="#블록-체인-기법"></a> 블록 체인 기법</h4><ul><li>할당 단위를 블록으로 구성하는 방법</li><li>하나의 블록은 러 개의 섹터로 구성</li><li>디렉터리는 파일의 첫 번째 블록을 가리키는 포인터를 가지고 있음</li><li>하나의 블록은 데이터와 다음 블록을 가리키는 포인터로 구성</li><li>삽입 삭제시 포인터만 수정하면 되므로 간단</li><li>순차적으로 탐색해야 되므로 속도가 느림</li></ul><h4 id="색인-블록-체인-기법"><a class="markdownIt-Anchor" href="#색인-블록-체인-기법"></a> 색인 블록 체인 기법</h4><ul><li>인덱스 블록 체인 기법</li><li>파일이 할당된 블록의 모든 포인터를 색인 블록에 모아 <strong>직접 접근이 가능</strong></li><li>디렉터리는 파일의 색인 블록에 대한 포인터를 갖고 있음</li><li>색인 블록의 포인터를 사용하여 직접 접근이 가능해 탐색 시간이 빠름</li><li>삽입시 색인 블록을 재구성</li></ul><h4 id="블록-지향-파일-사상-기법"><a class="markdownIt-Anchor" href="#블록-지향-파일-사상-기법"></a> 블록 지향 파일 사상 기법</h4><ul><li>포인터 대신 파일 할당 테이블(File Allocation Table)에 있는 블록번호를 사용하는 기법</li><li>파일 할당 테이블에는 각 블록에 해당하는 항목이 있고 각 항목은 블록번호에 의해 색인된다.</li><li>블록 번호에 의해 색인된 테이블의 각 항목은 다음 블록의 블록번호를 가짐</li><li>디스크 구조의 특성상 블록번호는 실제 기억공간의 주소로 쉽게 변환 가능</li><li>데이터의 삽입 삭제가 용이</li><li>디렉터리는 파일 할당 테이블의 시작위치를 가지고 있음</li></ul><h1 id="자원-보호"><a class="markdownIt-Anchor" href="#자원-보호"></a> 자원 보호</h1><ul><li>불법적으로 접근하는 것을 제어</li><li>자원의 물리적인 손상을 예방하는 기법</li><li>접근 제어 행렬, 전역 테이블, 접근 제어 리스트, 권한(자격) 리스트</li></ul><h2 id="접근-제어-행렬-기법"><a class="markdownIt-Anchor" href="#접근-제어-행렬-기법"></a> 접근 제어 행렬 기법</h2><ul><li>Access Control Matrix</li><li>자원보호의 일반적인 모델</li><li>객체에 대한 접근 권한을 행렬로써 표시한 기법</li></ul><h2 id="전역-테이블-기법"><a class="markdownIt-Anchor" href="#전역-테이블-기법"></a> 전역 테이블 기법</h2><ul><li>Global Table</li><li>가장 단순한 구현 방법</li><li>세 개의 순서쌍인 영역, 개체, 접근 권한의 집합을 목록 형태로 구성</li><li>테이블이 매우 커서 주기억장치에 저장할 수 없으므로 가상기억장치 기법을 사용해야한다.</li><li>주기억장치에 저장될 경우 공간 낭비</li></ul><h2 id="접근-제어-리스트"><a class="markdownIt-Anchor" href="#접근-제어-리스트"></a> 접근 제어 리스트</h2><ul><li>Access Control List</li><li>접근 제어 행렬에 있는 각 열, 즉 객체를 중심으로 접근 리스트를 구성</li><li>각 객체에 대한 리스트는 영역, 접근권한의 순서쌍으로 구성되며 객체에 대한 접근 권한을 갖는 모든 영역을 정의</li></ul><h2 id="권한-리스트-기법"><a class="markdownIt-Anchor" href="#권한-리스트-기법"></a> 권한 리스트 기법</h2><ul><li>Capability List = 자격 리스트</li><li>접근 제어 행렬에 있는 각 행, 즉 영역을 중심으로 권한 리스트를 구성</li><li>권한 리스트는 영역과 결합되어 있지만 그 영역에서 수행중인 프로세스가 직접 접근할 수는 없다.</li><li>권한 리스트는 운영체제에 의해 유지되며 사용자에 의해 간접적으로만 접근이 되는 보호된 객체이기 때문</li></ul><h2 id="lock-key-기법"><a class="markdownIt-Anchor" href="#lock-key-기법"></a> Lock-Key 기법</h2><ul><li>접근 제어 리스트와 권한 리스트를 절충한 기법</li><li>객체는 Lock 영역은 Key라 불리는 유일 값을 가지고 있어 영역과 객체가 일치하는 경우만 해당 객체를 접근 가능</li></ul><h2 id="파일-보호-기법"><a class="markdownIt-Anchor" href="#파일-보호-기법"></a> 파일 보호 기법</h2><ul><li>자원 보호 기법과 마찬가지로 파일에 대한 일방적인 접근과 손상 및 파괴를 방지하기 위함</li><li>Naming, Password, Access Control</li><li>파일의 명명 : 접근하고자 하는 파일 이름을 모르는 사용자를 접근 대상에서 제외</li><li>비밀번호</li><li>접근 제어 : 공유 데이터에 접근할 수 있는 권한을 제어, 각 파일마다 접근 목록을 둔다.</li></ul><h1 id="보안"><a class="markdownIt-Anchor" href="#보안"></a> 보안</h1><ul><li>컴퓨터 시스템 내에 있는 프로그램과 데이터에 대해 통제된 접근 방식을 어떻게 제공할 것인가를 다루는 것</li><li>컴퓨터 시스템 내의 자원을 보호하고 대응하기 위한 일련의 정책과 행위</li><li>프로그램, 프로세스 또는 사용자의 허용된 권한 외의 접근을 제한</li></ul><h2 id="보안-요건"><a class="markdownIt-Anchor" href="#보안-요건"></a> 보안 요건</h2><ul><li>기밀성 : Confidentiality 자원은 인가된 사용자에게만 접근이 허용, 노출되어도 데이터를 읽을 수 없음</li><li>무결성 : Integrity 오직 인가된 사용자만 수정 가능</li><li>가용성 : Availability 인가받은 사용자는 언제든 사용 가능</li><li>인증 : Authentication</li><li>부인 방지 : NonRepudiation 데이터를 송수신한 자가 송수신 사실을 부인할 수 없도록 송수신 증거 제공</li></ul><h2 id="보안-유지-기법"><a class="markdownIt-Anchor" href="#보안-유지-기법"></a> 보안 유지 기법</h2><ul><li>외부 보안<ul><li>시설보안</li><li>운용보안 : 사용자마다 인가된 등급 부여</li></ul></li><li>사용자 인터페이스 보안 : 사용자의 신원 확인</li><li>내부 보안<ul><li>하드웨어나 운영체제에 내장된 보안 기능 사용</li><li>하드웨어나 운영체제 내에 접근 제어 코드를 내장</li></ul></li></ul><h2 id="보안-위험-감소-방법"><a class="markdownIt-Anchor" href="#보안-위험-감소-방법"></a> 보안 위험 감소 방법</h2><ul><li>사용자 감시 : User Surveillance</li><li>위험 탐지 : Threat Monitoring</li><li>확충 : Amplification</li><li>패스워드 보호</li></ul><h1 id="정보-보안-기법"><a class="markdownIt-Anchor" href="#정보-보안-기법"></a> 정보 보안 기법</h1><h2 id="비밀키-시스템"><a class="markdownIt-Anchor" href="#비밀키-시스템"></a> 비밀키 시스템</h2><ul><li>Private Key System</li><li>동일한 키로 데이터를 암호화하고 복호화하는 대칭 암호화 기법</li><li>암/복호화의 속도가 빠르며 알고리즘이 단순</li><li>파일 크기가 작음</li><li>사용자가 많아지면 관리할 키의 수가 상대적으로 많아지고 키의 분배가 어려워짐</li><li>DES (Data Encryption Standard)</li></ul><h2 id="공용키-시스템"><a class="markdownIt-Anchor" href="#공용키-시스템"></a> 공용키 시스템</h2><ul><li>Public Key System</li><li>서로 다른 키로 데이터를 암호화하고, 복호화하는 비대칭 암호화 기법</li><li>키의 분배가 용이하고 관리해야할 키의 개수가 적음</li><li>암/복호화 속도가 느리며 알고리즘이 복잡</li><li>파일의 크기가 큼</li><li>RSA (Rivest Shamir Adleman)</li></ul><h2 id="디지털-서명-기법"><a class="markdownIt-Anchor" href="#디지털-서명-기법"></a> 디지털 서명 기법</h2><ul><li>Digital Signature Mechanism</li><li>고유의 전자 서명으로 송신자가 전자 문서 송신 사실을 부인할 수 없도록 함</li><li>작성 내용이 송수신 과정에서 변조된 사실이 없다는 것을 증명</li><li>공개키 암호화 기법을 사용</li></ul><h2 id="여분-정보-삽입-기법"><a class="markdownIt-Anchor" href="#여분-정보-삽입-기법"></a> 여분 정보 삽입 기법</h2><ul><li>Traffic Padding Mechanism</li><li>정상 데이터에 여분의 거짓 데이터를 삽입하여 불법적으로 데이터를 분석하는 공격을 방어하는 기법</li><li>삽입한 거짓 데이터가 정상 데이터와 구별이 되지 않아야함</li></ul><h2 id="인증-교환-기법"><a class="markdownIt-Anchor" href="#인증-교환-기법"></a> 인증 교환 기법</h2><ul><li>Authentication Exchange Mechanism</li><li>수신자가 메세지 전송 도중 변경되지 않았음을 확인할 수 있다.</li><li>메세지가 정당한 상대방으로부터 전달된 것을 확인할 수 있다.</li></ul><h2 id="접근-제어-기법"><a class="markdownIt-Anchor" href="#접근-제어-기법"></a> 접근 제어 기법</h2><ul><li>Access Control Mechanism</li><li>데이터에 접근이 허가된 사용자에게만 데이터 사용을 허용하는 정책을 강화하기 위해 사용</li></ul><h2 id="fault-tolerant-system"><a class="markdownIt-Anchor" href="#fault-tolerant-system"></a> Fault Tolerant System</h2><ul><li>고장 방지 시스템 = 결함 허용 시스템</li><li>시스템 부품 고장이나 프로그램에 버그가 있더라도 시스템 전체에 장애가 발생하지 않도록 시스템을 구성하는 방법</li><li>Dual System : 같은 장치를 두 개로 구성하여 하나가 고장나면 다른 하나를 작동시켜 작업을 처리하는 시스템</li></ul><h1 id="다중-처리기"><a class="markdownIt-Anchor" href="#다중-처리기"></a> 다중 처리기</h1><ul><li>Multi Processor</li><li>하나의 시스템에 여러 개의 처리기를 두어 하나의 작업을 각 처리기에게 할당하여 수행하도록 하는 것을 의미</li><li>강결합 시스템</li><li>실행시간이 감소되고 전체 효율을 향상</li><li><strong>하나의 운영체제에 의해 전체 시스템이 제어</strong></li><li>하나의 공통된 기억장소를 가짐</li><li>프로세서 중 하나가 고장 나도 다른 프로세서들에 의해 작업이 처리되므로 장애극복 가능</li><li>각 프로세서는 자체 계산능력을 가짐</li><li>프로세서나 주변장치 등을 공동으로 사용</li><li>주변장치가 기억장치에 연결되는 방식에 따라 시분할 및 공유버스, 크로스바 교환행렬, 하이퍼 큐브 방식으로 나뉨</li></ul><h2 id="시분할-및-공유-버스-연결-방식"><a class="markdownIt-Anchor" href="#시분할-및-공유-버스-연결-방식"></a> 시분할 및 공유 버스 연결 방식</h2><ul><li>각종 장치들을 버스 하나로 연결한 방식</li><li>장치 연결이 단순하고 경제적이며 융통성이 있음</li><li>장치 추가 용이</li><li><strong>한 시점에 하나의 전송만 가능</strong></li><li>버스가 고장나면 시스템이 먹통</li><li>시스템 전체 전송량이 버스의 전송률에 의해 제한</li><li>장치들의 경쟁 상태가 발생하면 시스템 효율이 저하</li></ul><h2 id="크로스바-교환-행렬-연결-방식"><a class="markdownIt-Anchor" href="#크로스바-교환-행렬-연결-방식"></a> 크로스바 교환 행렬 연결 방식</h2><ul><li>시분할 및 공유 버스 방식에서 버스의 수를 기억장치의 수만큼 증가시켜 연결한 방식</li><li>각 기억장치마다 다른 경로를 사용 가능</li><li>두 개의 서로 다른 기억장치를 동시에 참조</li><li>장치의 연결이 복잡</li></ul><h2 id="하이퍼-큐브-연결-방식"><a class="markdownIt-Anchor" href="#하이퍼-큐브-연결-방식"></a> 하이퍼 큐브 연결 방식</h2><ul><li>다수의 프로세서들을 연결하는 방식으로 비교적 경제적</li><li>네 개의 프로세서를 두 개 씩 서로 이웃하게 연결한 사각형 모양의 2차원 하이퍼 큐브를 만들고, 여기에 대응점을 각각 연결하여 3차원 하이퍼 큐브를 형성하고… 계속 늘린다.</li><li>다수의 프로세서를 연결할 수 있으며 확장성이 좋음</li><li>많은 프로세서를 연결시에 비용이 급속도로 증가</li><li>하나의 프로세서에 연결되는 다른 프로세서의 수가 (연결점) n개일 경우 프로세서는 총 2^n개가 필요</li></ul><h2 id="다중-포트-기억장치-연결-방식"><a class="markdownIt-Anchor" href="#다중-포트-기억장치-연결-방식"></a> 다중 포트 기억장치 연결 방식</h2><ul><li>시분할 및 공유 버스방식과 크로스바 교환 행렬 방식을 혼합한 형태의 방식</li><li>많은 수의 프로세서를 쉽게 연결 가능</li><li>다양한 연결이 가능하다.</li><li>전송 시간이 비교적 느림</li></ul><h1 id="다중-처리기의-운영체제-구조"><a class="markdownIt-Anchor" href="#다중-처리기의-운영체제-구조"></a> 다중 처리기의 운영체제 구조</h1><h2 id="주종-처리기"><a class="markdownIt-Anchor" href="#주종-처리기"></a> 주종 처리기</h2><ul><li>Master / Slave 처리기</li><li>하나의 프로세서를 Master로 지정하고 나머지는 Slave로 지정하는 구조</li><li>주 프로세서가 고장나면 전체 시스템 먹통</li><li><strong>주 프로세서만 입출력을 수행하므로 비대칭 구조</strong></li><li>주 프로세서<ul><li>입출력과 연산 담당</li><li>운영체제 수행</li></ul></li><li>종 프로세서<ul><li>연산만 담당</li><li>입출력발생시 주프로세서에 요청</li><li>사용자 프로그램만 담당</li></ul></li></ul><h2 id="분리-실행-처리기"><a class="markdownIt-Anchor" href="#분리-실행-처리기"></a> 분리 실행 처리기</h2><ul><li>주/종처리기의 비대칭성을 보완하여 각 프로세서가 독자적인 운영체제를 가지고 있도록 구성</li><li>각 프로세서에서 발생하는 인터럽트는 해당 프로세서에서 해결</li><li>한 프로세서에 일이 밀려있어도 다른 프로세서는 유휴상태가 될 수 있다.</li></ul><h2 id="대칭적-처리기"><a class="markdownIt-Anchor" href="#대칭적-처리기"></a> 대칭적 처리기</h2><ul><li>분리 실행 처리기를 보완하여 여러 프로세서들이 완전한 기능을 갖춘 하나의 운영체제를 공유하여 수행하는 구조</li><li>가장 복잡하지만 가장 강력함</li><li>여러 개의 프로세서가 동시에 수행 가능</li><li>모든 프로세서가 동등한 권한을 가짐</li><li>메모리와 입출력장치를 공유</li><li>프로세서간의 통신은 공유 메모리를 통해 이루어짐</li><li>공유된 장치를 사용할 때 대립문제가 발생하므로 대비책 필요</li><li>프로세서의 수를 늘려도 시스템 효율은 향상되지 않음</li></ul><h2 id="약결합-시스템"><a class="markdownIt-Anchor" href="#약결합-시스템"></a> 약결합 시스템</h2><ul><li>Loosely Coupled System = 분산 처리 시스템</li><li>각 <strong>프로세서마다 독립된 메모리</strong>를 가진 시스템</li><li>둘 이상의 독립된 컴퓨터 시스템을 통신망을 통해 연결한 시스템</li><li>각 <strong>시스템마다 독자적인 운영체제</strong>를 가짐</li><li>각 시스템마다 독자적인 운영이 가능하므로 프로세서간 결합력이 약함</li><li>프로세서 간 통신은 메세지 전달이나 원격 프로시져 호출을 통해 이뤄짐</li></ul><h2 id="강결합-시스템"><a class="markdownIt-Anchor" href="#강결합-시스템"></a> 강결합 시스템</h2><ul><li>Tightly Coupled System = 다중 처리 시스템 = 병렬 처리 시스템</li><li>동일 운영체제 하에서 여러 개의 프로세서가 하나의 메모리를 공유하여 사용하는 시스템</li><li><strong>하나의 운영체제</strong>가 모든 프로세서와 시스템 하드웨어를 제어</li><li>프로세서 간의 통신은 공유 메모리를 통해 이뤄짐</li><li><strong>하나의 메모리</strong>를 사용하므로 프로세서 간의 결합력이 강함</li><li>공유 메모리를 차지하는 프로세서 간의 경쟁을 최소화 해야함</li></ul><h1 id="분산-처리-시스템-2"><a class="markdownIt-Anchor" href="#분산-처리-시스템-2"></a> 분산 처리 시스템</h1><ul><li>Distributed Processing System</li><li>약결합 시스템으로 독립적인 처리능력을 가진 컴퓨터 시스템을 통신망으로 연결한 시스템</li><li>사용자는 각 컴퓨터 위치를 몰라도 자원을 사용 가능</li><li>중앙 집중형 시스템에 비해 개발이 어려움</li><li><strong>보안 문제 발생</strong></li><li>시스템 유지상 통일성을 잃기 쉬움</li><li>시스템 설계가 복잡하고 데이터 처리 서비스의 질이 떨어짐</li></ul><h2 id="설계-목적"><a class="markdownIt-Anchor" href="#설계-목적"></a> 설계 목적</h2><ul><li>자원 공유</li><li>연산 속도 향상</li><li>신뢰도 향상 : 여러 시스템 중 하나의 시스템에 오류가 발생해도 다른 시스템에서 처리 가능</li><li>컴퓨터 통신 : 지리적으로 멀어도 정보 교환 가능</li></ul><h2 id="투명성"><a class="markdownIt-Anchor" href="#투명성"></a> 투명성</h2><ul><li>Transparence</li><li>분산 처리 운영체제에서 구체적인 시스템 환경을 사용자가 알 수 없도록 함</li><li>환경을 알지 못해도 원하는 작업을 수행할 수 있도록 지원</li><li>자원의 위치나 정보가 변경되더라도 사용자가 이를 인식하지 못하게 함</li></ul><h3 id="종류-3"><a class="markdownIt-Anchor" href="#종류-3"></a> 종류</h3><ul><li>위치 투명성 : 물리적 위치를 몰라도 자원에 접근 가능</li><li>이주 투명성 : 사용자나 응용 프로그램의 동작에 영향을 받지 않고 시스템 내에 있는 자원을 이동 가능</li><li>복제 투명성 : 자원의 복제를 사용자에게 통지할 필요 없이 자유로이 복제</li><li>병행 투명성 : 자원을 병행 처리하고 공유 가능</li><li>접근 투명성</li><li>성능 투명성 : 성능을 증가시키기 위해 시스템 재구성 가능</li><li>규모 투명성 : 시스템 구조나 알고리즘의 변경 없이 확장 가능</li><li>고장 투명성 : 고장이 나도 작업 가능</li></ul><h2 id="계층구조"><a class="markdownIt-Anchor" href="#계층구조"></a> 계층구조</h2><ul><li>하드웨어 계층</li><li>기억장치 계층</li><li>프로세스 계층</li><li>파일시스템 계층</li><li>사용자 프로그램 계층</li></ul><h2 id="분산-파일-시스템"><a class="markdownIt-Anchor" href="#분산-파일-시스템"></a> 분산 파일 시스템</h2><ul><li>여러 사이트에 분산되어 있는 서버, 장치, 사용자들에 대한 파일 서비스를 제공하는 시스템</li><li>분산 시스템이 통신망으로 연결되어 있으므로 파일 서비스는 여러 개의 기억장치에서 네트워크를 통해 이뤄짐</li><li>서로 다른 컴퓨터 사용자 간에 정보를 쉽게 공유 가능</li><li>NFS : 선 마이크로 시스템에서 개발</li><li>LoCUS : 캘리포니아 대에서 개발</li><li>Andrew : 카네기 멜론 대학에서 개발</li></ul><h1 id="분산-처리-시스템-분류"><a class="markdownIt-Anchor" href="#분산-처리-시스템-분류"></a> 분산 처리 시스템 분류</h1><h2 id="위상에-따른-분류"><a class="markdownIt-Anchor" href="#위상에-따른-분류"></a> 위상에 따른 분류</h2><h3 id="망형-완전-연결"><a class="markdownIt-Anchor" href="#망형-완전-연결"></a> 망형 - 완전 연결</h3><ul><li>Full Connection</li><li>각 사이트들이 시스템 내의 다른 모든 사이트와 직접 연결된 구조</li><li>사이트 수가 n개이면 링크 수는 n(n - 1) / 2</li><li>모든 사이트를 연결해야 하므로 기본비용은 많이 들지만 통신비용은 적다.</li><li>하나의 링크가 고장나도 다른 링크를 이요하므로 신뢰성이 높다.</li></ul><h3 id="망형-부분-연결"><a class="markdownIt-Anchor" href="#망형-부분-연결"></a> 망형 - 부분 연결</h3><ul><li>Partially Connection</li><li>시스템 내의 일부 사이트들 간에만 직접 연결하는 구조</li><li>ㅈ기접 연결되지 않은 사이트는 연결된 타 사이트를 통해 통신</li></ul><h3 id="트리-또는-계층형"><a class="markdownIt-Anchor" href="#트리-또는-계층형"></a> 트리 또는 계층형</h3><ul><li>Tree, Hierarchy</li><li>분산 처리 시스템의 가장 대표적인 형태</li><li>각 사이트들이 트리 형태로 연결된 구조</li><li>부모 사이트의 자식 사이트는 그 부모 사이트를 통해 통신이 이뤄짐</li><li>부모 사이트가 고장나면 자식 사이트는 통신이 불가능</li></ul><h3 id="성형"><a class="markdownIt-Anchor" href="#성형"></a> 성형</h3><ul><li>스타형</li><li>모든 사이트가 하나의 중앙 사이트에 직접 연결되어 있고 다른 사이트와는 연결되어 있지 않은 구조</li><li>기본 비용은 사이트 수에 비례하며 통신비용이 적다.</li><li>구조가 간단하고 보수 및 관리가 용이하다.</li><li>중앙 사이트가 고장나면 다 먹통</li><li>데이터 전송이 없는 사이트가 접속된 통신회선은 휴지 상태가 된다.</li></ul><h3 id="환형"><a class="markdownIt-Anchor" href="#환형"></a> 환형</h3><ul><li>링형</li><li>시스템 내의 각 사이트가 인접하는 달느 두 사이트와만 직접 연결된 구조</li><li>정보는 <strong>단방향 또는 양방향으로 전달 가능</strong></li><li>특정 사이트가 고장나면 통신이 불가능해짐</li></ul><h3 id="다중-접근-버스-연결"><a class="markdownIt-Anchor" href="#다중-접근-버스-연결"></a> 다중 접근 버스 연결</h3><ul><li>Multi Access Bus Connection</li><li>시스템 내의 모든 사이트들이 공유 버스에 연결된 구조</li><li>기본 비용은 사이트 수에 비례하고 통신 비용은 일반적으로 저렴</li></ul><h2 id="범위에-따른-분류"><a class="markdownIt-Anchor" href="#범위에-따른-분류"></a> 범위에 따른 분류</h2><h3 id="lan"><a class="markdownIt-Anchor" href="#lan"></a> LAN</h3><ul><li>근거리 통신망</li><li>버스형이나 링형 사용</li></ul><h3 id="wan"><a class="markdownIt-Anchor" href="#wan"></a> WAN</h3><ul><li>광대역 통신망</li><li>국가-국가간 대륙-대륙간</li><li>일정 지역 사이트를 근거리 통신망으로 연결 후 각 근거리 통신망을 연결하는 방식</li></ul><h2 id="프로세서-모델에-따른-분류"><a class="markdownIt-Anchor" href="#프로세서-모델에-따른-분류"></a> 프로세서 모델에 따른 분류</h2><h3 id="클라이언트서버-모델"><a class="markdownIt-Anchor" href="#클라이언트서버-모델"></a> 클라이언트/서버 모델</h3><ul><li>클라이언트와 서버가 하나의 작업을 분산 협동 처리 하는 방식</li><li>프로그램의 모듈성과 융통성을 증대</li></ul><h3 id="프로세서-풀-모델"><a class="markdownIt-Anchor" href="#프로세서-풀-모델"></a> 프로세서 풀 모델</h3><ul><li>하나 이상의 프로세서 풀과 여러 서버가 연결된 형태</li></ul><h3 id="혼합-모델"><a class="markdownIt-Anchor" href="#혼합-모델"></a> 혼합 모델</h3><ul><li>Hybrid Model</li><li>클라이언트/서버 모델과 프로세서 풀 모델을 혼합한 형태의 방식</li><li>사용자는 워크스테이션이나 단말기를 통해 시스템에 접근</li></ul><h2 id="운영체제에-따른-분류"><a class="markdownIt-Anchor" href="#운영체제에-따른-분류"></a> 운영체제에 따른 분류</h2><h3 id="네트워크-운영체제"><a class="markdownIt-Anchor" href="#네트워크-운영체제"></a> 네트워크 운영체제</h3><ul><li>독자적인 운영체제를 가지고 있는 시스템을 네트워크로 구성한 것</li><li>사용자가 원격 시스템으로 로그인하거나 원격 시스템으로부터 필요한 자원을 전달 받는 방식</li><li>사용자는 시스템의 각 장치에 대해 알고 있어야 함</li><li>지역적으로 멀리 떨어진 대규모 시스템에 사용</li><li>설계와 구현이 쉽다.</li><li>자원 공유가 번거로움</li></ul><h3 id="분산-운영체제"><a class="markdownIt-Anchor" href="#분산-운영체제"></a> 분산 운영체제</h3><ul><li>하나의 운영체제가 모든 시스템 내의 자원을 관리하는 것</li><li>원격에 있는 자원을 마치 지역 자원인 것과 같이 쉽게 접근하여 사용하는 방식</li><li>사용이 편리하고 시스템 간 자원 공유가 용이</li><li>하나의 운영체제가 시스템 전체를 관리해야 하므로 설계와 구현이 어려움</li><li>요청한 컴퓨터에 요청된 컴퓨터의 자원이 이주됨으로 자원 사용 가능</li><li>데이터 이주<ul><li>데이터를 요청한 사용자의 컴퓨터로 해당 데이터의 복사본을 전송 시키는 방식</li><li>사용자가 데이터가 필요하지 않을 경우 데이터의 복사본을 원래 컴퓨터로 돌려보냄</li></ul></li><li>연산 이주<ul><li>요청한 데이터가 있는 컴퓨터에서 데이터를 처리하여 해당 결과를 요청한 컴퓨터에게 보내는 방식</li><li>결과를 전송시키는 것</li></ul></li><li>프로세스 이주 : 프로세스의 전체 또는 일부를 다른 컴퓨터에서 실행되도록 하는 방식</li></ul><h1 id="unix"><a class="markdownIt-Anchor" href="#unix"></a> UNIX</h1><ul><li>서버 컴퓨터에서 사용되는 운영체제</li><li>시분할 시스템을 위해 설계된 대화식 운영체제</li><li>소스가 공개된 개방형 시스템</li><li>크기가 작고 이해하기 쉬움</li><li>이식성이 높고 프로세스 간 호환성이 높음</li><li>Multi User, Multi Tasking</li><li>트리 구조의 파일 시스템</li><li>하나 이상의 작업을 백그라운드에서 수행하므로 여러 작업을 동시 처리 가능</li></ul><h2 id="구성-4"><a class="markdownIt-Anchor" href="#구성-4"></a> 구성</h2><ul><li>하드웨어</li><li>커널</li><li>쉘</li><li>유틸리티</li><li>사용자</li></ul><h3 id="커널"><a class="markdownIt-Anchor" href="#커널"></a> 커널</h3><ul><li>UNIX의 핵심 부분</li><li>컴퓨터가 부팅될 때 주기억장치에 적재된 후 상주하면서 실행</li><li>하드웨어를 보호하고 <strong>프로그램과 하드웨어 간의 인터페이스 역할</strong></li><li>프로세스 관리, 기억장치 관리, 파일 관리, 입출력 관리, 프로세스간 통신, 데이터 전송 및 변환</li></ul><h3 id="쉘"><a class="markdownIt-Anchor" href="#쉘"></a> 쉘</h3><ul><li>사용자의 명령어를 인식하여 프로그램을 호출하고 명령을 수행하는 <strong>명령어 해석기</strong></li><li><strong>시스템과 사용자 간의 인터페이스 역할</strong></li><li>DOS의 COMMAND.COM과 같은 기능</li><li><strong>보조기억장치에 명령어가 포함된 파일로 존재</strong>하며 교체처리가 가능</li><li>주기억장치에 상주하지 않는다.</li></ul><h3 id="유틸리티"><a class="markdownIt-Anchor" href="#유틸리티"></a> 유틸리티</h3><ul><li>일반 사용자가 작성한 응용 프로그램을 처리하는데 사용</li><li>에디터, 컴파일러, 인터프리터, 디버거</li><li>DOS의 외부명령어</li></ul><h2 id="프로세스간-통신"><a class="markdownIt-Anchor" href="#프로세스간-통신"></a> 프로세스간 통신</h2><ul><li>각 프로세스는 시스템 호출을 통해 커널의 기능을 사용</li><li>프로세스 간 통신은 시그널, 파이프, 소켓 등을 사용</li><li>시그널 : 간단한 메세지를 이용하여 통신, 초기 UNIX</li><li>파이프 : 한 프로세스의 출력이 다른 프로세스의 입력으로 사용되는 단방향 통신</li><li>소켓 : 프로세스 간의 대화를 가능하게 하는 쌍방향 통신</li></ul><h1 id="unix-파일-시스템"><a class="markdownIt-Anchor" href="#unix-파일-시스템"></a> UNIX 파일 시스템</h1><h2 id="파일-시스템-2"><a class="markdownIt-Anchor" href="#파일-시스템-2"></a> 파일 시스템</h2><ul><li>트리 구조</li><li>디렉터리나 주변장치를 파일과 동일하게 취급</li><li>파일 생성 및 삭제, 보호 기능을 가짐</li><li>일반파일, 디렉터리파일, 특수파일 형식 제공</li></ul><h2 id="파일-시스템-구조"><a class="markdownIt-Anchor" href="#파일-시스템-구조"></a> 파일 시스템 구조</h2><ul><li>디스크를 블록으로 분류하여 배치한 구조</li><li>부트 블록, 슈퍼블록, 아이노드 블록, 데이터 블록으로 구성</li><li>부트 블록 : 부팅 시 필요한 코드를 저장</li><li>슈퍼 블록 : 전체 파일 시스템에 대한 정보를 저장</li><li>Index-Node 블록 : 각 파일이나 디렉터리에 대한 모든 정보를 저장하고 있는 블록<ul><li>파일 소유자의 사용자 번호 및 그룹 번호</li><li>파일 크기</li><li>파일 타입</li><li>생성 시기</li><li>최종 변경 시기</li><li>최근 사용 시기</li><li>파일 보호 권한</li><li>파일 링크 수</li><li>데이터가 저장된 블록의 시작 주소</li></ul></li><li>데이터 블록 : 디렉터립려로 디렉터리 엔트리와 실제 파일에 대한 데이터가 저장된 블록</li></ul><h2 id="프로세스-관련-명령어"><a class="markdownIt-Anchor" href="#프로세스-관련-명령어"></a> 프로세스 관련 명령어</h2><ul><li>fork : 프로세스 생성, 하위 프로세서 호출, 프로세스 복제</li><li>exec : 프로세스 수행</li><li>exit : 프로세스 종료</li><li>wait : fort 후 exec에 의해 실행되는 프로세스의 상위 프로세스가 하위 프로세스 종료 등의 event를 기다림</li><li>kill : 프로세스 제거</li><li>getpid : 자신의 프로세스 아이디</li><li>getppid : 부모 프로세스 아이디</li><li>&amp; : 백그라운드 처리를 위해 명령의 끝에 입력</li><li>signal : 신호를 받았을 때 프로세스가 취할 동작 지정</li><li>pipe : 프로세스 간 통신을 위한 경로 설정</li></ul><h2 id="파일-및-디렉터리-명령어"><a class="markdownIt-Anchor" href="#파일-및-디렉터리-명령어"></a> 파일 및 디렉터리 명령어</h2><ul><li>creat : 파일 생성</li><li>open : 파일을 사용할 수 있는 상태로 준비</li><li>close : 파일 닫기</li><li>cp : 복사</li><li>mv : 파일 이동 또는 이름 변경</li><li>rm : 파일 삭제</li><li>cat : 파일 내용 표시</li><li>chmod : 파일 사용 허가 지정</li><li>chown : 소유자 변경</li><li>find : 파일 찾기</li><li>mknod : 특수 파일 생성</li><li>mount : 파일 시스템 마운팅</li><li>mkfs : 파일 시스템 생성</li><li>fsck : 파일 시스템 검사</li><li>mkdir : 디렉터리 생성</li><li>chdir : 디렉터리 위치 변경</li><li>rmdir : 디렉터리 삭제</li><li>ls : 디렉터리 파일 목록 확인</li><li>finger : 사용자 정보 표시</li></ul><h1 id="windows"><a class="markdownIt-Anchor" href="#windows"></a> Windows</h1><ul><li>GUI</li><li>선점형 멀티태스킹 : 동시에 여러 개의 프로그램을 실행하는 멀티 프로그래밍을 하면서 운영체제가 각 작업의 CPU 이용시간을 제어하여 응용 프로그램 실행중 문제가 발생하면 해당 프로그램을 강제 종료시키고 모든 시스템 자원을 반환하는 방식</li><li>FAT 32 파일 시스템 사용</li><li>Plug and Play</li><li>OLE 사용 : 다른 여러 프로그램에서 작성된 문자가 르미 등의 개체를 현재 작성 중인 문서에 자유롭게 연결하거나 삽입하여 편집할 수 있는 기능</li><li>255자의 긴 파일명</li><li>Single User 시스템</li></ul><h1 id="ms-dos"><a class="markdownIt-Anchor" href="#ms-dos"></a> MS-DOS</h1><ul><li>CUI</li><li>Single User</li><li>Single Tasking</li><li>시스템 파일 : 도스의 핵심파일로 주변장치의 입출력과 시스템 전체를 통제, MSDOS.SYS와 IO.SYS가 있다.</li><li>명령어 처리기 : <a href="http://COMMAND.COM" target="_blank" rel="external nofollow noopener noreferrer">COMMAND.COM</a></li><li>자동 일괄 처리 파일 : AUTOEXEC.BAT</li><li>환경 설정 파일 : CONFIG.SYS</li></ul><h2 id="명령어"><a class="markdownIt-Anchor" href="#명령어"></a> 명령어</h2><h3 id="내부-명령어"><a class="markdownIt-Anchor" href="#내부-명령어"></a> 내부 명령어</h3><ul><li>COMMAND.COM에 포함되어 있고 메모리에 항상 상주되어 있다.</li><li>DIR : 파일 목록 표시</li><li>COPY : 복사</li><li>TYPE : 파일 내용 표시 (like cat)</li><li>REN : 파일 이름 변경</li><li>DEL : 파일 삭제</li><li>MD : 디렉터리 생성</li><li>CD : 디렉터리 위치 변경</li><li>RD : 디렉터리 삭제</li><li>CLS : 화면 내용을 지움</li><li>VER : 버전 표시 (like uname)</li><li>PATH : 파일 탐색 경로 지정</li></ul><h3 id="외부-명령어"><a class="markdownIt-Anchor" href="#외부-명령어"></a> 외부 명령어</h3><ul><li>실행과정이 복잡하거나 자주 사요하지 않는 것</li><li>디스크에 파일로 저장</li><li>처리속도가 느림</li><li>UNDELETE : 삭제한 파일 복원</li><li>SYS : 시스템 파일 복사</li><li>ATTRIB : 파일 속성 변경 (like chmod)</li><li>MOVE : 파일 이동</li><li>FIND : 파일 찾기</li><li>FORMAT : 포맷</li><li>UNFORMAT : 포맷한 디스크를 복원</li><li>CHKDSK : 디스크 상태 점검 (like df)</li><li>DISKCOPY : 디스크 단위 복사</li><li>DISKCOMP : 디스크 비교</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm 업데이트시 npm 폴더가 사라졌을 때</title>
      <link href="/2017/02/06/npm-version-update/"/>
      <url>/2017/02/06/npm-version-update/</url>
      
        <content type="html"><![CDATA[<p>npm으로 npm의 버전을 업데이트 할 때의 명령어는 다음과 같다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g npm</span><br></pre></td></tr></table></figure><p>업데이트 명령 실행 후 오류가 발생한 뒤 npm 명령어가 없다는 경우가 생길 수 있다.<br>당황하지 말고 아래 명령어를 실행한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 캐시 강제 삭제</span></span><br><span class="line">$ npm cache clean -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># npm 다운로드</span></span><br><span class="line">$ curl http://npmjs.org/install.sh | sh</span><br></pre></td></tr></table></figure><p>다시 npm이 설치되어 npm 명령어를 실행할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Angular2 with Webpack</title>
      <link href="/2017/02/06/Angular2-with-Webpack/"/>
      <url>/2017/02/06/Angular2-with-Webpack/</url>
      
        <content type="html"><![CDATA[<h1 id="앞서"><a class="markdownIt-Anchor" href="#앞서"></a> 앞서</h1><p>정말 angular2 를 배우고 싶었다.</p><p>대세는 angular2 와 react 가 되었지만 angular2 를 선택한건 angular1 에 반했었고 구글이기 때문이었다.<br>근데 angular2 를 사용하려면 typescript 를 알아야하고, systemjs 또는 webpack 을 알아야하며 rxjs, corejs, zonejs, karma, e2e 등 새로운 기술을 너무 많이 알아야되었다.</p><p>대부분이 여기서 좌절(?)해 react 나 vue 로 가려고 하는 것 같다.<br>러닝 커브가 상당했던 이유는 이러했다.</p><ul><li>angular2 의 포스트는 이론만 많았다.</li><li>실전을 찾으면 버전이 알파 또는 베타 버전이라 현재와는 호환이 안된다.</li><li>설치법은 알려주지도 않는다. (다 nodejs 개발자라 생각하는 것 같다.)</li><li>어떤 패키지가 무슨 기능에 사용되는지 하나도 알려주지 않는다.</li><li>심지어 공식 홈페이지의 starter-kit 을 clone 하면 오만가지의 테스팅 모듈도 다 딸려와 정신이 혼미하다.</li></ul><p><a href="http://www.looah.com/article/view/2054" target="_blank" rel="external nofollow noopener noreferrer">2016 년에 자바스크립트를 배우는 기분</a>은 대부분이 이런 것 같다.</p><p>하나하나 차근차근 알아가며 angular2 로 빠져보자.</p><h1 id="npm"><a class="markdownIt-Anchor" href="#npm"></a> npm</h1><p>먼저 angular2 (이하 ng2)는 npm 으로 설치를 해야한다.</p><blockquote><p><strong>npm 이 무엇인가?</strong><br>bower, composer, maven 같은 패키지 다운로드 매니저이다.<br>더 쉽게 말하면 자바스크립트 라이브러리를 다운로드하고 관리해주는 프로그램이라 생각하자.</p></blockquote><p><a href="https://nodejs.org/ko/download/" target="_blank" rel="external nofollow noopener noreferrer">nodejs 다운로드</a>에서 맞는 윈도우 버전을 다운로드해 설치하자.</p><h1 id="packagejson"><a class="markdownIt-Anchor" href="#packagejson"></a> package.json</h1><p>npm 으로 자바스크립트 라이브러리를 다운받기 위해선 package.json(설정파일)이 필요하다.<br>원하는 위치에 폴더를 만들자. (D:\workspace\ng-test)</p><p>그리고 <strong>package.json</strong> 파일을 폴더 하위에 만든다.</p><figure class="highlight json"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"ng2-webpack-start"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"@angular/common"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/compiler"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/core"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/forms"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/http"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/platform-browser"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/platform-browser-dynamic"</span>: <span class="string">"^2.4.6"</span>,</span><br><span class="line">    <span class="attr">"@angular/router"</span>: <span class="string">"^3.4.6"</span>,</span><br><span class="line">    <span class="attr">"core-js"</span>: <span class="string">"^2.4.1"</span>,</span><br><span class="line">    <span class="attr">"reflect-metadata"</span>: <span class="string">"^0.1.9"</span>,</span><br><span class="line">    <span class="attr">"rxjs"</span>: <span class="string">"^5.1.0"</span>,</span><br><span class="line">    <span class="attr">"zone.js"</span>: <span class="string">"^0.7.6"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><ul><li>name : 프로젝트의 이름</li><li>version : 버전 기법에 맞게 원하는대로 적는다.</li><li>dependencies : ng2 프로젝트에 사용할 js library 의 이름과 버전을 적는다.<ul><li>@angular/common : ng2 의 기본 모듈</li><li>@angular/compiler : ng2 의 template 을 위해 필요한 모듈</li><li>@angular/core : ng2 의 기본 모듈</li><li>@angular/forms : ng2 로 form 을 다루기 위한 모듈</li><li>@angular/http : 비동기 서버 통신을 위한 모듈</li><li>@angular/platform-browser : ng2 를 브라우저로 표시하기 위한 모듈</li><li>@angular/platform-browser-dynamic : ng2 를 브라우저로 표시하기 위한 모듈</li><li>@angular/router : 라우팅 기능 모듈</li><li>core-js : js 의 최신 문법을 사용하기 위함</li><li>reflect-metadata : metadata 문법을 사용하기 위함</li><li>rxjs : observables 기능을 사용하기 위함</li><li>zone.js : async 함수의 도착 지점을 알기 위함</li></ul></li></ul><p>ng2 의 기능들과 그 기능을 하위버전 브라우저에서도 사용하기 위한 라이브러리들을 포함했다.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><p>프로젝트에서 쉘을 실행시켜 설치를 진행하자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p><strong>node_modules</strong> 폴더가 생성된 걸 확인할 수 있다.</p><h1 id="hello-world"><a class="markdownIt-Anchor" href="#hello-world"></a> Hello World</h1><ul><li><strong>src</strong> 라는 폴더를 새로 만든다. (D:\workspace\ng-test\src)</li><li>index.html 과 main.ts 파일을 생성한다.</li></ul><h2 id="indexhtml"><a class="markdownIt-Anchor" href="#indexhtml"></a> index.html</h2><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hi Angular2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="maints"><a class="markdownIt-Anchor" href="#maints"></a> main.ts</h2><p>main.ts 는 ng2 의 기능을 하나로 통합시켜주는 <strong>시작 스크립트</strong>이다.</p><figure class="highlight typescript"><figcaption><span>main.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"core-js"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"reflect-metadata"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"zone.js/dist/zone"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; platformBrowserDynamic &#125; <span class="keyword">from</span> <span class="string">"@angular/platform-browser-dynamic"</span></span><br><span class="line"><span class="keyword">import</span> &#123; AppModule &#125; <span class="keyword">from</span> <span class="string">"./app/app.module"</span></span><br><span class="line"></span><br><span class="line">platformBrowserDynamic().bootstrapModule(AppModule)</span><br></pre></td></tr></table></figure><h2 id="appmodulets"><a class="markdownIt-Anchor" href="#appmodulets"></a> app.module.ts</h2><ul><li>src 밑에 <strong>app 폴더</strong>를 만든다.</li><li>src\app\ 아래에 <strong>app.module.ts</strong> 파일을 생성한다.<br>(D:\workspace\ng-test\src\app\app.module.ts)</li></ul><figure class="highlight typescript"><figcaption><span>app.module.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">"@angular/platform-browser"</span></span><br><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">"@angular/core"</span></span><br><span class="line"><span class="keyword">import</span> &#123; AppComponent &#125; <span class="keyword">from</span> <span class="string">"./app.component"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [BrowserModule],</span><br><span class="line">  declarations: [AppComponent],</span><br><span class="line">  bootstrap: [AppComponent]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;&#125;</span><br></pre></td></tr></table></figure><p>이 파일은 ng2 에서 <strong>어떤 모듈을 사용할지</strong> 알려준다.</p><h3 id="설명-2"><a class="markdownIt-Anchor" href="#설명-2"></a> 설명</h3><ul><li>imports : 이 모듈에 필요한 다른 모듈</li><li>declarations : 모듈에 속하는 뷰 클래스, 앵귤러에는 components, directives, pipes 라는 세가지 뷰 클래스가 있다.</li><li>bootstrap : 메인 Component 지정 (root 모듈만 지정해야함)</li></ul><blockquote><p><strong>컴포넌트란 무엇인가?</strong><br>컴포넌트는 화면(뷰)를 제어하는 자바스크립트 클래스이다.</p></blockquote><h2 id="appcomponentts"><a class="markdownIt-Anchor" href="#appcomponentts"></a> app.component.ts</h2><p>app.module.ts 에서 사용할 메인 컴포넌트를 생성하자.</p><figure class="highlight ts"><figcaption><span>app.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">"@angular/core"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">"main"</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;h1&gt; Hello World &lt;/h1&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="설명-3"><a class="markdownIt-Anchor" href="#설명-3"></a> 설명</h3><ul><li>selector : 어떤 위치에 삽입할지 attribute 이름을 적는다.</li><li>template : 어떤 템플릿을 사용할지 ` 기호를 사용해 적는다.</li></ul><blockquote><p>여기까지가 ng2 의 가장 기본적인 틀이다.<br>이제 실행을 하기 위해 만만치 않은 작업이 남았다.</p></blockquote><h1 id="typescript"><a class="markdownIt-Anchor" href="#typescript"></a> TypeScript</h1><p>ng2 는 typescript 를 주 언어로 사용한다. <strong>typescript 는 javascript 의 상위 집합</strong>이다.<br>상위집합이란 말이 어렵다면… 그냥 <strong>javascript 랑 똑같다</strong>고 생각해도 된다.<br>똑같이 코딩해도 된다. 거기에 java 처럼 type 을 곁들여 코드를 짤 수 있다.</p><p>하지만 브라우저에서 실행하려면 javascript 로 compile 을 해줘야한다.<br>쉽게 java(ts)로 짜고 class(js)로 컴파일해야 실행되는 구조라 이해하자.<br>그러기 위해 몇가지 라이브러리를 npm 에서 추가로 설치해줘야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 타입스크립트 다운로드</span></span><br><span class="line">$ npm install --save-dev typescript</span><br></pre></td></tr></table></figure><p>위 명령어를 실행하면 개발버전(save-dev)으로 typescript 라이브러리가 설치된다.<br>package.json 을 보면 devDependencies 옵션 밑에 의존성이 추가 된 것을 볼 수 있다.</p><h2 id="tsconfigjson"><a class="markdownIt-Anchor" href="#tsconfigjson"></a> tsconfig.json</h2><p>typescript 를 javascript 로 컴파일하기 위해 기본 옵션을 설정해줘야한다.<br>root 에 <strong>tsconfig.json</strong> 파일을 만들자.</p><figure class="highlight json"><figcaption><span>tsconfig.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>target : javascript es5 버전으로 컴파일을 한다.</li><li>experimentalDecorators : 데코레이터 기능을 사용하기 위해 true 로 설정한다.</li><li>emitDecoratorMetadata : 데코레이터 기능을 사용하기 위해 true 로 설정한다.</li></ul><p>여기까지가 ng2 의 typescript 기본 설정이다.</p><h2 id="compile"><a class="markdownIt-Anchor" href="#compile"></a> compile</h2><p>아래 명령어를 실행한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ $(npm bin)/tsc --rootDir src --outDir dist</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/EZon2zR.png"><p>실행이 되고 dist 폴더 아래 typescript 가 javascript 로 컴파일된 게 보인다.<br>근데 아직까진 여러 오류가 보인다.<br>es6 의 기능을 사용할 수 없다는 오류인데 우리에겐 core-js 라이브러리가 있으니 typescript 에 core-js 를 사용하고 있다고 알려주자.</p><h2 id="typings"><a class="markdownIt-Anchor" href="#typings"></a> typings</h2><p>라이브러리를 사용하고 있다고 알려주기 위해선 typings 를 설치해야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev typings</span><br></pre></td></tr></table></figure><h2 id="core-js"><a class="markdownIt-Anchor" href="#core-js"></a> core-js</h2><p>core-js 에 type 이 들어간 interface 를 typings 로 추가한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ $(npm bin)/typings install --global --save dt~core-js</span><br></pre></td></tr></table></figure><p>typings 폴더와 typings.json 파일이 추가된 것을 확인할 수 있다.<br>다시 컴파일을 해보면 오류 없이 js 로 컴파일 된다.</p><h2 id="custom-scripts"><a class="markdownIt-Anchor" href="#custom-scripts"></a> custom scripts</h2><p>매번 $(npm bin)/… 명령어를 치기는 너무 귀찮다.<br>package.json 을 열어 명령어를 줄인 <strong>script</strong> 기능을 사용해보자.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;ng2-webpack-start&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.1.0&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;tsc --rootDir src --outDir dist&quot;,</span><br><span class="line">    &quot;postinstall&quot;: &quot;typings install&quot;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이렇게 추가하면 쉘에서 <strong>npm run build</strong> 명령어로 컴파일을 할 수 있다.<br>또한 postinstall 스크립트를 활성화하면 <strong>npm install</strong> 명령어 후에 바로 postinstall 명령어가 실행되어 한 번에 typings 모듈까지 설치를 할 수 있다.</p><p>…/dist/main.js 를 index.html 에 추가하고 브라우저에서 열어보자.</p><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hi Angular2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../dist/main.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>index.html 을 열면 아래와 같은 오류가 나온다.</p><img data-src="https://i.imgur.com/Tegv6Ec.png"><p>이 오류는 commonjs 환경이 아니여서 발생한다.</p><blockquote><p><strong>commonjs 는 무엇인가?</strong><br>nodejs 와 같이 require 함수를 사용해 javascript 를 가져오는(import) 환경을 말한다.</p></blockquote><p>해결하기 위해 Webpack 을 설치하자.</p><h1 id="webpack"><a class="markdownIt-Anchor" href="#webpack"></a> Webpack</h1><blockquote><p><strong>Webpack 은 무엇인가?</strong><br>내가 원하는 모든 파일을 하나의 javascript 파일로 불러올 수 있게 하는 모듈 번들러다.</p></blockquote><h2 id="설치-2"><a class="markdownIt-Anchor" href="#설치-2"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev webpack</span><br></pre></td></tr></table></figure><p>webpack 이 typescript 파일을 로드하기 위해선 typescript loader 모듈을 설치해줘야한다.</p><h2 id="typescript-loader"><a class="markdownIt-Anchor" href="#typescript-loader"></a> typescript-loader</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev awesome-typescript-loader</span><br></pre></td></tr></table></figure><p>설치 후에 tsconfig.json 파일을 열어 webpack 을 사용한다는 옵션을 줘야한다.</p><figure class="highlight json"><figcaption><span>tsconfig.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"awesomeTypescriptLoaderOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"useWebpackText"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h2><p>root 에 <strong>webpack.config.js</strong> 파일을 만들자.</p><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">"./src/main.ts"</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">"./dist"</span>),</span><br><span class="line">    filename: <span class="string">"app.bundle.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.ContextReplacementPlugin(</span><br><span class="line">      /angular(\\|\/)core(\\|\/)src(\\|\/)linker/,</span><br><span class="line">      path.resolve(__dirname, <span class="string">"./src"</span>),</span><br><span class="line">      &#123;&#125;</span><br><span class="line">    )</span><br><span class="line">  ],</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [&#123; <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>, <span class="attr">loaders</span>: [<span class="string">"awesome-typescript-loader"</span>] &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">".ts"</span>, <span class="string">".js"</span>],</span><br><span class="line">    modules: [path.resolve(__dirname, <span class="string">"node_modules"</span>)]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="설명-4"><a class="markdownIt-Anchor" href="#설명-4"></a> 설명</h3><ul><li>entry : 웹팩이 읽을 파일</li><li>output : 어디로 파일을 내보낼지</li><li>plugins : 어느 추가 플러그인을 사용할지</li><li>module : 파일을 가져오는데 어떤 모듈을 사용할지</li><li>resolve : 모듈을 어디서 찾을지</li></ul><p>plugins 에 angular 설정을 주지 않으면 오류가 발생한다.</p><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><p>package.json 에서 build script 를 변경한다.</p><figure class="highlight json"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"ng2-webpack-start"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"webpack --progress"</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>dist 폴더를 삭제한 뒤 빌드 스크립트를 실행한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 쉘에서</span></span><br><span class="line">$ rm -rf dist</span><br><span class="line"><span class="comment"># 터미널에서</span></span><br><span class="line">$ rmdir dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 빌드 실행</span></span><br><span class="line">$ npm run build</span><br></pre></td></tr></table></figure><p>dist/app.bundle.js 가 생성된 것을 확인할 수 있다.<br>index.html 에서 app.bundle.js 를 가져오게 추가한 뒤 실행해보자</p><img data-src="https://i.imgur.com/RjLYaXd.png"><h2 id="구조"><a class="markdownIt-Anchor" href="#구조"></a> 구조</h2><p>현재까지의 폴더 구조는 이렇다.</p><img data-src="https://i.imgur.com/mv0raPX.png"><h1 id="webpack-dev"><a class="markdownIt-Anchor" href="#webpack-dev"></a> webpack-dev</h1><p>매번 컴파일할 수 없으니 자동으로 컴파일이 되고 브라우저로 볼 수 있게 해보자.</p><h2 id="설치-3"><a class="markdownIt-Anchor" href="#설치-3"></a> 설치</h2><p><strong>webpack-dev-server</strong>와 <strong>html-webpack-plugin</strong>을 설치한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev webpack-dev-server</span><br><span class="line">$ npm install --save-dev html-webpack-plugin</span><br></pre></td></tr></table></figure><h2 id="html-webpack-plugin"><a class="markdownIt-Anchor" href="#html-webpack-plugin"></a> html-webpack-plugin</h2><p><strong>webpack.config.js</strong>에 html plugin 설정을 추가한다.</p><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// 여기를 추가</span></span><br><span class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    ...</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.ContextReplacementPlugin(</span><br><span class="line">            /angular(\\|\/)core(\\|\/)src(\\|\/)linker/,</span><br><span class="line">            path.resolve(__dirname, <span class="string">'./src'</span>),</span><br><span class="line">            &#123;&#125;</span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// 여기를 추가</span></span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">'./src/index.html'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>index.html 에서 스크립트 삽입부분을 지운다.</p><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hi Angular2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="webpack-dev-server"><a class="markdownIt-Anchor" href="#webpack-dev-server"></a> webpack-dev-server</h2><p>package.json 에 start 스크립트를 추가한다.</p><figure class="highlight"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"start": "webpack-dev-server --inline --progress"</span><br></pre></td></tr></table></figure><h2 id="실행-2"><a class="markdownIt-Anchor" href="#실행-2"></a> 실행</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 다시 빌드</span></span><br><span class="line">$ npm run build</span><br><span class="line"><span class="comment"># 서버 시작</span></span><br><span class="line">$ npm start</span><br></pre></td></tr></table></figure><p>다시 빌드하면 dist/index.html 이 생성되고 webpack 이 생성해준 script 가 자동으로 들어가 있는걸 확인할 수 있다.</p><figure class="highlight html"><figcaption><span>dist/index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hi Angular2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"app.bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>서버를 시작하고 <strong>localhost:8080/dist/index.html</strong> 로 접속해보자.</p><img data-src="https://i.imgur.com/9yDL8ZU.png"><p><strong>localhost:8080</strong>으로 접속해도 동일한 화면이 보인다.<br>이제 app.component.ts 에서 Hello World 구문을 조금 수정해보자.</p><p>바로 반영되어 브라우저에 보여지는 걸 확인할 수 있다.</p><img data-src="https://i.imgur.com/NRGPYPi.png"><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>이로써 ng2-webpack 기본틀이 완성되었습니다.</p><p><a href="https://github.com/gracefullight/ng2-webpack-start" target="_blank" rel="external nofollow noopener noreferrer">github</a>에서 통소스를 보실 수 있습니다.<br>css-loader, style-loader, file-loader, template-loader 등 webpack 에 로더 플러그인을 더 추가해야 실서비스에 사용할 수 있습니다.</p><p><a href="/2017/02/23/Angular2-with-angular-cli/">Angular2 with Angular-cli</a>로 이어집니다.</p><p>👏👏👏 고생하셨습니다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> angular </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cURL error 60 SSL certificate problem</title>
      <link href="/2017/02/02/cURL-SSL-certificate-problem/"/>
      <url>/2017/02/02/cURL-SSL-certificate-problem/</url>
      
        <content type="html"><![CDATA[<p>window localhost php 에서 cURL 함수 사용시<br>cURL error 60: SSL certificate problem…으로 시작하는 오류가 발생할 때가 있다.</p><img data-src="https://i.imgur.com/u6XZCfz.png"><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="키-다운로드"><a class="markdownIt-Anchor" href="#키-다운로드"></a> 키 다운로드</h2><p><a href="https://curl.haxx.se/ca/cacert.pem" target="_blank" rel="external nofollow noopener noreferrer">root certificate bundle</a>을 다운로드 받아 php 하위 경로로 넣어준다.</p><h2 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h2><p><strong>php.ini</strong>에서 키를 추가한다.</p><figure class="highlight ini"><figcaption><span>php.ini</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[curl]</span></span><br><span class="line"><span class="comment">; A default value for the CURLOPT_CAINFO option. This is required to be an</span></span><br><span class="line"><span class="comment">; absolute path.</span></span><br><span class="line"><span class="attr">curl.cainfo</span> = D:/php7/extras/ssl/cacert.pem</span><br></pre></td></tr></table></figure><h1 id="참조"><a class="markdownIt-Anchor" href="#참조"></a> 참조</h1><ul><li><a href="http://stackoverflow.com/questions/21114371/php-curl-error-code-60" target="_blank" rel="external nofollow noopener noreferrer">PHP cURL error code 60</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx for Windows - 3. Virtual Host</title>
      <link href="/2017/02/02/Nginx-for-Windows-with-VirtualHost/"/>
      <url>/2017/02/02/Nginx-for-Windows-with-VirtualHost/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/02/02/Nginx-for-Windows-with-PHP/">Nginx - 2. PHP 연동</a>에서 이어집니다.</p><h1 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h1><p><strong>conf\nginx.conf</strong> 파일에서 쉽게 추가가 가능하다.</p><figure class="highlight nginx"><figcaption><span>nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># 기존에 있던 default 설정</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 이렇게 server 구문을 하나 더 추가한다.</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">8000</span>;</span><br><span class="line">        <span class="comment"># 서버 주소</span></span><br><span class="line">        <span class="attribute">server_name</span>  local.test.com;</span><br><span class="line">        <span class="attribute">index</span> index.php;</span><br><span class="line">        <span class="comment"># 서버 경로</span></span><br><span class="line">        <span class="attribute">root</span>   D:/workspace/testphp/;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">try_files</span> <span class="variable">$uri</span> /index.php<span class="variable">$is_args</span><span class="variable">$args</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># php 사용을 개별로 추가해야한다.</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">            <span class="attribute">try_files</span> <span class="variable">$uri</span> =<span class="number">404</span>;</span><br><span class="line">            <span class="attribute">fastcgi_split_path_info</span><span class="regexp"> ^(.+\.php)(/.+)$</span>;</span><br><span class="line">            <span class="attribute">fastcgi_pass</span>   <span class="number">127.0.0.1:9123</span>;</span><br><span class="line">            <span class="attribute">fastcgi_index</span>  index.php;</span><br><span class="line">            <span class="attribute">fastcgi_param</span>  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">            <span class="attribute">include</span>        fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>위 소스는 index.php를 라우터로 사용하기 위해 설정되었으므로,<br>17, 22, 23줄의 구문은 없어도 된다.</p><h1 id="host-파일-수정"><a class="markdownIt-Anchor" href="#host-파일-수정"></a> Host 파일 수정</h1><p><a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-3-Virtual-Host-%EC%84%A4%EC%A0%95/">Apache Virtual Host 설정</a> 문서의 Host 파일 수정 메뉴를 따라 진행하면 된다.</p><h1 id="연동-확인"><a class="markdownIt-Anchor" href="#연동-확인"></a> 연동 확인</h1><p>nginx 서비스를 재시작하고 확인한다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx for Windows - 2. PHP 연동</title>
      <link href="/2017/02/02/Nginx-for-Windows-with-PHP/"/>
      <url>/2017/02/02/Nginx-for-Windows-with-PHP/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/02/01/Nginx-for-Windows/">Nginx 설치</a>에서 이어집니다.</p><p>Nginx를 설치했으니 PHP와 연동을 해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p><a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-2-PHP-%EC%84%A4%EC%B9%98/">이전 포스트</a>로 대체한다.<br>Apache버전은 상관이 없으니 x64 Thread Safe 버전으로 <strong>3번</strong>까지만 따라서 설치하면된다.</p><h1 id="연동"><a class="markdownIt-Anchor" href="#연동"></a> 연동</h1><h2 id="nginx-설정"><a class="markdownIt-Anchor" href="#nginx-설정"></a> nginx 설정</h2><p>Nginx 폴더에서 <strong>conf/nginx.conf</strong>를 수정한다.</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># index.php를 추가</span></span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm index.php;</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment"># 이 부분 주석을 모두 제거해준다.</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">            <span class="attribute">root</span>           html;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># nginx에서 9123포트를 추천한다.</span></span><br><span class="line">            <span class="attribute">fastcgi_pass</span>   <span class="number">127.0.0.1:9123</span>;</span><br><span class="line">            <span class="attribute">fastcgi_index</span>  index.php;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># SCIPRT를 $document_root 로 변경</span></span><br><span class="line">            <span class="attribute">fastcgi_param</span>  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">            <span class="attribute">include</span>        fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="php-cgi-설정"><a class="markdownIt-Anchor" href="#php-cgi-설정"></a> php-cgi 설정</h2><p>nssm을 사용하는 방법과 배치 파일을 만드는 방법이 있는데 전자를 추천한다.<br>bat 파일은 nginx restart를 할 때마다 따로 실행해줘야한다.</p><blockquote><p>다른 포스팅에는 php-cgi 서비를 cmd에서 sc create 명령어를 사용하여 등록하는 부분이 있는데 windows10 환경에서 서비스가 1053 오류를 뱉으며 죽는다.<br>시간 낭비하지 말자.</p></blockquote><h3 id="nssm"><a class="markdownIt-Anchor" href="#nssm"></a> nssm</h3><p>nginx에 지난 스텝에서 설치한 nssm을 사용한다.<br>nginx\nssm\win64 폴더로 이동해 php 등록 커맨드를 입력한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nssm.exe install php</span><br></pre></td></tr></table></figure><p><strong>php-cgi 경로를 선택</strong>한 뒤 아래 <strong>명령어를 Arguments 필드</strong>에 넣어준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 경로를 알맞게 수정해주자.</span></span><br><span class="line">D:\php7\php-cgi.exe -b 127.0.0.1:9123 -c D:\php7\php.ini</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/oDSsu4M.png"><p>서비스를 실행한다.</p><img data-src="https://i.imgur.com/tWY4j65.png"><blockquote><p><strong>실행이 안되는 경우</strong><br>arguments에 앞의 경로를 제거하고 <strong>-b 127.0.0.1:9123 -c D:\php7\php.ini</strong> 만 입력해준다.</p></blockquote><h3 id="bat"><a class="markdownIt-Anchor" href="#bat"></a> bat</h3><p>배치 파일을 만들어 nginx가 실행 되기전만 php-cgi를 킬 수도 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ECHO OFF</span><br><span class="line">ECHO Starting PHP CGI...</span><br><span class="line"><span class="built_in">set</span> PATH=D:\php7;%PATH%</span><br><span class="line">D:\php7\php-cgi.exe -b 127.0.0.1:9123 -c D:\php7\php.ini</span><br></pre></td></tr></table></figure><p>위 소스의 경로를 알맞게 수정한 뒤 <strong>start-php-cgi.bat으로 저장</strong> 후 실행한다.</p><h1 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h1><p>**nginx\html\**에 <strong>index.php</strong>를 만든다.</p><figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">phpinfo();</span><br></pre></td></tr></table></figure><p>localhost:88/index.php로 접속한다.</p><img data-src="https://i.imgur.com/qka7WAd.png"><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><a href="https://kevinworthington.com/nginx-for-windows/" target="_blank" rel="external nofollow noopener noreferrer">한 방에 설치</a>하는 방법도 있지만 현재 버전까지는 C:\말고 D:\에 php를 설치한 사람에 대한 배려는 없다. (bat 파일을 건드려봐도 dll 안에 로깅하는 부분에서 오류 발생)</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx for Windows - 1. Setup</title>
      <link href="/2017/02/01/Nginx-for-Windows/"/>
      <url>/2017/02/01/Nginx-for-Windows/</url>
      
        <content type="html"><![CDATA[<p>Windows에서 Nginx로 로컬 웹서버를 돌려보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="다운로드"><a class="markdownIt-Anchor" href="#다운로드"></a> 다운로드</h2><p><a href="https://nginx.org/en/download.html" target="_blank" rel="external nofollow noopener noreferrer">Nginx 홈페이지</a>에서 Windows 버전을 다운로드 받는다.</p><img data-src="https://i.imgur.com/jAa4K3q.png"><p>압축을 풀어 원하는 위치(D:\nginx)로 옮겨주자</p><h2 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h2><p>apache, iis가 중복이 된다면 <strong>conf/nginx.conf</strong> 파일을 열어 포트 설정을 바꿔준다.</p><figure class="highlight nginx"><figcaption><span>nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">88</span>; <span class="comment"># 여기를 수정해주자.</span></span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><p>nginx.exe를 <strong>더블 클릭</strong>한다.</p><h1 id="서비스-등록"><a class="markdownIt-Anchor" href="#서비스-등록"></a> 서비스 등록</h1><p>실행은 되었지만 서비스를 등록해야 자동으로 실행되고 on/off를 관리하기가 쉽다.<br>다른 포스트에 있는 github의 2011년 엔진엑스 서비스 등록 소스는 찾아봐도 없길래 새로운 방법으로 등록한다.</p><h2 id="nssm"><a class="markdownIt-Anchor" href="#nssm"></a> nssm</h2><p><a href="https://nssm.cc/download" target="_blank" rel="external nofollow noopener noreferrer">nssm</a>에서 서비스 등록 프로그램을 다운받는다.</p><img data-src="https://i.imgur.com/GZ2lJwN.png"><p>압축을 풀어주고(D:\nginx\nssm-2.24) 자신의 windows bit에 맞는 폴더에서 <strong>nssm.exe</strong>를 커맨드로 실행하면 된다.</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./nssm.exe install nginx</span><br></pre></td></tr></table></figure><p>nginx 경로를 잡아주고 <strong>Install Service</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/l5qXzJn.png"><h2 id="실행-2"><a class="markdownIt-Anchor" href="#실행-2"></a> 실행</h2><p><strong>services.msc</strong>를 실행해 서비스 창을 열어 nginx를 실행한다.</p><img data-src="https://i.imgur.com/KirkgSs.png"><h1 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h1><img data-src="https://i.imgur.com/v9k90wt.png"><p><a href="/2017/02/02/Nginx-for-Windows-with-PHP/">Nginx - 2. PHP 연동</a>으로 이어집니다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>전자계산기 구조 정리</title>
      <link href="/2017/01/29/%EC%A0%84%EC%9E%90%EA%B3%84%EC%82%B0%EA%B8%B0-%EA%B5%AC%EC%A1%B0-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/01/29/%EC%A0%84%EC%9E%90%EA%B3%84%EC%82%B0%EA%B8%B0-%EA%B5%AC%EC%A1%B0-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="불-대수"><a class="markdownIt-Anchor" href="#불-대수"></a> 불 대수</h1><ul><li>영국 수학자 불에 의해 개발</li><li>AND : 입력 값이 모두 1일 때 1 출력</li><li>OR : 입력 값이 하나라도 1일 때 1 출력</li><li>NOT : 부정</li></ul><h2 id="기본-공식"><a class="markdownIt-Anchor" href="#기본-공식"></a> 기본 공식</h2><ul><li><strong>합의 곱을 곱의 합으로 변환</strong></li><li>분배법칙 예외 : A ＋(B×C) = (A ＋ B)(B ＋ C)</li><li>드모르강<ul><li>(A ＋ B)` = A`×B`</li><li>(A×B)` = A`＋ B`</li></ul></li><li>멱등<ul><li>A ＋ A = A</li><li>A×A = A</li></ul></li><li>보수<ul><li>A ＋ A` = 1</li><li>A×A` = 0</li></ul></li><li>항등<ul><li>A ＋ 0 = A</li><li>A ＋ 1 = 1</li><li>A×0 = 0</li><li>A×1 = A</li></ul></li><li>콘센서스<ul><li>AB ＋ BC ＋ CA` = AB ＋ CA`</li><li>(A ＋ B)(B ＋ C)(C ＋ A`) = (A ＋ B)(C ＋ A`)</li></ul></li><li>복원 : A`` = A</li><li>기타<ul><li>A ＋ A`B = A ＋ B</li><li>A ＋ AB = A</li></ul></li></ul><h2 id="카르노-맵"><a class="markdownIt-Anchor" href="#카르노-맵"></a> 카르노 맵</h2><ul><li>설계된 논리식을 도표로 표현하여 최소화 하는 방법</li><li>Karnaugh map = K-map = 카노맵</li></ul><p><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/K-map_6%2C8%2C9%2C10%2C11%2C12%2C13%2C14.svg/275px-K-map_6%2C8%2C9%2C10%2C11%2C12%2C13%2C14.svg.png" alt="카르노 맵"><br>AB와 CD의 위치를 바꾸어 계산하는게 쉽다.</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>00</strong></td><td style="text-align:center"><strong>01</strong></td><td style="text-align:center"><strong>11</strong></td><td style="text-align:center"><strong>10</strong></td></tr><tr><td style="text-align:center"><strong>00</strong></td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center"><strong>01</strong></td><td style="text-align:center">4</td><td style="text-align:center">5</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center"><strong>11</strong></td><td style="text-align:center">12</td><td style="text-align:center">13</td><td style="text-align:center">15</td></tr><tr><td style="text-align:center"><strong>10</strong></td><td style="text-align:center">8</td><td style="text-align:center">9</td><td style="text-align:center">11</td></tr></tbody></table><h1 id="논리-게이트"><a class="markdownIt-Anchor" href="#논리-게이트"></a> 논리 게이트</h1><ul><li>BUFFER : 입력된 정보를 그대로 출력</li><li>NAND : NOT + AND</li><li>NOR : NOT + OR</li><li>XOR : 입력이 같으면 0, 다르면 1<ul><li>X = A⊕B</li><li>X = A`B + AB`</li><li>X = (A + B)(A` + B`)</li></ul></li><li>XNOR : NOT + XOR<ul><li>X = A⊙B</li><li>X = (A⊕B)`</li><li>X = AB + A`B`</li></ul></li></ul><h1 id="조합논리회로"><a class="markdownIt-Anchor" href="#조합논리회로"></a> 조합논리회로</h1><p>반가산기, 전가산기, 병렬가산기, 반감산기, 전감산기, 디코더, 인코더, 멀티플렉서, 디멀티플렉서, 다수결회로, 비교기 등</p><h2 id="반가산기"><a class="markdownIt-Anchor" href="#반가산기"></a> 반가산기</h2><p>2진수 두 개를 더한 합과 자리올림수를 구하는 조합논리회로</p><ul><li>합은 S, 자리올림(캐리)는 C</li><li>C = AB</li><li>S = A`B + AB` = A⊕B</li></ul><h2 id="전가산기"><a class="markdownIt-Anchor" href="#전가산기"></a> 전가산기</h2><p>1bit 2진수 3자리를 더하여 합과 자리올림수를 구하는 조합논리회로</p><ul><li>두 개의 반가산기와 한 개의 OR GATE로 구성</li><li>합은 S, 자리올림(캐리)는 C</li><li>C = (A⊕B)C + AB</li><li>S = (A⊕B)⊕C</li><li>3 × 8 디코더 1개 + 4 입력 OR 게이트 2개로 구성가능</li></ul><h2 id="병렬가산기"><a class="markdownIt-Anchor" href="#병렬가산기"></a> 병렬가산기</h2><p>n bit로 된 2진수 A, B에 대한 덧셈을 n개의 전가산기를 이용하여 구현한 실질적인 가산기</p><ul><li>전파지연을 줄이기 위해 Carry Look Ahead 사용</li><li>전파지연 : ALU Path에서 가장 긴 Delay</li></ul><h2 id="반감산기"><a class="markdownIt-Anchor" href="#반감산기"></a> 반감산기</h2><p>1bit 2진수 2자리에 대한 감산을 하는 조합논리회로</p><ul><li>차는 D, 빌려온 수는 B</li><li>B = A`B</li><li>D = A`B + A`B = A⊕B</li><li>2 × 4 디코더 1개 + 3 입력 OR 게이트 1개로 구성가능</li></ul><h2 id="디코더"><a class="markdownIt-Anchor" href="#디코더"></a> 디코더</h2><p>n bit의 코드화된 정보를 그 코드의 각 bit 조합에 따라 2^n개의 출력으로 번역하는 조합논리회로</p><ul><li><strong>n개의 입력을 2^n개의 출력으로</strong></li><li>명령어의 명령부나 번지를 해독할 때 사용</li><li>주로 AND 게이트로 구성</li><li>부호화된 데이터에서 정보를 찾아냄</li><li>n × 2^n 디코더의 AND 게이트 수 : 2^n 개<ul><li>5 × 8 디코더 : 8개</li></ul></li></ul><h2 id="인코더"><a class="markdownIt-Anchor" href="#인코더"></a> 인코더</h2><p>2^n개의 입력선으로 입력된 값을 n개의 출력선으로 코드화해서 출력하는 조합논리회로</p><ul><li><strong>2^n개의 입력을 n개의 출력으로</strong><ul><li>16개의 입력선일 경우 4개의 출력선 필요 (2^4)</li></ul></li></ul><h2 id="멀티플렉서"><a class="markdownIt-Anchor" href="#멀티플렉서"></a> 멀티플렉서</h2><p>2^n개의 입력선 중 1개를 <strong>선택</strong>하여 그 선에서 입력되는 값을 1개의 출력선으로 출력하는 조합논리회로</p><ul><li>2^n개의 입력선 중 1개의 선을 선택하기 위해 <strong>n개의 선택선 이용</strong><ul><li>16개의 입력선일 경우 4개의 선택선 필요 (2^4)</li><li><strong>출력선은 하나</strong></li></ul></li></ul><h2 id="디멀티플렉서"><a class="markdownIt-Anchor" href="#디멀티플렉서"></a> 디멀티플렉서</h2><p>1개의 입력선으로 들어오는 데이터를 2^n개의 출력선 중 1개를 선택하여 출력하는 회로</p><ul><li>2^n개의 출력선 중 1개의 선을 선택하기 위해 <strong>n개의 선택선 이용</strong></li><li>16개의 출력선일 경우 4개의 선택선 필요 (2^4)</li><li><strong>입력선은 하나</strong></li></ul><h1 id="순서논리회로"><a class="markdownIt-Anchor" href="#순서논리회로"></a> 순서논리회로</h1><ul><li>외부의 입력과 현재 상태에 따라 출력이 결정</li><li>논리 게이트 외에 메모리 요소와 피드백 기능을 포함</li><li>기억기능 존재</li><li>출력이 일정한 값을 갖지 않음</li><li><strong>플리플롭과 논리 게이트로 구성</strong></li><li>동기식과 비동기식으로 나뉨</li><li><strong>플리플롭, 카운터, 레지스터, RAM, CPU</strong> 등</li></ul><h2 id="플리플롭"><a class="markdownIt-Anchor" href="#플리플롭"></a> 플리플롭</h2><ul><li>전원이 공급되는한 상태의 변화를 위한 외부신호가 발생할 때까지 현재의 상태를 그대로 유지하는 논리회로</li><li>레지스터, 카운터, 반도체메모리(RAM)의 기본 구성요소</li><li>2진수 1bit를 저장 가능</li><li>두 개의 NAND 또는 두 개의 NOR 게이트를 이용하여 구성</li></ul><h3 id="특성표"><a class="markdownIt-Anchor" href="#특성표"></a> 특성표</h3><p>순서논리회로의 기능을 나타내는 표로 입력선의 값에 따라 현재 상태가 다음 상태로 어떻게 변하여 저장되는지를 나타낸다.</p><h3 id="여기표"><a class="markdownIt-Anchor" href="#여기표"></a> 여기표</h3><p>특성표 대신 순서논리회로의 기능을 표로 나타낸 것, 현재 상태 값을 새로운 값으로 변경시키려면 입력선으로 어떤 값을 입력해야 하는가를 나타낸다.<br>출력을 이용하여 입력을 알아내는 것.</p><h3 id="rs-플립플롭"><a class="markdownIt-Anchor" href="#rs-플립플롭"></a> RS 플립플롭</h3><ul><li>Reset-Set FF</li><li>특성표</li></ul><table><thead><tr><th style="text-align:center">S</th><th style="text-align:center">R</th><th style="text-align:center">Q</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">無</td></tr><tr><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">不可</td></tr></tbody></table><ul><li>여기표는 특성표를 떠올리면 구할 수 있다.</li></ul><h3 id="d-플립플롭"><a class="markdownIt-Anchor" href="#d-플립플롭"></a> D 플립플롭</h3><ul><li>RS 플리플롭의 R선에 인버터(NOT 연산자)를 추가하여 S선과 하나로 묶어서 입력선을 하나만 구성한 플립플롭</li><li>입력값을 그대로 저장하는 기능을 수행</li><li>특성표</li></ul><table><thead><tr><th style="text-align:center">D</th><th style="text-align:center">Q</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">1</td></tr></tbody></table><h3 id="jk-플립플롭"><a class="markdownIt-Anchor" href="#jk-플립플롭"></a> JK 플립플롭</h3><ul><li>RS에서 S=1, R=1일 때 동작하지 않는 점을 보완한 플립플롭</li><li>RS 플립플롭의 입력선 S와 R에 <strong>AND 게이트 2개</strong>를 추가하여 JK 플립플롭의 입력선 J와 K로 사용한다.</li><li>모든 플립플롭의 기능을 포함한다.</li><li>플립플롭의 네가지 기능을 모두 갖춘 것을 찾으라는 문제가 나오면 RS가 있으면 RS, JK가 있으면 JK</li><li>특성표</li></ul><table><thead><tr><th style="text-align:center">S</th><th style="text-align:center">R</th><th style="text-align:center">Q</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">無</td></tr><tr><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">보수</td></tr></tbody></table><ul><li>여기표는 특성표를 떠올리면 구할 수 있다.</li></ul><h3 id="t-플립플롭"><a class="markdownIt-Anchor" href="#t-플립플롭"></a> T 플립플롭</h3><ul><li>JK 플립플롭의 두 입력선을 묶어서 한 개의 입력선으로 구성한 플립플롭</li><li>T=1인 경우 현재 상태를 토글한다. <strong>보수가 출력</strong>된다.</li><li>카운터에 이용</li></ul><table><thead><tr><th style="text-align:center">T</th><th style="text-align:center">Q</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">無</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">보수</td></tr></tbody></table><h3 id="ms-플립플롭"><a class="markdownIt-Anchor" href="#ms-플립플롭"></a> M/S 플립플롭</h3><ul><li>마스터-슬레이브 플립플롭</li><li>출력 측의 일부가 입력 측에 피드백되어 유발되는 레이스 현상을 없애기 위해 고안된 플립플롭</li><li>두 개의 플립플롭으로 구성</li><li>레이스 현상 : 입력이 되는 조합회로의 출력을 플리플롭이 받는 동안 플리플롭의 내부 상태가 변하고 있으면 그 상태값이 피드백통로를 통해 조합회로로 전달되므로 회로가 불안정해지는 현상</li></ul><h1 id="자료-구성-단위"><a class="markdownIt-Anchor" href="#자료-구성-단위"></a> 자료 구성 단위</h1><h2 id="비트"><a class="markdownIt-Anchor" href="#비트"></a> 비트</h2><ul><li>자료, 정보 표현의 최소 단위</li><li>0과 1을 표시하는 2진수 1자리</li></ul><h2 id="니블"><a class="markdownIt-Anchor" href="#니블"></a> 니블</h2><ul><li>4bit가 모여 구성</li><li>16진수 1자리를 표현하기에 적합</li></ul><h2 id="바이트"><a class="markdownIt-Anchor" href="#바이트"></a> 바이트</h2><ul><li><strong>문자를 표현하는 최소 단위</strong></li><li>8bit가 모여 1Byte</li><li>1Byte는 256가지의 정보를 표현(2^8bit)</li><li>Alphanumeric은 1Byte, 한글한자는 2Byte</li><li>KB = 2의 10승, MB = 2의 20승…</li></ul><h2 id="워드"><a class="markdownIt-Anchor" href="#워드"></a> 워드</h2><ul><li>컴퓨터가 한 번에 처리할 수 있는 명령 단위</li><li><strong>전워드 : 4Byte</strong> (full word)</li><li>하프워드 : 2Byte (반워드)</li><li>더블워드 : 8Byte</li></ul><h2 id="필드"><a class="markdownIt-Anchor" href="#필드"></a> 필드</h2><ul><li>파일 구성의 최소 단위</li><li>의미 있는 정보를 표현하는 최소 단위</li></ul><h2 id="레코드"><a class="markdownIt-Anchor" href="#레코드"></a> 레코드</h2><ul><li>하나 이상의 관련된 필드가 모여서 구성</li><li>컴퓨터 내부 자료 처리 단위</li><li><strong>논리 레코드</strong>를 의미</li></ul><h2 id="블록"><a class="markdownIt-Anchor" href="#블록"></a> 블록</h2><ul><li><strong>물리 레코드</strong></li><li>하나 이상의 논리 레코드가 모여서 구성</li><li>각종 저장 매체와의 입출력 단위를 의미</li></ul><h2 id="파일"><a class="markdownIt-Anchor" href="#파일"></a> 파일</h2><ul><li>프로그램 구성의 기본 단위</li><li>같은 종류의 여러 레코드가 모여서 구성</li></ul><h2 id="데이터베이스"><a class="markdownIt-Anchor" href="#데이터베이스"></a> 데이터베이스</h2><ul><li>여러 개의 관련된 파일의 집합</li><li>관계형, 계층형, 망형 DB</li></ul><h1 id="진법"><a class="markdownIt-Anchor" href="#진법"></a> 진법</h1><h2 id="2진수"><a class="markdownIt-Anchor" href="#2진수"></a> 2진수</h2><p>정수는 나누고 소숫점은 곱하고</p><h2 id="8진수"><a class="markdownIt-Anchor" href="#8진수"></a> 8진수</h2><p>2진수를 구하고 3자리씩 묶고</p><h2 id="16진수"><a class="markdownIt-Anchor" href="#16진수"></a> 16진수</h2><p>2진수를 구하고 4자리씩 묶고</p><h1 id="보수"><a class="markdownIt-Anchor" href="#보수"></a> 보수</h1><ul><li>덧셈회로를 이용하여 뺄셈을 수행하기 위해 사용</li><li>1의 보수 : 그냥 반전</li><li>2의 보수<ul><li>1의 보수를 구한 뒤 1을 더함</li><li>뒤에서부터 1이 나올때까지는 그냥쓰고 나머지는 반전</li></ul></li></ul><h2 id="뺄셈"><a class="markdownIt-Anchor" href="#뺄셈"></a> 뺄셈</h2><ul><li>1의 보수 이용 : 자리올림이 발생하면 결과에 자리올림수를 더한다.</li><li>2의 보수 이용 : 자리올림이 발생하면 버린다.</li></ul><h1 id="고정-소수점"><a class="markdownIt-Anchor" href="#고정-소수점"></a> 고정 소수점</h1><p>정수 데이터 표현 및 연산에 사용하는 방법</p><h2 id="2진연산"><a class="markdownIt-Anchor" href="#2진연산"></a> 2진연산</h2><ul><li>정수값을 2진수로 변환하여 표현하는 방식</li><li>표현할 수 있는 범위가 작음</li><li>연산속도 빠름</li><li>맨처음 1bit는 부호비트로 사용</li></ul><h3 id="음수연산"><a class="markdownIt-Anchor" href="#음수연산"></a> 음수연산</h3><ul><li>부호화 절대치법 : 양수 표현에 대해 부호비트만 바꾼다.</li><li>부호화 1의 보수법 : 양수 표현에 대해 1의 보수를 구한다.</li><li>부호화 2의 보수법 : 양수 표현에 대해 2의 보수를 구한다.<ul><li>1의 보수 표현법에 비해 음수 1개를 더 표현할 수 있다.</li><li>자리올림을 무시하므로 1의 보수 표현에 비해 연산이 간단하다.</li><li>0이 하나만 존재한다.</li></ul></li></ul><blockquote><p><strong>부호화 2진 표현을 10진수로 변경시</strong></p><ol><li>부호 비트를 빼고 2의 보수 연산</li><li>부호를 대입</li></ol></blockquote><h2 id="10진연산"><a class="markdownIt-Anchor" href="#10진연산"></a> 10진연산</h2><h3 id="언팩연산"><a class="markdownIt-Anchor" href="#언팩연산"></a> 언팩연산</h3><ul><li>존형 10진연산 = Zone Decimal</li><li><strong>연산이 불가능</strong>하다.</li><li><strong>데이터 입출력에 사용</strong></li><li>1Byte로 10진수 1자리를 표현</li><li>4개의 존 비트와 4개의 숫자 비트를 사용</li><li><strong>최하위 바이트의 존 부분을 부호로 사용</strong></li><li>Zone = F, Digit = 4Bit 2진수</li><li>Sign = 양수 C, 음수 D, 부호 없는 양수 F</li></ul><h3 id="팩연산"><a class="markdownIt-Anchor" href="#팩연산"></a> 팩연산</h3><ul><li><strong>연산이 가능</strong></li><li><strong>데이터 입출력 불가능</strong></li><li>1Byte로 10진수 2자리를 표현</li><li><strong>최하위 바이트의 마지막 4Bit를 부호로 사용</strong></li><li>Digit = 4Bit 2진수</li><li>Sign = 양수 C, 음수 D, 부호 없는 양수 F</li></ul><h1 id="부동소수점"><a class="markdownIt-Anchor" href="#부동소수점"></a> 부동소수점</h1><ul><li>매우 크거나 작은 수, 매우 정밀한 수를 적은 비트로 표현 가능</li><li>연산시간이 느림</li><li>부동 소수점의 연산 수행횟수를 FLOPS로 표시<ul><li><strong>FLOPS</strong> : FLoating point Operations Per Second, 컴퓨터 연산속도의 단위</li></ul></li><li>지수부와 가수부를 분리하는 <strong>정규화</strong> 과정 필요<br><strong>정규화</strong> : 0.1 &lt;= 가수부분 &lt; 1 을 만족시키게 변경</li><li>4Byte를 사용하는 단정도와 8Byte를 사용하는 배정도 표현법</li><li>지수부에는 정규화해서 분리한 지수값을 <strong>64Bias</strong>법으로 표현<ul><li>64Bias : 지수 7Bit에 100 0000이 입력되어 있고 2^n의 n만큼을 더하고 뺴서 지수를 표현하는 방식</li></ul></li></ul><h2 id="ieee-표준"><a class="markdownIt-Anchor" href="#ieee-표준"></a> IEEE 표준</h2><ul><li>IEEE 754 표준</li><li>정규화시 가수부가 1이되게 정규화</li><li><strong>127Bais</strong>를 사용해 지수 8Bit에 0111 1111이 들어있음</li></ul><table><thead><tr><th style="text-align:center">구분</th><th style="text-align:center">크기</th><th style="text-align:center">부호</th><th style="text-align:center">지수</th><th style="text-align:center">가수</th></tr></thead><tbody><tr><td style="text-align:center">single</td><td style="text-align:center"><strong>32</strong></td><td style="text-align:center">1</td><td style="text-align:center"><strong>8</strong></td><td style="text-align:center">23</td></tr><tr><td style="text-align:center">double</td><td style="text-align:center"><strong>64</strong></td><td style="text-align:center">1</td><td style="text-align:center"><strong>11</strong></td><td style="text-align:center">52</td></tr><tr><td style="text-align:center">extended</td><td style="text-align:center">80</td><td style="text-align:center">1</td><td style="text-align:center">11</td><td style="text-align:center">68</td></tr></tbody></table><h2 id="연산"><a class="markdownIt-Anchor" href="#연산"></a> 연산</h2><h3 id="덧셈-및-뺄셈"><a class="markdownIt-Anchor" href="#덧셈-및-뺄셈"></a> 덧셈 및 뺄셈</h3><ol><li>0인지 확인</li><li>지수가 큰쪽에 수를 맞추어 정규화</li><li>연산</li><li>결과 정규화</li></ol><h3 id="곱셈"><a class="markdownIt-Anchor" href="#곱셈"></a> 곱셈</h3><ol><li>0인지 확인</li><li>지수 덧셈</li><li>가수 곱셈</li><li>결과 정규화</li></ol><h3 id="나눗셈"><a class="markdownIt-Anchor" href="#나눗셈"></a> 나눗셈</h3><ol><li>0인지 확인</li><li>레지스터 초기화</li><li>부호 결정</li><li>나눠지는 수가 나누는 수보다 작게 나눠지는 수를 정규화</li><li>지수 뺄셈</li><li>가수 나눗셈</li></ol><h1 id="자료-표현"><a class="markdownIt-Anchor" href="#자료-표현"></a> 자료 표현</h1><h2 id="bcd"><a class="markdownIt-Anchor" href="#bcd"></a> BCD</h2><ul><li>2진화 10진코드 = Binary Coded Decimal</li><li>6Bit 코드로 IBM에서 개발</li><li>1개의 문자를 2개의 Zone Bit와 4개의 Digit Bit로 표현</li><li>6Bit이므로 64개 문자 표현 가능</li><li>1Bit의 Parity Bit를 추가해 <strong>7Bit로 사용</strong></li><li><strong>영소문자 표현 불가</strong></li></ul><h2 id="ascii"><a class="markdownIt-Anchor" href="#ascii"></a> ASCII</h2><ul><li>American Standard Code for Information Interchange</li><li>7Bit 코드로 미국 표준협회에서 개발</li><li>7Bit이므로 128개의 문자 표현 가능</li><li>1Bit의 Parity Bit를 추가해 <strong>8Bit로 사용</strong></li><li><strong>영대소문자, 숫자, 제어문자, 특수문자 등 표현 가능</strong></li><li>통신 제어용 및 마이크로 컴퓨터의 기본코드로 사용</li></ul><h2 id="ebcdic"><a class="markdownIt-Anchor" href="#ebcdic"></a> EBCDIC</h2><ul><li>8Bit 코드로 IBM에서 개발</li><li>1개의 문자를 4개의 Zone Bit와 4개의 Digit Bit로 표현</li><li>8Bit이므로 256개의 문자 표현 가능</li><li>1Bit의 Parity Bit를 추가해 <strong>9Bit로 사용</strong></li><li><strong>특수문자, 영대소문자, 숫자 등 표현 가능</strong></li></ul><h2 id="bcd-코드"><a class="markdownIt-Anchor" href="#bcd-코드"></a> BCD 코드</h2><ul><li>10진수 1자리를 2진수 4Bit로 표현</li><li><strong>8421 코드</strong></li><li><strong>가중치 코드</strong><ul><li>2진수 각 자리가 고유한 값을 가지는 코드</li></ul></li><li>BCD에서 Zone을 생략한 형태</li><li>10진수 입출력이 간편</li></ul><h2 id="excess3-코드"><a class="markdownIt-Anchor" href="#excess3-코드"></a> Excess3 코드</h2><ul><li>BCD 코드에 3을 더하여 만든 코드</li><li>모든 비트가 동시에 0이 되는 경우가 없다.</li><li><strong>3 초과 코드</strong></li><li><strong>자기보수 코드</strong></li><li><strong>비가중치 코드</strong></li><li>10진수를 표현하기 위함이다.</li><li>보수를 구하기 편해 산술연산에 좋다.</li></ul><h2 id="gray-코드"><a class="markdownIt-Anchor" href="#gray-코드"></a> Gray 코드</h2><ul><li>BCD 코드의 인접하는 Bit를 XOR 연산하여 만든 코드</li><li>코드 변환이 용이</li><li>입출력장치, A/D변환기, 주변장치 등에서 숫자를 표현할 때 사용</li><li>1Bit만 변화시켜 다음 수치로 증가시키기 때문에 하드웨어 오류가 적다.</li><li>2진수를 Gray로 변경시 : n자 모양으로 연산<ul><li>첫번째 그레이 비트는 2진수 첫번째 비트 그대로</li><li>2진수 비트를 앞뒤로 XOR 연산</li></ul></li><li>Gray를 2진수로 변경시 : h자 모양으로 연산<ul><li>첫번째 2진수는 그레이 비트 그대로</li><li>두번째부턴 왼쪽 변경된 2진수와 변경할 우측 그레이 비트를 XOR 연산</li></ul></li></ul><h2 id="패리티-코드"><a class="markdownIt-Anchor" href="#패리티-코드"></a> 패리티 코드</h2><ul><li>전송된 코드의 오류를 검사하기 위해 데이터 비트 외에 1Bit의 패리티 체크 비트를 추가하는 것</li><li>1Bit의 오류만 검출 가능</li></ul><h3 id="홀수-패리티"><a class="markdownIt-Anchor" href="#홀수-패리티"></a> 홀수 패리티</h3><ul><li>Odd Parity = 기수 패리티</li><li>1의 갯수가 홀수가 되도록 0이나 1을 마지막에 추가</li></ul><h3 id="짝수-패리티"><a class="markdownIt-Anchor" href="#짝수-패리티"></a> 짝수 패리티</h3><ul><li>Even Parity = 우수 패리티</li><li>1의 갯수가 짝수가 되도록 0이나 1을 마지막에 추가</li></ul><h2 id="해밍-코드"><a class="markdownIt-Anchor" href="#해밍-코드"></a> 해밍 코드</h2><ul><li>오류를 검출하고 교정이 가능한 코드</li><li>2Bit의 오류를 검출할 수 있고 1Bit를 교정 가능</li><li>잉여비트가 많이 필요</li><li>1, 2, 4, 8, … <strong>2^n번째 Bit는 오류 검출을 위한 패리티 비트</strong></li><li>패리티 비트 결정시<ul><li>1번 Bit는 1, 3, 5, 7…</li><li>2번 Bit는 2, 3, 6, 7, 10, 11… 2Bit씩 건너 뛰면서</li><li>4번 Bit는 4, 5, 6, 7, 12, 13, 14, 15… 4Bit씩 건너 뛰면서</li></ul></li></ul><h2 id="코드-분류"><a class="markdownIt-Anchor" href="#코드-분류"></a> 코드 분류</h2><p>가중치코드는 일반적으로 숫자로 이루어져 있다.</p><table><thead><tr><th style="text-align:center">분류</th><th style="text-align:center">코드종류</th></tr></thead><tbody><tr><td style="text-align:center">가중치</td><td style="text-align:center">BCD(8421), 2421, 84-2-1, Biquinary, 51111, RingCounter</td></tr><tr><td style="text-align:center">비가중치</td><td style="text-align:center">3초과(Excess3), Gray, Jonson, 2outof5, 3outof5</td></tr><tr><td style="text-align:center">자기보수</td><td style="text-align:center">3초과(Excess3), 2421, 51111, 84-2-1</td></tr><tr><td style="text-align:center">오류검출</td><td style="text-align:center">해밍, 패리티, Biquinary, RingCounter, 2outof5, 3outof5</td></tr></tbody></table><h1 id="중앙처리장치"><a class="markdownIt-Anchor" href="#중앙처리장치"></a> 중앙처리장치</h1><p><strong>제어장치, 연산장치, 레지스터, 버스</strong>로 구성</p><h2 id="제어장치"><a class="markdownIt-Anchor" href="#제어장치"></a> 제어장치</h2><ul><li>컴퓨터의 모든 장치에 대한 동작을 지시하고 제어</li><li>명령 레지스터에서 읽어들인 명령어를 해독해 장치에 제어신호를 보내 명령을 수행하도록 지시</li><li>제어장치에 입력되는 항목<ul><li>명령어 레지스터</li><li>플래그</li><li>클록</li></ul></li></ul><h3 id="구성요소"><a class="markdownIt-Anchor" href="#구성요소"></a> 구성요소</h3><ul><li>명령 레지스터 : 현재 실행중인 명령어 내용 기억</li><li>명령 해독기(디코더) : 명령 레지스터에 있는 명령어를 해독</li><li>제어 발생기(인코더) : 해독된 명령에 따라 각 장치로 본래 제어 신호 생성</li><li>제어 주소 레지스터(CAR) : 다음에 실행할 마이크로 명령어의 주소를 저장하는 레지스터<ul><li>매핑의 결과값, 주소필드, 서브루틴 레지스터의 내용이 기록</li></ul></li><li>제어 버퍼 레지스터(CBR) : 제어 기억장치로부터 읽혀진 마이크로명령어를 일시적으로 저장하는 레지스터</li><li>제어 기억장치 : 마이크로 프로그램을 저장하는 내부 기억장치</li><li>순서 제어모듈 : 마이크로 명령어의 실행 순서를 결정하는 회로집합</li><li>순차 카운터 : 디코더에 의해 선택된 번호에 해당하는 타이밍 신호를 생성</li></ul><h2 id="연산장치"><a class="markdownIt-Anchor" href="#연산장치"></a> 연산장치</h2><ul><li>제어장치에 명령에 따라 실제로 연산을 수행하는 장치</li><li>산술연산, 논리연산, 관계연산, Shift 등</li><li>가산기, 누산기(AC), 보수기(Complementor), 데이터레지스터, 오버플로 검출기, 시프트 레지스터 등</li></ul><h2 id="레지스터"><a class="markdownIt-Anchor" href="#레지스터"></a> 레지스터</h2><ul><li>CPU 내부에서 처리할 명령어나 연산의 중간 결과값 등을 일시적으로 기억하는 임시 기억장소</li><li>플리플롭이나 래치들을 병렬로 연결하여 구성</li><li>메모리 중에서 속도가 가장 빠르다.</li><li>레지스터의 크기는 워드를 구성하는 비트 개수만큼의 플립플롭으로 구성<ul><li>워드의 크기가 16Bit =&gt; 레지스터는 16개의 플립플롭이나 래치로 구성</li></ul></li><li>저장값을 0으로 하는 것을 설정해제(CLR)</li></ul><h3 id="자료전송"><a class="markdownIt-Anchor" href="#자료전송"></a> 자료전송</h3><ul><li>직렬 전송 : 직렬 시프트 마이크로 오퍼레이션, 느림</li><li>병렬 전송 : 하나의 클록펄스 동안 워드가 동시에 전송</li><li>버스 전송 : 모든 레지스터가 공통으로 이용하는 경로, 병렬에 비해 결선의 수를 줄일 수 있다.</li></ul><h3 id="주요-레지스터"><a class="markdownIt-Anchor" href="#주요-레지스터"></a> 주요 레지스터</h3><ul><li><strong>PC</strong> : 프로그램 카운터, 다음번 실행할 명령어의 번지를 기억하는 레지스터로 분기 명령이 실행되는 경우 그 목적지 주소로 갱신</li><li><strong>IR</strong> : 명령레지스터, 현재 실행중인 명령의 내용을 기억하는 레지스터</li><li><strong>AC</strong> : 누산기, 연산된 결과를 일시적으로 저장하는 레지스터</li><li><strong>PSWR</strong> : <strong>Status Register, Program Status Word Register, Flag Regiester</strong><ul><li>시스템 내부의 순간 상태가 기록된 정보를 PSW라 한다.</li><li>오버플로, 언더플로, 자리올림, 계산상태, 인터럽트 등의 PSW를 저장하는 레지스터</li><li>프로그램 제어와 밀접한 관계</li></ul></li><li><strong>MAR</strong> : 메모리 주소 레지스터, 데이터의 번지를 기억하는 레지스터</li><li><strong>MBR</strong> : 메모리 버퍼 레지스터, 데이터가 잠시 기억되는 레지스터, CPU가 데이터를 처리하기 위해서 반드시 거처야한다.</li><li>Base Register : 명령이 시작되는 시작 번지를 기억하는 레지스터</li><li>Index Register : 주소의 변경, 서브루틴 연결 및 프로그램에서의 반복연산의 횟수를 세는 레지스터로 프로그래머가 내용을 변경할 수 있다.</li><li>Data Register : 연산에 사용될 데이터를 기억하는 레지스터</li><li>Shift Register : 저장된 값을 미는 연산을 하는 레지스터, 2배 길이 레지스터</li><li>Major Status Register : CPU의 현재상태(인출, 간접, 실행, 인터럽트)를 저장하고 있는 레지스터</li></ul><h2 id="버스"><a class="markdownIt-Anchor" href="#버스"></a> 버스</h2><ul><li>CPU, 메모리, I/O장치와 상호 필요한 정보를 교환하기 위해 연결하는 전송선</li><li>내부회로에서 버스를 사용하는 목적은 결선의 수를 줄이기 위해서다.</li></ul><h3 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h3><ul><li><p><strong>제어 버스</strong> : Control Bus, <strong>양방향 전송선</strong>, 제어신호 전송</p></li><li><p><strong>주소 버스</strong> : Address Bus, 번지 버스, <strong>단방향 전송선</strong>, 번지 지정</p></li><li><p><strong>데이터 버스</strong> : Data Bus, 자료 버스, <strong>양방향 전송선</strong>, 데이터 전송</p></li><li><p>내부버스 : CPU 및 메모리에 구성된 버스</p></li><li><p>외부버스 : 주변 I/O장치에 구성된 버스</p></li></ul><h1 id="명령어"><a class="markdownIt-Anchor" href="#명령어"></a> 명령어</h1><p>OP code부, Mode부, Operand부로 구성</p><h2 id="연산자부"><a class="markdownIt-Anchor" href="#연산자부"></a> 연산자부</h2><ul><li>Operation Code부 = OP Code</li><li>연산자부의 크기는 표현할 수 있는 명령의 종류를 나타내는 것</li><li>nBit일 때 최대 2^n의 명령어 표현 가능</li></ul><h2 id="모드부"><a class="markdownIt-Anchor" href="#모드부"></a> 모드부</h2><ul><li>Mode부</li><li>주소부의 유효 주소가 결정되는 방법을 지정</li><li>0이면 직접, 1이면 간접</li></ul><h2 id="자료부"><a class="markdownIt-Anchor" href="#자료부"></a> 자료부</h2><ul><li>Operand부 = 오퍼랜드부 = 주소필드</li><li>실제 데이터에 대한 정보를 표시하는 부분</li><li>주소, 레지스터 번호, 사용할 데이터 등을 표시</li><li>자료부의 크기는 메모리 용량과 관계가 있다.</li></ul><h2 id="설계시-고려사항"><a class="markdownIt-Anchor" href="#설계시-고려사항"></a> 설계시 고려사항</h2><ul><li>연산자의 종류</li><li>명령어 형식</li><li>주소지정방식</li><li>데이터 구조</li><li>효율성 제고방안 : 기억공간, 사용빈도, 주소지정방식, 주기억장치의 대역폭 이용</li></ul><h2 id="기능"><a class="markdownIt-Anchor" href="#기능"></a> 기능</h2><p>함수 연산, 자료전달, 제어, 입출력 기능</p><h3 id="함수-연산-기능"><a class="markdownIt-Anchor" href="#함수-연산-기능"></a> 함수 연산 기능</h3><ul><li><p>산술연산 : ADD, SUB, MUL, DIV, 산술 Shift</p></li><li><p>논리연산 : NOT, AND, OR, XOR, 논리 Shift, Rotate, Complement, Clear</p></li><li><p>단항연산 : NOT, Complement, Shift, Rotate, Move</p></li><li><p>이항연산 : 사칙, AND, OR, XOR, XNOR</p></li><li><p>연산자 우선순위</p><ol><li>산술연산자 : 거듭제곱 &gt; 곱=나눔 &gt; 덧,뺄</li><li>관계연산자</li><li>논리 연산자 : NOT &gt; AND &gt; OR</li></ol></li></ul><h3 id="자료-전달-기능"><a class="markdownIt-Anchor" href="#자료-전달-기능"></a> 자료 전달 기능</h3><ul><li>Load : 기억장치 =&gt; CPU</li><li>Store : CPU =&gt; 기억장치 저장</li><li>Move : 레지스터간 자료 전송</li><li>Push : 스택에 자료 저장</li><li>Pop : 스택에서 자료 꺼냄</li></ul><h3 id="제어-기능"><a class="markdownIt-Anchor" href="#제어-기능"></a> 제어 기능</h3><ul><li>무조건 분기 : GOTO, JMP (PC &lt;- X)</li><li>조건 분기 : IF, SPA, SNA, SZA<ul><li>SPA : Skip if AC is Positive</li><li>SNA : Skip if AC is Negative</li><li>SZA : Skip if AC is Zero</li></ul></li><li>Call : 부 프로그램 호출</li><li>Return : 부 프로그램에서 복귀</li></ul><h3 id="입출력-기능"><a class="markdownIt-Anchor" href="#입출력-기능"></a> 입출력 기능</h3><ul><li>Input</li><li>Output</li></ul><h1 id="연산-2"><a class="markdownIt-Anchor" href="#연산-2"></a> 연산</h1><h2 id="and"><a class="markdownIt-Anchor" href="#and"></a> AND</h2><ul><li>특정 비트를 삭제(Clear)하는 연산</li><li>Masking 연산</li></ul><h2 id="or"><a class="markdownIt-Anchor" href="#or"></a> OR</h2><ul><li>특정 비트를 1로 만드는 연산</li><li>Selective Set 연산</li></ul><h2 id="xor"><a class="markdownIt-Anchor" href="#xor"></a> XOR</h2><ul><li>두 개의 데이터를 비교하거나 특정 비트를 반전시킬 때 사용</li><li>결과에 1Bit라도 1이 있으면 서로 다른 데이터</li><li>반전시킬 Bit를 1과 XOR</li></ul><h2 id="not"><a class="markdownIt-Anchor" href="#not"></a> NOT</h2><ul><li>그냥 반전</li></ul><h2 id="논리-shift"><a class="markdownIt-Anchor" href="#논리-shift"></a> 논리 Shift</h2><ul><li>0을 삽입해 비트를 좌우로 한칸씩 민다.</li></ul><h2 id="rotate"><a class="markdownIt-Anchor" href="#rotate"></a> Rotate</h2><ul><li>Shift에서 밀려나간 비트를 반대편으로 가져와 입력하는 연산</li><li><strong>문자 위치를 변환할 때</strong> 사용</li></ul><h2 id="산술-shift"><a class="markdownIt-Anchor" href="#산술-shift"></a> 산술 Shift</h2><ul><li>부호를 고려하여 자리를 이동시키는 연산</li><li>2^n으로 곱하거나 나눌 때 사용</li><li>왼쪽으로 Shift시 2^n을 곱한 값과 같음</li><li>오른쪽으로 Shift시 2^n을 나눈 값과 같음</li><li>홀수를 오른쪽으로 Shift시에 0.5의 오차 발생</li><li>정수 표현 방식에서만 사용 가능</li><li>정수 수치 표현 방법에 따라 Padding Bit 및 결과가 다름</li></ul><h3 id="shift-left"><a class="markdownIt-Anchor" href="#shift-left"></a> Shift Left</h3><ul><li>부호화 절대치, 2의 보수법은 무조건 0</li><li>1의 보수법은 부호 비트와 같은 0, 1</li></ul><h3 id="shift-right"><a class="markdownIt-Anchor" href="#shift-right"></a> Shift Right</h3><ul><li>부호화 절대치는 0</li><li>1의 보수법, 2의 보수법은 부호 비트와 같은 0, 1</li></ul><h1 id="명령어-형식"><a class="markdownIt-Anchor" href="#명령어-형식"></a> 명령어 형식</h1><h2 id="3주소-명령어"><a class="markdownIt-Anchor" href="#3주소-명령어"></a> 3주소 명령어</h2><ul><li>Operand부가 세 개로 구성되는 명령어 형식</li><li>**GPR(범용 레지스터)**를 가진 컴퓨터에서 사용</li><li>연산의 결과는 Operand 1에 주로 기록 (컴퓨터에 따라 Operand 3에도 기록)</li></ul><h3 id="장점"><a class="markdownIt-Anchor" href="#장점"></a> 장점</h3><ul><li>연산시 원래 자료를 파괴하지 않음</li><li>다른 형식의 명령어를 이용하는 것보다 프로그램 전체의 길이가 짧음</li><li>전체 프로그램 실행시 명령인출을 위해 주기억장치를 접근하는 횟수 감소</li></ul><h3 id="단점"><a class="markdownIt-Anchor" href="#단점"></a> 단점</h3><ul><li>명령어 한 개의 길이가 너무 길어짐</li><li>하나의 명령을 수행하기 위해 최소한 4번 기억장소에 접근해야함</li><li>수행시간이 길다.</li></ul><h2 id="2주소-명령어"><a class="markdownIt-Anchor" href="#2주소-명령어"></a> 2주소 명령어</h2><ul><li>Operand가 두 개로 구성되는 일반적인 명령어 형식</li><li>여러 개의 **GPR(범용 레지스터)**를 가진 컴퓨터에서 사용</li></ul><h3 id="장점-2"><a class="markdownIt-Anchor" href="#장점-2"></a> 장점</h3><ul><li>실행 속도가 빠르고 기억장소를 많이 차지하지 않음</li><li>3주소 명령에 비해 명령어의 길이가 짧음</li><li>계산결과가 기억장치에 기억되고 CPU에도 남아 있어 계산 결과를 시험할 때 시간이 절약된다.</li></ul><h3 id="단점-2"><a class="markdownIt-Anchor" href="#단점-2"></a> 단점</h3><ul><li>연산 결과가 주로 Operand1에 저장되므로 원래 Operand1에 있던 자료는 파괴된다.</li><li>전체 프로그램의 길이가 길어진다.</li></ul><h2 id="1주소-명령어"><a class="markdownIt-Anchor" href="#1주소-명령어"></a> 1주소 명령어</h2><ul><li>Operand가 한 개로 구성된 명령어 형식</li><li><strong>AC</strong>를 이용하여 명령어를 처리하므로 결과도 <strong>누산기</strong>에 저장된다.</li></ul><h2 id="0주소-명령어"><a class="markdownIt-Anchor" href="#0주소-명령어"></a> 0주소 명령어</h2><ul><li>Operand부 없이 OPCode만으로 구성</li><li>모든 연산은 Stack 메모리의 Stack Pointer가 가리키는 Operand를 이용하여 수행</li><li>스택 머신</li><li>인스트럭션 수행시간이 짧다.</li><li>기억공간 이용이 효율적</li><li>수식을 계산하기 위해선 Postfix 형태로 변경해야한다.</li><li>연산 결과를 다시 스택에 넣기 때문에 원래의 자료가 남지 않는다.</li></ul><h1 id="주소지정방식"><a class="markdownIt-Anchor" href="#주소지정방식"></a> 주소지정방식</h1><h2 id="고려사항"><a class="markdownIt-Anchor" href="#고려사항"></a> 고려사항</h2><ul><li>표현의 효율성 : 빠르게 접근가능하고, 주소지정에 적은 비트를 사용해야하며 다양항 Address 모드를 사용할 수 있어야한다.</li><li>사용의 편리성 : 프로그램 작업을 위해 포인터, 프로그램 리로케이션 등의 편의를 제공해야한다.</li><li>주소공간과 기억공간의 독립성 : 프로그램에서 사용한 주소를 변경 없이 실제 기억공간 내의 주소로 재배치할 수 있도록 서로 독립적이여야한다.<ul><li>주소공간 : 보조기억장치 내의 기억공간</li><li>기억공간 : 주기억장치 내의 기억공간</li></ul></li></ul><h2 id="암시적-주소지정방식"><a class="markdownIt-Anchor" href="#암시적-주소지정방식"></a> 암시적 주소지정방식</h2><ul><li>명령 실행에 필요한 데이터의 위치를 지정하지 않고 누산기나 스택의 데이터를 묵시적으로 지정하여 사용</li><li>오퍼랜드가 없는 명령이나 오퍼랜드가 1개인 명령어 형식에 사용</li></ul><h2 id="즉시적-주소지정방식"><a class="markdownIt-Anchor" href="#즉시적-주소지정방식"></a> 즉시적 주소지정방식</h2><ul><li>명령어 자체에 오퍼랜드를 가지고 있는 방식</li><li>별도의 기억장소를 액세스하지 않기 때문에 실행 속도가 빠르다.</li><li>데이터 값 범위가 제한적이다.</li></ul><h2 id="직접-주소지정방식"><a class="markdownIt-Anchor" href="#직접-주소지정방식"></a> 직접 주소지정방식</h2><ul><li>오퍼렌드부에 표현된 주소를 이용해 실제 데이터가 기억된 기억장소에 직접 매핑</li><li>실제 사용할 데이터의 유효주소를 적기 때문에 주소 길이에 제약을 받음</li><li>nBit 오퍼랜드부 =&gt; 2^n 개의 주소 표현 가능</li><li>오퍼렌드부에 데이터를 가지고 있는 레지스터의 번호를 지정하면 레지스터 모드</li></ul><h2 id="간접-주소지정방식"><a class="markdownIt-Anchor" href="#간접-주소지정방식"></a> 간접 주소지정방식</h2><ul><li>주기억장치를 두 번 이상 접근하여 데이터가 있는 기억장소에 도달</li><li>오퍼랜드부에 할당된 비트 수로 주소를 나타낼 수 없을 때 사용하는 방식</li><li>명령어의 길이가 짧고 제한되어도 긴 주소에 접근이 가능한 방식</li><li>레지스터 간접모드</li></ul><h2 id="계산에-의한-주소지정방식"><a class="markdownIt-Anchor" href="#계산에-의한-주소지정방식"></a> 계산에 의한 주소지정방식</h2><ul><li>오퍼랜드부와 CPU의 특정 레지스터 값이 더해져서 유효주소를 계산하는 방식</li><li>약식 주소</li><li>상대주소 : 명령어 주소 + PC</li><li>베이스 레지스터 : 명령어 주소 + Base Register<ul><li>명령어의 시작주소를 가지고 있는 레지스터</li><li>베이스 레지스터의 값과 명령어에 포함된 변위값을 더해 유효주소를 얻는 것을 재배치라고 한다.</li></ul></li><li>인덱스 레지스터 : 명령어 주소 + Index Register</li></ul><h1 id="마이크로-오퍼레이션"><a class="markdownIt-Anchor" href="#마이크로-오퍼레이션"></a> 마이크로 오퍼레이션</h1><ul><li>인스트럭션을 수행하기 위해 CPU 내의 레지스터와 플래그가 의미있는 상태변환을 하도록하는 동작</li><li>레지스터에 저장된 데이터에 의해 이루어진다.</li><li>한 개의 클록펄스 동안 실행되는 기본 동작</li><li>모든 마이크로 오퍼레이션은 CPU의 클록펄스에 맞춰 실행된다.</li><li>순서를 결정하기 위해 제어장치가 발생하는 신호를 제어신호</li><li>제어워드 : 레지스어틔 선택과 산술논리연산장치의 역할을 결정하고 어떤 마이크로 연산을 할 지 결정하는 비트의 모임 = 마이크로 명령어</li><li>마이크로 프로그램 : 제어워드가 저장되 있을 때 마이크로 프로그램</li></ul><h2 id="마이크로-사이클-타임"><a class="markdownIt-Anchor" href="#마이크로-사이클-타임"></a> 마이크로 사이클 타임</h2><ul><li>한 개의 마이크로 오퍼레이션을 수행하는데 걸리는 시간</li><li>CPU는 클록펄스에 의해 동기화되어 동작하는데 펄스를 CPU 클록이라하며 한 개의 마이크로 오퍼레이션은 CPU 클록 발생 주기의 간격 내에 실행된다.</li><li>CPU Cycle Time = CPU Clock Time</li><li>CPU 속도를 나타내는 척도</li><li>1us = 10^-6s, 1ns = 10^-9s</li></ul><h3 id="동기-고정식"><a class="markdownIt-Anchor" href="#동기-고정식"></a> 동기 고정식</h3><ul><li>모든 마이크로 오퍼레이션 동작시간이 같다고 가정해 클록 주기를 마이크로 사이클 타임과 같도록 정의하는 방식</li><li>동작 시간이 가장 긴 마이크로 오퍼레이션의 동작시간을 마이크로 사이클 타임으로 정한다.</li><li>모든 마이크로 오퍼레이션 동작시간이 비슷할 때 유리하다.</li><li>CPU 낭비가 심하다.</li><li>구현이 쉽다.</li></ul><h3 id="동기-가변식"><a class="markdownIt-Anchor" href="#동기-가변식"></a> 동기 가변식</h3><ul><li>수행시간이 유사한 마이크로 오퍼레이션끼리 그룹을 만들어 그룹별로 서로 다른 마이크로 사이클 타임을 정의하는 방식</li><li>수행시간이 현저한 차이를 나타낼 때 사용</li><li>CPU 시간 낭비를 줄일 수 있다.</li><li>구현이 복잡하다.</li><li>각 그룹(집합) 간 서로 다른 사이클 타임의 동기를 맞추기 위해 그룹간 마이크로 사이클 타임을 정수배가 되게 한다.</li></ul><h3 id="비동기식"><a class="markdownIt-Anchor" href="#비동기식"></a> 비동기식</h3><ul><li>모든 마이크로 오퍼레이션이 서로 다른 마이크로 사이클 타임을 가진다.</li><li>시간 낭비는 없다.</li><li>구현이 매우 복잡하다.</li><li>실제로 거의 사용되지 않는다.</li></ul><h1 id="메이저-스테이트"><a class="markdownIt-Anchor" href="#메이저-스테이트"></a> 메이저 스테이트</h1><ul><li>현재 CPU가 무엇을 하고 있는가를 나타내는 상태</li><li>Fetch, Indirect, Execute, Interrupt</li><li>Major Cycle = Machine Cycle</li><li>메이저 스테이트 레지스터를 통해 알 수 있다.</li><li>F와 R 플립플롭의 상태에 따라 메이저 스테이트 상태가 결정된다.</li></ul><h2 id="fetch-cycle"><a class="markdownIt-Anchor" href="#fetch-cycle"></a> Fetch Cycle</h2><ul><li>인출단계</li><li>중앙처리장치의 명령 레지스터로 명령어를 가져와 해독하는 단계</li><li>가장 먼저 수행되는 동작</li><li>1Cycle 명령어면 수행 후 다시 Fetch Cycle로 변경됨</li><li>1Cycle 명령어가 아니면 모드 비트에 따라 직 간접 주소를 판단</li><li>모드가 0이면 직접주소 =&gt; Execute 단계로</li><li>모드가 1이면 간접주소 =&gt; Indirect 단계로</li></ul><table><thead><tr><th style="text-align:center">Click Pulse</th><th style="text-align:center">Micro Operation</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">C0t0</td><td style="text-align:center">MAR ← PC</td><td style="text-align:center">PC의 번지를 MAR으로 전송</td></tr><tr><td style="text-align:center">C0t1</td><td style="text-align:center">MBR ← M[MAR]<br>PC ← PC +1</td><td style="text-align:center">MAR의 지정하는 위치의 <strong>값을 MBR에 전송</strong> 후<br>다음 시행할 명령 위치를 지정</td></tr><tr><td style="text-align:center">C0t2</td><td style="text-align:center">IR ← MBR[OP]<br>I ← MBR[I]</td><td style="text-align:center">명령어의 OPCode를 명령 레지스터에 전송<br>명령어의 모드 비트를 플립플롭 I에 전송</td></tr><tr><td style="text-align:center">C0t3</td><td style="text-align:center">F ← 1 OR R ← 1</td><td style="text-align:center">I에 따라 F나 R에 1 전송</td></tr></tbody></table><blockquote><ul><li>PC : 다음 실행할 명령의 주소가 들어있음</li><li>MAR : 저장하거나 읽어올 주기억장치의 주소가 들어있음</li><li>MBR : 주기억장치에서 읽어오거나 저장할 데이터가 들어있음</li><li>M[MAR] : 메모리에서 MAR에 해당하는 실제 데이터</li><li>IR : 현재 실행하는 명령어가 들어있음</li><li>OP : 명령 코드 부분</li><li>I : 모드 비트</li><li>AD : 명령 주소 부분</li><li>F, R : 다음 상태를 지정하는 플립플롭</li></ul></blockquote><h2 id="indirect-cycle"><a class="markdownIt-Anchor" href="#indirect-cycle"></a> Indirect Cycle</h2><ul><li>Fetch 단계에서 해석한 주소를 읽어온 후 간접주소이면 유효주소를 계산하기 위해 다시 Indirect 단계를 수행</li><li>직접주소인 경우 Execute 단계 또는 Fetch 단계로 이동<ul><li>분기같은 1Cycle 명령이면 Fetch로</li><li>실행이면 Execute로</li></ul></li></ul><table><thead><tr><th style="text-align:center">Click Pulse</th><th style="text-align:center">Micro Operation</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">C1t0</td><td style="text-align:center">MAR ← MBR[AD]</td><td style="text-align:center">MBR에 있는 명령어의 주소를 MAR에 전송</td></tr><tr><td style="text-align:center">C1t1</td><td style="text-align:center">MBR ← M[MAR]</td><td style="text-align:center">MAR이 지정하는 메모리의 실제 데이터를 MBR에 전송</td></tr><tr><td style="text-align:center">C1t2</td><td style="text-align:center">-</td><td style="text-align:center">동작없음</td></tr><tr><td style="text-align:center">C1t3</td><td style="text-align:center">F ← 1, R ← 0</td><td style="text-align:center">Execute 단계로 이동</td></tr></tbody></table><h2 id="execute-cycle"><a class="markdownIt-Anchor" href="#execute-cycle"></a> Execute Cycle</h2><ul><li>해석된 명령을 실행하는 단계</li><li>플래그 레지스터의 상태를 검사하여 Interrupt 단계로 갈지 결정</li></ul><table><thead><tr><th style="text-align:center">Click Pulse</th><th style="text-align:center">Micro Operation</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">C2t0</td><td style="text-align:center">MAR ← MBR[AD]</td><td style="text-align:center">MBR에 있는 명령어의 주소를 MAR에 전송</td></tr><tr><td style="text-align:center">C2t1</td><td style="text-align:center">MBR ← M[MAR]</td><td style="text-align:center">MAR이 지정하는 메모리의 실제 데이터를 MBR에 전송</td></tr><tr><td style="text-align:center">C2t2</td><td style="text-align:center">AC ← AC + MBR</td><td style="text-align:center">누산기에 값과 MBR의 값을 더해 ADD 연산 실행</td></tr><tr><td style="text-align:center">C2t3</td><td style="text-align:center">F ← 0 OR R ← 1</td><td style="text-align:center">F = 0이면 Fetch로, R = 1이면 Interrupt로</td></tr></tbody></table><h2 id="interrupt-cycle"><a class="markdownIt-Anchor" href="#interrupt-cycle"></a> Interrupt Cycle</h2><ul><li>인터럽트 발생시 복귀주소를 저장시키고 인터럽트 처리 프로그램의 첫 번째 명령으로 제어순서를 옮긴다.</li><li>인터럽트 단계는 항상 Fetch 단계로 이동된다.</li><li>메모리의 인터럽트 주소는 0번지에 저장되고, 인터럽트 벡터는 인터럽트 처리 프로그램의 주소 번지를 말한다.</li><li>현재 상태를 저장하고 인터럽트가 처리된다.</li><li>인터럽트 처리시 다음 실행주소를 PC에 넣고 인터럽트 벡터로 이동한다.</li></ul><table><thead><tr><th style="text-align:center">Click Pulse</th><th style="text-align:center">Micro Operation</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">C3t0</td><td style="text-align:center">MBR[AD] ← PC<br>PC ← 0</td><td style="text-align:center">다음 실행 명령 주소를 MBR의 주소로 전송<br>복귀주소를 저장할 0번지를 PC에 전송</td></tr><tr><td style="text-align:center">C3t1</td><td style="text-align:center">MAR ← PC<br>PC ← PC + 1</td><td style="text-align:center">PC가 가진 0값 번지를 MAR에 전송<br>인터럽트 벡터 위치를 지정하기 위해 PC 값을 1로 세팅</td></tr><tr><td style="text-align:center">C3t2</td><td style="text-align:center">M[MAR] ← MBR<br>IEN ← 0</td><td style="text-align:center">MBR에 있는 다음 실행 명령 주소를 0번지에 저장<br>다른 인터럽트가 발생하지 않게 IEN에 0 전송</td></tr><tr><td style="text-align:center">C3t3</td><td style="text-align:center">F ← 0, R ← 0</td><td style="text-align:center">항상 Fetch로</td></tr></tbody></table><h1 id="주요-마이크로-오퍼레이션"><a class="markdownIt-Anchor" href="#주요-마이크로-오퍼레이션"></a> 주요 마이크로 오퍼레이션</h1><h2 id="and-2"><a class="markdownIt-Anchor" href="#and-2"></a> AND</h2><ul><li>AC와 메모리의 내용을 AND 연산해서 AC에 저장</li><li>논리곱 연산</li><li>AC ← AC ∧ MBR</li></ul><h2 id="add"><a class="markdownIt-Anchor" href="#add"></a> ADD</h2><ul><li>AC와 메모리의 내용을 더해서 AC에 저장</li><li>AC ← AC +MBR</li></ul><h2 id="lda"><a class="markdownIt-Anchor" href="#lda"></a> LDA</h2><ul><li>메모리의 내용을 AC로 Load하는 명령</li><li>AC에 0을 전송하여 AC를 초기화하는 부분이 있어야함</li><li><strong>AC ← 0</strong></li><li>AC ← AC + MBR</li></ul><h2 id="sta"><a class="markdownIt-Anchor" href="#sta"></a> STA</h2><ul><li>AC의 내용을 메모리에 저장</li><li>M[MAR] ← MBR</li></ul><h2 id="bun"><a class="markdownIt-Anchor" href="#bun"></a> BUN</h2><ul><li>실행 명령의 위치를 변경하는 무조건 분기</li><li>Branch UNconditionally</li><li>PC ← MBR[AD]</li></ul><h2 id="bsa"><a class="markdownIt-Anchor" href="#bsa"></a> BSA</h2><ul><li>복귀주소를 저장하고 부 프로그램을 호출하는 명령</li><li>Branch and Save Return Address</li></ul><table><thead><tr><th style="text-align:center">Click Pulse</th><th style="text-align:center">Micro Operation</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">C2t0</td><td style="text-align:center">MAR ← MBR[AD]<br>MBR[AD] ← PC<br>PC ← MBR[AD]</td><td style="text-align:center">복귀주소를 MAR에 전송<br>PC의 값을 MBR의 주소로 전송<br>부프로그램 호출직전 MBR의 주소를 PC로 전송</td></tr><tr><td style="text-align:center">C2t1</td><td style="text-align:center">M[MAR] ← MBR[AD]</td><td style="text-align:center">부프로그램 호출직전 복귀주소 저장</td></tr><tr><td style="text-align:center">C2t2</td><td style="text-align:center">PC ← PC + 1</td><td style="text-align:center">부 프로그램 시작</td></tr><tr><td style="text-align:center">C2t3</td><td style="text-align:center">F ← 0 OR R ← 1</td><td style="text-align:center">Fetch 또는 Interrupt</td></tr></tbody></table><h2 id="isz"><a class="markdownIt-Anchor" href="#isz"></a> ISZ</h2><ul><li>메모리의 값을 읽고 값을 1 증가 시킨 후 그 값이 0이면 현재 명령을 건너 뛰고 다음으로 이동</li><li>IF(MBR=0) THEN ← PC + 1</li></ul><h1 id="제어기"><a class="markdownIt-Anchor" href="#제어기"></a> 제어기</h1><h2 id="제어데이터"><a class="markdownIt-Anchor" href="#제어데이터"></a> 제어데이터</h2><ul><li>제어장치가 제어신호를 발생하기 위한 자료</li><li>CPU가 특정한 메이저 상태와 타이밍 상태에 있을 때 제어 자료에 따른 제어 규칙에 의해 발생한다.</li></ul><h3 id="종류-2"><a class="markdownIt-Anchor" href="#종류-2"></a> 종류</h3><ul><li>메이저 스테이트 사이의 변천을 제어하는 데이터</li><li>중앙처리장치의 제어점을 제어하는 데이터</li><li>인스트럭션의 수행 순서를 결정하는데 필요한 제어데이터</li></ul><h3 id="단계"><a class="markdownIt-Anchor" href="#단계"></a> 단계</h3><table><thead><tr><th style="text-align:center">구분</th><th style="text-align:center">State간 변이</th><th style="text-align:center">제어점 제어</th><th style="text-align:center">수행 순서제어</th></tr></thead><tbody><tr><td style="text-align:center"><strong>Fetch</strong></td><td style="text-align:center">명령어의 주소지정방식</td><td style="text-align:center">명령어</td><td style="text-align:center">PC</td></tr><tr><td style="text-align:center"><strong>Indirect</strong></td><td style="text-align:center">주소지정방식</td><td style="text-align:center">유효주소</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center"><strong>Execute</strong></td><td style="text-align:center">인터럽트 요청</td><td style="text-align:center">명령어 연산자</td><td style="text-align:center">PC</td></tr><tr><td style="text-align:center"><strong>Interrupt</strong></td><td style="text-align:center">-</td><td style="text-align:center">Interrupt따라 다름</td><td style="text-align:center">Interrupt따라 다름</td></tr></tbody></table><h2 id="구현"><a class="markdownIt-Anchor" href="#구현"></a> 구현</h2><ul><li>하드웨어적 고정배선제어장치</li><li>소프트웨어적 마이크로 프로그래밍 기법</li></ul><h3 id="고정배선-제어장치"><a class="markdownIt-Anchor" href="#고정배선-제어장치"></a> 고정배선 제어장치</h3><ul><li>독립 제어점에 제어신호를 가해야 할 조건들을 제어 데이터와 제어기의 상태로 표현한 후 이를 만족하는 조합논리회로를 설계하여 해당 제어점에 연결하는 방식</li><li>하드웨어적 구성방법</li><li>속도 빠름</li><li>비싸다.</li><li>RISC구조를 기본으로 하는 컴퓨터에서 주로 사용</li><li>한 번 만들어진 명령어 세트를 변경할 수 없음</li><li>회로 구성이 복잡</li></ul><h3 id="마이크로-프로그래밍"><a class="markdownIt-Anchor" href="#마이크로-프로그래밍"></a> 마이크로 프로그래밍</h3><ul><li>내부 제어 신호를 지정하는 여러가지 마이크로 인스트럭션으로 작성하는 것</li><li>소프트웨어적 구성방법</li><li>펌웨어를 이용하는 방식</li><li>마이크로 프로그램된 제어장치를 사용하는 컴퓨터는 주 메모리 외에 마이크로 프로그램이 저장되는 제어메모리(ROM)이 필요하다.</li><li>명령어 세트를 쉽게 변경할 수 있다.</li><li>다양한 어드레스 모드를 갖음</li><li>속도 느림</li><li>유지보수 및 수정 용이</li><li>복잡한 명령 세트를 가진 시스템에 적합</li></ul><h2 id="제어-메모리-번지-결정"><a class="markdownIt-Anchor" href="#제어-메모리-번지-결정"></a> 제어 메모리 번지 결정</h2><ul><li>제어 주소 레지스터(CAR) : 값을 1 증가<ul><li>매핑의 결과값</li><li>주소 필드</li><li>서브루틴 레지스터 데이터</li></ul></li><li>명령 레지스터(IR) : 지정하는 번지로 무조건 분기, 주소 필드로부터 제어 메모리의 주소로 매핑</li><li>상태 레지스터(SR) : 조건에 따른 분기</li><li>서브루틴의 호출(call)과 복귀(return)</li></ul><h2 id="형식"><a class="markdownIt-Anchor" href="#형식"></a> 형식</h2><h3 id="수평-마이크로-명령"><a class="markdownIt-Anchor" href="#수평-마이크로-명령"></a> 수평 마이크로 명령</h3><ul><li>Horizontal Micro Instruction</li><li>한 비트가 한 개의 마이크로 동작을 관할하는 명령</li><li>마이크로 오퍼레이션 부가 nBit일 때 n개의 마이크로 동작 표현 가능</li><li>제어 비트를 디코딩 할 필요가 없다.</li><li>마이크로 명령 한 개로 여러 개의 하드웨어를 동시에 동작시킬 수 있다.</li><li>제어 워드의 길이가 길어진다.</li><li>비트가 충분히 활용되지 못함.</li><li>비용이 많이 든다.</li></ul><h3 id="수직-마이크로-명령"><a class="markdownIt-Anchor" href="#수직-마이크로-명령"></a> 수직 마이크로 명령</h3><ul><li>Vertical Micro Instruction</li><li>제어 메모리 외부에서 디코딩 회로를 필요로 하는 마이크로 명령</li><li>디코더의 출력을 제어신호로 사용</li><li>한 개의 마이크로 동작만 제어 가능</li></ul><h3 id="나노-명령"><a class="markdownIt-Anchor" href="#나노-명령"></a> 나노 명령</h3><ul><li>Nano Instruction</li><li>나노메모리(낮은 레벨의 메모리)에 저장된 마이크로 명령</li><li>수직 마이크로 명령을 수행하는 제어기에서 디코더를 ROM(나노메모리)로 바꿔 두 메모리 레벨로 구성</li><li>제어 메모리의 각 워드는 나노 메모리의 번지를 저장</li></ul><h2 id="제어장치-구현방식"><a class="markdownIt-Anchor" href="#제어장치-구현방식"></a> 제어장치 구현방식</h2><ul><li>상태 플리플롭 제어</li><li>PLA (Programmable Logic Array)</li><li>마이크로 프로그램 제어</li></ul><h1 id="입출력장치"><a class="markdownIt-Anchor" href="#입출력장치"></a> 입출력장치</h1><h2 id="입출력-제어장치"><a class="markdownIt-Anchor" href="#입출력-제어장치"></a> 입출력 제어장치</h2><ul><li>입출력장치와 컴퓨터 사이의 자료 전송을 제어하는 장치</li><li>데이터 버퍼 레지스터를 이용하여 두 장치간의 속도 차를 조절 = 데이터 버퍼링</li><li>제어 신호의 논리적, 물리적 변환 및 오류를 제어</li><li>DMA, 채널, 입출력 프로세서, 입출력 컴퓨터가 포함된다.</li></ul><h2 id="입출력-인터페이스"><a class="markdownIt-Anchor" href="#입출력-인터페이스"></a> 입출력 인터페이스</h2><ul><li>동작방식이나 데이터 형식이 다른 컴퓨터 내부의 장치끼리 2진 데이터를 원활하게 전송하기 위함</li><li>CPU와 주변장치의 전송속도, 동작방식, 워드형식의 차이 제어</li><li>동작방식이 다른 주변장치끼리의 차이 제어</li></ul><h2 id="입출력-버스"><a class="markdownIt-Anchor" href="#입출력-버스"></a> 입출력 버스</h2><ul><li>주기억장치와 입출력장치 사이의 데이터 전송을 위해 <strong>모든 주변장치의 인터페이스에 공통으로 연결된 버스</strong></li><li>구성<ul><li>데이터 버스</li><li>주소 버스</li><li>제어 버스</li></ul></li></ul><h2 id="기억장치와-입출력장치의-차이"><a class="markdownIt-Anchor" href="#기억장치와-입출력장치의-차이"></a> 기억장치와 입출력장치의 차이</h2><ul><li>기억장치 : 전자적, 빠르다, 타율, 오류 적음, Word단위</li><li>입출력장치 : 기계적, 느리다, 자타율, 오류 많음, Byte(문자)단위</li></ul><h2 id="비동기-데이터-전송"><a class="markdownIt-Anchor" href="#비동기-데이터-전송"></a> 비동기 데이터 전송</h2><ul><li>비동기 데이터 전송을 하기 위해선 데이터 전송시각을 알기 위한 제어신호를 서로 교환하여 송수신 상태를 서로 맞춰야한다.</li></ul><h3 id="스트로브-펄스"><a class="markdownIt-Anchor" href="#스트로브-펄스"></a> 스트로브 펄스</h3><ul><li>Strobe Pulse</li><li>데이터 버스와 한 개의 제어선</li><li>스트로브 신호 : 두 개의 독립적인 장치 사이의 비동기적인 데이터 전송을 하기 위해 전송 시각을 알리는 제어 신호</li><li>메모리와 CPU 사이의 정보를 교환할 때 사용</li><li>수신장치가 데이터를 받았는지는 모름</li></ul><h3 id="핸드쉐이킹"><a class="markdownIt-Anchor" href="#핸드쉐이킹"></a> 핸드쉐이킹</h3><ul><li>데이터 전송시 송신측과 수신측에서 입출력의 준비나 완료를 나타내는 신호를 사용하여 서로의 동작을 확인하면서 데이터를 전송</li><li>전송을 시작한 장치에 응답하는 제 2의 제어신호를 전송</li><li>높은 융통성과 신뢰성</li><li>병렬 입출력 데이터 전송방식의 기본으로 많이 사용</li><li>2~3개의 제어선 사용</li><li>RDY, STB 신호 사용</li></ul><h2 id="스풀링"><a class="markdownIt-Anchor" href="#스풀링"></a> 스풀링</h2><ul><li>다중 프로그래밍 환경 아래에서 용량이 크고 신속한 액세스가 가능한 디스크를 이용해 각 사용자 프로그램이 입출력할 데이터를 직접 입출력장치로 보내지 않고 디스크에 모았다가 한꺼번에 입출력 시키는 방법</li><li>입출력장치의 공유 및 느린 처리속도를 보완</li><li>디스크의 일부를 매우 큰 버퍼로 사용한다.</li><li>큐 방식의 입출력을 수행</li><li>Simultaneous Peripheral Operation OnLine</li><li>보조기억장치에 저장</li><li>다중 작업</li><li>소프트웨어 구현</li></ul><h2 id="버퍼링"><a class="markdownIt-Anchor" href="#버퍼링"></a> 버퍼링</h2><ul><li>입출력 장치와 CPU의 속도차를 해결하기 위해 사용</li><li>주기억 장치에 저장</li><li>단일 작업</li><li>하드웨어 구현</li></ul><h1 id="입출력-제어방식"><a class="markdownIt-Anchor" href="#입출력-제어방식"></a> 입출력 제어방식</h1><ul><li>입출력 처리 능력 순서 : 프로그램 &lt; 인터럽트 &lt; DMA &lt; 채널</li></ul><h2 id="programmed-io"><a class="markdownIt-Anchor" href="#programmed-io"></a> Programmed I/O</h2><ul><li>폴링</li><li>원하는 I/O가 완료되었는지 여부를 검사하기 위해 CPU의 Status Flag를 계속 조사해 I/O가 완료되었으면 MDR(MBR)과 AC사이의 자료 전송도 CPU가 직접 처리하는 방식</li><li>입출력의 대부분을 CPU가 해준다.</li><li>MDR(MBR), Flag(PSW), 장치번호 디코더로 구성</li><li>CPU가 계속 I/O에 관여해야되기 때문에 비효율적</li></ul><h2 id="interrupt-io"><a class="markdownIt-Anchor" href="#interrupt-io"></a> Interrupt I/O</h2><ul><li>데이터 전송 준비가 되면 입출력 인터페이스가 컴퓨터에게 알려 I/O가 이루어지는 방식</li><li>입출력 인터페이스가 CPU에게 인터럽트 신호를 전송</li><li>수행중인 프로그램의 <strong>인스트럭션을 끝내고</strong> I/O 처리후 다시 복귀</li><li>대량 자료 전송시 CPU에 부담</li></ul><h2 id="dma-io"><a class="markdownIt-Anchor" href="#dma-io"></a> DMA I/O</h2><ul><li>Direct Memory Access</li><li>입출력장치가 직접 주기억장치를 접근하여 데이터 블록을 입출력하는 방식</li><li>I/O가 CPU를 경유하지 않음</li><li>CPU는 I/O에 필요한 정보를 DMA 제어기에 전달해 I/O동작만을 개시하고 끝<ul><li>I/O 장치의 주소</li><li>데이터 있는 주기억장치의 시작 주소</li><li>DMA 시작 명령</li><li>I/O 데이터 양</li><li>입력 또는 출력을 결정하는 명령</li></ul></li><li>빠른 데이터 전송 가능</li><li>DMA는 인터럽트 신호를 발생해 CPU에게 I/O 종료를 알림</li><li>블록으로 대용량 데이터 전송 가능</li><li>CPU의 <strong>Cycle Steal</strong> 해 메모리를 접근하여 I/O 데이터를 전송<ul><li>데이터 채널과 CPU가 주기억장치를 동시에 접근할 때 우선순위를 전자에게 줌</li><li>CPU는 그동안 메모리 참조가 필요없는 오퍼레이션을 계속 진행</li><li>CPU의 상태 보존이 필요 없음</li></ul></li><li>CPU와 DMA 제어기는 메모리와 버스를 공유</li><li>명령 받고 =&gt; 버스 사용 요구 =&gt; 버스 사용 허가 =&gt; 데이터 전송 =&gt; 인터럽트 전송</li><li>한 개의 인스트럭션에 의해 한 개의 블록을 입출력</li></ul><h3 id="구성"><a class="markdownIt-Anchor" href="#구성"></a> 구성</h3><ul><li>인터페이스 회로</li><li>주소 레지스터 및 주소 라인</li><li>워드 카운트 레지스터 = 단어 계수기</li><li>제어 레지스터</li><li>데이터 레지스터</li></ul><h2 id="channel-io"><a class="markdownIt-Anchor" href="#channel-io"></a> Channel I/O</h2><ul><li>I/O 프로세서</li><li>I/O를 위한 특별한 명령어를 I/O 프로세서에게 수행토록 하여 CPU 관여 없이 주기억장치와 입출력장치 사이에서 I/O를 하는 전용 프로세서</li><li>DMA의 한계를 극복하기 위해 고안</li><li>DMA의 방법으로 입출력을 수행하지만 확장된 개념</li><li>채널 제어기는 채널 명령어로 작성된 채널 프로그램을 해독하고 실행하여 I/O 처리</li><li>CPU로 I/O 명령어를 받으면 CPU와는 독립적으로 동작</li><li>주기억장치에 저장된 채널 프로그램의 수행과 데이터 전송을 위해 주기억장치에 직접 접근</li><li>I/O 장치는 제어장치를 통해 채널과 연결</li><li>I/O 채널은 CPU의 I/O 명령을 수행하지 않고 I/O 채널 내의 특별한 명령어를 수행</li><li>CPU와는 인터럽트로 통신</li><li>한 개의 인스트럭션에 의해 여러 개의 블록을 입출력</li><li>입출력장치와 주기억장치를 연결하는 중개자</li><li>입출력 전담장치</li><li>입출력 장치와 CPU사이의 존재하는 현저한 속도차를 극복하기 위한 장치</li><li>CPU의 명령을 받고 입출력을 시작하면 CPU와는 독립적으로 조작하는 장치</li></ul><h3 id="채널-명령어"><a class="markdownIt-Anchor" href="#채널-명령어"></a> 채널 명령어</h3><ul><li>명령코드</li><li>데이터 주소</li><li>플래그</li><li>워드 카운터</li></ul><h3 id="종류-3"><a class="markdownIt-Anchor" href="#종류-3"></a> 종류</h3><ul><li>Selector Channel<ul><li>선택 채널</li><li>고속 입출력장치(자기로 시작하는 친구들)와 입출력하기 위해 사용</li><li>특정 한 개의 장치를 독점해서 입출력</li></ul></li><li>MultiPlexer Channel<ul><li>다중채널</li><li>저속 입출력장치(카드리터, 프린터)를 제어하는 채널</li><li>동시에 여러 개의 입출력장치 제어</li></ul></li><li>Block Multiplexer Channel<ul><li>고속 입출력장치를 제어</li><li>동시에 여러 개의 입출력장치 제어</li></ul></li></ul><h1 id="인터럽트"><a class="markdownIt-Anchor" href="#인터럽트"></a> 인터럽트</h1><ul><li>프로그램 실행 도중 예기치 않은 상황이 발생하는 경우 현재 작업을 즉시 중단하고 발생된 상황을 우선 처리 후 실행 중인 작업으로 복귀</li><li>내부 인터럽트는 CPU의 하드웨어 신호에 의해 발생</li><li>소프트웨어 인터럽트는 명령어의 수행에 의해 발생</li></ul><h2 id="외부-인터럽트"><a class="markdownIt-Anchor" href="#외부-인터럽트"></a> 외부 인터럽트</h2><ul><li>입출력장치, 타이밍장치, 전원 등 외부 요인에 의해 발생</li><li>전원 이상 인터럽트 : 정전이거나 정원이상</li><li>기게 착오 인터럽트 : CPU의 기능적인 오류 동작 발생</li><li>외부 신호 인터럽트<ul><li>Time Slice 를 알림</li><li>인터럽트 키를 누른 경우 (Ctrl + Alt + Del)</li><li>외부 장치로부터 인터럽트 요청이 있는 경우</li></ul></li><li>입출력 인터럽트<ul><li>입출력 데이터의 오류나 이상현상 발생</li><li>입출력장치가 데이터 전송을 요구하거나 전송이 끝났을 때</li></ul></li></ul><h2 id="내부-인터럽트"><a class="markdownIt-Anchor" href="#내부-인터럽트"></a> 내부 인터럽트</h2><ul><li>잘못된 명령이나 데이터를 사용할 때 발생</li><li><strong>트랩</strong></li><li>프로그램 검사 인터럽트<ul><li>0으로 나누기</li><li>오버플로 또는 언더플로</li><li>프로그램에서 명령어 잘못 사용</li><li>부당한 기억장소의 참조</li><li>프로그램상 오류</li></ul></li></ul><h2 id="소프트웨어-인터럽트"><a class="markdownIt-Anchor" href="#소프트웨어-인터럽트"></a> 소프트웨어 인터럽트</h2><ul><li>프로그램 처리중 <strong>명령의 요청에 의해 발생</strong></li><li><strong>SVC 인터럽트</strong><ul><li>제어 프로그램 호출 인터럽트 = SuperVisor Call</li><li>사용자가 SVC 명령을 써서 의도적으로 호출한 경우</li><li>복잡한 입출력 처리를 해야하는 경우</li><li>기억장치 할당 및 오퍼레이터와 대화를 해야하는 경우</li></ul></li></ul><h2 id="인터럽트시-cpu확인-요소"><a class="markdownIt-Anchor" href="#인터럽트시-cpu확인-요소"></a> 인터럽트시 CPU확인 요소</h2><ul><li>프로그램 카운터 내용</li><li>사용한 모든 레지스터의 내용</li><li>상태 조건의 내용 = PSW = Status Register</li></ul><h2 id="동작-원리"><a class="markdownIt-Anchor" href="#동작-원리"></a> 동작 원리</h2><ol><li>인터럽트 요청 신호 발생</li><li>현재 인스트럭션까지 실행 후 프로그램 실행 중단</li><li>현재 프로그램 상태 보존</li><li>인터럽트 처리 루틴 실행</li><li>인터럽트 서비스(취급) 루틴 실행</li></ol><ul><li>처리기 상태 복구</li><li>인터럽트 원인 결정</li><li>처리기 레지스터의 상태 보존</li><li>상대적으로 낮은 레벨의 마스크 레지스터 클리어</li></ul><ol start="6"><li>상태 복구</li><li>중단된 프로그램 실행 재개</li></ol><h1 id="인터럽트-우선순위"><a class="markdownIt-Anchor" href="#인터럽트-우선순위"></a> 인터럽트 우선순위</h1><ol><li>전원 이상 = Power Fail</li><li>기계 착오 = Machine Check</li><li>외부 신호 = External</li><li>입출력 = I/O</li><li>명령어 잘못</li><li>프로그램 = Program Check</li><li>SVC = Supervisor Call</li></ol><ul><li>Non Maskable Interrupt : 마스크 불가능 인터럽트로 0순위</li></ul><h2 id="폴링"><a class="markdownIt-Anchor" href="#폴링"></a> 폴링</h2><ul><li>소프트웨어적 인터럽트 우선순위 판별 방식</li><li>우선순위가 높은 인터럽트 자원의 인터럽트 요청 플래그를 검사해 해당하는 인터럽트 서비스 루틴을 수행</li><li>우선순위 변경이 쉽다.</li><li>자기디스크와 같이 속도가 빠른 장치에 높은 등급 부여</li><li>회로가 간단하고 융통성이 있음</li><li>별도의 하드웨어가 필요 없어 경제적</li><li>많은 인터럽트가 있을 때 모두 조사해야하므로 반응시간이 느림</li></ul><h2 id="벡터-인터럽트"><a class="markdownIt-Anchor" href="#벡터-인터럽트"></a> 벡터 인터럽트</h2><ul><li>하드웨어적인 인터럽트 판별 방식</li><li>CPU와 인터럽트를 요청할 수 있는 장치 사이에 장치 번호에 해당하는 버스를 연결하여 요청 장치의 번호를 CPU에게 알리는 방식</li><li>인터럽트를 발생한 장치가 프로세서에게 분기할 곳에 대한 정보를 제공</li><li>인터럽트 벡터 : 인터럽트 처리 루틴으로 분기하는 명령어만을 기억하는 기억장치의 특정 영역으로 분기번지가 저장됨</li><li>별도의 프로그램 루틴이 없어 응답속도가 빠름</li><li>회로가 복잡하고 융통성이 없음</li><li>추가 하드웨어가 필요하므로 비경제적</li></ul><h3 id="직렬-우선순위"><a class="markdownIt-Anchor" href="#직렬-우선순위"></a> 직렬 우선순위</h3><ul><li><strong>데이지 체인 방식</strong></li><li>모든 장치를 한 개의 회선에 <strong>직렬</strong>로 연결</li></ul><h3 id="병렬-우선순위"><a class="markdownIt-Anchor" href="#병렬-우선순위"></a> 병렬 우선순위</h3><ul><li>인터럽트가 발생하는 각 장치를 개별적인 회선으로 연결</li><li>각 비트를 개별적으로 세트할 수 있는 <strong>Mask Register</strong> 사용</li><li>마스크 레지스터는 인터럽트 요청의 허락이 가능하다.</li><li>우선순위는 마스크 레지스터의 비트 위치에 의해서 결정</li><li>우선순위가 높은 것이 서비스 받고 있을 때 우선순위가 낮은 것을 비활성화시킬 수 있다.</li><li>높은 우선순위의 인터럽트는 낮은 인터럽트가 처리되는 중에도 우선 처리된다.</li></ul><h1 id="기억장치"><a class="markdownIt-Anchor" href="#기억장치"></a> 기억장치</h1><ul><li><p>주기억장치 : 시스템 프로그램영역과 사용자 프로그램영역으로 구성</p><ul><li>반도체 : RAM, ROM</li><li>자기 : 자기 코어</li></ul></li><li><p>보조기억장치</p><ul><li>DASD : 자기 디스크, 자기 드럼, 하드 디스크, 광디스크</li><li>SASD : 자기테이프</li></ul></li><li><p>특수기억장치 : 복수 모듈 기억장치, 연관기억장치, 캐시기억장치, 가상기억장치</p></li><li><p>광디스크의 종류 : 블루레이, DVD, Compact</p></li></ul><h2 id="계층구조"><a class="markdownIt-Anchor" href="#계층구조"></a> 계층구조</h2><ul><li>특수기억장치 : 레지스터, 캐시, 연관</li><li>주기억장치 : RAM, ROM, 자기코어</li><li>보조기억장치 : 자기디스크, 자기테이프</li></ul><h2 id="특성-결정-요소"><a class="markdownIt-Anchor" href="#특성-결정-요소"></a> 특성 결정 요소</h2><h3 id="기억-용량"><a class="markdownIt-Anchor" href="#기억-용량"></a> 기억 용량</h3><h3 id="access-time"><a class="markdownIt-Anchor" href="#access-time"></a> Access Time</h3><ul><li>기억장치에 읽기 요청이 발생한 시간부터 요구한 정보를 꺼내서 사용 가능할 때까지의 시간</li><li>한 Word의 단위 정보를 읽거나 기록하는데 걸리는 시간</li><li>Access Time = Seek Time + Latency Time(Search Time) + Transmission Time</li></ul><h3 id="cycle-time"><a class="markdownIt-Anchor" href="#cycle-time"></a> Cycle Time</h3><ul><li>기억장치에 읽기 신호를 보낸 후 다시 읽기 신호를 보낼 수 있을 때까지의 시간 간격</li><li>Cycle Time ≥ Access Time</li><li>DRAM : Cycle Time = Access Time + Refresh Time</li><li>자기코어 : Cycle Time = Access Time + Restoration Time</li><li><strong>기타 모든 장치</strong> : Cycle Time = Access Time</li></ul><h3 id="bandwitdh"><a class="markdownIt-Anchor" href="#bandwitdh"></a> Bandwitdh</h3><ul><li>대역폭 = 전송률 = 밴드폭</li><li>메모리에서 또는 메모리까지 1초동안 전송되는 최대한의 정보량</li><li>기억장치의 자료 처리 속도를 나타내는 단위</li><li>하드웨어 특성상 주기억장치가 제공할 수 있는 정보 전달능력의 한계를 의미</li><li>메모리 워드의 길이가 작을수록 대역폭이 좋음</li><li>전송단위 : bps = Baud = 보</li></ul><h2 id="구분"><a class="markdownIt-Anchor" href="#구분"></a> 구분</h2><table><thead><tr><th style="text-align:center">구분방식</th><th>내용</th></tr></thead><tbody><tr><td style="text-align:center">내용보존여부</td><td>_ 파괴성 메모리 : 읽으면 내용이 파괴되므로 재저장시간이 필요<br>_ 비파괴성 메모리</td></tr><tr><td style="text-align:center">전원차단시<br>내용소멸여부</td><td>_ 휘발성메모리 : RAM<br>_ 비휘발성 메모리 : ROM, 자기코어, 보조기억장치</td></tr><tr><td style="text-align:center">재충전 여부</td><td>_ 정적메모리(SRAM) : 전원이 공급되면 내용이 계속 유지<br>_ 전원이 공급되도 일정시간 후 내용 지워져 재충전필요</td></tr><tr><td style="text-align:center">접근 방식</td><td>_ 순차접근 : 자기테이프<br>_ 직접접근 : 자기테이프 제외 모든장치</td></tr></tbody></table><h1 id="주기억장치"><a class="markdownIt-Anchor" href="#주기억장치"></a> 주기억장치</h1><h2 id="rom"><a class="markdownIt-Anchor" href="#rom"></a> ROM</h2><ul><li>Read Only Memory</li><li>읽기전용</li><li>비휘발성 메모리</li><li>BIOS, 자가진단프로그램 등 변경 가능성이 거의 없는 시스템 소프트웨어 탑재</li></ul><h3 id="종류-4"><a class="markdownIt-Anchor" href="#종류-4"></a> 종류</h3><ul><li>Mask ROM : 제조 공장에서 프로그램되어 나옴, 내용 변경 불가</li><li>PROM : Programmable ROM, 한 번만 쓰기 가능</li><li>EPROM : Erasable PROM, 자외선을 사용해 내용을 지울 수 있음</li><li>EAROM : Erasable Alterable ROM, 전기적 특성을 이용하여 기록된 정보 일부를 바꿀 수 있는 ROM</li><li>EEPROM : Electonic EPROM, 전기를 이용해 내용 수정 가능</li></ul><h2 id="ram"><a class="markdownIt-Anchor" href="#ram"></a> RAM</h2><ul><li>Random Access Memory, Read Write Memory</li><li>현재 사용중인 프로그램이나 데이터가 저장</li><li>휘발성 메모리 = Volatile Memory</li><li>정보가 저장된 위치는 주소로 구분</li></ul><table><thead><tr><th style="text-align:center">구분</th><th style="text-align:center">동적 램</th><th style="text-align:center">정적 램</th></tr></thead><tbody><tr><td style="text-align:center">구성</td><td style="text-align:center">콘덴서</td><td style="text-align:center">플리플롭</td></tr><tr><td style="text-align:center">특징</td><td style="text-align:center">방전되므로주기적인 재충전</td><td style="text-align:center">전원 공급시에 계속 유지</td></tr><tr><td style="text-align:center">소모전력</td><td style="text-align:center">적음</td><td style="text-align:center">많음</td></tr><tr><td style="text-align:center">속도</td><td style="text-align:center">느림</td><td style="text-align:center">빠름</td></tr><tr><td style="text-align:center">집적도</td><td style="text-align:center">높음</td><td style="text-align:center">낮음</td></tr><tr><td style="text-align:center">가격</td><td style="text-align:center">저가</td><td style="text-align:center">고가</td></tr><tr><td style="text-align:center">용도</td><td style="text-align:center">일반적</td><td style="text-align:center">캐시메모리</td></tr></tbody></table><h2 id="자기-코어"><a class="markdownIt-Anchor" href="#자기-코어"></a> 자기 코어</h2><ul><li>전류 일치 기술에 의하여 기억장소를 선별</li><li>데이터를 읽으면 내용이 지워지는 <strong>파괴 메모리</strong></li><li>Dectructive Read Out Memory</li><li>내용을 읽은 후 지워진 내용을 기록하기 위한 재저장 시간 필요</li><li>현재 거의 사용되지 않음</li></ul><h3 id="구성-2"><a class="markdownIt-Anchor" href="#구성-2"></a> 구성</h3><ul><li>구동선 : X,Y축 번지 선택선 2개</li><li>센스선 : 자기 코어의 상태를 검출하는 선 1개</li><li>금지선 : 불필요하게 자화되었을 때 금지 전류를 흘려 자화를 소진시키는 선 1개</li></ul><h2 id="반도체-기억소자-구성"><a class="markdownIt-Anchor" href="#반도체-기억소자-구성"></a> 반도체 기억소자 구성</h2><h3 id="ram-2"><a class="markdownIt-Anchor" href="#ram-2"></a> RAM</h3><ul><li>CS1, CS2 : 칩 선택선</li><li>RD : 입력 신호선</li><li>WR : 출력 신호선</li><li><strong>AD</strong> : 주소선<ul><li>MAR과 PC의 수와 같음</li><li>주소선이 n개이면 2^n개의 워드 지정 가능</li></ul></li><li>Data Bus : 워드의 크기<ul><li>MBR = IR = 단어의 크기</li><li>버스가 10Bit이면 워드의 크기가 10Bit</li></ul></li></ul><h3 id="rom-2"><a class="markdownIt-Anchor" href="#rom-2"></a> ROM</h3><ul><li>CS1, CS2 : 칩 선택선</li><li><strong>AD</strong> : 주소선</li><li>Data Bus : 워드의 크기</li></ul><h1 id="보조기억장치"><a class="markdownIt-Anchor" href="#보조기억장치"></a> 보조기억장치</h1><ul><li>주기억 장치의 단점 보완</li><li>속도는 느리지만 전원이 차단되도 내용 유지</li><li>저장용량이 큼</li><li>CPU와 직접 자료교환이 불가능</li><li>주기억장치에 데이터를 저장할 때 DMA를 사용</li></ul><h2 id="자기-테이프"><a class="markdownIt-Anchor" href="#자기-테이프"></a> 자기 테이프</h2><ul><li>순차처리 = SASD</li><li>블록단위로 데이터를 전송</li><li>블록 사이에는 데이터를 기록할 수 없는 공간인 <strong>갭</strong>이 있다.</li><li>BOT : Beginning Of Tape</li><li>EOT : End Of Tape</li><li>BPI : Byte Per Inch, 1인치에 기억할 수 있는 바이트 수</li><li>IRG : Inter Record Gap, 레코드와 레코드 사이의 갭</li><li>IBG : Inter Block Gap, 블록과 블록 사이의 갭</li><li>Block : 한 개 이상의 논리 레코드의 집합 = 물리 레코드</li><li>블로킹 : 한 개 이상의 논리적 레코드를 묶어서 테이프에 기록하는 방식<ul><li>IRG가 줄어든다.</li><li>기억공간 낭비 감소</li><li>Access Time 감소</li><li>입출력 횟수 감소</li></ul></li><li>Blocking Factor : 하나의 블록을 구성하는 논리 레코드의 갯수</li></ul><h2 id="자기-디스크"><a class="markdownIt-Anchor" href="#자기-디스크"></a> 자기 디스크</h2><ul><li>DASD</li><li>회전축에 여러장의 디스크를 연결하고, 디스크 상하면마다 R/W Head를 액세스암에 연결하여 구성</li><li>가장 윗면과 가장 아랫면은 사용하지 않는다.</li><li>트랙 : 디스크 표면에서 회전푹을 중심으로 데이터가 기록되는 동심원</li><li>섹터 : 트랙들을 일정한 크기로 구분한 부분이며 정보 기록의 기본 단위</li><li>실린더 : 서로 다른 면들에 있는 동일 위치의 트랙들의 모임</li><li>Random Access와 Sequential Access 방식을 모두 사용</li></ul><h3 id="디스크의-3요소"><a class="markdownIt-Anchor" href="#디스크의-3요소"></a> 디스크의 3요소</h3><ul><li>디스크</li><li>액세스암</li><li>헤드</li></ul><h3 id="access-time-2"><a class="markdownIt-Anchor" href="#access-time-2"></a> Access Time</h3><ul><li>Access Time = Seek Time + Latency Time + Transmission Time</li><li>Seek Time : 탐색시간으로 R/W Head가 특정 트랙까지 이동하는데 걸리는 시간</li><li>Latency Time : R/W Head가 특정 트랙까지 이동한 후 디스크가 회전하여 트랙에 포함되어 있는 특정 섹터가 R/W Head까지 도달하는데 걸리는 시간<ul><li>Search Time = Rotational Delay Time</li></ul></li><li>Transmission Time : 전송시간으로 R/W Head가 액세스한 섹터와 주기억장치 간의 자료전송에 걸리는 시간</li></ul><h2 id="자기-드럼"><a class="markdownIt-Anchor" href="#자기-드럼"></a> 자기 드럼</h2><ul><li>각 트랙마다 고정된 R/W Head를 두고 있다.</li><li>DASD</li><li>Access Time = Latency Time + Transmission Time</li></ul><h1 id="연관기억장치"><a class="markdownIt-Anchor" href="#연관기억장치"></a> 연관기억장치</h1><ul><li>기억장치에서 기억된 내용의 일부를 이용하여 액세스하는 자료를 찾는 기억장치</li><li>CAM = Content Addressable Memory = 연상기억장치</li><li>정보 검색 빠름</li><li>캐시 메모리나 가상 메모리 관리기법에서 사용하는 <strong>매핑 테이블에 사용</strong></li><li>외부 인자와 내용을 비교하기 위한 병렬 판독 논리회로를 가지고 있음</li><li>하드웨어 비용 증가</li></ul><h2 id="구조"><a class="markdownIt-Anchor" href="#구조"></a> 구조</h2><ul><li>데이터 레지스터 : 인수 레지스터, 찾고자 하는 내용의 일부를 기억하는 레지스터</li><li>키 레지스터 : 마스크 레지스터, 검색에 사용할 비트를 결정하는 레지스터</li><li>매치 레지스터 : 일치 지시기, 데이터를 찾은 경우 찾았다고 표시하기 위해 사용</li></ul><h1 id="복수모듈기억장치"><a class="markdownIt-Anchor" href="#복수모듈기억장치"></a> 복수모듈기억장치</h1><ul><li>독자적으로 데이터를 저장할 수 있는 기억장치 모듈을 여러 개 가진 기억장치</li><li>주기억장치와 CPU의 속도 차이 문제점을 개선</li><li>기억장치의 버스를 시분할하여 사용</li><li>각각의 기억장치는 자체 어드레스 레지스터와 버퍼 레지스터를 가지고 독자적으로 데이터를 저장</li><li>인터리빙 기법에 의해 기억장치를 구성하는 모듈 수만큼 단어(워드)들에 동시 접근 가능</li><li>버스가 많으면 모든 모듈 동시 병렬 접근 가능</li></ul><h2 id="메모리-인터리빙"><a class="markdownIt-Anchor" href="#메모리-인터리빙"></a> 메모리 인터리빙</h2><ul><li>Memory Interleaving = 디스크 인터리빙</li><li>여러 개의 독립 모듈로 이루어진 복수 모듈 메모리와 CPU 간의 주소 버스가 한 개로만 구성되어 있으면 같은 시각에 CPU로부터 여러 모듈로 동시에 주소를 전달할 수 없다.</li><li>CPU가 각 모듈로 전송할 주소를 교대로 배치한 후 차례대로 전송하여 여러 모듈을 병행 접근하는 기법</li><li>중앙처리장치와 기억장치 사이의 실질적인 대역폭 효율을 높일 수 있다.</li><li>캐시 기억장치, 고속 DMA에서 사용</li><li>CPU 유휴시간 감소</li></ul><h1 id="캐시-메모리"><a class="markdownIt-Anchor" href="#캐시-메모리"></a> 캐시 메모리</h1><ul><li>CPU와 주기억장치의 속도차를 줄이기 위해 사용</li><li>고속 Buffer Memory</li><li>자주 사용하는 프로그램과 데이터를 기억</li><li>메모리 계층에서 가장 빠른 소자</li><li>캐시 주소표는 검색 시간을 단축시키기 위해 연관기억장치(CAM)을 사용</li></ul><h2 id="설계-고려사항"><a class="markdownIt-Anchor" href="#설계-고려사항"></a> 설계 고려사항</h2><ul><li>캐시 크기</li><li>전송 블록 크기</li><li>교체 알고리즘</li></ul><h2 id="매핑-프로세스"><a class="markdownIt-Anchor" href="#매핑-프로세스"></a> 매핑 프로세스</h2><p>주기억장치로부터 캐시 메모리로 데이터를 전송하는 방법</p><h3 id="직접-매핑"><a class="markdownIt-Anchor" href="#직접-매핑"></a> 직접 매핑</h3><ul><li>Direct Mapping</li><li>주기억장치의 블록들이 지정된 한 개의 캐시 라인으로만 매핑되는 방법</li><li>간단하고 구현 비용이 적다</li><li>적중률이 낮다</li></ul><h3 id="어소시에이티브-매핑"><a class="markdownIt-Anchor" href="#어소시에이티브-매핑"></a> 어소시에이티브 매핑</h3><ul><li>Assciative Mapping = 연관 매핑</li><li>직접 매핑의 단점 보완</li><li>모든 태그를 병렬로 검사하기 때문에 복잡하고 비용이 높음</li><li>거의 사용안함</li></ul><h3 id="세트-어소시에이티브-매핑"><a class="markdownIt-Anchor" href="#세트-어소시에이티브-매핑"></a> 세트-어소시에이티브 매핑</h3><ul><li>직접 매핑과 연관 매핑의 장점만 취함</li></ul><h2 id="쓰기-정책"><a class="markdownIt-Anchor" href="#쓰기-정책"></a> 쓰기 정책</h2><p>저장되어 있는 데이터 수정이 발생할 때 수정된 내용을 주기억장치에 갱신하기 위해 시기와 방법을 결정하는 것</p><ul><li>Wirte-Through : 캐시에 쓰기 동작이 이루어질 때마다 캐시 메모리와 주기억장치의 내용을 동시 갱신</li><li>Write-Back : 캐시에 쓰기 동작이 이루어지는 동안은 캐시의 내용만이 갱신, 캐시의 내용이 캐시로부터 제거될 때 주기억장치에 복사</li><li>Write-Once : 캐시에 쓰기 동작이 이루어질 때 한 번만 기록하고 이후의 기록은 모두 무시</li></ul><h2 id="적중률"><a class="markdownIt-Anchor" href="#적중률"></a> 적중률</h2><ul><li>캐시메모리에 접근하는 경우 원하는 정보가 캐시 메모리에 기억되어 있을 때 적중되었다고 함</li><li>캐시 기억장치가 있는 컴퓨터의 성능을 나타네내는 척도</li><li>적중률 = 적중횟수 / 총 접근 횟수</li><li>미스율 = 1 - 적중률</li></ul><h1 id="가상기억장치"><a class="markdownIt-Anchor" href="#가상기억장치"></a> 가상기억장치</h1><ul><li><strong>기억 용량이 작은 주기억장치를 큰 용량을 가진 것</strong>처럼 사용할 수 있는 기법</li><li>보조기억장치를 이용한 주기억장치의 용량 확보</li><li>소프트웨어적 방법으로 구현</li><li>프로그램을 여러 블록으로 나눠서 보조기억장치에 보관하고 프로그램 실행시 필요 부분만 주기억장치에 적재</li><li><strong>오버레이 문제가 자동적으로 해결</strong></li><li>보조기억장치 접근이 빈번하면 시스템 처리 효율이 저하</li><li>DASD에만 가능</li></ul><h2 id="주소"><a class="markdownIt-Anchor" href="#주소"></a> 주소</h2><ul><li>가상주소 : 논리주소로 보조기억장치 상의 주소</li><li>실기억주소 : 물리적주소로 주기억장치 상의 주소</li></ul><h2 id="관리"><a class="markdownIt-Anchor" href="#관리"></a> 관리</h2><ul><li>페이징 기법 : OS가 보조기억장치에 있는 프로그램을 동일한 크기의 블록으로 나눠서 관리</li><li>세그먼트 기법 : 사용자가 보조기억장치에 있는 프로그램을 가변적인 크기의 블록으로 나눠서 관리</li></ul><h2 id="관리전략"><a class="markdownIt-Anchor" href="#관리전략"></a> 관리전략</h2><h3 id="반입-전략"><a class="markdownIt-Anchor" href="#반입-전략"></a> 반입 전략</h3><ul><li>Fetch</li><li>보조기억장치에 보관중인 프로그램이나 데이터를 언제 주기억장치로 적재할 것인가?</li></ul><h3 id="배치-전략"><a class="markdownIt-Anchor" href="#배치-전략"></a> 배치 전략</h3><ul><li>Placement</li><li>새로 반입되는 포르개림이나 데이터를 주기억장치 어디에 위치시킬 것인가를 결정</li><li>최초, 최적, 최악접합이 있음</li></ul><h3 id="교체-전략"><a class="markdownIt-Anchor" href="#교체-전략"></a> 교체 전략</h3><ul><li>Replacement</li><li>주기억장치의 영역이 이미 사용중인 상태에서 새로운 프로그램을 주기억장치에 배치할 때 어떤 방식을 사용할지 결정하는 전략</li><li>FIFO, OPT, LRU, NUR, LFU, MFU 등</li><li>Page Fault 발생시 교체할 페이지를 결정해서 보조기억장치의 이전 위치에 기억시키고 새 페이지를 교체한 페이지의 위치에 놓는 것을 스테이징이라 한다</li><li>스테이징 : 느린 장치에서 바른 장치로 옮겨가는 것</li></ul><h2 id="주소-매핑"><a class="markdownIt-Anchor" href="#주소-매핑"></a> 주소 매핑</h2><ul><li>가상주소를 실 기억주소로 변환하는 작업</li><li>가상주소 형식 : 페이지 번호와 변위값</li><li>실기억주소 형식 : 페이지 프레임과 변위값</li><li>페이지 맵 테이블 : 디스크 페이지 번호와 페이지 프레임 번호, 상태 비트</li></ul><h3 id="변환-순서"><a class="markdownIt-Anchor" href="#변환-순서"></a> 변환 순서</h3><ul><li>페이지 번호에 해당하는 페이지 프레임 번호와 가상주소의 변위 주소값을 이용해 실 기억주소를 만듦</li><li>실기억주소를 이용하여 주기억장치를 액세스</li></ul><h1 id="병렬-컴퓨터"><a class="markdownIt-Anchor" href="#병렬-컴퓨터"></a> 병렬 컴퓨터</h1><ul><li>I/O 채널 또는 프로세서와 같은 다수의 프로세서에서 동시에 여러 프로세스를 처리하는 것</li><li>일부 하드웨어 오류가 발생해도 전체 시스템은 동작</li><li>처리 속도가 빠름</li><li>프로그램 작성이 어려움</li><li>기억장치 공유</li><li>특수한 업무에 적용 : 예보, 인공지능, 역학계산, 모의실험, 유도탄 등</li></ul><h2 id="flynn의-분류"><a class="markdownIt-Anchor" href="#flynn의-분류"></a> Flynn의 분류</h2><p>플린의 분류, 명령 흐름과 자료 흐름을 고려하여 분류</p><h3 id="sisd"><a class="markdownIt-Anchor" href="#sisd"></a> SISD</h3><ul><li>Single Instruction stream Single Data stream</li><li>현재 보통 컴퓨터 구조</li><li>명령 하나가 자료 하나를 처리</li><li>파이프라인에 의한 시간적 병렬 처리 가능</li></ul><h3 id="simd"><a class="markdownIt-Anchor" href="#simd"></a> SIMD</h3><ul><li>Single Instruction stream Multi Data Stream</li><li>한 개의 명령으로 여러 데이터를 동시에 처리하는 구조</li><li>배열 처리기에 의한 동기적 병렬처리가 가능</li><li>다수의 처리기가 한 개의 제어장치에 의해 제어</li></ul><h3 id="misd"><a class="markdownIt-Anchor" href="#misd"></a> MISD</h3><ul><li>Multi Instruction stream Single Data stream</li><li>다수의 처리기에 의해 각각의 명령들이 하나의 데이터를 처리하는 구조</li><li><strong>실제로 사용되지 않음</strong></li><li>파이프라인에 의한 비동기적 병렬처리 가능</li></ul><h3 id="mimd"><a class="markdownIt-Anchor" href="#mimd"></a> MIMD</h3><ul><li>Multi Instruction stream Multi Data stream</li><li>다수의 처리기가 각각 다른 명령 흐름과 자료 흐름을 가지고 여러 개의 자료를 처리하는 구조</li><li>각 처리기 사이에에서 상호작용(Interaction)이 일어남</li><li>멀티 프로세서에 의한 비동기적 병렬처리 가능</li><li>Tightly Coupled System = 다중 처리기</li><li>Loosely Coupled System = 분산 처리 시스템</li></ul><h2 id="feng의-분류"><a class="markdownIt-Anchor" href="#feng의-분류"></a> Feng의 분류</h2><p>팽은 병렬 수행 정도에 따라 분류</p><h3 id="wsbs"><a class="markdownIt-Anchor" href="#wsbs"></a> WSBS</h3><ul><li>Word-Serial, Bit-Serial</li><li>한 번에 한 비트씩 처리하는 방식 (초기 컴퓨터)</li></ul><h3 id="wpbs"><a class="markdownIt-Anchor" href="#wpbs"></a> WPBS</h3><ul><li>Word-Parallel, Bit-Serial</li><li>단어를 묶어서 그 중 한 개의 비트 슬라이스 단위를 순차적으로 처리</li></ul><h3 id="wsbp"><a class="markdownIt-Anchor" href="#wsbp"></a> WSBP</h3><ul><li>Word-Sreial, Bit-Parallel</li><li>한 번에 한 단어씩 병렬로 처리</li><li>현재의 컴퓨터</li></ul><h3 id="wpbp"><a class="markdownIt-Anchor" href="#wpbp"></a> WPBP</h3><ul><li>Word-Parallel, Bit-Parellel</li><li>단어별 병렬, 비트별 병렬 처리</li></ul><h1 id="병렬-처리-기법"><a class="markdownIt-Anchor" href="#병렬-처리-기법"></a> 병렬 처리 기법</h1><h2 id="파이프라인-프로세서"><a class="markdownIt-Anchor" href="#파이프라인-프로세서"></a> 파이프라인 프로세서</h2><ul><li>CPU 처리속도를 높이기 위해 여러개의 인스트럭션을 동시에 병렬처리하는 장치</li><li>시간적 병렬처리</li><li>명령인출 =&gt; 명령 해독 =&gt; 오퍼랜드 인출 =&gt; 명령 실행</li><li>스칼라 프로세서를 이용하는 기법</li><li>파이프라인이 차고 나면 연산속도가 빠르다.</li><li>같은 연산이 반복되면 효율적이지만 아니면 구조가 복잡하고 시간이 오래 걸린다.</li></ul><h2 id="벡터-프로세서"><a class="markdownIt-Anchor" href="#벡터-프로세서"></a> 벡터 프로세서</h2><p>산술 및 논리연산, 비교, 내적연산, 최대, 최소값 구하기 등 벡터 연산 명령을 효율적으로 수행하도록 구성된 처리기</p><h3 id="시스톨릭-프로세서"><a class="markdownIt-Anchor" href="#시스톨릭-프로세서"></a> 시스톨릭 프로세서</h3><ul><li>데이터 흐름과 제어 흐름이 규칙적인 특징을 갖는 시스톨릭 알고리즘을 이용하여 수행하는 처리기</li><li>파이프라인화 된 벡터 프로세서와 배열 프로세서의 특징을 결합한 것</li><li>초고밀도 직접회로(VLSI) 기법을 이용하여 구현</li><li>응용의 한계성과 프로그래밍의 어려움이 있음</li></ul><h2 id="배열-프로세서"><a class="markdownIt-Anchor" href="#배열-프로세서"></a> 배열 프로세서</h2><ul><li>배열처리기는 PE(Processing Element)라 불리는 다수의 연산기를 갖는 <strong>동기적 병렬 처리기</strong></li><li>명령 해독 및 제어는 제어장치가 하고, PE들는 명령 해독 능력이 결여된 수동적 장치로 명령처리만 한다.</li><li>PE를 중복 이용해서 공간적 병렬성을 얻는다.</li><li>벡터 계산이나 행렬 계산에 적합</li></ul><h2 id="데이터-플로우-컴퓨터"><a class="markdownIt-Anchor" href="#데이터-플로우-컴퓨터"></a> 데이터 플로우 컴퓨터</h2><ul><li>데이터 흐름 컴퓨터는 PC(Program Counter)가 필요 없다.</li><li>제어 흐름 컴퓨터와는 반대되는 개념</li><li>인스트럭션의 필요한 피연산자가 모두 준비되었을 때 인스트럭션을 수행하고 결과를 필요로하는 인스트럭션에 보내주는 방식</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database 정리</title>
      <link href="/2017/01/23/database-%EC%A0%95%EB%A6%AC/"/>
      <url>/2017/01/23/database-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="정보-시스템"><a class="markdownIt-Anchor" href="#정보-시스템"></a> 정보 시스템</h1><p>필요한 데이터를 수집, 필요시에 처리하는 수단</p><ul><li>자료 : 관찰이나 측정을 통해 수집, 가공되지 않은 상태</li><li>정보 : 자료를 가공</li></ul><h2 id="자료처리시스템"><a class="markdownIt-Anchor" href="#자료처리시스템"></a> 자료처리시스템</h2><p>정보시스템의 서브시스템</p><ul><li><p>일괄처리시스템 : 급여, 회계, 세무 등 모아서 처리</p></li><li><p>온라인실시간처리시스템 : 예약, 은행처리</p></li><li><p>분산처리시스템</p></li><li><p>데이터웨어하우스 : 업무 시스템에서 추출 된 데이터 집합체</p></li></ul><h1 id="db-시스템"><a class="markdownIt-Anchor" href="#db-시스템"></a> DB 시스템</h1><h2 id="개념"><a class="markdownIt-Anchor" href="#개념"></a> 개념</h2><ul><li>통합된데이터 : 중복을 배제한 데이터의 모임 (Integrated)</li><li>저장된데이터 : 저장매체에 저장된 자료 (Stored)</li><li>운영데이터 : 업무를 수행하는데 반드시 필요한 자료 (Operational), 임시불가</li><li>공용데이터 : 공동으로 소유, 유지 하는 자료 (Shared)</li></ul><h2 id="특징"><a class="markdownIt-Anchor" href="#특징"></a> 특징</h2><ul><li>실시간접근성 : (Real-Time Accessibility)</li><li>계속적인변화 : (Continuous Evolution)</li><li>동시공용 : (Concurrent Sharing)</li><li>내용에 의한 참조 : 주소나 위치에 의해서가 아니라 사용자가 요구하는 데이터로 검색(Content Reference)</li></ul><h2 id="구성요소"><a class="markdownIt-Anchor" href="#구성요소"></a> 구성요소</h2><ul><li>데이터베이스</li><li>스키마</li><li>DBMS</li><li>DB언어</li><li>DB컴퓨터</li><li>DB사용자</li></ul><h1 id="dbms"><a class="markdownIt-Anchor" href="#dbms"></a> DBMS</h1><ul><li>DB 관리 소프트웨어</li><li>모든 응용 프로그램이 DB 공용하도록 관리</li><li>DB 구성, 접근방법, 유지관리에 책임</li></ul><h2 id="dbms의-기능"><a class="markdownIt-Anchor" href="#dbms의-기능"></a> DBMS의 기능</h2><ul><li>정의(조직)기능 : 데이터 타입과 구조 정의, 이용방식, 제약조건 명시 (Definition)</li><li>조작기능 : CRUD를 위해 사용자와 DB사이의 인터페이스 수단을 제공 (Manipulation)</li><li>제어기능 : 데이터 무결성, 보안, 권한, 병행제어 처리 (Control)</li></ul><h2 id="dbms의-장단점"><a class="markdownIt-Anchor" href="#dbms의-장단점"></a> DBMS의 장단점</h2><ul><li>단점 : 전문가부족, 비용증가, Overhead, Backup과 Recovery의 어려움, 복잡</li></ul><h1 id="파일시스템의-문제점"><a class="markdownIt-Anchor" href="#파일시스템의-문제점"></a> 파일시스템의 문제점</h1><ul><li>종속성 : 데이터의 접근방법을 변경하면 응용프로그램도 변경</li><li>중복성 : 일관성, 보안성, 경제성, 무결성 위반</li></ul><h1 id="데이터독립성"><a class="markdownIt-Anchor" href="#데이터독립성"></a> 데이터독립성</h1><ul><li>논리적 독립성 : 응용프로그램과 DB를 독립, 논리적 구조를 변경해도 응용프로그램 변경하지 않음</li><li>물리적 독립성 : 응용프로그램과 물리적장치 독립, DB에 디스크를 추가해도 응용프로그램 변경하지 않음</li></ul><h1 id="db의-구성요소"><a class="markdownIt-Anchor" href="#db의-구성요소"></a> DB의 구성요소</h1><ul><li>개체</li><li>속성 : 개체의 성질</li><li>관계</li></ul><h1 id="데이터사전"><a class="markdownIt-Anchor" href="#데이터사전"></a> 데이터사전</h1><ul><li>모든 데이터 개체들에 대한 정보를 유지 관리</li><li>alias 시스템 카탈로그</li><li>데이터에 관한 데이터</li></ul><h1 id="스키마"><a class="markdownIt-Anchor" href="#스키마"></a> 스키마</h1><ul><li>외부스키마</li><li>개념스키마</li><li>내부스키마</li></ul><h2 id="특징-2"><a class="markdownIt-Anchor" href="#특징-2"></a> 특징</h2><ul><li>데이터 사전에 저장</li><li>alias 메타데이터</li><li>데이터의 구조적 특성을 의미</li><li>인스턴스에 의해 규정</li></ul><h2 id="외부스키마"><a class="markdownIt-Anchor" href="#외부스키마"></a> 외부스키마</h2><ul><li>개인이 필요로하는 DB의 논리적 구조</li><li>VIEW</li><li>alias 서브스키마</li><li>여러 개 존재 가능</li><li>사용자는 SQL을 사용해 접근</li><li>응용 프로그래머는 COBOL, C를 사용해 접근</li></ul><h2 id="개념스키마"><a class="markdownIt-Anchor" href="#개념스키마"></a> 개념스키마</h2><ul><li>DB의 전체적인 논리적 구조</li><li>하나만 존재</li><li>DB 파일에 저장되는 데이터의 형태를 나타냄</li><li>alias 스키마</li><li>DBA에 의해 구성</li></ul><h2 id="내부스키마"><a class="markdownIt-Anchor" href="#내부스키마"></a> 내부스키마</h2><ul><li>물리적 저장장치에서 본 DB 구조</li><li>DB에 저장될 레코드의 물리적인 구조 정의</li><li>내부 레코드의 물리적 순서를 기술</li><li>alias 저장스키마</li><li>시스템 프로그래머나 시스템 설계자가 봄</li></ul><h1 id="db언어"><a class="markdownIt-Anchor" href="#db언어"></a> DB언어</h1><h2 id="ddl"><a class="markdownIt-Anchor" href="#ddl"></a> DDL</h2><ul><li>DB를 구축하거나 수정</li></ul><h2 id="dml"><a class="markdownIt-Anchor" href="#dml"></a> DML</h2><ul><li>비절차적 데이터 언어</li><li>SQL, IMS, DBTG, TOTAL</li></ul><h2 id="dcl"><a class="markdownIt-Anchor" href="#dcl"></a> DCL</h2><ul><li>무경설, 보안, 권한, 회복</li></ul><h1 id="db-사용자"><a class="markdownIt-Anchor" href="#db-사용자"></a> DB 사용자</h1><h2 id="dba"><a class="markdownIt-Anchor" href="#dba"></a> DBA</h2><ul><li>DDL, DML, DCL 사용</li></ul><h2 id="응용-프로그래머"><a class="markdownIt-Anchor" href="#응용-프로그래머"></a> 응용 프로그래머</h2><ul><li>DML을 사용해 일반 사용자에게 응용프로그램 제공</li></ul><h2 id="일반사용자"><a class="markdownIt-Anchor" href="#일반사용자"></a> 일반사용자</h2><ul><li>SQL 사용</li></ul><h1 id="데이터-모델"><a class="markdownIt-Anchor" href="#데이터-모델"></a> 데이터 모델</h1><p>정보를 단순화, 추상화하여 체계적으로 표현한 개념적 모형</p><h2 id="개념적-데이터-모델"><a class="markdownIt-Anchor" href="#개념적-데이터-모델"></a> 개념적 데이터 모델</h2><ul><li>추상적인 개념으로 표현</li><li>개체와 관계를 통해 현실을 표현</li><li>ER모델</li><li>현실 세계의 개체를 <strong>인간</strong>이 이해하는 구조로 기술</li></ul><h2 id="논리적-데이터-모델"><a class="markdownIt-Anchor" href="#논리적-데이터-모델"></a> 논리적 데이터 모델</h2><ul><li>데이터 타입과 데이터 타입간의 관계를 통해 현실을 표현</li><li>DBMS는 논리적 데이터 모델을 하나만 사용</li><li>관계모델, 계층모델, 네트워크모델</li><li>현실 세계의 개체를 <strong>컴퓨터</strong>의 데이터구조로 기술</li></ul><h2 id="표시요소"><a class="markdownIt-Anchor" href="#표시요소"></a> 표시요소</h2><p>표현요소, 구성요소</p><ul><li><strong>구조</strong> : 논리적으로 표현된 개체 타입들 간의 관계로 데이터 구조 및 정적 성질을 표현 (Structure)</li><li><strong>연산</strong> : DB에 저장된 실제 데이터를 처리하는 작업에 대한 명세로 DB를 조작하는 기본 도구 (Operation)</li><li><strong>제약조건</strong> : 실제 데이터의 논리적인 제약조건 (Constraint)</li></ul><h2 id="구성요소-2"><a class="markdownIt-Anchor" href="#구성요소-2"></a> 구성요소</h2><ul><li>개체 : DB에 표현하려는 것, 유무형의 정보, 서로 연관된 속성, fs의 레코드 (Entity)</li><li>속성 : 데이터의 가장 작은 논리적 단위, fs의 데이터항목 또는 데이터 필드, 개체를 구성하는 항목 (Attribute)</li><li>관계 : 개체 간 또는 속성 간의 관계 (Relationship)</li></ul><h1 id="er모델"><a class="markdownIt-Anchor" href="#er모델"></a> ER모델</h1><p>Perter Chen, 개념적 표현</p><h2 id="erd"><a class="markdownIt-Anchor" href="#erd"></a> ERD</h2><ul><li>개체 : □</li><li>관계 : ◇</li><li>속성 : ○</li><li>기본키속성 : 밑줄원 또는 ●</li><li>연결 : 선, 링크로 개체와 속성을 연결</li><li>DB의 논리적 구조 표현</li></ul><h1 id="관계형-데이터모델"><a class="markdownIt-Anchor" href="#관계형-데이터모델"></a> 관계형 데이터모델</h1><p>테이블 (Relation)으로 표현</p><h1 id="계층형-데이터모델"><a class="markdownIt-Anchor" href="#계층형-데이터모델"></a> 계층형 데이터모델</h1><p>트리, 노드 = 개체, 부모 자식 관계</p><h2 id="특징-3"><a class="markdownIt-Anchor" href="#특징-3"></a> 특징</h2><ul><li>연쇄삭제</li><li>개체 간 사이클 허용 안됨</li><li>개체 = 세그먼트</li><li>DBMS = IMS</li></ul><h2 id="장점"><a class="markdownIt-Anchor" href="#장점"></a> 장점</h2><ul><li>구조 간단, 판독 용이</li><li>구현, 수정, 검색 용이</li><li>독립성 보장</li></ul><h2 id="단점"><a class="markdownIt-Anchor" href="#단점"></a> 단점</h2><ul><li>데이터 상호 유연성 붖고</li><li>검색경로 한정</li><li>삽입 삭제 연산 매우 복잡</li><li>다 대 다 관계 처리 어려움</li></ul><h1 id="망형-데이터모델"><a class="markdownIt-Anchor" href="#망형-데이터모델"></a> 망형 데이터모델</h1><p>CODASTYL DBTG 모델, 그래프, Owner-Member, N:M 관계</p><h1 id="db설계"><a class="markdownIt-Anchor" href="#db설계"></a> DB설계</h1><h2 id="고려사항"><a class="markdownIt-Anchor" href="#고려사항"></a> 고려사항</h2><ul><li>무결성</li><li>일관성</li><li>회복</li><li>보안</li><li>효율성</li><li>DB 확장가능</li></ul><h2 id="개념적-설계"><a class="markdownIt-Anchor" href="#개념적-설계"></a> 개념적 설계</h2><ul><li>개념 스키마 모델링과 트랜젝션 모델링</li><li>ERD 작성</li><li>alias 정보 모델링</li><li>독립적 개념스키마</li></ul><h2 id="논리적-설계"><a class="markdownIt-Anchor" href="#논리적-설계"></a> 논리적 설계</h2><p>현실세계를 물리적저장장치에 저장할 수 있도록 논리적 자료구조로 변환</p><ul><li>트랜잭션 인터페이스 설계</li><li>테이블 설계</li><li>alias 데이터 모델링</li><li>종속적 논리스키마</li></ul><h2 id="물리적-설계"><a class="markdownIt-Anchor" href="#물리적-설계"></a> 물리적 설계</h2><ul><li>DB file의 저장구조 및 액세스 경로 결정</li><li>데이터가 컴퓨터에 저장되는 방법 묘사</li><li>저장 레코드 양식 설계</li><li>데이터타입</li><li>데이터 값의 분포</li><li>접근 빈도</li><li>레코드 집중의 분석 설계</li><li>접근 경로 설계</li><li>기본 단위는 저장레코드</li></ul><h3 id="고려사항-2"><a class="markdownIt-Anchor" href="#고려사항-2"></a> 고려사항</h3><ul><li>인덱스 구조</li><li>반응시간 : (Response Time)</li><li>공간활용도 : (Space Utilization)</li><li>트랜잭션 처리량 : (Transaction Throughput)</li></ul><h2 id="db-구현"><a class="markdownIt-Anchor" href="#db-구현"></a> DB 구현</h2><ul><li>DDL 이용해 스키마 기술</li><li>응용 프로그램을 위한 트랜잭션 작성</li><li>DB 접근을 위한 응용 프로그램 작성</li></ul><h2 id="설계-순서"><a class="markdownIt-Anchor" href="#설계-순서"></a> 설계 순서</h2><p><strong>요</strong>구 분석 &gt; <strong>개</strong>념적 설계 &gt; <strong>논</strong>리적 설계 &gt; <strong>물</strong>리적 설계 &gt; <strong>구</strong>현</p><h1 id="관계형-db-구조"><a class="markdownIt-Anchor" href="#관계형-db-구조"></a> 관계형 DB 구조</h1><p>테이블로 표현</p><ul><li>릴레이션 스키마 : 속성명</li><li>릴레이션 인스턴스 : 데이터</li></ul><h2 id="튜플"><a class="markdownIt-Anchor" href="#튜플"></a> 튜플</h2><ul><li>row</li><li>튜플은 릴레이션을 구성하는 각각의 <strong>행</strong> ㅡ</li><li>속성의 모임</li><li>fs의 레코드</li><li>튜플의 수 = 카디널리티 (Cardinality) = 기수 = 대응수</li></ul><h2 id="속성"><a class="markdownIt-Anchor" href="#속성"></a> 속성</h2><ul><li>column</li><li>DB를 구성하는 가장 작은 논리적 단위, <strong>열</strong> ㅣ</li><li>fs의 데이터 또는 데이터 필드</li><li>개체의 특성</li><li>속성의 수 = 디그리 (Degree) = 차수</li></ul><h2 id="도메인"><a class="markdownIt-Anchor" href="#도메인"></a> 도메인</h2><ul><li>하나의 속성 값들의 집합</li></ul><h1 id="관계형-db-제약조건"><a class="markdownIt-Anchor" href="#관계형-db-제약조건"></a> 관계형 DB 제약조건</h1><h2 id="후보키"><a class="markdownIt-Anchor" href="#후보키"></a> 후보키</h2><p>모든 튜플에 대해 유일성과 최소성 만족</p><ul><li>유일성 : 하나의 키값으로 하나의 튜플만 식별 가능</li><li>최소성 : 모든 레코드를 유일하게 식별하는데 필요한 속성</li></ul><h2 id="기본키"><a class="markdownIt-Anchor" href="#기본키"></a> 기본키</h2><p>특정 튜플을 유일하게 구별할 수 있는 속성으로 후보키 중 선택한 Main key</p><ul><li>Null 값 불가</li></ul><h2 id="대체키"><a class="markdownIt-Anchor" href="#대체키"></a> 대체키</h2><ul><li>후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키</li><li>alias 보조키</li></ul><h2 id="슈퍼키"><a class="markdownIt-Anchor" href="#슈퍼키"></a> 슈퍼키</h2><ul><li>속성들의 집합으로 구성된 키</li><li>유일성은 만족, 최소성은 불만족</li></ul><h2 id="외래키"><a class="markdownIt-Anchor" href="#외래키"></a> 외래키</h2><ul><li>기본키를 포함하면 참조 릴레이션</li><li>외래키를 포함하면 <strong>참조하는</strong> 릴레이션</li></ul><h1 id="무결성"><a class="markdownIt-Anchor" href="#무결성"></a> 무결성</h1><ul><li>개체무결성 : 기본키를 구성하는 속성은 NULL이나 중복 불가</li><li>참조무결성 : 외래키 값은 NULL이거나 참조 릴레이션의 기본키와 동일, 도메인과 속성 갯수가 같아야함</li></ul><h1 id="관계대수"><a class="markdownIt-Anchor" href="#관계대수"></a> 관계대수</h1><p>관계형 DB에서 원하는 정보를 얻기 위해 사용하는 <strong>절차적인 언어</strong>로 연산자와 연산규칙을 제공한다.</p><ul><li>순수 관계 연산자 : Select, Project, Join, Division</li><li>일반 집합 연산자 : Union, Intersection, Difference, Cartesian Product</li></ul><h2 id="순수-관계-연산자"><a class="markdownIt-Anchor" href="#순수-관계-연산자"></a> 순수 관계 연산자</h2><h3 id="select"><a class="markdownIt-Anchor" href="#select"></a> Select</h3><ul><li>수평연산</li><li>시그마(σ)</li></ul><h3 id="project"><a class="markdownIt-Anchor" href="#project"></a> Project</h3><ul><li>속성만 추출하는 연산</li><li>수직연산</li><li>파이(π)</li></ul><h3 id="join"><a class="markdownIt-Anchor" href="#join"></a> Join</h3><ul><li>두 개의 릴레이션을 합쳐서 새로운 릴레이션으로 반환</li><li>나비넥타이 (▷◁)</li><li>자연조인 : 중복된 속성을 제거하여 같은 속성을 한 번만 표기하는 방법</li></ul><h3 id="division"><a class="markdownIt-Anchor" href="#division"></a> Division</h3><ul><li>속성을 제외한 속성만을 구하는 연산</li><li>나누기 (÷)</li></ul><h2 id="일반-집합-연산자"><a class="markdownIt-Anchor" href="#일반-집합-연산자"></a> 일반 집합 연산자</h2><ul><li>합집합, 교집합, 차집합은 합병 조건이 가능해야함.</li><li>합병조건 : 합병하려는 두 릴레이션 간에 속성 수가 같고 도메인의 범위가 같음</li></ul><h3 id="합집합"><a class="markdownIt-Anchor" href="#합집합"></a> 합집합</h3><ul><li>Union</li><li>A ∪ B ≤ A ＋ B</li><li>합집합의 카디널리티는 두 릴레이션의 카디널리티의 합보다 크지 않다.</li></ul><h3 id="교집합"><a class="markdownIt-Anchor" href="#교집합"></a> 교집합</h3><ul><li>Intersection</li><li>A ∩ B ≤ MIN(A, B)</li><li>교집합의 카디널리티는 두 릴레이션 중 작은 릴레이션보다 크지 않다.</li></ul><h3 id="차집합"><a class="markdownIt-Anchor" href="#차집합"></a> 차집합</h3><ul><li>Difference</li><li>A－B ≤ A</li><li>차집합의 카디널리티는 A의 카디널리티보다 크지 않다.</li></ul><h3 id="교차곱"><a class="markdownIt-Anchor" href="#교차곱"></a> 교차곱</h3><ul><li>Cartesian Product</li><li>(A×B) = (A)×(B)</li><li>교차곱은 두 릴레이션의 카디널리티를 곱한 것과 같다.</li><li>디그리(차수)는 더하고, 카디널리티(튜플 수)는 곱하면 된다.</li></ul><h1 id="관계해석"><a class="markdownIt-Anchor" href="#관계해석"></a> 관계해석</h1><ul><li>E.F.Codd가 Predicate Calculus에 기반</li><li>연산을 표현하는 방법, 원하는 정보를 정의시 계산 수식 사용</li><li><strong>비절차적 특성</strong></li><li>튜플 관게해석과 도메인 관계해석</li><li>질의어로 표현</li></ul><h1 id="정규화"><a class="markdownIt-Anchor" href="#정규화"></a> 정규화</h1><p>잘못 설계된 관계형 스키마를 작은 스키마로 쪼개서 바람직하게 만드는 과정으로 DB의 논리적 설계 단계에서 수행</p><h2 id="목적"><a class="markdownIt-Anchor" href="#목적"></a> 목적</h2><ul><li>안정성 최대화</li><li>어떠한 릴레이션이라도 DB에서 표현이 가능</li><li>효과적인 검색 알고리즘</li><li>중복 배제하여 CRUD 이상의 발생 방지</li><li>데이터 삽입시 릴레이션 재구성 필요성 제거</li></ul><h2 id="anomaly"><a class="markdownIt-Anchor" href="#anomaly"></a> Anomaly</h2><p>속성 간 종속 또는 튜플의 중복으로 발생</p><ul><li>삽입이상 : 원하지 않는 값도 같이 삽입</li><li>삭제이상 : 연쇄 삭제</li><li>갱신이상 : 일부만 갱신</li></ul><h2 id="과정"><a class="markdownIt-Anchor" href="#과정"></a> 과정</h2><table><thead><tr><th>단계</th></tr></thead><tbody><tr><td><strong>비정규릴레이션</strong></td></tr><tr><td><em>도메인이 원자값</em></td></tr><tr><td><strong>1NF</strong></td></tr><tr><td><em>부분적 함수 종속 제거</em></td></tr><tr><td><strong>2NF</strong></td></tr><tr><td><em>이행적 함수 종속 제거</em></td></tr><tr><td><strong>3NF</strong></td></tr><tr><td><em>결정자이면서 후보키가 아닌 것 제거</em></td></tr><tr><td><strong>BCNF</strong></td></tr><tr><td><em>다치 종속 제거</em></td></tr><tr><td><strong>4NF</strong></td></tr><tr><td><em>조인 종속성 이용</em></td></tr><tr><td><strong>5NF</strong></td></tr></tbody></table><h3 id="1nf"><a class="markdownIt-Anchor" href="#1nf"></a> 1NF</h3><p>원자값으로만 되어있는 릴레이션</p><h3 id="2nf"><a class="markdownIt-Anchor" href="#2nf"></a> 2NF</h3><p>키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속</p><ul><li>함수적 종속관계 : A에 따라 B가 항상 같은 값이 나올 때 (키-&gt;값)</li><li>완전 함수적 종속관계 : A,B에 따라 C가 항상 같은 값이 나오지만 A-C, B-C에서는 종속이 사라질 때 (여러 키-&gt;값)</li></ul><h3 id="3nf"><a class="markdownIt-Anchor" href="#3nf"></a> 3NF</h3><p>키가아닌 모든 속성이 기본키에 대해 이행적 종속관계를 제거</p><ul><li>이행적 종속관계 : A-&gt;B, B-&gt;C일 때 A-&gt;C 인 관계</li></ul><h3 id="bcnf"><a class="markdownIt-Anchor" href="#bcnf"></a> BCNF</h3><p>릴레이션에서 결정자가 모두 후보키인 관계 (Boyce-Codd Normal Form)</p><ul><li>결정자 : A-&gt;B 일 때 A를 결정자, B를 종속자</li><li>모든 BCNF가 종속성을 보존하는 것은 아니다.</li></ul><h3 id="4nf"><a class="markdownIt-Anchor" href="#4nf"></a> 4NF</h3><p>릴레이션에서 A-&gt;-&gt;B가 성립할 때 모든 속성이 A에 함수적 종속인 관계</p><ul><li>다치종속 : A,C에 대응하는 B값들이 A에만 종속되고 C에는 무관할 때 A-&gt;-&gt;B</li></ul><h3 id="5nf"><a class="markdownIt-Anchor" href="#5nf"></a> 5NF</h3><p>조인 종속성이 후보키를 통해서만 만족될 때</p><ul><li>조인종속 : 어떤 릴레이션이 자신의 pROJECTION에 대한 조인의 결과가 자신과 같을 때</li></ul><h1 id="sql"><a class="markdownIt-Anchor" href="#sql"></a> SQL</h1><ul><li><p>IBM에서 개발한 SEQUEL에서 진화</p></li><li><p>관계대수와 관계해석을 기초로한 혼합 데이터 언어</p></li><li><p>정의, 조작, 제어 기능</p></li><li><p>DDL : Create, Alter, Drop</p></li><li><p>DML : Select, Insert, Delete, Update</p></li><li><p>DCL : Commit, Rollback, Grank, Revoke</p></li></ul><h2 id="ddl-2"><a class="markdownIt-Anchor" href="#ddl-2"></a> DDL</h2><ul><li>CREATE SCHEMA|DOMAIN</li><li>CREATE TABLE 테이블명 PRIMARY UNIQUE FOREIGN KEY REFERENCES CONSTRAINT CHECK</li><li>CREATE INDEX ON [CLUSTER]</li><li>ALTER TABLE ADD|ALTER|DROP [CASCADE]</li><li>DROP SCHEMA|DOMAIN|TABLE|VIEW|INDEX [CASCADE|RESTRICTED]</li></ul><h2 id="dml-2"><a class="markdownIt-Anchor" href="#dml-2"></a> DML</h2><ul><li>SELECT FROM [WHERE][group by] [HAVING][order by]</li></ul><h2 id="dml-3"><a class="markdownIt-Anchor" href="#dml-3"></a> DML</h2><ul><li>INSERT INTO VALUES</li><li>DELETE FROM WHERE</li><li>UPDATE SET</li></ul><h1 id="내장-sql"><a class="markdownIt-Anchor" href="#내장-sql"></a> 내장 SQL</h1><p>컴퓨터 프로그램에 SQL 명령을 삽입한 것</p><ul><li>일반 SQL은 여러 개의 튜플을 반환하지만, 내장 SQL은 단 하나의 튜플을 반환</li><li>반환되는 튜플은 일반 변수를 사용하여 저장 가능</li><li>호스트 변수와 DB 필드명은 같아도 된다.</li><li>내장 SQL 앞에 EXEC SQL 사용</li><li>호스트 변수는 변수앞에 콜론(:)을 붙임</li></ul><h2 id="커서"><a class="markdownIt-Anchor" href="#커서"></a> 커서</h2><ul><li>내장 SQL문의 수행 결과로 복수의 튜플이 반환될 시 액세스 할 수 있게 해준다.</li><li>질의 수행 결과로 반환되는 첫 튜플에 대한 포인터</li></ul><h3 id="커서-명령어"><a class="markdownIt-Anchor" href="#커서-명령어"></a> 커서 명령어</h3><ul><li>DECLARE : 선언</li><li>OPEN : 첫번째 튜플 포인트</li><li>FETCH : 다음 튜플로 포인터 이동</li><li>CLOSE : 종료</li></ul><h1 id="뷰"><a class="markdownIt-Anchor" href="#뷰"></a> 뷰</h1><ul><li>본 테이블로 유도된 가상 테이블</li><li>조인 사용 최소화로 사용상의 편의성을 최대화</li><li>외부 스키마</li><li>물리적으로 구현되어 있지 않음</li><li>뷰가 정의된 테이블이나 뷰를 삭제하면 그걸 참조한 다른 뷰도 삭제됨.</li></ul><h2 id="장점-2"><a class="markdownIt-Anchor" href="#장점-2"></a> 장점</h2><ul><li>논리적 데이터 독립성 제공</li><li>보안</li></ul><h2 id="단점-2"><a class="markdownIt-Anchor" href="#단점-2"></a> 단점</h2><ul><li>독립적인 인덱스 사용 불가</li><li>정의 변경 불가</li><li>CRUD 제한</li></ul><h1 id="시스템-카탈로그"><a class="markdownIt-Anchor" href="#시스템-카탈로그"></a> 시스템 카탈로그</h1><ul><li>시스템에 관련된 다양한 객체가 담긴 시스템 DB</li><li>alias 자료사전 = data dictionary = 카탈로그 = 데이터사전</li><li>메타데이터 : 카탈로그에 저장된 정보</li><li>SQL을 이용해 내용 검색 가능</li><li>수정 및 삽입 불가</li><li>DB에 따라 다른 구조</li><li>DBMS가 스스로 생성하고 유지</li><li>시스템, 사용자 접근가능</li></ul><h2 id="data-directory"><a class="markdownIt-Anchor" href="#data-directory"></a> Data Directory</h2><ul><li>데이터 사전에 있는 데이터를 실제로 접근하는데 필요한 정보를 관리하는 시스템</li><li><strong>시스템만 접근가능</strong></li></ul><h1 id="트랜잭션"><a class="markdownIt-Anchor" href="#트랜잭션"></a> 트랜잭션</h1><ul><li>DB 상태를 변환시키는 하나의 논리적 기능의 단위</li><li>한꺼번에 모두 수행되어야할 연산들</li><li>병행 제어 및 회복 작업시 처리되는 작업의 논리적 단위</li><li>시스템이 응답하기 위한 상태 변환 과정의 작업 단위</li></ul><h2 id="특성"><a class="markdownIt-Anchor" href="#특성"></a> 특성</h2><p>무결성을 보장</p><h3 id="원자성"><a class="markdownIt-Anchor" href="#원자성"></a> 원자성</h3><ul><li>Atomicity</li><li>트랜잭션 내의 명령은 반드시 완벽히 수행</li><li>모두가 수행되거나 오류시 전부가 취소되어야함</li></ul><h3 id="일관성"><a class="markdownIt-Anchor" href="#일관성"></a> 일관성</h3><ul><li>Consistency</li><li>DB의 전체 요소는 트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야함 (질량 보존 법칙처럼)</li></ul><h3 id="독립성"><a class="markdownIt-Anchor" href="#독립성"></a> 독립성</h3><ul><li>Isolation = 격리성 = 순차성</li><li>둘 이상의 트랜잭션이 병행 실행되는 경우 다른 트랜잭션 연산이 끼어들 수 없음</li><li>수행 중인 트랜잭션은 완료될 때 까지 다른 트랜잭션에서 참조 불가.</li></ul><h3 id="영속성"><a class="markdownIt-Anchor" href="#영속성"></a> 영속성</h3><ul><li>Durability = 지속성</li><li>시스템이 고장나도 영구적으로 반영</li></ul><h2 id="commit"><a class="markdownIt-Anchor" href="#commit"></a> Commit</h2><h2 id="rollback"><a class="markdownIt-Anchor" href="#rollback"></a> Rollback</h2><ul><li>Active : 트랜잭션 실행 중</li><li>Failed : 트랜잭션 오류 발생으로 중단</li><li>Aborted : 트랜잭션 비정상적 종료로 Rollback 연산 실행한 상태</li><li>Partially Committed : 트랜잭션 마지막 연산까지 실행됬으나 Commit은 안 한 상태</li><li>Committed : 트랜잭션이 성공적으로 종료되어 Commit 연산 실행한 상태</li></ul><h1 id="회복"><a class="markdownIt-Anchor" href="#회복"></a> 회복</h1><p>장애 발생으로 DB가 손상되었을 때 복구하는 작업, Recovery</p><ul><li>트랜잭션 장애 : 실행 또는 로직 오류</li><li>시스템 장애 : 하드웨어 오동작, 소프트웨어 손상, 교착상태</li><li>미디어 장애 : 물리적 데미지</li></ul><h2 id="회복기법"><a class="markdownIt-Anchor" href="#회복기법"></a> 회복기법</h2><h3 id="연기-갱신-기법"><a class="markdownIt-Anchor" href="#연기-갱신-기법"></a> 연기 갱신 기법</h3><ul><li>Deferred Update</li><li>트랜잭션동안 갱신된 내용이 Log에 보관됨</li><li>Partially Committed 상태에서 Log에 보관한 내용을 실제 DB에 기록</li><li>Redo 작업만 가능</li></ul><h3 id="즉시-갱신-기법"><a class="markdownIt-Anchor" href="#즉시-갱신-기법"></a> 즉시 갱신 기법</h3><ul><li>Immediate Update</li><li>트랜잭션 중이라도 DB에 반영</li><li>장애 대비로 갱신 내용을 Log에 보관</li><li>Redo, Undo 모두 사용 가능</li></ul><h3 id="그림자-페이지-대체-기법"><a class="markdownIt-Anchor" href="#그림자-페이지-대체-기법"></a> 그림자 페이지 대체 기법</h3><ul><li>Shadow Paging</li><li>트랜잭션을 Rollback할 때, 갱신된 이후의 실제 페이지 부분에 그림자 페이지를 대체하여 회복</li><li>로그, Undo, Redo <strong>필요 없음</strong></li></ul><h3 id="검사점-기법"><a class="markdownIt-Anchor" href="#검사점-기법"></a> 검사점 기법</h3><ul><li>Check Point</li><li>복구 시점을 로그에 보관하고 그 시점부터 회복작업을 수행</li></ul><h1 id="병행제어"><a class="markdownIt-Anchor" href="#병행제어"></a> 병행제어</h1><p>다중 실행되는 트랜잭션들이 DB의 일관성을 파괴하지 않도록 트랜잭션 상호작용을 제어하는 것</p><h2 id="목적-2"><a class="markdownIt-Anchor" href="#목적-2"></a> 목적</h2><ul><li>DB 공유 최대화</li><li>시스템 활용도 최대화</li><li>DB 일관성 유지</li><li>응답시간 최소화</li></ul><h2 id="직렬화-가능성"><a class="markdownIt-Anchor" href="#직렬화-가능성"></a> 직렬화 가능성</h2><p>병행수행된 각각의 트랜잭션 결과는 각 트랜잭션을 독자적으로 실행했을 때의 결과와 같아야한다.</p><h2 id="문제점"><a class="markdownIt-Anchor" href="#문제점"></a> 문제점</h2><ul><li>갱신 분실 : 갱신 결과의 일부가 없어짐 (Lost Update)</li><li>비완료 의존성 : 하나의 트랜잭션이 실패 후 회복되기 전에 다른 트랜잭션이 실패한 갱신결과를 참조하는 현상 (Uncommitted Dependency)</li><li>모순성 : 두 개의 트랜잭션이 병행될 때 원치 않는 자료를 이용 (Inconsistency)</li><li>연쇄 복귀 : 하나를 Rollback시 다른 것도 Rollback 되는 경우 (Cascading Rollback)</li></ul><h1 id="병행제어-기법"><a class="markdownIt-Anchor" href="#병행제어-기법"></a> 병행제어 기법</h1><h2 id="로킹"><a class="markdownIt-Anchor" href="#로킹"></a> 로킹</h2><ul><li>Lock이 허락되어야만 액세스할 수 있도록 하는 기법</li></ul><table><thead><tr><th>로킹단위</th><th>Lock 수</th><th>병행성</th><th>공유도</th></tr></thead><tbody><tr><td>큼</td><td>작음</td><td>낮음</td><td>감소</td></tr><tr><td>작음</td><td>큼</td><td>높음</td><td>증가</td></tr></tbody></table><h3 id="2단계-로킹-규약"><a class="markdownIt-Anchor" href="#2단계-로킹-규약"></a> 2단계 로킹 규약</h3><ul><li>Tow-Phase Locking</li><li>직렬성을 보장하지만 <strong>교착상태 예방 불가</strong></li></ul><h2 id="타임-스탬프-순서"><a class="markdownIt-Anchor" href="#타임-스탬프-순서"></a> 타임 스탬프 순서</h2><ul><li>트랜잭션을 실행 하기 전에 Time Stamp를 부여하여 부여된 시간에 따라 처리</li><li><strong>교착상태 발생 안함</strong></li></ul><h2 id="최적-병행수행"><a class="markdownIt-Anchor" href="#최적-병행수행"></a> 최적 병행수행</h2><ul><li>검증 = 확인 = 낙관적 기법</li><li>Read Only 트랝개션일 경우 충돌률이 낮으므로 병행제어를 안하고 실행</li></ul><h2 id="다중-버전-기법"><a class="markdownIt-Anchor" href="#다중-버전-기법"></a> 다중 버전 기법</h2><ul><li>갱신될 때마다 <strong>버전을 부여</strong>하여 관리</li></ul><h1 id="무결성-2"><a class="markdownIt-Anchor" href="#무결성-2"></a> 무결성</h1><ul><li>DB 데이터의 정확성, 일관성을 보장하기 위해 부정확한 자료가 DB내에 저장되는 것을 방지하기 위한 제약조건</li><li>사용자로부터 DB를 보호</li><li>사용자가 정확하게 DB를 사용할 수 있도록 보장</li><li>대표적인 방법은 중앙 통제에 의한 데이터 갱신</li><li>Null 무결성 : 특정 속성이 Null이 될 수 없음</li><li>고유 무결성 : 각 튜플의 값이 서로 달라야함</li><li>참조 무결성 : 외래키 값은 Null이거나 참조 릴레이션의 기본키 값과 같아야함.</li><li>도메인 무결성 : 특정 속성이 그 도메인에 속해야함.</li><li>키 무결성 : 하나의 테이블에는 적어도 하나의 키가 존재해야함.</li><li>관계 무결성 : 릴레이션에 한 튜플의 삽입 가능 여부 또는 다른 릴레이션 튜플 사이의 관계에 대한 적절성 여부를 지정.</li><li>개체 무결성 : 기본 키를 구성하는 어떤 속성도 Null이나 중복값을 가질 수 없음</li></ul><h1 id="db-보안"><a class="markdownIt-Anchor" href="#db-보안"></a> DB 보안</h1><ul><li>권한이 없는 사용자로부터 DB를 보호</li><li>사용자들이 DB를 사용하고자 할 때 언제든지 사용할 수 있도록 보장</li></ul><h2 id="암호화"><a class="markdownIt-Anchor" href="#암호화"></a> 암호화</h2><h3 id="개인키-암호방식"><a class="markdownIt-Anchor" href="#개인키-암호방식"></a> 개인키 암호방식</h3><ul><li>alias 비밀키 암호방식 = 대칭 암호방식 = 단일키 암호화 기법</li><li>동일한 키로 데이터를 암복호화</li><li>전위, 대체, 대수, 합성기법</li><li>암복호화 속도가 빠름</li><li>알고리즘 단순</li><li>파일 크기가 작음</li><li>사용자가 증가하면 키 파일이 많아짐</li><li>DES : <strong>64Bit의 평문 블록</strong>을 <strong>56Bit의 16개의 키</strong>를 이용해 암호 계산</li></ul><h3 id="공개키-암호방식"><a class="markdownIt-Anchor" href="#공개키-암호방식"></a> 공개키 암호방식</h3><ul><li>서로 다른키로 데이터를 암복호화</li><li>암호화키는 공개키로 복호화키는 관리자가 관리</li><li>alias 비대칭 암호 방식</li><li>키 분배가 용이</li><li>관리할 키 개수가 적음</li><li>암복호화 속도가 느림</li><li>알고리즘 복잡</li><li>파일 크기가 큼</li><li>RSA</li></ul><h2 id="권한-부여"><a class="markdownIt-Anchor" href="#권한-부여"></a> 권한 부여</h2><ul><li>GRANT 사용자 등급 TO</li><li>REVOKE 사용자 등급 FROM</li><li>CASCADE 사용시 권한을 부여받았던 사용자가 다른 사용자에게 부여한 권한도 연쇄적으로 삭제됨</li></ul><h3 id="사용자-등급"><a class="markdownIt-Anchor" href="#사용자-등급"></a> 사용자 등급</h3><ul><li>DBA : DB 관리 책임자</li><li>RESOURCE : DB 및 테이블 생성 가능자</li><li>CONNECT : 단순 사용자</li></ul><h1 id="분산-db"><a class="markdownIt-Anchor" href="#분산-db"></a> 분산 DB</h1><p>보안, 보호가 어렵다.</p><h2 id="구성"><a class="markdownIt-Anchor" href="#구성"></a> 구성</h2><ul><li>분산처리기</li><li>분산db</li><li>통신네트워크</li></ul><h2 id="목표"><a class="markdownIt-Anchor" href="#목표"></a> 목표</h2><ul><li>위치 투명성 : DB의 논리적인 명칭으로 액세스 가능 (Location Transparency)</li><li>중복 투명성 : 사용자는 하나의 데이터만 존재하는 것처럼 사용 (Replication Transparency)</li><li>병행 투명성 : 다수의 트랜잭션이 실행 가능 (Concurrency Transparency)</li><li>장애 투명성 : 장애가 나도 트랜잭션 처리 가능 (Failure Transparency)</li></ul><h2 id="미들웨어"><a class="markdownIt-Anchor" href="#미들웨어"></a> 미들웨어</h2><ul><li>분산 환경에서 구성원을 연결하고 구성원 간의 차이를 극복하도록 범용으로 개발된 소프트웨어</li><li>클라이언트와 서버 사이에 존재하면서 다중통신, 데이터 액세스 프로토콜과 인터페이스를 지원</li><li>통신 미들웨어 : NOS</li><li>DB 미들웨어 : ODBC</li><li>분산 객체 미들웨어 : CORBA, DCOM</li></ul><h1 id="자료구조"><a class="markdownIt-Anchor" href="#자료구조"></a> 자료구조</h1><p>어떠한 자료구조에서도 필요한 모든 연산을 처리하는 것이 가능하다.</p><h2 id="분류"><a class="markdownIt-Anchor" href="#분류"></a> 분류</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">"선형"</span>:&#123;</span><br><span class="line">        <span class="attr">"리스트"</span>:[<span class="string">"선형"</span>, <span class="string">"연결"</span>],</span><br><span class="line">        "스택",</span><br><span class="line">        "큐",</span><br><span class="line">        <span class="string">"덱"</span></span><br><span class="line">    &#125;,</span><br><span class="line">   "비선형":["트리","그래프"]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="리스트"><a class="markdownIt-Anchor" href="#리스트"></a> 리스트</h1><h2 id="선형-리스트"><a class="markdownIt-Anchor" href="#선형-리스트"></a> 선형 리스트</h2><ul><li>연접 리스트 = Dense List = 축차 구조 = Sequential Structure</li><li><strong>배 열</strong></li><li>간단한 자료 구조</li><li>접근 속도 빠름</li><li>중간 자료 삽입시 연속된 빈공간이 있어야함</li><li>기억장소 효율 가장 좋음</li><li>이동횟수 : 삽입시 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{n+1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.845108em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 삭제시 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{n-1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.845108em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>삽입 삭제 시 자료의 이동이 필요하기 때문에 번거로움</li></ul><h2 id="연결-리스트"><a class="markdownIt-Anchor" href="#연결-리스트"></a> 연결 리스트</h2><ul><li>노드의 삽입 삭제 작업 용이</li><li>기억공간이 연속적이지 않아도 저장 가능</li><li>연결을 위한 포인터가 필요하기 때문에 기억공간 효율이 좋지 않음</li><li>트리를 표현할 때 가장 적합</li><li>희소행렬을 표현하면 기억장소가 절약됨</li><li>희소행렬 : 행렬의 요소 중 많은 항이 0으로 되어 있는 형태</li></ul><h3 id="종류"><a class="markdownIt-Anchor" href="#종류"></a> 종류</h3><ul><li>단순 연결 리스트</li><li>단순 환상 연결 리스트</li><li>이중 연결 리스트</li><li>이중 환상 연결 리스트</li></ul><h1 id="스택"><a class="markdownIt-Anchor" href="#스택"></a> 스택</h1><ul><li><p>한 쪽에서만 삽입 삭제 가능</p></li><li><p>후입선출 (LIFO)</p></li><li><p>Top : 마지막으로 삽입된 자료의 위치 = 스택 포인터</p></li><li><p>Bottom : 스택 바닥</p></li><li><p>Overflow</p></li><li><p>Underflow</p></li><li><p>부 프로그램 호출시 복귀주소 저장</p></li><li><p>함수 호출의 순서 제어</p></li><li><p>인터럽트 복귀주소 저장</p></li><li><p>후위 표기법 연산</p></li><li><p>0 주소 지정방식 명령어의 자료 저장소</p></li><li><p>재귀 프로그램</p></li><li><p>컴파일러를 사용한 언어 번역</p></li></ul><h1 id="큐"><a class="markdownIt-Anchor" href="#큐"></a> 큐</h1><ul><li><p>선형 리스트의 한쪽에서는 삽입, 다른쪽에서는 삭제만 이루어짐</p></li><li><p>선입선출 (FIFO)</p></li><li><p>시작과 끝을 표시하는 두개의 포인터 존재</p></li><li><p>프런트 포인터</p><ul><li>가장 먼저 삽입된 자료의 포인터</li><li>삭제 작업시 사용</li></ul></li><li><p>리어 포인터</p><ul><li>가장 마지막에 삽입된 자료의 포인터</li><li>삽입 작업시 사용</li></ul></li><li><p><strong>운영체제 작업 스케줄링</strong></p></li><li><p>spool</p></li></ul><h1 id="덱"><a class="markdownIt-Anchor" href="#덱"></a> 덱</h1><ul><li>삽입과 삭제가 리스트 양쪽에서 일어남</li><li>Double Ended Queue</li><li>Stack과 Queue를 합쳐서 만듦</li><li>Scroll : 입력 제한 데크</li><li>Shelf : 출력 제한 데크</li></ul><h1 id="트리"><a class="markdownIt-Anchor" href="#트리"></a> 트리</h1><ul><li>족보, 연산수식, 구조도, 힙(heap)에 사용</li><li>근노드 : Root node</li><li>단말노드 : Terminal Node = Leaf Node</li><li>차수 : Degree = 가지 수</li><li>레벨 : 노드의 레벨</li><li>깊이 : 최대 레벨</li><li>숲 : Forest 여러 트리의 집합</li><li>tree의 degree : MAX(degree)</li></ul><h2 id="이진트리"><a class="markdownIt-Anchor" href="#이진트리"></a> 이진트리</h2><ul><li>차수가 2이하인 노드로 구성된 트리</li><li>레벨 i에서의 최대 노드의 수는 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8141079999999999em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></li><li>전체의 최대 노드의 수는 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.747722em;vertical-align:-.08333em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span></li><li>단말 노드 수가 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">N_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>, 차수(가지 수)가 2인 노드의 수가 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">N_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>라고 할 때 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><mo>=</mo><msub><mi>N</mi><mn>2</mn></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N_0=N_2+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10903em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span> 성립</li></ul><h3 id="정이진-트리"><a class="markdownIt-Anchor" href="#정이진-트리"></a> 정이진 트리</h3><p>꽉찬 트리</p><h3 id="전이진-트리"><a class="markdownIt-Anchor" href="#전이진-트리"></a> 전이진 트리</h3><p>왼쪽부터 오른쪽으로 하나씩 빠짐없이 채워진 트리</p><h3 id="사향트리"><a class="markdownIt-Anchor" href="#사향트리"></a> 사향트리</h3><p>한 쪽 자식 노드가 없는 치우친 트리</p><ul><li>왼쪽 사향 이진 트리</li><li>오른쪽 사향 이진 트리</li></ul><h1 id="이진트리-운행법"><a class="markdownIt-Anchor" href="#이진트리-운행법"></a> 이진트리 운행법</h1><ul><li>Preorder : <strong>Root</strong> &gt; Left &gt; Right</li><li>Inorder : Left &gt; <strong>Root</strong> &gt; Right</li><li>Postorder : Left &gt; Right &gt; <strong>Root</strong></li></ul><h2 id="수식의-표기"><a class="markdownIt-Anchor" href="#수식의-표기"></a> 수식의 표기</h2><ul><li><p>Prefix : <strong>연산자</strong> &gt; Left &gt; Right</p></li><li><p>Infix : Left &gt; <strong>연산자</strong> &gt; Right</p></li><li><p>Postfix : Left &gt; Right &gt; <strong>연산자</strong></p></li><li><p>Infix to Prefix or Postfix : 연산에 따라 괄호로 묶고 연산자를 괄호 앞뒤로 옮김</p></li><li><p>Prefix or Postfix to Infix : 운행 순서에 따라 괄호로 묶어 연산자를 피연산자 사이로 이동</p></li></ul><h2 id="스레드-이진트리"><a class="markdownIt-Anchor" href="#스레드-이진트리"></a> 스레드 이진트리</h2><ul><li>이진트리에서 발생하는 Null 링크를 트리 운행에 필요한 다른 노드의 포인터로 사용하도록 된 트리</li><li>Nil로 Null pointer 기록</li><li>왼쪽이 Nil이면 운행상 전 노드를 가리킴</li><li>오른쪽이 Nil이면 운행상 후 노드를 가리킴</li><li>Nil이 아닐경우 다음 노드를 가리킴</li></ul><h1 id="그래프"><a class="markdownIt-Anchor" href="#그래프"></a> 그래프</h1><ul><li>정점 (Vertex)와 간선 (Edge)로 이루어짐</li><li>차수<ul><li>무방향 그래프 : 한 정점에 연결된 간선 수</li><li>방향 그래프 : 진입(Indegree), 진출(Outdegree)</li></ul></li><li>완전 그래프의 간선 수<ul><li>무방향 그래프 : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{n(n-1)}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.485em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>방향 그래프 : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n(n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li></ul></li><li>사이클 : 같은 정점으로 시작과 끝이 이루어짐</li><li>최대 사이클 : 사이클을 이루는 경로 중 최대 경로의 길이</li></ul><h2 id="인접행렬"><a class="markdownIt-Anchor" href="#인접행렬"></a> 인접행렬</h2><ul><li>Adjacency Matrix</li><li>선이 있으면 1, 없으면 0으로 표기</li></ul><h2 id="최소-비용-신장-트리"><a class="markdownIt-Anchor" href="#최소-비용-신장-트리"></a> 최소 비용 신장 트리</h2><ul><li>MST = Minimum-Cost Spanning Tree</li><li>가중치가 작은 간선들을 사이클을 이루지 않게 연결한 그래프</li></ul><h1 id="정렬"><a class="markdownIt-Anchor" href="#정렬"></a> 정렬</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"내부정렬"</span>: &#123;</span><br><span class="line">    <span class="attr">"선택"</span>: [<span class="string">"힙"</span>],</span><br><span class="line">    <span class="attr">"삽입"</span>: [<span class="string">"삽입"</span>, <span class="string">"쉘"</span>],</span><br><span class="line">    <span class="attr">"교환"</span>: [<span class="string">"버블"</span>, <span class="string">"선택"</span>, <span class="string">"퀵"</span>],</span><br><span class="line">    <span class="attr">"병합"</span>: [<span class="string">"2-Way Merge Sort"</span>],</span><br><span class="line">    <span class="attr">"분배"</span>: [<span class="string">"기수"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"외부정렬"</span>: [</span><br><span class="line">    <span class="string">"밸런스 병합"</span>,</span><br><span class="line">    <span class="string">"케스케이드 병합"</span>,</span><br><span class="line">    <span class="string">"폴리파즈 병합"</span>,</span><br><span class="line">    <span class="string">"오실레이팅 병합"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="고려사항-3"><a class="markdownIt-Anchor" href="#고려사항-3"></a> 고려사항</h2><ul><li>데이터의 양</li><li>초기 데이터의 배열 상태</li><li>키 값들의 분포 상태</li><li>소요공간 및 작업시간</li><li>시스템의 특성</li></ul><h1 id="내부정렬"><a class="markdownIt-Anchor" href="#내부정렬"></a> 내부정렬</h1><h2 id="삽입정렬"><a class="markdownIt-Anchor" href="#삽입정렬"></a> 삽입정렬</h2><ul><li>이미 순서화된 파일에 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span></span></span></span>번째 키를 앞의 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>개의 키와 비교</li><li>뒤에서 앞으로 비교</li></ul><h2 id="쉘정렬"><a class="markdownIt-Anchor" href="#쉘정렬"></a> 쉘정렬</h2><ul><li>매개변수</li><li>입력파일이 부분적으로 정렬되어 있는 경우</li></ul><h2 id="선택정렬"><a class="markdownIt-Anchor" href="#선택정렬"></a> 선택정렬</h2><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span></span></span></span>개의 레코드에서 최소값을 찾아 첫 번째 레코드에 놓고 나머지 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>개 중에서 다시 최소값을 찾아 두번째… 를 반복</li><li>앞에서 뒤로 비교</li></ul><h2 id="버블정렬"><a class="markdownIt-Anchor" href="#버블정렬"></a> 버블정렬</h2><ul><li>주어진 파일에서 인접한 두 개의 레코드를 비교하여 그 크기에 따라 레코드 위치를 서로 교환</li><li>계속 정렬 여부를 플래그 비트로 결정</li></ul><h2 id="퀵정렬"><a class="markdownIt-Anchor" href="#퀵정렬"></a> 퀵정렬</h2><ul><li>작은 값은 왼쪽에 큰 값은 오른 쪽에 모이도록해서 분할해서 정렬</li><li>가장 바름</li><li>스택 필요</li></ul><h2 id="힙-정렬"><a class="markdownIt-Anchor" href="#힙-정렬"></a> 힙 정렬</h2><ul><li>전이진 트리를 이용한 정렬 방식</li></ul><h2 id="2-way-합병-정렬"><a class="markdownIt-Anchor" href="#2-way-합병-정렬"></a> 2-Way 합병 정렬</h2><ul><li>Merge Sort</li><li>두 개의 키를 한 쌍으로 하여 각 쌍에 대해 순서를 정함</li><li>이미 정렬되어 있는 두 개의 파일을 한 개의 파일로 병합</li></ul><h2 id="기수-정렬"><a class="markdownIt-Anchor" href="#기수-정렬"></a> 기수 정렬</h2><ul><li>큐를 이용하여 자릿수 별로 정렬</li><li>레코드의 키를 분석하여 같은 수 또는 문자끼리 그 순사에 맞는 버킷에 분배했다가 버킷 순으로 레코드를 꺼내어 정렬</li><li>키워드를 나타내는 레이블 내의 주소로 키워드를 변경</li></ul><h1 id="검색"><a class="markdownIt-Anchor" href="#검색"></a> 검색</h1><h2 id="선형-검색"><a class="markdownIt-Anchor" href="#선형-검색"></a> 선형 검색</h2><ul><li>첫 번쨰 레코드 키 값부터 차례로 비교하여 검색</li><li>순차 검색</li></ul><h2 id="제어-검색"><a class="markdownIt-Anchor" href="#제어-검색"></a> 제어 검색</h2><ul><li>반드시 순서화된 파일이여야 검색 가능</li><li>한 번의 비교가 끝난 후 비교 대상이 된 레코드를 다음에 비교할 대상을 선택하는 기준으로 사용</li><li>이분 검색 : M = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>F</mi><mo>+</mo><mi>L</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{F+L}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.872331em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">F</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>피보나치 검색</li><li>보간 검색 : 있음직한 부분의 키를 택하여 검색, 프로그래밍 불가</li><li>블록 검색 : 블록으로 분할해 인덱싱 후 어느 인덱스에 있는지 검색 후 블록 내를 다시 선형 검색</li></ul><h2 id="이진-트리-검색"><a class="markdownIt-Anchor" href="#이진-트리-검색"></a> 이진 트리 검색</h2><ul><li>파일을 이진 검색 트리로 구성하여 검색</li><li>이진 검색 트리 : 왼쪽 자식노드는 부모보다 작고, 오른쪽 자식노드는 부모보다 크게 구성</li></ul><h1 id="해싱"><a class="markdownIt-Anchor" href="#해싱"></a> 해싱</h1><ul><li>해싱은 DAM 파일을 구성할 때 사용, 접근 속도는 빠르나 기억공간 요구</li><li>다른 방식에 비해 검색속도가 가장 빠름</li><li>삽입 삭제 작업이 많을 때 유리</li><li>키-주소 변환방법</li></ul><h2 id="해시테이블"><a class="markdownIt-Anchor" href="#해시테이블"></a> 해시테이블</h2><ul><li>버킷 : 하나의 주소를 갖는 파일의 한 구역</li><li>슬롯 : 한 개의 레코드를 저장할 수 있는 공간, N개의 슬롯이 모여 하나의 버킷</li><li>Collision : 서로 다른 두 개 이상의 레코드가 같은 주소를 갖는 현상</li><li>Synonym : 충돌로 인해 같은 주소를 같는 레코드들의 집합</li><li>Overflow : 버킷에 저장할 공간이 없는 상태, Collision은 발생해도 Overflow는 발생하지 않을 수 있음</li></ul><h2 id="해싱함수"><a class="markdownIt-Anchor" href="#해싱함수"></a> 해싱함수</h2><ul><li>제산법 : 소수를 사용함 (Division)</li><li>제곱법 : 키를 제곱해 중간부분을 추출 (Mid-Square)</li><li>폴딩법 : 키를 여러부분으로 나눠 각 부분을 더하거나 XOR한 값을 추출 (Folding)</li><li>기수 변환법 : 키 숫자의 진수를 다른 진수로 변환시켜 초과한 자릿수를 절삭</li><li>대수적 코딩법 : 키 값의 비트 수를 다항식의 계수로 간주</li><li>계수 분석법 : 숫자 분포를 분석하여 비교적 고른자리</li><li>무작위법 : 랜덤</li></ul><h2 id="overflow-해결"><a class="markdownIt-Anchor" href="#overflow-해결"></a> Overflow 해결</h2><h3 id="개방-주소법"><a class="markdownIt-Anchor" href="#개방-주소법"></a> 개방 주소법</h3><ul><li>선형 방법</li><li>순차적으로 그 다음 빈 버킷을 찾아 저장</li><li>Open Addressing</li></ul><h3 id="폐쇄-주소법"><a class="markdownIt-Anchor" href="#폐쇄-주소법"></a> 폐쇄 주소법</h3><ul><li>Overflow된 레코드를 별도의 Overflow영역에 저장하고 체인(Pointer)로 홈버킷과 연결</li><li>Direct Chaining : Cylinder Overflow Area에 보관 (해시테이블 내)</li><li>Indirect Chaining : Independent Overflow Area에 보관 (해시테이블 밖)</li></ul><h3 id="재해싱"><a class="markdownIt-Anchor" href="#재해싱"></a> 재해싱</h3><p>새로운 해싱함수로 새로운 홈 주소</p><h1 id="인덱스"><a class="markdownIt-Anchor" href="#인덱스"></a> 인덱스</h1><ul><li>데이터 레코드를 빠르게 접근하기 위해 구성하는 것</li><li>데이터가 저장된 물리적 구조와 밀접한 관계</li><li>레코드가 저장된 물리적 구조에 접근하는 방법을 제공</li><li>삽입과 삭제가 빈번하면 인덱스의 갯수를 최소화</li></ul><h2 id="m-원-검색-트리"><a class="markdownIt-Anchor" href="#m-원-검색-트리"></a> m-원 검색 트리</h2><ul><li>m-Way Search Tree</li><li>키 값의 일부분이 동일한 문자열이나 숫자로 구성된 자료를 표현하는데 효과적</li><li>삽입, 삭제시 트리 균형을 유지하기 위해 복잡한 연산이 필요</li></ul><h2 id="b트리"><a class="markdownIt-Anchor" href="#b트리"></a> B트리</h2><ul><li>균형된 m원 검색트리</li><li>모든 Leaf는 같은 레벨이 있다.</li><li>한 노드 안에 있는 키 값들은 오름차순을 유지</li></ul><h2 id="b트리-2"><a class="markdownIt-Anchor" href="#b트리-2"></a> B+트리</h2><ul><li>B트리의 변형, 인덱스 세트와 리프 노드로만 구성된 순차 데이터 세트로 구성</li><li>B트리의 연산과정을 줄일 수 있는 트리구조</li></ul><h2 id="트라이-색인"><a class="markdownIt-Anchor" href="#트라이-색인"></a> 트라이 색인</h2><ul><li>Trie</li><li>탐색을 위한 키 값을 직접 표현하지 않고 키를 구성하는 문자나 숫자 자체의 순서로 키 값을 구성하는 구조</li><li>키 값이 문자 또는 숫자일 경우, 키 값들에 대해 일부분이 같은 문자나 숫자로 구성되어있을 때 적합</li><li>삽입, 삭제시 노드의 분열과 병합이 없음</li><li>키 값의 분포를 예측할 수 있다면 기억장소를 절약 가능</li></ul><h1 id="파일-편성"><a class="markdownIt-Anchor" href="#파일-편성"></a> 파일 편성</h1><h2 id="순차-파일"><a class="markdownIt-Anchor" href="#순차-파일"></a> 순차 파일</h2><ul><li>Sequential File = 순서파일</li><li>물리적 연속 공간에 순차적으로 기록</li><li>급여관리 등 기간별로 일괄처리를 주로 하는 경우에 적합</li><li>자기테이프</li></ul><h3 id="장점-3"><a class="markdownIt-Anchor" href="#장점-3"></a> 장점</h3><ul><li>기록 밀도가 높아 기억공간 효율적 사용</li><li>어떠한 매체에도 적용</li><li>키 순서대로 편성되어 취급 용이</li><li>키 순서대로 레코드 처리시 빠름</li></ul><h3 id="단점-3"><a class="markdownIt-Anchor" href="#단점-3"></a> 단점</h3><ul><li>새로운 레코드 삽입, 삭제시 재구성을 위해 전체를 복사해야함</li><li>검색시 처음부터 순차적으로 하기에 효율이 낮고 응답시간이 느림</li></ul><h2 id="색인-순차-파일"><a class="markdownIt-Anchor" href="#색인-순차-파일"></a> 색인 순차 파일</h2><ul><li>Indexed Sequential File</li><li>순차 처리와 랜덤처리가 모두 가능하도록 레코드를 키 값순으로 정렬시켜 기록</li><li>레코드의 키 항목만을 모은 색인 파일을 구성하여 편성</li><li>색인을 이용한 순차적인 접근방법을 제공하여 ISAM</li><li>레코드를 참조시 색인 탐색 후 색인이 가리키는 포인터를 사용해 직접 참조</li><li>자기디스크</li><li>자기테이프 불가능</li></ul><h3 id="구성-2"><a class="markdownIt-Anchor" href="#구성-2"></a> 구성</h3><ul><li>기본 구역 : 실제 레코드를 기록하는 부분, 키 값 순으로 저장</li><li>색인 구역<ul><li>마스터 색인 구역 : 실린더 색인 구역의 정보가 많을 경우, 해당 레코드가 어느 실린더 색인 구역에 기록되어 있는지를 기록</li><li>실린더 색인 구역 : 트랙 색인의 최대키 값과 해당 레코드가 기록된 실린더의 정보가 기록, 한 파일당 하나씩 만들어짐</li><li>트랙 색인 구역 : 트랙상 기록되어 있는 데이터 레코드 중의 최대 키 값과 주소가 기록, 한 실린더당 하나씩, 처리할 레코드가 실제로 어느 트랙에 기록되어있는지를 판별</li></ul></li><li>오버플로 구역 : 기본구역에 빈공간이 없어서 예비적으로 확보해둔 구역<ul><li>실린더 오버플로 구역 : 해당 실린더의 기본구역에서 오버플로된 데이터 기록</li><li>독립 오버플로 구역 : 실린더 오버플로에 더 이상 기록할 수 없을 때 사용할 수 있는 예비 공간</li></ul></li></ul><h3 id="장점-4"><a class="markdownIt-Anchor" href="#장점-4"></a> 장점</h3><ul><li>삽입, 삭제, 갱신 용이</li><li>파일 전체를 복사할 필요 없음</li></ul><h3 id="단점-4"><a class="markdownIt-Anchor" href="#단점-4"></a> 단점</h3><ul><li>색인 및 오버플로 구역을 구성하기 위한 추가 기억공간 필요</li><li>오버플로 레코드가 많아지면 파일을 재편성</li><li>파일이 정렬되어 있어야함</li><li>삽입, 삭제가 많으면 효율이 떨어짐</li><li>액세스 시간이 랜덤 편성파일보다 느림</li></ul><h2 id="정적-인덱스"><a class="markdownIt-Anchor" href="#정적-인덱스"></a> 정적 인덱스</h2><ul><li>인덱스의 구조가 변경되지 않고 내용만 변하는 구조</li><li>ISAM</li></ul><h2 id="동적-인덱스"><a class="markdownIt-Anchor" href="#동적-인덱스"></a> 동적 인덱스</h2><ul><li>추가로 삽입될 레코드를 감안하여 빈 공간을 미리 예비해 두는 인덱스</li><li>VSAM</li><li>블록에 레코드가 가득차면 동적으로 분열</li><li>일정 수의 레코드가 유지되지 않는 블록은 병합</li></ul><h2 id="vsam"><a class="markdownIt-Anchor" href="#vsam"></a> VSAM</h2><p>동적 인덱스 방법을 이용한 색인 순차 파일</p><ul><li>기본 구역과 오버플로 구역을 구분하지 않음</li><li>레코드를 삭제하면 그 공간을 재사용</li><li>제어 구간에 가변 길이 레코드를 쉽게 수용</li></ul><h2 id="직접-파일"><a class="markdownIt-Anchor" href="#직접-파일"></a> 직접 파일</h2><ul><li>Direct File = Random File = DAM (Direct Access Method)</li><li>레코드에 특정 기준으로 키가 할당, <strong>해시 함수</strong>를 이용해 이 키에 대한 물리적 상대 레코드 주소를 계산 후 레코드 저장</li><li>자기 디스크, 자기 드럼</li></ul><h3 id="장점-5"><a class="markdownIt-Anchor" href="#장점-5"></a> 장점</h3><ul><li>물리적 주소를 통해 각 레코드에 직접 접근</li><li>접근시간이 빠름</li><li>삽입, 삭제, 갱신 용이</li><li>어떤 레코드라도 평균 접근 시간에 검색 가능</li></ul><h3 id="단점-5"><a class="markdownIt-Anchor" href="#단점-5"></a> 단점</h3><ul><li>레코드 주소 변환 과정 필요</li><li>기억 공간 효율 저하</li><li>물리적 구조에 대한 지식 필요</li><li>프로그래밍 복잡</li><li>충돌 발생 염려로 기억공간 확보</li></ul><h2 id="역파일"><a class="markdownIt-Anchor" href="#역파일"></a> 역파일</h2><ul><li>Inverted File</li><li>여러 개의 색인을 만들어 항목별 특성에 맞게 분배한 파일로 다중 키 파일에 속함</li><li>다중 키 파일 : 하나의 데이터에 여러개의 접근 방법을 지원하는 구조<ul><li>순차 처리와 임의 처리가 모두 가능하도록 편성</li><li>검색 속도가 빨라 빠른 시간 내에 정보를 얻고자하는 시스템에 적합</li></ul></li><li>색인 값을 결합하여 레코드 주소를 결정</li><li>레코드를 파일 중간에 삽입하기 쉬움</li><li>검색 속도 빠름</li><li>데이터 파일에 접근하지 않아 응답시간이 줄어듦</li><li>처리가 쉬움</li><li>색인 항목이 가변적</li></ul><h2 id="다중-리스트-파일"><a class="markdownIt-Anchor" href="#다중-리스트-파일"></a> 다중 리스트 파일</h2><ul><li>Multi-List File</li><li>다중 키파일의 한 종류</li><li>각 키에 대해 색인을 만든 후 각 데이터 레코들 간에 다중 리스트를 구축하여 구성</li><li>색인의 각 항목들의 길이가 고정적으로 관리가 용이</li><li>수정, 삭제 검색이 효율적</li></ul><h2 id="다중-링-파일"><a class="markdownIt-Anchor" href="#다중-링-파일"></a> 다중 링 파일</h2><ul><li>Multi-Ring File</li><li>같은 특성을 가진 레코드들을 포인터로 연결하여 구성</li><li>같은 항목값을 가진 레코드를 한꺼번에 처리하는 효과적</li><li>기억장소 절약</li><li>자료 중복성 배제</li><li>레코드 형식이 달라도 처리 가능</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 정보처리 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로데오 스탬피드 공략 및 동물 포획 (170810)</title>
      <link href="/2017/01/22/rodeo-stampede-start/"/>
      <url>/2017/01/22/rodeo-stampede-start/</url>
      
        <content type="html"><![CDATA[<h1 id="기본-공략"><a class="markdownIt-Anchor" href="#기본-공략"></a> 기본 공략</h1><ul><li>티켓수익이 늘어나는 4레벨까지 서식지 업그레이드하기</li><li>6시간마다 찾아오는 동물원 크루즈를 광고와 함께 사용하기</li><li>에픽동물 3종세트(10,000원)을 구입하고 시작하길 추천 (광고를 봐서 미션을 갱신하고, 부활할 수 있지만 30초씩 소요되는 시간대비 금화벌기가 힘들다)</li><li>다른 대륙으로 가기 전에 <strong>보스미션</strong> 끝내기</li></ul><blockquote><p>Ctrl+F 키로 원하는 동물을 검색하거나 오른쪽 TOC에서 원하는 동물을 클릭하면 이동합니다.<br>획득경로가 적히지 않은 경우는 랜덤으로 출현하는 동물이거나 입수정보가 없는 동물입니다.</p><p><strong>번식 컨텐츠가 추가되었습니다</strong><br>댓글 남겨주시면 없는 새끼 동물 반영합니다!</p></blockquote><h1 id="사바나"><a class="markdownIt-Anchor" href="#사바나"></a> 사바나</h1><h2 id="버펄로"><a class="markdownIt-Anchor" href="#버펄로"></a> 버펄로</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>케이프 버펄로</td><td>-</td></tr><tr><td>포레스트 버펄로</td><td>얼룩말 한 마리 이상 잡기</td></tr><tr><td>워터 버펄로</td><td>얼룩말 한 마리 이상 잡기</td></tr><tr><td>들소</td><td>얼룩말 한 마리 이상 잡기</td></tr><tr><td>컬리펄로</td><td>8단계 업그레이드</td></tr><tr><td>버페라리</td><td>9단계 업그레이드</td></tr><tr><td><strong>디아버펄로</strong></td><td>한 마리의 버팔로로 750미터를 달리기</td></tr></tbody></table><h2 id="얼룩말"><a class="markdownIt-Anchor" href="#얼룩말"></a> 얼룩말</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>얼룩말</td><td>-</td></tr><tr><td>말룩얼</td><td>-</td></tr><tr><td>사탕말</td><td>-</td></tr><tr><td>일렉트로 얼룩말</td><td>3000m 이상 달리기</td></tr><tr><td>펑키 얼룩말</td><td>8단계 업그레이드</td></tr><tr><td>전설의 얼룩말</td><td>9단계 업그레이드</td></tr><tr><td><strong>트로잔 얼룩말</strong></td><td>사바나의 7가지 동물을 한 판에서 다 타기</td></tr></tbody></table><h2 id="코끼리"><a class="markdownIt-Anchor" href="#코끼리"></a> 코끼리</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>아프리카 코끼리</td><td>-</td></tr><tr><td>매머드</td><td>-</td></tr><tr><td>코끼리군주</td><td>-</td></tr><tr><td>히피코끼리</td><td>-</td></tr><tr><td>나팔코끼리</td><td>8단계 업그레이드</td></tr><tr><td>소화전 코끼리</td><td>9단계 업그레이드</td></tr><tr><td>젤레펀트</td><td>페이스북 이벤트</td></tr><tr><td><strong>해골코끼리</strong></td><td>코끼리 보스미션</td></tr></tbody></table><h2 id="타조"><a class="markdownIt-Anchor" href="#타조"></a> 타조</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>타조</td><td>-</td></tr><tr><td>셀레버디</td><td>-</td></tr><tr><td>글램 락스타조</td><td>-</td></tr><tr><td>기사타조</td><td>-</td></tr><tr><td>심장부타조</td><td>8단계 업그레이드</td></tr><tr><td>이끼타조</td><td>9단계 업그레이드</td></tr><tr><td>오스튀치</td><td>할로윈 이벤트</td></tr><tr><td><strong>보스타조</strong></td><td>타조 보스미션</td></tr></tbody></table><h2 id="기린"><a class="markdownIt-Anchor" href="#기린"></a> 기린</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>기린</td><td>-</td></tr><tr><td>더티기린</td><td>-</td></tr><tr><td>타코기린파</td><td>-</td></tr><tr><td>하이볼러</td><td>-</td></tr><tr><td>은하기린</td><td>8단계 업그레이드</td></tr><tr><td>기린바타</td><td>9단계 업그레이드</td></tr><tr><td><strong>외계기린</strong></td><td>기린 보스미션</td></tr></tbody></table><h2 id="독수리"><a class="markdownIt-Anchor" href="#독수리"></a> 독수리</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>독수리</td><td>-</td></tr><tr><td>이집트 독수리</td><td>-</td></tr><tr><td>화려한 독수리</td><td>-</td></tr><tr><td>자본가 독수리</td><td>1500m 이상 달리기</td></tr><tr><td>팝 독수리</td><td>8단계 업그레이드</td></tr><tr><td>드라코리안</td><td>9단계 업그레이드</td></tr><tr><td><strong>독수리온</strong></td><td>1000m 이후에 기린으로만 갈 수 있는 언덕 위</td></tr></tbody></table><h2 id="사자"><a class="markdownIt-Anchor" href="#사자"></a> 사자</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>사자</td><td>-</td></tr><tr><td>단델리온</td><td>-</td></tr><tr><td>검치호</td><td>1800m 이상 달리기</td></tr><tr><td>그리폰</td><td>길들인 그리폰 미션</td></tr><tr><td>울보 사자</td><td>8단계 업그레이드</td></tr><tr><td>마사이 사자</td><td>9단계 업그레이드</td></tr><tr><td><strong>라이언 셰프</strong></td><td>사자로 30마리 동물 먹기</td></tr><tr><td>괴물 니엔</td><td>설날 이벤트 주괴125개</td></tr></tbody></table><h1 id="정글"><a class="markdownIt-Anchor" href="#정글"></a> 정글</h1><h2 id="멧돼지"><a class="markdownIt-Anchor" href="#멧돼지"></a> 멧돼지</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>멧돼지</td><td>-</td></tr><tr><td>인디언 돼지</td><td>-</td></tr><tr><td>돼지리</td><td>-</td></tr><tr><td>보크</td><td>-</td></tr><tr><td>아름다운 돼지리</td><td>8단계 업그레이드</td></tr><tr><td>으르렁 코골이</td><td>9단계 업그레이드</td></tr><tr><td><strong>호그 라이더</strong></td><td>멧돼지 보스미션</td></tr></tbody></table><h2 id="고릴라"><a class="markdownIt-Anchor" href="#고릴라"></a> 고릴라</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>서부 고릴라</td><td>-</td></tr><tr><td>산 고릴라</td><td>-</td></tr><tr><td>쿼터백 고릴라</td><td>-</td></tr><tr><td>궤릴라</td><td>-</td></tr><tr><td>로릴라</td><td>8단계 업그레이드</td></tr><tr><td>소릴라</td><td>9단계 업그레이드</td></tr><tr><td><strong>볼카노릴라</strong></td><td>고릴라 보스미션</td></tr><tr><td>고릴럭</td><td>설날 이벤트 주괴200개</td></tr></tbody></table><h2 id="악어"><a class="markdownIt-Anchor" href="#악어"></a> 악어</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>엘리게이터</td><td>-</td></tr><tr><td>프로게이터</td><td>-</td></tr><tr><td>스노커다일</td><td>-</td></tr><tr><td>버니게이터</td><td>2000m 달리기</td></tr><tr><td>브라이드질라</td><td>8단계 업그레이드</td></tr><tr><td>크루코다일</td><td>9단계 업그레이드</td></tr><tr><td><strong>꼬끼오</strong></td><td>아침 시간에 달리기</td></tr></tbody></table><h2 id="하마"><a class="markdownIt-Anchor" href="#하마"></a> 하마</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>하마</td><td>-</td></tr><tr><td>피그미 히포</td><td>-</td></tr><tr><td>발레리나 히포</td><td>-</td></tr><tr><td>힙합호타머스</td><td>-</td></tr><tr><td>히피포타머스</td><td>8단계 업그레이드</td></tr><tr><td>타웨레트</td><td>9단계 업그레이드</td></tr><tr><td><strong>플라티모파머스</strong></td><td>한 마리의 하마로 30초 타기</td></tr></tbody></table><h2 id="코뿔소"><a class="markdownIt-Anchor" href="#코뿔소"></a> 코뿔소</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>코뿔소</td><td>-</td></tr><tr><td>하와이노</td><td>-</td></tr><tr><td>사과 피에노</td><td>-</td></tr><tr><td>펠린오</td><td>-</td></tr><tr><td>스카이노세로스</td><td>8단계 업그레이드</td></tr><tr><td>마르셀 라이노</td><td>9단계 업그레이드</td></tr><tr><td>슬라임노세루스</td><td>할로윈 이벤트</td></tr><tr><td><strong>다이노세로스</strong></td><td>7마리 다른 동물 차례대로 타기</td></tr></tbody></table><h2 id="호랑이"><a class="markdownIt-Anchor" href="#호랑이"></a> 호랑이</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>호랑이</td><td>-</td></tr><tr><td>라이거</td><td>-</td></tr><tr><td>웅크린 호랑이</td><td>-</td></tr><tr><td>H.R 호랑이</td><td>3000m 이상 달리기</td></tr><tr><td>흰호랑이</td><td>8단계 업그레이드</td></tr><tr><td>핑크 팬더라</td><td>9단계 업그레이드</td></tr><tr><td><strong>호랑이 릴리</strong></td><td>호랑이 보스미션</td></tr></tbody></table><h2 id="큰부리새"><a class="markdownIt-Anchor" href="#큰부리새"></a> 큰부리새</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>큰부리새</td><td>-</td></tr><tr><td>혼빌</td><td>-</td></tr><tr><td>블루칸</td><td>-</td></tr><tr><td>브류칸</td><td>-</td></tr><tr><td>무칸</td><td>8단계 업그레이드</td></tr><tr><td>카주칸</td><td>9단계 업그레이드</td></tr><tr><td><strong>쓰리칸</strong></td><td>큰부리새로 100m 점프</td></tr></tbody></table><h1 id="산"><a class="markdownIt-Anchor" href="#산"></a> 산</h1><h2 id="염소"><a class="markdownIt-Anchor" href="#염소"></a> 염소</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>산염소</td><td>-</td></tr><tr><td>바이킹 염소</td><td>-</td></tr><tr><td>아쿠아염소</td><td>-</td></tr><tr><td>미치광이 염소</td><td>-</td></tr><tr><td>스텔스염소 마크2</td><td>8단계 업그레이드</td></tr><tr><td>이형접합 염소체</td><td>9단계 업그레이드</td></tr><tr><td>고스트</td><td>할로윈 이벤트</td></tr><tr><td><strong>이각수</strong></td><td>염소 보스미션</td></tr></tbody></table><h2 id="라마"><a class="markdownIt-Anchor" href="#라마"></a> 라마</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>라마</td><td>-</td></tr><tr><td>짠물라마</td><td>-</td></tr><tr><td>파냐타라마</td><td>-</td></tr><tr><td>엘리자베스풍 라마</td><td>-</td></tr><tr><td>나비라마</td><td>8단계 업그레이드</td></tr><tr><td>버락 오블라마</td><td>9단계 업그레이드</td></tr><tr><td><strong>하이퍼 광라마</strong></td><td>라마 보스미션</td></tr><tr><td>알파카 폭죽</td><td>설날 이벤트 주괴250개</td></tr></tbody></table><h2 id="곰"><a class="markdownIt-Anchor" href="#곰"></a> 곰</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>불곰</td><td>-</td></tr><tr><td>곰추장</td><td>1000m 이상 달리기</td></tr><tr><td>느림보곰</td><td>-</td></tr><tr><td>곰케이크</td><td>-</td></tr><tr><td>비버곰</td><td>8단계 업그레이드</td></tr><tr><td>TIME LOCKER 곰</td><td>9단계 업그레이드</td></tr><tr><td><strong>SU-24 곰비행기</strong></td><td>산독수리로 2000m 날기</td></tr></tbody></table><h2 id="늑대"><a class="markdownIt-Anchor" href="#늑대"></a> 늑대</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>회색늑대</td><td>-</td></tr><tr><td>불늑대</td><td>-</td></tr><tr><td>생존자늑대</td><td>-</td></tr><tr><td>크고 나쁜 늑대</td><td>-</td></tr><tr><td>재버늑대</td><td>8단계 업그레이드</td></tr><tr><td>TIME LOCKER 개</td><td>9단계 업그레이드</td></tr><tr><td><strong>애꾸눈 늑대수염</strong></td><td>늑대 보스미션</td></tr></tbody></table><h2 id="야크"><a class="markdownIt-Anchor" href="#야크"></a> 야크</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>야크</td><td>-</td></tr><tr><td>스컹야크</td><td>-</td></tr><tr><td>무서운 설야크</td><td>-</td></tr><tr><td>웅이야크 나무</td><td>1300m 이상 달리기</td></tr><tr><td>배틀 야크</td><td>8단계 업그레이드</td></tr><tr><td>아프로디지 야크</td><td>9단계 업그레이드</td></tr><tr><td><strong>기어펑크 야크</strong></td><td>야크로 한 판에 10마리 날리기</td></tr></tbody></table><h2 id="독수리-2"><a class="markdownIt-Anchor" href="#독수리-2"></a> 독수리</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>대머리독수리</td><td>-</td></tr><tr><td>호크 경</td><td>-</td></tr><tr><td>이글워드 가위날개</td><td>-</td></tr><tr><td>배트큘라 백작</td><td>-</td></tr><tr><td>큰독수리 나방</td><td>8단계 업그레이드</td></tr><tr><td>비행기 승무원</td><td>9단계 업그레이드</td></tr><tr><td><strong>로빈수리</strong></td><td>30~100m 사이의 절벽 밖에 생성</td></tr></tbody></table><h2 id="무스"><a class="markdownIt-Anchor" href="#무스"></a> 무스</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>알프스무스</td><td>-</td></tr><tr><td>이끼무스</td><td>-</td></tr><tr><td>가문비무스</td><td>-</td></tr><tr><td>고원무스</td><td>-</td></tr><tr><td>괴물무스</td><td>8단계 업그레이드</td></tr><tr><td>초콜릿 무스</td><td>9단계 업그레이드</td></tr><tr><td><strong>다크무스</strong></td><td>8마리 다른 동물 차례대로 타기</td></tr></tbody></table><h1 id="오지"><a class="markdownIt-Anchor" href="#오지"></a> 오지</h1><h2 id="양"><a class="markdownIt-Anchor" href="#양"></a> 양</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>메리노 양</td><td>-</td></tr><tr><td>늑대 탈을 쓴 양</td><td>-</td></tr><tr><td>사탕 양</td><td>-</td></tr><tr><td>레이디 매애매애</td><td>-</td></tr><tr><td>양치기 아가씨</td><td>8단계 업그레이드</td></tr><tr><td>양보르기니</td><td>9단계 업그레이드</td></tr><tr><td><strong>코난 더 매애매애리안</strong></td><td>양 보스미션</td></tr></tbody></table><h2 id="캥거루"><a class="markdownIt-Anchor" href="#캥거루"></a> 캥거루</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>붉은캥거루</td><td>-</td></tr><tr><td>킥복서루</td><td>-</td></tr><tr><td>레인저루</td><td>-</td></tr><tr><td>막대사탕루</td><td>-</td></tr><tr><td>스키비디피두</td><td>3000m 이상 달리기</td></tr><tr><td>캥거푸들</td><td>9단계 업그레이드</td></tr><tr><td><strong>칸구루</strong></td><td>캥거루 보스미션</td></tr></tbody></table><h2 id="드롭베어"><a class="markdownIt-Anchor" href="#드롭베어"></a> 드롭베어</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>드롭베어</td><td>-</td></tr><tr><td>드롭베어 던디</td><td>-</td></tr><tr><td>드롭 바이키</td><td>-</td></tr><tr><td>구두쇠 코알라</td><td>-</td></tr><tr><td>러셀 코</td><td>3000m 이상 달리기</td></tr><tr><td>드롭베어 영애</td><td>9단계 업그레이드, 2000m이상</td></tr><tr><td><strong>괴수드롭베어</strong></td><td>2000m 이상 달리면 불타는 나무 위</td></tr></tbody></table><h2 id="웜뱃"><a class="markdownIt-Anchor" href="#웜뱃"></a> 웜뱃</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>웜뱃</td><td>-</td></tr><tr><td>전투웜뱃</td><td>500m 이상 달리기</td></tr><tr><td>웜캣</td><td>1100m 이상 달리기</td></tr><tr><td>웜베이비</td><td>-</td></tr><tr><td>웜드리안</td><td>4000m 이상 달리기</td></tr><tr><td>웜바멜론</td><td>9단계 업그레이드</td></tr><tr><td><strong>봄뱃</strong></td><td>땅 속에서 3마리 날리기</td></tr><tr><td>웜배트맨</td><td>할로윈 이벤트</td></tr></tbody></table><h2 id="에뮤"><a class="markdownIt-Anchor" href="#에뮤"></a> 에뮤</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>에뮤</td><td>-</td></tr><tr><td>비행사 에뮤</td><td>-</td></tr><tr><td>사춘기 에뮤</td><td>-</td></tr><tr><td>에뮤지션</td><td>-</td></tr><tr><td><em>데임 에뮤</em></td><td>엄청 안나옴, 조건이 있는듯.</td></tr><tr><td>열대에뮤</td><td>9단계 업그레이드</td></tr><tr><td><strong>불사에뮤</strong></td><td>에뮤 보스미션</td></tr><tr><td>꼬끼오에뮤</td><td>설날 이벤트 주괴300개</td></tr></tbody></table><h2 id="낙타"><a class="markdownIt-Anchor" href="#낙타"></a> 낙타</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>낙타</td><td>-</td></tr><tr><td>신밧드 낙타</td><td>-</td></tr><tr><td>카멜플라주</td><td>-</td></tr><tr><td>화산낙타</td><td>-</td></tr><tr><td>카멜롯</td><td>8단계 업그레이드</td></tr><tr><td>혹등낙타</td><td>9단계 업그레이드</td></tr><tr><td><strong>카멜레온</strong></td><td>8마리 다른 동물 차례대로 타기</td></tr></tbody></table><h2 id="큰박쥐"><a class="markdownIt-Anchor" href="#큰박쥐"></a> 큰박쥐</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>큰박쥐</td><td>-</td></tr><tr><td>비행상자</td><td>-</td></tr><tr><td>큰박쥐여우</td><td>-</td></tr><tr><td>흡혈박쥐</td><td>-</td></tr><tr><td>과일박쥐</td><td>8단계 업그레이드</td></tr><tr><td>비행양말</td><td>9단계 업그레이드</td></tr><tr><td><strong>감시박쥐</strong></td><td>풍차 또는 지붕있는 집을 부수기</td></tr></tbody></table><h1 id="툰드라"><a class="markdownIt-Anchor" href="#툰드라"></a> 툰드라</h1><h2 id="펭귄"><a class="markdownIt-Anchor" href="#펭귄"></a> 펭귄</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>펭귄</td><td>-</td></tr><tr><td>황제펭귄</td><td>-</td></tr><tr><td>의원펭귄</td><td>-</td></tr><tr><td>파일럿펭귄</td><td>-</td></tr><tr><td>펭기스칸</td><td>-</td></tr><tr><td>하키펭귄</td><td>9단계 업그레이드</td></tr><tr><td><strong>요정펭귄</strong></td><td>다른 맵 동물로 시작 후, 툰드라 동물 7마리 타기</td></tr></tbody></table><h2 id="물개"><a class="markdownIt-Anchor" href="#물개"></a> 물개</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>평범한 물개</td><td>-</td></tr><tr><td>표범 물개</td><td>-</td></tr><tr><td>바나나 껍질</td><td>-</td></tr><tr><td>경비 물개</td><td>-</td></tr><tr><td>하프 물개</td><td>-</td></tr><tr><td>에스키모 물개</td><td>9단계 업그레이드</td></tr><tr><td><strong>해군 물개</strong></td><td>물개 보스미션</td></tr></tbody></table><h2 id="바다코끼리"><a class="markdownIt-Anchor" href="#바다코끼리"></a> 바다코끼리</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>바다코끼리</td><td>-</td></tr><tr><td>바다소</td><td>-</td></tr><tr><td>무법자 바다코끼리</td><td>-</td></tr><tr><td>바다코끼리</td><td>-</td></tr><tr><td>바이킹 바다코끼리</td><td>-</td></tr><tr><td>무도회 바다코끼리</td><td>9단계 업그레이드</td></tr><tr><td><strong>검치 바다코끼리</strong></td><td>2000m 이상 달리기</td></tr></tbody></table><h2 id="토끼"><a class="markdownIt-Anchor" href="#토끼"></a> 토끼</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>북극토끼</td><td>-</td></tr><tr><td>해적토끼</td><td>-</td></tr><tr><td>초코토끼</td><td>-</td></tr><tr><td>포격토끼</td><td>-</td></tr><tr><td>메뚜기</td><td>-</td></tr><tr><td>개그토끼</td><td>9단계 업그레이드</td></tr><tr><td><strong>눈토끼</strong></td><td>토끼 연속 5마리 타기</td></tr></tbody></table><h2 id="부엉이"><a class="markdownIt-Anchor" href="#부엉이"></a> 부엉이</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>흰올빼미</td><td>-</td></tr><tr><td>수리부엉이</td><td>-</td></tr><tr><td>호시탐탐부엉이</td><td>-</td></tr><tr><td>외양간올빼미</td><td>-</td></tr><tr><td>로빈부엉이</td><td>-</td></tr><tr><td>부엉부엉</td><td>9단계 업그레이드</td></tr><tr><td><strong>수학부엉이</strong></td><td>부엉이 보스미션</td></tr></tbody></table><h2 id="여우"><a class="markdownIt-Anchor" href="#여우"></a> 여우</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>북극여우</td><td>-</td></tr><tr><td>나팔여우</td><td>-</td></tr><tr><td>조로</td><td>-</td></tr><tr><td>키츠네</td><td>-</td></tr><tr><td>골디여우</td><td>-</td></tr><tr><td>주크여우</td><td>9단계 업그레이드</td></tr><tr><td><strong>태엽여우</strong></td><td>여우로 1500m 달리기</td></tr></tbody></table><h2 id="북극곰"><a class="markdownIt-Anchor" href="#북극곰"></a> 북극곰</h2><p>총 7마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>북극곰</td><td>-</td></tr><tr><td>딸기곰</td><td>-</td></tr><tr><td>폴로곰</td><td>-</td></tr><tr><td>태양곰</td><td>-</td></tr><tr><td>순찰곰</td><td>-</td></tr><tr><td>중산모곰</td><td>9단계 업그레이드</td></tr><tr><td><strong>롤러곰</strong></td><td>북극곰 보스미션</td></tr></tbody></table><h1 id="쥐라기"><a class="markdownIt-Anchor" href="#쥐라기"></a> 쥐라기</h1><h2 id="파라사울로로푸스"><a class="markdownIt-Anchor" href="#파라사울로로푸스"></a> 파라사울로로푸스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>파라사우롤로푸스</td><td>-</td></tr><tr><td>술로푸스</td><td>-</td></tr><tr><td>쇠지렐로푸스</td><td>-</td></tr><tr><td>파라솔로푸스</td><td>-</td></tr><tr><td>마스카랄로푸스</td><td>-</td></tr><tr><td>탐험갈로푸스</td><td>-</td></tr><tr><td>포잘로푸스</td><td>-</td></tr><tr><td><strong>노롤로푸스</strong></td><td>파라사울로로푸스 보스미션</td></tr></tbody></table><h2 id="랩터"><a class="markdownIt-Anchor" href="#랩터"></a> 랩터</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>벨로시랩터</td><td>-</td></tr><tr><td>깃털 랩터</td><td>-</td></tr><tr><td>치실랩터</td><td>-</td></tr><tr><td>쿨쿨랩터</td><td>-</td></tr><tr><td>미녀 랩터</td><td>-</td></tr><tr><td>철학자 랩터</td><td>-</td></tr><tr><td>쌈 랩터</td><td>-</td></tr><tr><td>사신 랩터</td><td>-</td></tr></tbody></table><h2 id="트리케라톱스"><a class="markdownIt-Anchor" href="#트리케라톱스"></a> 트리케라톱스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>트리케라톱스</td><td>-</td></tr><tr><td>트리케라클롭스</td><td>-</td></tr><tr><td>트리케라캅스</td><td>-</td></tr><tr><td>하늘케라톱스</td><td>-</td></tr><tr><td>키메라톱스</td><td>-</td></tr><tr><td>미디움레어톱스</td><td>-</td></tr><tr><td>악몽케라톱스</td><td>-</td></tr><tr><td><strong>게이샤라톱스</strong></td><td>트리케라톱스 보스미션</td></tr></tbody></table><h2 id="티라노사우루스-렉스"><a class="markdownIt-Anchor" href="#티라노사우루스-렉스"></a> 티라노사우루스 렉스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>티라노사우루스 렉스</td><td>-</td></tr><tr><td>T-멕스</td><td>-</td></tr><tr><td>바다 렉스</td><td>-</td></tr><tr><td>G-렉스</td><td>-</td></tr><tr><td>마녀 렉스</td><td>-</td></tr><tr><td>T-헬스</td><td>-</td></tr><tr><td>폭구노사우루스 렉스</td><td>-</td></tr><tr><td>파괴왕 렉스</td><td>-</td></tr></tbody></table><h2 id="브론토사우루스"><a class="markdownIt-Anchor" href="#브론토사우루스"></a> 브론토사우루스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>브론토사우루스</td><td>-</td></tr><tr><td>네스 호의 괴물</td><td>-</td></tr><tr><td>광대토사우루스</td><td>-</td></tr><tr><td>힙스터사우루스</td><td>-</td></tr><tr><td>핫도고사우루스</td><td>-</td></tr><tr><td><strong>디플로도쿠스</strong></td><td>8종의 다른 동물을 순서대로 타기</td></tr><tr><td>페가사우루스</td><td>-</td></tr><tr><td>히드라</td><td>-</td></tr></tbody></table><h2 id="안킬로사우루스"><a class="markdownIt-Anchor" href="#안킬로사우루스"></a> 안킬로사우루스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>안킬로사우루스</td><td>-</td></tr><tr><td>천킬로사우루스</td><td>-</td></tr><tr><td>독킬로사우루스</td><td>-</td></tr><tr><td>판사우루스</td><td>-</td></tr><tr><td>탱킬로사우루스</td><td>-</td></tr><tr><td><strong>낚시꾼사우루스</strong></td><td>안킬로사우루스로 티라노사우르스 렉스와 충돌</td></tr><tr><td>식물사우루스</td><td>-</td></tr><tr><td>멋쟁이사우루스</td><td>-</td></tr></tbody></table><h2 id="프테로닥틸"><a class="markdownIt-Anchor" href="#프테로닥틸"></a> 프테로닥틸</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>프테로닥틸</td><td>-</td></tr><tr><td>소닥틸</td><td>-</td></tr><tr><td>치료닥틸</td><td>-</td></tr><tr><td>파라오닥틸</td><td>-</td></tr><tr><td>스웨어로닥틸</td><td>-</td></tr><tr><td>요정닥틸</td><td>-</td></tr><tr><td>석유로닥틸</td><td>-</td></tr><tr><td><strong>머리털로닥틸</strong></td><td>프테로닥틸 보스미션</td></tr></tbody></table><h2 id="스테고사우루스"><a class="markdownIt-Anchor" href="#스테고사우루스"></a> 스테고사우루스</h2><p>총 8마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td>스테고사우루스</td><td>-</td></tr><tr><td>시드니 오페라사우루스</td><td>-</td></tr><tr><td>시침질사우루스</td><td>-</td></tr><tr><td>나초사우루스</td><td>-</td></tr><tr><td>유의어사우루스</td><td>-</td></tr><tr><td><strong>톱사우루스</strong></td><td>스테고사우루스로 관목 10개 먹기</td></tr><tr><td>크리스탈사우루스</td><td>-</td></tr><tr><td>전기사우루스</td><td>-</td></tr></tbody></table><h1 id="에픽"><a class="markdownIt-Anchor" href="#에픽"></a> 에픽</h1><p>총 3마리</p><table><thead><tr><th>이름</th><th>획득</th></tr></thead><tbody><tr><td><strong>캐시카우</strong></td><td>구매</td></tr><tr><td><strong>미션 노새</strong></td><td>구매</td></tr><tr><td><strong>불사조 까마귀</strong></td><td>구매</td></tr></tbody></table><h1 id="새끼"><a class="markdownIt-Anchor" href="#새끼"></a> 새끼</h1><ul><li>큰박쥐<ul><li>새끼 큰박쥐 : 밧줄 작아지는 속도 -6%, 날짐승 급강속도 -3%</li><li>새끼 비행상자 : 밧줄 작아지는 속도 -6%, 상자 획득 동전 25%, 날짐승 급강 속도 -4%</li><li>새끼 큰박쥐여우 : 밧줄 작아지는 속도 -10%, 점프 높이 6%, 날짐승 급강 속도 -6%</li><li>새끼 흡혈박쥐 : 속도 -6%, 길들이는 속도 15%, 밧줄 작아지는 속도 -1%</li></ul></li><li>낙타<ul><li>새끼 낙타 : 불타는 속도 -15%</li><li>새끼 카멜플라주 : 밧줄 작아지는 속도 -10%, 불타는 속도 -20%</li><li>새끼 신밧드 낙타 : 화나는 속도 -8%, 불타는 속도 -15%, 상자 획득 동전 3%</li><li>새끼 화산낙타 : 속도 5%, 불 타는 속도 -50%</li><li>새끼 카멜레온 : 밧줄 크기 9%, 점프 높이 9%, 사냥 효과 9%</li><li>새끼 혹등낙타 : 점프 속도 5%, 수중 이동속도 20%, 불 타는 속도 -20%</li></ul></li><li>에뮤<ul><li>새끼 에뮤 : 속도 4%, 점프 높이 4%</li><li>새끼 비행사 에뮤 : 속도 6%, 날짐승 급강 속도 -8%, 시작 밧줄 크기 1%</li><li>새끼 사춘기 에뮤 : 화나는 속도 -6%, 속도 -4%, 길들이는 속도 14%</li><li>새끼 에뮤지션 : 속도 5%, <strong>희귀 동물 출현 8%</strong>, <strong>짝짓기 동물 출현 12%</strong></li></ul></li><li>웜뱃<ul><li>새끼 웜뱃 : 점프 속도 6%</li><li>새끼 전투웜뱃 : 점프 속도 12%, <strong>상자 획득 동전 20%</strong></li><li>새끼 웜캣 : 화나는 속도 -5%, 점프 속도 7%, 점프 높이 7%</li><li>새끼 봄뱃 : 점프 속도 7%, 길들이는 속도 14%, 불타는 속도 -25%</li><li>새끼 웜배트맨 : 밧줄 작아지는 속도 -8%, 점프 속도 10%, 점프 높이 4%</li></ul></li><li>드롭베어<ul><li>새끼 드롭베어 : 희귀 동물 출현 4%, 불 타는 속도 -8%</li></ul></li><li>캥거루<ul><li>새끼 킥복서루 : 밧줄 크기 5%, 점프 높이 10%, 몸부림 -5%</li><li>새끼 막대사탕루 : 사냥 효과 10%, 몸부림 -10%, 짝짓기 동물 길들이는 속도 2%</li><li>새끼 캥거푸들 : 점프 높이 5%, <strong>미션 획득 동전 15%</strong>, 몸부림 -15%</li></ul></li><li>양<ul><li>새끼 메리노 양 : 길들이는 속도 12%</li><li>새끼 늑대 탈을 쓴 양 : 속도 6%, 점프 속도 3%, 길들이는 속도 15%</li><li>새끼 사탕양 : <strong>희귀 동물 출현 7%</strong>, <strong>길들이는 속도 12%</strong>, 사냥 효과 9%</li><li>새끼 레이디 매애매애 : 짝짓기 동물 출현 20%, 길들이는 속도 20%, 짝짓기 동물 길들이는 속도 5%</li><li>새끼 양치기 아가씨 : 화나는 속도 -8%, 짝짓기 속도 20%, 길들이는 속도 2%</li></ul></li><li>무스<ul><li>새끼 가문비무스 : 밧줄 크기 6%, 화나는 속도 -8%, 미션 획득 동전 5%</li></ul></li><li>코뿔소<ul><li>새끼 코뿔소 : 상자 획득 동전 20%</li><li>새끼 하와이노 : 화나는 속도 -2%, 상자 획득 동전 20%, 수중 이동 속도 10%</li></ul></li><li>큰부리새<ul><li>새끼 블루칸 : 희귀 동물 출현 3%, 짝짓기 동물 출현 7%, 날짐승 급강 속도 -6%</li></ul></li><li>고릴라<ul><li>새끼 산 고릴라 : 밧줄 크기 3%, 점프 높이 3%, 짝짓기 동물 출현 6%</li></ul></li><li>타조<ul><li>새끼 셀레버디 : 타고있는 동물 속도 8%, 희귀 동물 출현 4%</li></ul></li><li>독수리<ul><li>새끼 독수리 : 밧줄 크기 4%</li></ul></li><li>버펄로<ul><li>새끼 케이프 버펄로 : 화나는 속도 -3%</li><li>새끼 포레스트 버펄로 : 화나는 속도 -4%</li><li>새끼 워터 버펄로 : 화나는 속도 -4%, 수중 이동 속도 10%</li><li>새끼 들소 : 밧줄 작아지는 속도 -5%, 화나는 속도 -5%</li><li>새끼 컬리펄로 : 동물 화나는 속도 -5%, 짝짓기 동물 출현 8%, 짝짓기 동물 길들이는 속도 5%</li><li>새끼 디아 버펄로 : 동물 화나는 속도 -4%, 점프 높이 8%</li><li>새끼 버페라리 : 화나는 속도 -4%, <strong>속도 14%</strong>, 점프 속도 5%</li></ul></li></ul><h1 id="버그"><a class="markdownIt-Anchor" href="#버그"></a> 버그</h1><ul><li>정글 맵에서 간혹 맵 밖으로 나가져서 출발</li><li>정글 맵에서 기린으로 맵 밖으로 나갈 수 있음</li><li>오지 맵에서 양이 벽 속에서 나옴</li><li>동물을 타면서 드롭베어에게 잡아먹히면 거리가 음수로 변하면서 땅 밑으로 계속 들어감</li></ul><h1 id="동물출처"><a class="markdownIt-Anchor" href="#동물출처"></a> 동물출처</h1><ul><li>직접 수집</li><li><a href="http://rodeostampede.wikia.com/wiki/Rodeo_Stampede_Wikia" target="_blank" rel="external nofollow noopener noreferrer">Rodeo Stampede Wikia</a></li><li><a href="http://www.idigitaltimes.com/rodeo-stampede-animals-list-unlock-all-these-hidden-secret-tasks-542657" target="_blank" rel="external nofollow noopener noreferrer">Rodeo Stampede Animals List</a></li><li><a href="https://namu.wiki/w/Rodeo%20Stampede/%EC%B6%9C%ED%98%84%20%EB%8F%99%EB%AC%BC#rfn-17" target="_blank" rel="external nofollow noopener noreferrer">로데오 스탬피드/출현동물</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> game </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - 6. 기타 검색엔진</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-6-%EA%B8%B0%ED%83%80-%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-6-%EA%B8%B0%ED%83%80-%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/</url>
      
        <content type="html"><![CDATA[<h1 id="daum-zum-검색-등록"><a class="markdownIt-Anchor" href="#daum-zum-검색-등록"></a> Daum, Zum 검색 등록</h1><p>daum 과 zum 에 사이트를 등록해보자.</p><h2 id="daum"><a class="markdownIt-Anchor" href="#daum"></a> Daum</h2><p><a href="https://register.search.daum.net/searchForm.daum?act=insert" target="_blank" rel="external nofollow noopener noreferrer">다음 검색등록</a>에서 내 사이트를 등록하면 된다.</p><img data-src="https://i.imgur.com/jUIHXtx.png"><p>다음 검색등록이 완료되면 네이트에서도 노출이 된다.</p><h2 id="zum"><a class="markdownIt-Anchor" href="#zum"></a> Zum</h2><p><a href="http://help.zum.com/submit/register" target="_blank" rel="external nofollow noopener noreferrer">줌 검색등록</a>에서 내 사이트를 등록 신청하면 된다.</p><img data-src="https://i.imgur.com/BvvT554.png">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - sitemap 생성</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-sitemap-%EC%83%9D%EC%84%B1/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-sitemap-%EC%83%9D%EC%84%B1/</url>
      
        <content type="html"><![CDATA[<h1 id="sitemap-생성"><a class="markdownIt-Anchor" href="#sitemap-생성"></a> sitemap 생성</h1><p>모든 검색 엔진 크롤러는 sitemap.xml 을 참조해 데이터를 인덱싱하는 기능이 있다.</p><p>hexo 사용자는 <a href="https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap" target="_blank" rel="external nofollow noopener noreferrer">hexo-generator-seo-friendly-sitemap</a> 또는 <a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="external nofollow noopener noreferrer">hexo-generator-sitemap</a> 플러그인을 설치하면 바로 생성이 되지만, 다른 경우라면 직접 sitemap 을 생성해줘야한다.</p><h2 id="직접-생성하기"><a class="markdownIt-Anchor" href="#직접-생성하기"></a> 직접 생성하기</h2><p><a href="https://www.xml-sitemaps.com/" target="_blank" rel="external nofollow noopener noreferrer">xml-sitemaps</a>에서 무료로 생성할 수 있다.</p><img data-src="https://i.imgur.com/lSZPcQV.png"><p>내 사이트 URL 과 업데이트 빈도를 설정한 뒤 <strong>Start</strong> 버튼을 클릭하면<br>잠시 후 <strong>sitemap.xml</strong>을 다운 받을 수 있다.<br>이 후 서버로 업로드해 검색등록을 마무리하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - 5. Naver</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-5-Naver/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-5-Naver/</url>
      
        <content type="html"><![CDATA[<h1 id="naver-검색-등록"><a class="markdownIt-Anchor" href="#naver-검색-등록"></a> Naver 검색 등록</h1><p>네이버에 내 사이트를 등록해보자.<br><a href="https://webmastertool.naver.com/" target="_blank" rel="external nofollow noopener noreferrer">네이버 웹마스터</a>로 이동한다.</p><h2 id="웹-마스터"><a class="markdownIt-Anchor" href="#웹-마스터"></a> 웹 마스터</h2><h3 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h3><p><strong>사이트 추가 +</strong> 버튼을 누른 뒤 내 사이트를 추가한다.</p><img data-src="https://i.imgur.com/9BR0yDZ.png"><h3 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h3><p><strong>HTML 태그</strong> 방식으로 인증을 진행하자.</p><img data-src="https://i.imgur.com/Dg01Tk8.png"><p>페이지에 태그를 추가하고 <strong>확인</strong> 버튼을 누르면 페이지 소유권이 확인되어 웹마스터 도구를 이용할 수 있다.</p><h3 id="sitemap-등록"><a class="markdownIt-Anchor" href="#sitemap-등록"></a> sitemap 등록</h3><p><strong>요청 &gt; 사이트맵 제출</strong> 메뉴에서 sitemap 을 제출한다.</p><img data-src="https://i.imgur.com/KL5ely9.png"><h3 id="robotstxt-설정"><a class="markdownIt-Anchor" href="#robotstxt-설정"></a> robots.txt 설정</h3><p><strong>robots.txt</strong>에 sitemap 위치를 알려주는 라인을 추가한다.</p><figure class="highlight plain"><figcaption><span>robots.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Sitemap: https:&#x2F;&#x2F;gracefullight.github.io&#x2F;sitemap.xml</span><br></pre></td></tr></table></figure><h3 id="rss-등록"><a class="markdownIt-Anchor" href="#rss-등록"></a> RSS 등록</h3><p><strong>요청 &gt; RSS 제출</strong> 메뉴에서 RSS Feed 를 제출한다.</p><h3 id="수집주기-설정"><a class="markdownIt-Anchor" href="#수집주기-설정"></a> 수집주기 설정</h3><p>사이트의 최신상태를 검색에 반영하기 위해 <strong>설정 &gt; 수집 설정</strong> 메뉴의 <strong>수집주기 설정</strong> 옵션을 <strong>빠르게</strong>로 바꿔준다.</p><h3 id="강제-수집-요청"><a class="markdownIt-Anchor" href="#강제-수집-요청"></a> 강제 수집 요청</h3><p><strong>요청 &gt; 웹 페이지 수집</strong> 메뉴에서 해당 페이지를 수집시킬 수 있다.</p><img data-src="https://i.imgur.com/8CWbvl2.png"><h3 id="최적화-확인"><a class="markdownIt-Anchor" href="#최적화-확인"></a> 최적화 확인</h3><p><strong>현황 &gt; 사이트 최적화</strong> 메뉴에서 내 사이트가 검색에 노출이 잘 될 수 있는 구조인지 확인해본다.</p><img data-src="https://i.imgur.com/ZkwGZgU.png"><p>최적화 되어있지 않다면 og 태그 및 meta 태그를 적절히 수정해 맞춰주자.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - 4. Google</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-4-Google/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-4-Google/</url>
      
        <content type="html"><![CDATA[<h1 id="google-검색-등록"><a class="markdownIt-Anchor" href="#google-검색-등록"></a> Google 검색 등록</h1><p>구글에 내 사이트를 등록해보자.<br><a href="https://www.google.com/webmasters/tools/home?hl=ko" target="_blank" rel="external nofollow noopener noreferrer">구글 웹마스터</a>로 이동한다.</p><h2 id="웹-마스터"><a class="markdownIt-Anchor" href="#웹-마스터"></a> 웹 마스터</h2><h3 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h3><p><strong>속성 추가</strong> 버튼을 누른 뒤 내 사이트를 추가한다.</p><img data-src="https://i.imgur.com/Q02UcXI.png"><h3 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h3><p><strong>대체 방법</strong>을 눌러 <strong>HTML 태그</strong> 방식으로 인증을 진행하자.</p><img data-src="https://i.imgur.com/x1C3rj2.png"><p>페이지에 태그를 추가하고 <strong>확인</strong> 버튼을 누르면 페이지 소유권이 확인되어 웹마스터 도구를 이용할 수 있다.</p><h3 id="sitemap-등록"><a class="markdownIt-Anchor" href="#sitemap-등록"></a> sitemap 등록</h3><p><strong>크롤링 &gt; Sitemaps</strong> 메뉴에서 <strong>SITEMAP 추가/테스트</strong> 버튼으로 추가한다.</p><img data-src="https://i.imgur.com/4l95R5v.png"><h3 id="analytics-연동"><a class="markdownIt-Anchor" href="#analytics-연동"></a> Analytics 연동</h3><p><strong>설정 &gt; Google 애널리틱스 속성</strong> 메뉴에서 Google Analytics 와 Search Console 을 연동한다.</p><img data-src="https://i.imgur.com/wb0JiPu.png"><p>구글의 <a href="https://support.google.com/webmasters/answer/1120006?hl=ko" target="_blank" rel="external nofollow noopener noreferrer">연동 도움말</a>을 참조한다.</p><h3 id="강제-색인-생성"><a class="markdownIt-Anchor" href="#강제-색인-생성"></a> 강제 색인 생성</h3><p><strong>크롤링 &gt; Fetch As Google</strong> 메뉴로 이동해 페이지 색인 생성을 요청할 수 있다.</p><img data-src="https://i.imgur.com/VbxhSK6.png">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - 3. Yandex</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-3-Yandex/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-3-Yandex/</url>
      
        <content type="html"><![CDATA[<h1 id="yandex-검색-등록"><a class="markdownIt-Anchor" href="#yandex-검색-등록"></a> Yandex 검색 등록</h1><p>전세계 4 위, 러시아 1 위 검색 서비스인 얀덱스에도 내 사이트를 추가해보자.<br><a href="https://webmaster.yandex.com" target="_blank" rel="external nofollow noopener noreferrer">Yandex Webmaster</a>로 이동해 가입 후 로그인한다.<br>영어라 부담없이 가입할 수 있고, 핸드폰 인증도 간단하다.</p><h2 id="웹-마스터"><a class="markdownIt-Anchor" href="#웹-마스터"></a> 웹 마스터</h2><h3 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h3><p><strong>+</strong> 버튼을 눌러 사이트를 등록한다.</p><img data-src="https://i.imgur.com/koy0a8u.png"><h3 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h3><p>파일업로드 방식과 meta 태그 추가방식, CNAME 추가방식이 있는데 meta 태그 추가 방식을 사용한다.</p><img data-src="https://i.imgur.com/DCbKDJE.png"><p>페이지에 태그를 추가하고 <strong>Check</strong> 버튼을 누르면 페이지 소유권이 확인되어 웹마스터 도구를 이용할 수 있다.</p><h3 id="sitemap-등록"><a class="markdownIt-Anchor" href="#sitemap-등록"></a> sitemap 등록</h3><p><strong>Indexing &gt; Sitemap files</strong> 메뉴에서 sitemap 을 제출한다.</p><img data-src="https://i.imgur.com/Bgh91F8.png"><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>Processing queue 가 처리됨으로 어떻게 바뀌는지 확인해봐야될 듯.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>검색등록 - 2. Bing (Yahoo)</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-2-Bing-Yahoo/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-2-Bing-Yahoo/</url>
      
        <content type="html"><![CDATA[<h1 id="bing-yahoo-검색-등록"><a class="markdownIt-Anchor" href="#bing-yahoo-검색-등록"></a> Bing, Yahoo 검색 등록</h1><p>Microsoft 검색인 Bing 과 Yahoo 는 한 곳에서 관리할 수 있다.</p><h2 id="웹-마스터"><a class="markdownIt-Anchor" href="#웹-마스터"></a> 웹 마스터</h2><p><a href="http://www.bing.com/toolbox/webmaster/" target="_blank" rel="external nofollow noopener noreferrer">Bing 웹 마스터 도구</a>에 로그인한다.<br>Microsoft 계정이 있으면 바로 로그인할 수 있다.</p><h3 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h3><p>사이트를 등록한다.</p><img data-src="https://i.imgur.com/vBjy6rk.png"><h3 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h3><p>파일업로드 방식과 meta 태그 추가방식, CNAME 추가방식이 있는데 meta 태그 추가 방식을 사용한다.</p><img data-src="https://i.imgur.com/XZVXY3a.png"><p>페이지에 태그를 추가하고 확인을 누르면 페이지 소유권이 확인되어 웹마스터 도구를 이용할 수 있다.</p><h3 id="sitemap-등록"><a class="markdownIt-Anchor" href="#sitemap-등록"></a> sitemap 등록</h3><p><strong>내 사이트 구성 &gt; Sitemaps</strong> 메뉴에서 sitemap 을 제출한다.</p><img data-src="https://i.imgur.com/mI9SKBk.png"><p>2-3 일 정도 지나야 요청이 처리되는 것 같다.</p><h3 id="크롤링-시간대-설정"><a class="markdownIt-Anchor" href="#크롤링-시간대-설정"></a> 크롤링 시간대 설정</h3><p><strong>내 사이트 구성 &gt; 크롤링 제어</strong> 메뉴로 이동해 크롤링 횟수를 제한하지말고 기본값으로 설정한다.</p><img data-src="https://i.imgur.com/dRQ6YAm.png"><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>기능적으로 베타인 게 많아서 시간을 두고 인덱싱 되는 페이지를 확인해봐야 될 듯.<br>구글 다음으로 사용량이 많은게 Bing 과 Yahoo 검색이니 꼭 추가해주자.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>바이두 검색등록 및 전화인증 없이 회원가입하기</title>
      <link href="/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-1-baidu/"/>
      <url>/2017/01/22/%EA%B2%80%EC%83%89%EB%93%B1%EB%A1%9D-1-baidu/</url>
      
        <content type="html"><![CDATA[<h1 id="baidu-검색-등록"><a class="markdownIt-Anchor" href="#baidu-검색-등록"></a> Baidu 검색 등록</h1><p>중국 1 위 검색사이트인 바이두에 내 사이트를 추가해보자.<br>바이두 사이트에서 회원가입을 하는 경우 인증번호를 입력해야하는데 국외번호 인증이 안된다.</p><h2 id="회원가입"><a class="markdownIt-Anchor" href="#회원가입"></a> 회원가입</h2><p><a href="http://pan.baidu.com/" target="_blank" rel="external nofollow noopener noreferrer">바이두 클라우드</a>로 이동하여 회원가입 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/HByclGb.png"><p>국제번호를 변경 후 휴대번호로 인증한다.</p><img data-src="https://i.imgur.com/cGyjl7h.png"><ul><li>전화번호</li><li>아이디</li><li>인증번호</li><li>비밀번호</li></ul><p>순으로 입력하면 된다.</p><p>인증하고 아래 큰 버튼을 누르면 가입과정이 완료된다.</p><h2 id="웹-마스터"><a class="markdownIt-Anchor" href="#웹-마스터"></a> 웹 마스터</h2><h3 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h3><p><a href="http://zhanzhang.baidu.com/site/index" target="_blank" rel="external nofollow noopener noreferrer">바이두 웹마스터</a>로 들어가 사이트 등록 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/GkbwtRs.png"><p>URL 을 입력하고 아래 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/jhhDcWn.png"><h3 id="인증"><a class="markdownIt-Anchor" href="#인증"></a> 인증</h3><p>파일업로드 방식과 meta 태그 추가 방식 중 후자를 선택했다.</p><img data-src="https://i.imgur.com/TXAA241.png"><p>메타 태그를 헤더에 추가해주자.</p><h3 id="단순한-링크-등록"><a class="markdownIt-Anchor" href="#단순한-링크-등록"></a> 단순한 링크 등록</h3><blockquote><p>블로그 등 파일을 올릴 수 없는 사이트의 링크만 등록하고 싶다면 <a href="http://zhanzhang.baidu.com/linksubmit/url" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 URL 을 입력해준다.<br>(Baidu 에서는 site 인증을 통한 방법을 권장하고 있다.)</p></blockquote><h3 id="sitemap-등록"><a class="markdownIt-Anchor" href="#sitemap-등록"></a> sitemap 등록</h3><p>sitemap 등록 메뉴로 이동합니다.</p><img data-src="https://i.imgur.com/LF9htPD.png"><h3 id="경로-입력"><a class="markdownIt-Anchor" href="#경로-입력"></a> 경로 입력</h3><p>textarea 에 사이트맵 경로를 라인마다 입력한다.</p><ul><li><a href="https://gracefullight.github.io/sitemap.xml" target="_blank" rel="external nofollow noopener noreferrer">https://gracefullight.github.io/sitemap.xml</a></li><li><a href="https://gracefullight.github.io/feed.xml" target="_blank" rel="external nofollow noopener noreferrer">https://gracefullight.github.io/feed.xml</a></li></ul><h3 id="인증문자-입력"><a class="markdownIt-Anchor" href="#인증문자-입력"></a> 인증문자 입력</h3><p>간체자는 한자키로 입력할 수 없는 문자가 많기에 <a href="http://cndic.naver.com/" target="_blank" rel="external nofollow noopener noreferrer">네이버 중국어사전</a>의 필기 인식기 기능을 사용한다.</p><img data-src="https://i.imgur.com/cf3aOU2.png"><p>한글자씩 복사해 입력해준다.</p><h3 id="제출"><a class="markdownIt-Anchor" href="#제출"></a> 제출</h3><p>제출하면 아래 부분에 등록된 sitemap 이 보인다.</p><img data-src="https://i.imgur.com/gxsGTEX.png"><h2 id="automatic-push"><a class="markdownIt-Anchor" href="#automatic-push"></a> Automatic Push</h2><p>스크립트를 추가해 자동으로 페이지를 인덱싱할 수 있다.</p><h3 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  ;(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">":"</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (curProtocol === <span class="string">"https"</span>) &#123;</span></span><br><span class="line"><span class="actionscript">      bp.src = <span class="string">"https://zz.bdstatic.com/linksubmit/push.js"</span></span></span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">      bp.src = <span class="string">"http://push.zhanzhang.baidu.com/push.js"</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]</span></span><br><span class="line">    s.parentNode.insertBefore(bp, s)</span><br><span class="line">  &#125;)()</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>sitemap 이 읽혀지지 않는다면 head 에 위 스크립트를 추가해주자.</p><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>사이트 등록 중 추가 정보를 입력이 필요하면 <a href="https://zhanzhang.baidu.com/usercfg/editaccount" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 webmaster 관리자정보를 수정하면 된다.</p><img data-src="https://i.imgur.com/UB2UyEy.png"><p>이메일의 경우만 인증이 들어감으로 QQ 와 Wechat 의 경우는 대충 써주면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webmaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl을 사용하지 않는 http 통신</title>
      <link href="/2017/01/22/curl%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-http-%ED%86%B5%EC%8B%A0/"/>
      <url>/2017/01/22/curl%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-http-%ED%86%B5%EC%8B%A0/</url>
      
        <content type="html"><![CDATA[<p>curl 기능이 확장되어있지 않아 http 통신을 할 수 없는 경우가 있다.<br><strong>fsockopen</strong> 메소드를 사용해 같은 기능을 할 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><h2 id="get"><a class="markdownIt-Anchor" href="#get"></a> GET</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [getData 외부파일을 GET 방식으로 읽기]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [string]  $str  [url]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [array]   $data [parameters]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> [string]        [내용]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span><span class="params">($str, $data)</span> </span>&#123;</span><br><span class="line">  $url = parse_url($str);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span>(strtoupper($url[<span class="string">'scheme'</span>])) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'HTTP'</span>:</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">isset</span>($url[<span class="string">'port'</span>])) &#123;</span><br><span class="line">        $url[<span class="string">'port'</span>] = <span class="number">80</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'HTTPS'</span>:</span><br><span class="line">      $url[<span class="string">'ssl'</span>] = <span class="string">'ssl://'</span>;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">isset</span>($url[<span class="string">'port'</span>])) &#123;</span><br><span class="line">        $url[<span class="string">'port'</span>] = <span class="number">443</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $fp = @fsockopen($url[<span class="string">'ssl'</span>].$url[<span class="string">'host'</span>], $url[<span class="string">'port'</span>], $errno, $errstr, <span class="number">10</span>);</span><br><span class="line">  <span class="keyword">if</span> ($fp) &#123;</span><br><span class="line">    fwrite($fp, <span class="string">"GET $url[path]?"</span>.http_build_query($data).<span class="string">" HTTP/1.0\r\nHost: $url[host]\r\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (!feof($fp)) &#123;</span><br><span class="line">      $out .= fread($fp, <span class="number">1024</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose($fp);</span><br><span class="line">    $out = explode(<span class="string">"\r\n\r\n"</span>,$out);</span><br><span class="line">    array_shift($out);</span><br><span class="line">    $out = implode(<span class="string">""</span>,$out);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> $out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="post"><a class="markdownIt-Anchor" href="#post"></a> POST</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">&lt;?</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [postData 외부파일을 POST 방식으로 읽기]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [string]  $str     [url]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [array]   $data    [parameters]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  [int]     $sleepMs [연결지연ms]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> [string]           [내용]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postData</span><span class="params">($str, $data, $sleepMs=<span class="number">0</span>)</span> </span>&#123;</span><br><span class="line">  $url = parse_url($str);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span>(strtoupper($url[<span class="string">'scheme'</span>])) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'HTTP'</span>:</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">isset</span>($url[<span class="string">'port'</span>])) &#123;</span><br><span class="line">        $url[<span class="string">'port'</span>] = <span class="number">80</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'HTTPS'</span>:</span><br><span class="line">      $url[<span class="string">'ssl'</span>] = <span class="string">'ssl://'</span>;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">isset</span>($url[<span class="string">'port'</span>])) &#123;</span><br><span class="line">        $url[<span class="string">'port'</span>] = <span class="number">443</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $data_string = http_build_query($data);</span><br><span class="line">  $referrer = $_SERVER[<span class="string">'SCRIPT_URL'</span>];</span><br><span class="line"></span><br><span class="line">  $request = <span class="string">"POST &#123;$url[path]&#125; HTTP/1.1\r\nHost: &#123;$url[host]&#125;\r\nReferer: &#123;$referrer&#125;\r\n"</span>;</span><br><span class="line">  $request .= <span class="string">"Content-type: application/x-www-form-urlencoded\r\n"</span>;</span><br><span class="line">  $request .= <span class="string">"Content-length: "</span> . strlen($data_string) . <span class="string">"\r\n"</span>;</span><br><span class="line">  $request .= <span class="string">"Connection: close\r\n\r\n"</span>;</span><br><span class="line">  $request .= <span class="string">"&#123;$data_string&#125;\r\n"</span>;</span><br><span class="line"></span><br><span class="line">  $fp = @fsockopen($url[<span class="string">'ssl'</span>].$url[host], $url[port], $errno, $errstr, <span class="number">10</span>);</span><br><span class="line">  <span class="keyword">if</span> ($fp) &#123;</span><br><span class="line">    fwrite($fp, $request);</span><br><span class="line">    usleep(($sleepMs * <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      $header .= fread($fp, <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span> (!preg_match(<span class="string">'/\\r\\n\\r\\n$/'</span>, $header));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (preg_match(<span class="string">'/Transfer\\-Encoding:\\s+chunked\\r\\n/'</span>, $header, $matches)) &#123;</span><br><span class="line">      <span class="comment">// check encoding</span></span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        $byte = $chunk_size = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">          $chunk_size .= $byte; $byte = fread($fp, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">while</span> ($byte != <span class="string">"\r"</span>);</span><br><span class="line">        fread($fp, <span class="number">1</span>);</span><br><span class="line">        $chunk_size = hexdec($chunk_size);</span><br><span class="line">        <span class="keyword">if</span> ($chunk_size)&#123;</span><br><span class="line">          $out .= @fread($fp, $chunk_size);</span><br><span class="line">        &#125;</span><br><span class="line">        fread($fp, <span class="number">2</span>);</span><br><span class="line">      &#125; <span class="keyword">while</span> ($chunk_size);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (preg_match(<span class="string">'/Content\\-Length:\\s+([0-9]*)\\r\\n/'</span>, $header, $matches)) &#123;</span><br><span class="line">      $out = fread($fp,$matches[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (!feof($fp)) &#123;</span><br><span class="line">        $out .= fread($fp, <span class="number">4096</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose($fp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> $out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$param = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'data1'</span> =&gt; <span class="string">'1'</span>,</span><br><span class="line">    <span class="string">'data2'</span> =&gt; <span class="string">'2'</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// get 요청</span></span><br><span class="line">$get_data = getData(<span class="string">'http://your.apiurl.com'</span>, $param);</span><br><span class="line"><span class="comment">// post 요청</span></span><br><span class="line">$post_data = postData(<span class="string">'http://your.apiurl.com'</span>, $param);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>fsockopen 으로 소켓을 연 뒤 해당 host 로 request 만들어 전송한다.</p><p>stream 을 사용해 <a href="http://wezfurlong.org/blog/2006/nov/http-post-from-php-without-curl/" target="_blank" rel="external nofollow noopener noreferrer">통신하는 방법</a>도 있다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sleep()을 사용해야할 때</title>
      <link href="/2017/01/21/sleep-%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C/"/>
      <url>/2017/01/21/sleep-%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>php에서 <a href="https://php.net/manual/kr/function.sleep.php" target="_blank" rel="external nofollow noopener noreferrer">sleep()</a> 메소드의 사용법은 이렇다.</p><figure class="highlight php"><figcaption><span>1sec_delay.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">// sleep ( int $seconds )</span></span><br><span class="line">    sleep(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// usleep ( int $micro_seconds )</span></span><br><span class="line">    usleep(<span class="number">1000000</span>);</span><br></pre></td></tr></table></figure><p>단순히 시간을 지연시키는 이 메소드를 어디에 사용하는 걸까?</p><h1 id="curl-request"><a class="markdownIt-Anchor" href="#curl-request"></a> Curl Request</h1><p><strong>Curl</strong> 또는 <strong>file_get_contents</strong>로 내용을 가져올 때 지연없이 request를 보내면 차단을 당하거나 정상적인 응답이 오지 않을 수 있다.<br>요청을 보낸 후 sleep을 사용해 지연호출을 한다.</p><h1 id="crawling"><a class="markdownIt-Anchor" href="#crawling"></a> Crawling</h1><p>웹 크롤링 중 호출이 일정시간이상되야 응답을 돌려주는 경우가 있다.<br>요청을 닫기 전에 sleep을 사용해 연결시간을 늘려준다.</p><h1 id="batch-update"><a class="markdownIt-Anchor" href="#batch-update"></a> Batch Update</h1><p>많은 데이터를 cron을 사용해 update를 할 때 테이블이 Lock이 되는 경우를 방지하기 위해 사용한다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">foreach</span> ($dummy <span class="keyword">as</span> $data) &#123;</span><br><span class="line">    <span class="comment">// 5초가 걸리는 쿼리</span></span><br><span class="line">    DB::query(<span class="string">"UPDATE ..."</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5초를 지연시켜 그동안에 호출된 다른 로직을 실행할 수 있게 한다.</span></span><br><span class="line">    sleep(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>이 방법보다 테이블이 Lock 되지않게 Update Query를 만드 것이 더 바람직하다.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>id에 .(pariod)이 있는 element querySelector</title>
      <link href="/2017/01/18/querySelector-escape-pariod/"/>
      <url>/2017/01/18/querySelector-escape-pariod/</url>
      
        <content type="html"><![CDATA[<h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>document.querySelector를 사용해 id에 .이 포함된 element를 선택시</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"id.has.pariod"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> $div = <span class="built_in">document</span>.querySelector(<span class="string">"#id.has.pariod"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log($div);</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// =&gt; undefined;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>undefined를 반환하며 선택이 되지 않는다.<br>.(pariod)는 class 선택자라 중복이되어 발생하는 오류이다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>.에 역슬래시를 2개 붙혀 escape 시킨다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = <span class="built_in">document</span>.querySelector(<span class="string">"#id\\.has\\.pariod"</span>);</span><br><span class="line"><span class="built_in">console</span>.log($div);</span><br><span class="line"><span class="comment">// =&gt; &lt;div id="id.has.pariod"&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vimeo Upload API - 2. PHP API</title>
      <link href="/2017/01/18/Vimeo-Upload-API-2-PHP-API/"/>
      <url>/2017/01/18/Vimeo-Upload-API-2-PHP-API/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers/">Vimeo Developers 등록</a>에서 이어집니다.</p><h1 id="php-api-설치"><a class="markdownIt-Anchor" href="#php-api-설치"></a> PHP API 설치</h1><p><a href="https://developer.vimeo.com/api/libraries" target="_blank" rel="external nofollow noopener noreferrer">Vimeo Libraries</a>에서 원하는 API를 선택하면 된다.<br><strong>Server Libraries PHP</strong>에서 Download를 클릭하면 Github로 이동하고 <a href="https://github.com/vimeo/vimeo.php#installation" target="_blank" rel="external nofollow noopener noreferrer">Installation</a>을 참조하면 된다.</p><h2 id="composer"><a class="markdownIt-Anchor" href="#composer"></a> composer</h2><p>composer가 있으면 쉽게 설치할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require vimeo/vimeo-api</span><br></pre></td></tr></table></figure><h2 id="직접-설치"><a class="markdownIt-Anchor" href="#직접-설치"></a> 직접 설치</h2><p><a href="https://github.com/vimeo/vimeo.php/archive/1.2.5.zip" target="_blank" rel="external nofollow noopener noreferrer">v1.2.5</a>를 다운 받고 원하는 곳에 압축을 푼 뒤 class를 load한다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">require</span>(<span class="string">"/path/to/vimeo.php/autoload.php"</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설정-변경"><a class="markdownIt-Anchor" href="#설정-변경"></a> 설정 변경</h1><p><strong>vimeo.php\config.json</strong> 파일을 열어 <strong>client_id, client_secret, access_token</strong> 값을 수정하자.</p><h1 id="upload-api-사용"><a class="markdownIt-Anchor" href="#upload-api-사용"></a> Upload API 사용</h1><p><strong>vimeo.php\example\upload.php</strong>를 커스터마이징 해보자.</p><h2 id="기본-예제-소스"><a class="markdownIt-Anchor" href="#기본-예제-소스"></a> 기본 예제 소스</h2><figure class="highlight php"><figcaption><span>example\upload.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Vimeo</span>\<span class="title">Vimeo</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Vimeo</span>\<span class="title">Exceptions</span>\<span class="title">VimeoUploadException</span>;</span><br><span class="line"></span><br><span class="line">$config = <span class="keyword">require</span>(<span class="keyword">__DIR__</span> . <span class="string">'/init.php'</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>($config[<span class="string">'access_token'</span>])) &#123;</span><br><span class="line">    <span class="comment">// 액세스 토큰이 없을시 로깅 로직 추가</span></span><br><span class="line">    <span class="comment">// throw new Exception('액세스 토큰 없이 업로드 할 수 없다.</span></span><br><span class="line">    <span class="comment">// 개발자 앱 페이지에서 액세스 토큰을 발급 받거나 auth.php를 이용해라.');</span></span><br><span class="line">&#125;</span><br><span class="line">$lib = <span class="keyword">new</span> Vimeo($config[<span class="string">'client_id'</span>], $config[<span class="string">'client_secret'</span>], $config[<span class="string">'access_token'</span>]);</span><br><span class="line"><span class="comment">// argv 대신 업로드할 파일경로의 배열을 넣으면 된다.</span></span><br><span class="line">$files = $argv;</span><br><span class="line">array_shift($files);</span><br><span class="line"><span class="comment">// 업로드된 트랙을 체크하는 배열</span></span><br><span class="line">$uploaded = <span class="keyword">array</span>();</span><br><span class="line"><span class="comment">// 업로드 로직 시작</span></span><br><span class="line"><span class="keyword">foreach</span> ($files <span class="keyword">as</span> $file_name) &#123;</span><br><span class="line">    <span class="comment">// 업로드 시작 로깅</span></span><br><span class="line">    <span class="comment">// print 'Uploading ' . $file_name . "\n";</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Vimeo 서버에 업로드하고 해당 파일의 uri을 받는다.</span></span><br><span class="line">        $uri = $lib-&gt;upload($file_name);</span><br><span class="line">        <span class="comment">// 해당 파일의 정보를 요청한다.</span></span><br><span class="line">        $video_data = $lib-&gt;request($uri);</span><br><span class="line">        <span class="comment">// 업로드가 성공한 파일의 링크를 받는다.</span></span><br><span class="line">        $link = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">if</span>($video_data[<span class="string">'status'</span>] == <span class="number">200</span>) &#123;</span><br><span class="line">            $link = $video_data[<span class="string">'body'</span>][<span class="string">'link'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 로깅을 위해 저장</span></span><br><span class="line">        $uploaded[] = <span class="keyword">array</span>(<span class="string">'file'</span> =&gt; $file_name, <span class="string">'api_video_uri'</span> =&gt; $uri, <span class="string">'link'</span> =&gt; $link);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (VimeoUploadException $e) &#123;</span><br><span class="line">        <span class="comment">//  업로드 오류 발생시 예외처리</span></span><br><span class="line">        <span class="comment">// print 'Error uploading ' . $file_name . "\n";</span></span><br><span class="line">        <span class="comment">// print 'Server reported: ' . $e-&gt;getMessage() . "\n";</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 결과 로깅 및 파일 링크 표시</span></span><br><span class="line"><span class="comment">// print 'Uploaded ' . count($uploaded) . " files.\n\n";</span></span><br><span class="line"><span class="comment">// foreach ($uploaded as $site_video) &#123;</span></span><br><span class="line"><span class="comment">//   extract($site_video);</span></span><br><span class="line"><span class="comment">//    print "$file is at $link.\n";</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><h2 id="커스터마이징"><a class="markdownIt-Anchor" href="#커스터마이징"></a> 커스터마이징</h2><p>25번째 줄의 <a href="https://github.com/vimeo/vimeo.php#make-requests" target="_blank" rel="external nofollow noopener noreferrer">request 요청</a>에 추가로 영상정보를 변경하게 요청할 수 있다.<br>영상정보를 가져오는건 변하지 않는다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [lib-&gt;request function]</span></span><br><span class="line"><span class="comment"> * 해당 URI를 대상으로 데이터를 받아오고</span></span><br><span class="line"><span class="comment"> * PATCH 메소드를 이용해서 그 동영상의 Metadata를 수정하는 함수</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  &#123;[string]&#125;   uri         [업로드 된 동영상 주소]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  &#123;[array]&#125;    options     [파라미터 배열(json 형식의 배열타입)]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  &#123;[string]&#125;   method      [요청할 메소드 타입(수정은 PATCH)]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;[video]&#125;    video_data  [비디오 데이터]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$video_data = $lib-&gt;request($uri, <span class="keyword">array</span>(</span><br><span class="line">                <span class="string">'name'</span>                          =&gt; <span class="string">'동영상 이름'</span>,</span><br><span class="line">                <span class="string">'description'</span>                   =&gt; <span class="string">'동영상 설명'</span>,</span><br><span class="line">                <span class="string">'embed'</span>  =&gt; <span class="keyword">array</span>(                        <span class="comment">// embed시의 옵션</span></span><br><span class="line">                            <span class="string">'buttons'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">                                    <span class="string">'like'</span>      =&gt; <span class="keyword">false</span>, <span class="comment">// 좋아요 버튼</span></span><br><span class="line">                                    <span class="string">'watchlater'</span>=&gt; <span class="keyword">false</span>, <span class="comment">// 나중에보기 버튼</span></span><br><span class="line">                                    <span class="string">'share'</span>     =&gt; <span class="keyword">false</span>, <span class="comment">// 공유 버튼</span></span><br><span class="line">                                    <span class="string">'embed'</span>     =&gt; <span class="keyword">false</span>, <span class="comment">// embed 버튼</span></span><br><span class="line">                                    <span class="string">'fullscreen'</span>=&gt; <span class="keyword">false</span>  <span class="comment">// 전체화면 버튼</span></span><br><span class="line">                            ),</span><br><span class="line">                            <span class="string">'logos'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">                                    <span class="string">'vimeo'</span>     =&gt; <span class="keyword">false</span>  <span class="comment">// 비메로 로고</span></span><br><span class="line">                            ),</span><br><span class="line">                            <span class="string">'title'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">                                    <span class="string">'owner'</span>     =&gt; <span class="string">'hide'</span>, <span class="comment">// 제작자 정보</span></span><br><span class="line">                                    <span class="string">'portrait'</span>  =&gt; <span class="string">'hide'</span>, <span class="comment">// 제작자 로고</span></span><br><span class="line">                                    <span class="string">'name'</span>      =&gt; <span class="string">'hide'</span>  <span class="comment">// 제작자 이름</span></span><br><span class="line">                            ),</span><br><span class="line">                            <span class="string">'playbar'</span> =&gt; <span class="keyword">false</span>             <span class="comment">// 재생바</span></span><br><span class="line">                )</span><br><span class="line">), <span class="string">'PATCH'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>옵션은 <a href="https://developer.vimeo.com/api/endpoints/videos#PATCH/videos/%7Bvideo_id%7D" target="_blank" rel="external nofollow noopener noreferrer">해당 endpoints</a> 참조하자.</p><img data-src="https://i.imgur.com/EsTv4Ld.png"><h2 id="video_data-endpoint"><a class="markdownIt-Anchor" href="#video_data-endpoint"></a> video_data endpoint</h2><p>업로드된 파일의 response data에는 파일 metadata가 들어있다.<br><strong>$video_data[‘body’][‘키값’]</strong> 으로 접근하면 된다. 입맛에 맞게 사용해보자.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"uri"</span>: <span class="string">"영상 vimeo 링크"</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"영상 제목"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"영상 설명"</span>,</span><br><span class="line">    <span class="attr">"link"</span>: <span class="string">"영상 vimeo 링크"</span>,</span><br><span class="line">    <span class="attr">"duration"</span>: 재생 시간,</span><br><span class="line">    <span class="attr">"width"</span>: 가로 크기,</span><br><span class="line">    <span class="attr">"language"</span>: 언어,</span><br><span class="line">    <span class="attr">"height"</span>: 세로 크기,</span><br><span class="line">    <span class="attr">"embed"</span>: &#123;</span><br><span class="line">        <span class="attr">"uri"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">"html"</span>: <span class="string">"iframe 영상 링크"</span>,</span><br><span class="line">        <span class="attr">"buttons"</span>: &#123;</span><br><span class="line">            <span class="attr">"like"</span>: 좋아요 버튼 여부,</span><br><span class="line">            <span class="attr">"watchlater"</span>: 나중에보기 버튼 여부,</span><br><span class="line">            <span class="attr">"share"</span>: 공유 버튼 여부,</span><br><span class="line">            <span class="attr">"embed"</span>: embed 버튼 여부,</span><br><span class="line">            <span class="attr">"hd"</span>: 고화질 버튼 여부,</span><br><span class="line">            <span class="attr">"fullscreen"</span>: 전체화면 버튼 여부,</span><br><span class="line">            <span class="attr">"scaling"</span>: 스케일링 버튼 여부</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"logos"</span>: &#123;</span><br><span class="line">            <span class="attr">"vimeo"</span>: 비메오 로고 여부,</span><br><span class="line">            <span class="attr">"custom"</span>: &#123;</span><br><span class="line">                <span class="attr">"active"</span>: 커스텀 로고 여부,</span><br><span class="line">                <span class="attr">"link"</span>: 커스텀 로고 링크,</span><br><span class="line">                <span class="attr">"sticky"</span>: sticky 여부</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"title"</span>: &#123;</span><br><span class="line">            <span class="attr">"name"</span>: 제작자 이름 display 설정,</span><br><span class="line">            <span class="attr">"owner"</span>: 제작자 정보 display 설정,</span><br><span class="line">            <span class="attr">"portrait"</span>: 제작자 로고 display 설정</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"playbar"</span>: 재생바 여부,</span><br><span class="line">        <span class="attr">"volume"</span>: 볼륨바 여부,</span><br><span class="line">        <span class="attr">"color"</span>: <span class="string">"색상 헥스코드"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"created_time"</span>: <span class="string">"생성일시 gmt"</span>,</span><br><span class="line">    <span class="attr">"modified_time"</span>: <span class="string">"변경일시 gmt"</span>,</span><br><span class="line">    <span class="attr">"release_time"</span>: <span class="string">"노출일시 gmt"</span>,</span><br><span class="line">    <span class="attr">"content_rating"</span>: [</span><br><span class="line">        <span class="string">"safe"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"license"</span>: <span class="string">"라이센스"</span>,</span><br><span class="line">    <span class="attr">"privacy"</span>: &#123;</span><br><span class="line">        <span class="attr">"view"</span>: <span class="string">"노출 설정"</span>,</span><br><span class="line">        <span class="attr">"embed"</span>: <span class="string">"embed 노출 설정"</span>,</span><br><span class="line">        <span class="attr">"download"</span>: 다운로드 여부,</span><br><span class="line">        <span class="attr">"add"</span>: 추가 여부,</span><br><span class="line">        <span class="attr">"comments"</span>: <span class="string">"댓글 허용 설정"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"pictures"</span>: &#123;</span><br><span class="line">        <span class="attr">"uri"</span>: <span class="string">"영상 대표 사진 링크"</span>,</span><br><span class="line">        <span class="attr">"active"</span>: 사진 여부,</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"custom"</span>,</span><br><span class="line">        <span class="attr">"sizes"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"width"</span>: <span class="number">100</span>,</span><br><span class="line">                <span class="attr">"height"</span>: <span class="number">75</span>,</span><br><span class="line">                <span class="attr">"link"</span>: <span class="string">"사이즈별 링크"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            ...</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"resource_key"</span>: <span class="string">"접근 키"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"tags"</span>: [태그 배열],</span><br><span class="line">    <span class="attr">"stats"</span>: &#123;</span><br><span class="line">        <span class="attr">"plays"</span>: 재생 수</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"metadata"</span>: &#123;</span><br><span class="line">        <span class="attr">"connections"</span>: &#123;</span><br><span class="line">            <span class="attr">"comments"</span>: &#123;</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"댓글 링크"</span>,</span><br><span class="line">                <span class="attr">"options"</span>: [</span><br><span class="line">                    <span class="string">"GET"</span>,</span><br><span class="line">                    <span class="string">"POST"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"total"</span>: <span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"credits"</span>: &#123;</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"크레딧 링크"</span>,</span><br><span class="line">                <span class="attr">"options"</span>: [</span><br><span class="line">                    <span class="string">"GET"</span>,</span><br><span class="line">                    <span class="string">"POST"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"total"</span>: <span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"likes"</span>: &#123;</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"좋아요 링크"</span>,</span><br><span class="line">                <span class="attr">"options"</span>: [</span><br><span class="line">                    <span class="string">"GET"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"total"</span>: <span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"pictures"</span>: &#123;</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"사진 링크"</span>,</span><br><span class="line">                <span class="attr">"options"</span>: [</span><br><span class="line">                    <span class="string">"GET"</span>,</span><br><span class="line">                    <span class="string">"POST"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"total"</span>: <span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"texttracks"</span>: &#123;</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"텍스트 트랙 링크"</span>,</span><br><span class="line">                <span class="attr">"options"</span>: [</span><br><span class="line">                    <span class="string">"GET"</span>,</span><br><span class="line">                    <span class="string">"POST"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"total"</span>: <span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"related"</span>: <span class="literal">null</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"interactions"</span>: &#123;</span><br><span class="line">            <span class="attr">"watchlater"</span>: &#123;</span><br><span class="line">                <span class="attr">"added"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"added_time"</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">"uri"</span>: <span class="string">"나중에보기 링크"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"user"</span>: &#123;</span><br><span class="line">        <span class="attr">"유저정보 및 접근 경로"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"review_link"</span>: <span class="string">"리뷰 다이렉트 링크"</span>,</span><br><span class="line">    <span class="attr">"files"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"quality"</span>: <span class="string">"파일 화질"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"파일 타입"</span>,</span><br><span class="line">            <span class="attr">"width"</span>: 파일 가로,</span><br><span class="line">            <span class="attr">"height"</span>: 파일 세로,</span><br><span class="line">            <span class="attr">"link"</span>: <span class="string">"파일 다이렉트 링크"</span>,</span><br><span class="line">            <span class="attr">"created_time"</span>: <span class="string">"파일 생성일시"</span>,</span><br><span class="line">            <span class="attr">"fps"</span>: 주사율,</span><br><span class="line">            <span class="attr">"size"</span>: 파일 크기,</span><br><span class="line">            <span class="attr">"md5"</span>: <span class="string">"토큰"</span>,</span><br><span class="line">            <span class="attr">"link_secure"</span>: <span class="string">"파일 다이렉트 시큐어 링크"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"download"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"quality"</span>: <span class="string">"다운로드 파일 화질"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"파일 타입"</span>,</span><br><span class="line">            <span class="attr">"width"</span>: 파일 가로,</span><br><span class="line">            <span class="attr">"height"</span>: 파일 세로,</span><br><span class="line">            <span class="attr">"expires"</span>: <span class="string">"만료일시"</span>,</span><br><span class="line">            <span class="attr">"link"</span>: <span class="string">"다운로드 다이렉트 링크"</span>,</span><br><span class="line">            <span class="attr">"created_time"</span>: <span class="string">"생성일시"</span>,</span><br><span class="line">            <span class="attr">"fps"</span>: 주사율,</span><br><span class="line">            <span class="attr">"size"</span>: 파일 크기,</span><br><span class="line">            <span class="attr">"md5"</span>: <span class="string">"토큰"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"app"</span>: &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"앱 이름"</span>,</span><br><span class="line">        <span class="attr">"uri"</span>: <span class="string">"앱 링크"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"status"</span>: <span class="string">"영상 상태"</span>,</span><br><span class="line">    <span class="attr">"resource_key"</span>: <span class="string">"리소스 키"</span>,</span><br><span class="line">    <span class="attr">"embed_presets"</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>API의 내부 구조는 헤더추가와 curl로만 이루어져있다.<br>OAuth2.0과 RESTful를 이해했다면 아주 쉬울 것이다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> vimeo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vimeo Upload API - 1. Vimeo Developers</title>
      <link href="/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers/"/>
      <url>/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers/</url>
      
        <content type="html"><![CDATA[<h1 id="앱-등록"><a class="markdownIt-Anchor" href="#앱-등록"></a> 앱 등록</h1><p><a href="https://developer.vimeo.com/" target="_blank" rel="external nofollow noopener noreferrer">비메오 개발자 커뮤니티</a> 로그인 후 <strong>MyApps &gt; Create New App</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/hyD4cDi.jpg"><p>사용할 앱의 이름, 설명, URL 경로와 앱 로고 URL을 등록한다.<br>App Callback URL은 하나의 계정안에 멀티 유저를 두고 각자의 유저명으로 여러 동영상을 등록할시<br>OAuth2.0 인증을 통해 인증을 받기위한 것인데, 단순한 업로드 로직일 경우에는 필요가 없다.<br>앱에서 업로드가 있는 폴더안으로 경로만 대충 잡아주면 된다.</p><h1 id="권한-신청"><a class="markdownIt-Anchor" href="#권한-신청"></a> 권한 신청</h1><p>생성된 앱으로 들어가 <strong>Request Upload Access</strong>를 클릭한다.</p><img data-src="https://i.imgur.com/S5SgDDD.jpg"> <img data-src="https://i.imgur.com/7Q0KsI1.jpg"><p>1번은 이 앱(test)에 요금을 받을 것인지를 묻는다.<br>Yes 클릭시 비메오측 승인이 없으면 요금청구를 할 수 없다는 경고문과 함께 어떻게 차징을 할지 이유를 쓰는 란이 생긴다.<br>업로드로 과금을 받진 않을 것이니 No를 선택하자.</p><p>2번은 업로더의 계정으로 업로드를 할 것인지, 내 계정으로만 업로드를 할 것인지를 선택한다.<br>전자를 선택시에 Callback URL을 필히 설정해주어야하고 Callback URL에 Return된 Multi-User의 Access Token을 가지고 분기 업로드를 해주는 로직을 구현해야 한다.<br>하지만 우리는 한가지 계정에서의 비디오 업로드를 구현하기에 후자를 선택하면 된다.</p><p><strong>My account</strong> 선택시 비디오의 제작자를 묻는 선택지가 나오는데 선택해준다.</p><p>3번은 어떤 종류에 대한 비디오가 업로드가 될지 영문으로 설명을 해야한다.<br>간단히 “test용이다” 라고 적으니 Reject메일이 날라오는 걸로 보아 구체적으로 적어야한다.<br>샘플 동영상을 링크 걸어주는게 가장 간단한 인증방법이 될 것이다.</p><p>Request Upload Access를 클릭하면 5영업일 내에 처리해주겠다는 상태가 된다.</p><img data-src="https://i.imgur.com/X1iTaZC.jpg"><h1 id="토큰-생성"><a class="markdownIt-Anchor" href="#토큰-생성"></a> 토큰 생성</h1><p>생성된 앱에서 <strong>Authentication</strong> 메뉴로 들어가 scope를 설정하고 <strong>Generate Token</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/dgSUFer.jpg"><p>Create는 채널을 만드는거라 필요없고 <strong>Edit, Delete, Upload</strong> 권한정도를 설정하면 된다.</p><img data-src="https://i.imgur.com/B6EsyHP.jpg"><p><strong>Access Token, Client Identifier, Client Secret</strong>를 모두 저장해둔다.<br>Access Token은 분실시 다시 확인할 수 없고, 재발급만 가능하니 잘 간직하자.</p><h1 id="회신-기다리기"><a class="markdownIt-Anchor" href="#회신-기다리기"></a> 회신 기다리기</h1><p>회원가입시 등록한 메일 주소로 Vimeo 측에서 Upload Access에 대한 회신메일이 온다.<br>Reject시 상세한 이유가 Approved시 환영한다라는 내용이다.<br>조건을 충족해 승인 완료가 되어 해당 앱에 다시 들어가보면 아래처럼 상태가 바뀐다.</p><img data-src="https://i.imgur.com/ogJd6AG.jpg"><p><a href="/2017/01/18/Vimeo-Upload-API-2-PHP-API/">2. PHP API 사용</a>으로 이어집니다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> vimeo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript로 로컬에 이미지 다운로드</title>
      <link href="/2017/01/16/javascript%EB%A1%9C-%EB%A1%9C%EC%BB%AC%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C/"/>
      <url>/2017/01/16/javascript%EB%A1%9C-%EB%A1%9C%EC%BB%AC%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C/</url>
      
        <content type="html"><![CDATA[<p>버튼을 눌러 이미지를 <strong>다운로드</strong> 받고 싶다면 어떻게 해야될까?<br>Client Side 에서 할 수 있는 가장 쉬운 방법은 <a href="https://www.w3schools.com/TAgs/att_a_download.asp" target="_blank" rel="external nofollow noopener noreferrer">download attribute</a>를 사용하는 것이다.<br>하지만 예상했듯이 이 속성은 IE 에서 지원하지 않는다.</p><h1 id="for-ie"><a class="markdownIt-Anchor" href="#for-ie"></a> For IE</h1><h2 id="base64"><a class="markdownIt-Anchor" href="#base64"></a> base64</h2><p>먼저 이미지를 base64 인코딩해야한다.<br>FileReader 또는 Canvas 를 이용해 변환할 수 있는데 <a href="https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript" target="_blank" rel="external nofollow noopener noreferrer">stackoverflow 의 명쾌한 답변</a>을 참조하자.<br>jQuery 환경이라면 <a href="http://www.henryalgus.com/reading-binary-files-using-jquery-ajax/" target="_blank" rel="external nofollow noopener noreferrer">Reading binary data using jquery ajax</a>를 참조해도 된다.</p><p>base64encode 가 된 이미지 데이터가 뽑아지면 시작할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADN0lEQVR42u3aQY7CMBAEQP7/afaKtEu2exwk4lROKITEZSQGT/vxiI/ny/H7zOv513ffXZl89viad6M6+cDGxsa+CDsZUP5uMqx3d8gntB3nH1ODjY2NvR373S/88TUtMuG1E5qMExsbGxv7eChJUTl+4nP5wMbGxsZu2UlbJy9RyQS1SxpsbGzsu7FXCkPeTkoihGTQeUPqhF4aNjY29tez81T0+19/JN/GxsbG/mL2rHEzi2OTxc968BwpsLGxsTdiz0Lc/I9+voBprzwhhMbGxsbeiN1S2xvNWkuzZtD6aLGxsbGvxW4f0BaqtpU/C4/bhRA2Njb2TuwkTF0ZVn4+/+zKJEb7lbCxsbG3YM9aRe0CJo8NkivzFhU2Njb2ruwW3/71r0vL6FnDXUvY2NjYl2XPAto8mm0LUrIImcUG2NjY2Luy1xv6eTCwMomzAlZPEzY2NvbF2ceDWIld82XJSjjRbsfExsbG3om9EgbkDak2GM5L6bApho2Njb0F+/imeclJWj/t61nwEBU2bGxs7I3Yn2vifKLN1MKKxQk2Njb2ZdlnFYzZ9bMG00rbCxsbG/sO7Lw13261zIvlMXVW5B7tDGFjY2NvwZ4lpDmpLYenXYmNjY29ETv5u5+XkDYYaFtL7ZKm2KmEjY2NfVl2u10mWYS009q2hNoC9scZbGxs7I3YM+SsjJ3V0lqZ3MfKd4uNjY39lexk6Hlkm4fHs40+7dacomhhY2Njb8TOi1MeCZw7oflER1t2sLGxsS/Onq1d2hC3XYq0japZCIGNjY29K7u9Xds8WmlU5SWwiH6xsbGxt2DnP/dthNBS12FFScPGxsbelN02aNrFRh4tzJ5SbO7BxsbGvgE7Aa8EACvlc6X9hI2Njb0T+1keySBmm3jy0Le92z9JCDY2NvbF2W0BOLfwHJ9vW0v1UgQbGxt7I3ZStFbKTLKMab+TZFH0T+SAjY2NvR07b7vP4ti2TK5MSvRcbGxs7Nuz2wfnT1nZalncBxsbG/vG7PWtlmdt5VlpimFjY2Pvx06aRHlBarfs5O3+9ut5u/rAxsbG3og9W1TkxWYWP7T3zBtV2NjY2BuxfwBOAYaS/PUQNQAAAABJRU5ErkJggg==</span><br></pre></td></tr></table></figure><h2 id="blob"><a class="markdownIt-Anchor" href="#blob"></a> blob</h2><p>이제 이미지 데이터를 Blob Object 로 변환해야한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// imageSrc는 위의 이미지 데이터이다.</span></span><br><span class="line"><span class="comment">// 실제 데이터는 iVBO...부터이므로 split한다.</span></span><br><span class="line"><span class="keyword">var</span> imgData = atob(imageSrc.split(<span class="string">","</span>)[<span class="number">1</span>])</span><br><span class="line"><span class="keyword">var</span> len = imgData.length</span><br><span class="line"><span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(len) <span class="comment">// 비트를 담을 버퍼를 만든다.</span></span><br><span class="line"><span class="keyword">var</span> view = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buf) <span class="comment">// 버퍼를 8bit Unsigned Int로 담는다.</span></span><br><span class="line"><span class="keyword">var</span> blob, i</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">  view[i] = imgData.charCodeAt(i) &amp; <span class="number">0xff</span> <span class="comment">// 비트 마스킹을 통해 msb를 보호한다.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Blob 객체를 image/png 타입으로 생성한다. (application/octet-stream도 가능)</span></span><br><span class="line">blob = <span class="keyword">new</span> Blob([view], &#123; <span class="attr">type</span>: <span class="string">"image/png"</span> &#125;)</span><br></pre></td></tr></table></figure><h2 id="mssaveoropenblob"><a class="markdownIt-Anchor" href="#mssaveoropenblob"></a> msSaveOrOpenBlob</h2><p>IE10+ 에서 사용가능한 <a href="https://msdn.microsoft.com/ko-kr/library/hh779016.aspx" target="_blank" rel="external nofollow noopener noreferrer">msSaveOrOpenBlob</a>가 필요하다.</p><blockquote><p>msSaveBlob 메서드는 <strong>저장</strong> 단추만 사용자에게 제공하는 반면<br>msSaveOrOpenBlob 메소드는 <strong>저장 및 열기</strong> 단추를 모두 제공한다는 것이 차이점이다.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// blob과 저장될 파일명을 받는다.</span></span><br><span class="line"><span class="built_in">window</span>.navigator.msSaveOrOpenBlob(blob, <span class="string">"new_file_name.png"</span>)</span><br></pre></td></tr></table></figure><h1 id="not-ie"><a class="markdownIt-Anchor" href="#not-ie"></a> Not IE</h1><p>IE 가 세상에 존재하지 않는다면 코드는 아주 예쁘게 짤 수 있다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"data:image/png;base64,iVBORw0KG..."</span> <span class="attr">download</span>=<span class="string">"new_file_name.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"data:image/png;base64,iVBORw0KG..."</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>a 태그가 보기 싫다면 아래 구문을 포함해 함수로 만든다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>)</span><br><span class="line">a.style = <span class="string">"display: none"</span></span><br><span class="line">a.href = img.src</span><br><span class="line">a.download = <span class="string">"new_file_name.png"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">a.click()</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 다운로드가 안되는 경우 방지</span></span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(a)</span><br><span class="line">&#125;, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><h2 id="blob-재사용"><a class="markdownIt-Anchor" href="#blob-재사용"></a> Blob 재사용</h2><p>IE 때문에 만들었던 Blob 객체를 URL 기능을 이용해 재사용해보자.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = URL.createObjectURL(blob)</span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>)</span><br><span class="line">a.style = <span class="string">"display: none"</span></span><br><span class="line">a.href = url</span><br><span class="line">a.download = <span class="string">"new_file_name.png"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">a.click()</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(a)</span><br><span class="line">  URL.revokeObjectURL(url) <span class="comment">// 메모리 해제</span></span><br><span class="line">&#125;, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [downloadImage]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;[string]&#125;</span> </span>img       [base64encoded image data]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;[string]&#125;</span> </span>fileName  [new file name]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return </span>[image file]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadImage</span>(<span class="params">img, fileName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> imgData = atob(img.src.split(<span class="string">","</span>)[<span class="number">1</span>]),</span><br><span class="line">    len = imgData.length,</span><br><span class="line">    buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(len),</span><br><span class="line">    view = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buf),</span><br><span class="line">    blob,</span><br><span class="line">    i</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    view[i] = imgData.charCodeAt(i) &amp; <span class="number">0xff</span> <span class="comment">// masking</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  blob = <span class="keyword">new</span> Blob([view], &#123;</span><br><span class="line">    type: <span class="string">"application/octet-stream"</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.navigator.msSaveOrOpenBlob) &#123;</span><br><span class="line">    <span class="built_in">window</span>.navigator.msSaveOrOpenBlob(blob, fileName)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//var url = URL.createObjectURL(blob);</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>)</span><br><span class="line">    a.style = <span class="string">"display: none"</span></span><br><span class="line">    <span class="comment">//a.href = url;</span></span><br><span class="line">    a.href = img.src</span><br><span class="line">    a.download = fileName</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">    a.click()</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">document</span>.body.removeChild(a)</span><br><span class="line">      <span class="comment">//URL.revokeObjectURL(url);</span></span><br><span class="line">    &#125;, <span class="number">100</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><img data-src="https://i.imgur.com/36Rf76J.gif" title="title:실망시키지 않는 IE">]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XML-RPC를 활용한 네이버 블로그 글쓰기 API</title>
      <link href="/2017/01/15/XML-RPC%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EA%B8%80%EC%93%B0%EA%B8%B0-API/"/>
      <url>/2017/01/15/XML-RPC%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%84%A4%EC%9D%B4%EB%B2%84-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EA%B8%80%EC%93%B0%EA%B8%B0-API/</url>
      
        <content type="html"><![CDATA[<p>OAuth 를 이용한 블로그 API 가 있는데, 네이버 블로그 글쓰기는 그보다 더 간단히 구현할 수 있다.</p><h1 id="xml-rpc-for-php-다운로드"><a class="markdownIt-Anchor" href="#xml-rpc-for-php-다운로드"></a> XML-RPC for PHP 다운로드</h1><p><a href="https://gggeek.github.io/phpxmlrpc/" target="_blank" rel="external nofollow noopener noreferrer">XML-RPC</a>에서 다운받는다.</p><img data-src="https://i.imgur.com/e03yr7c.png"><p>압출을 푼 뒤 <strong>lib/xmlrpc.inc</strong> 파일을 로직을 만들 곳에 복사해 놓는다.</p><h1 id="네이버-블로그-플러그인-설정"><a class="markdownIt-Anchor" href="#네이버-블로그-플러그인-설정"></a> 네이버 블로그 플러그인 설정</h1><p><strong>관리 &gt; 글쓰기 API 설정</strong> 메뉴로 들어간다.</p><img data-src="https://i.imgur.com/EUXhd4K.png"><p><strong>사용하기</strong>로 설정을 바꾼 후 비밀번호를 기억하고, 어디에 등록할지 카테고리를 정한다.</p><img data-src="https://i.imgur.com/0VVpe4e.png"><h1 id="api-연동"><a class="markdownIt-Anchor" href="#api-연동"></a> API 연동</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">"xmlrpc.inc"</span>;</span><br><span class="line"></span><br><span class="line">$title = $_POST[<span class="string">'title'</span>];</span><br><span class="line">$content = $_POST[<span class="string">'content'</span>];</span><br><span class="line">$result = newPost($title, $content);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode($result);</span><br><span class="line"><span class="comment">// 블로그 API 함수</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newPost</span><span class="params">($title, $description)</span> </span>&#123;</span><br><span class="line">  $g_blog_url = <span class="string">"https://api.blog.naver.com/xmlrpc"</span>;</span><br><span class="line">  $user_id = <span class="string">"아이디"</span>;</span><br><span class="line">  $blogid = <span class="string">"아이디"</span>;</span><br><span class="line">  $password = <span class="string">"발급받은 비밀번호"</span>;</span><br><span class="line">  $publish = <span class="keyword">true</span>;</span><br><span class="line">  $client = <span class="keyword">new</span> xmlrpc_client($g_blog_url);</span><br><span class="line">  $client-&gt;setSSLVerifyPeer(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">  $GLOBALS[<span class="string">'xmlrpc_internalencoding'</span>] = <span class="string">'UTF-8'</span>;</span><br><span class="line"></span><br><span class="line">  $struct = [</span><br><span class="line">    <span class="string">'title'</span> =&gt; <span class="keyword">new</span> xmlrpcval($title, <span class="string">"string"</span>),</span><br><span class="line">    <span class="string">'description'</span> =&gt; <span class="keyword">new</span> xmlrpcval($description, <span class="string">"string"</span>)</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  $f = <span class="keyword">new</span> xmlrpcmsg(<span class="string">"metaWeblog.newPost"</span>,</span><br><span class="line">    [</span><br><span class="line">      <span class="keyword">new</span> xmlrpcval($blogid, <span class="string">"string"</span>),</span><br><span class="line">      <span class="keyword">new</span> xmlrpcval($user_id, <span class="string">"string"</span>),</span><br><span class="line">      <span class="keyword">new</span> xmlrpcval($password, <span class="string">"string"</span>),</span><br><span class="line">      <span class="keyword">new</span> xmlrpcval($struct , <span class="string">"struct"</span>),</span><br><span class="line">      <span class="keyword">new</span> xmlrpcval($publish, <span class="string">"boolean"</span>)</span><br><span class="line">    ]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  $f-&gt;request_charset_encoding = <span class="string">'UTF-8'</span>;</span><br><span class="line">  <span class="keyword">return</span> $response = $client-&gt;send($f);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>네이버 블로그는 html 태그가 먹으므로 escape 처리를 할 필요는 없다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RESTful을 위한 PHP HTTP Method 처리</title>
      <link href="/2017/01/15/RESTful%EC%9D%84-%EC%9C%84%ED%95%9C-PHP-HTTP-Method-%EC%B2%98%EB%A6%AC/"/>
      <url>/2017/01/15/RESTful%EC%9D%84-%EC%9C%84%ED%95%9C-PHP-HTTP-Method-%EC%B2%98%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<p>메소드를 분기해서 새로운 배열에 담아주면 된다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><p><strong>contentType을 application/json으로 보냈을 경우</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span></span><br><span class="line">$method     = strtolower($_SERVER[<span class="string">'REQUEST_METHOD'</span>]);</span><br><span class="line"><span class="keyword">switch</span> ($method) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'get'</span>:</span><br><span class="line">        $input = json_decode(json_encode($_GET), <span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'post'</span>:</span><br><span class="line">        $input = json_decode(file_get_contents(<span class="string">'php://input'</span>), <span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'put'</span>:</span><br><span class="line">        $input = json_decode(file_get_contents(<span class="string">'php://input'</span>), <span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'delete'</span>:</span><br><span class="line">        $input = json_decode(file_get_contents(<span class="string">'php://input'</span>), <span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>contentType을 그냥 전송한다면 **file_get_contents(‘php://input’)**으로 받으면 된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>GET을 제외한 method는 params를 JSON.stringify한 뒤에 file_get_contents로 읽어오면 되는데, GET으로는 file전송을 할 수 없기 때문에 위처럼 받으면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>레이 커즈와일이 예측하는 기술발전 시나리오</title>
      <link href="/2017/01/15/%EB%A0%88%EC%9D%B4-%EC%BB%A4%EC%A6%88%EC%99%80%EC%9D%BC%EC%9D%B4-%EC%98%88%EC%B8%A1%ED%95%98%EB%8A%94-%EA%B8%B0%EC%88%A0%EB%B0%9C%EC%A0%84-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4/"/>
      <url>/2017/01/15/%EB%A0%88%EC%9D%B4-%EC%BB%A4%EC%A6%88%EC%99%80%EC%9D%BC%EC%9D%B4-%EC%98%88%EC%B8%A1%ED%95%98%EB%8A%94-%EA%B8%B0%EC%88%A0%EB%B0%9C%EC%A0%84-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4/</url>
      
        <content type="html"><![CDATA[<p>급진적 미래학자인 레이 커즈와일이 <strong>How to create your mind</strong>에서 쓴 내용을 정리해봤다.</p><h1 id="2010-년대"><a class="markdownIt-Anchor" href="#2010-년대"></a> 2010 년대</h1><ul><li>망막에 이미지를 직접 조사하는 안경 형태의 디스플레이가 상용화</li><li>인간의 뇌 용량과 거의 비슷한 10TB 의 컴퓨터가 100 만원대에 출시</li></ul><h1 id="2020-년대"><a class="markdownIt-Anchor" href="#2020-년대"></a> 2020 년대</h1><ul><li>혈관 속에 투여하여 24 시간 인간의 몸 속 변화를 감시하는 나노봇이 상용화</li><li>튜링테스트를 통과하는 컴퓨터의 등장</li><li>자동차는 모두 자율주행차로 바뀜, 고속도로는 자율주행차의 통행만 가능</li></ul><h1 id="2030-년대"><a class="markdownIt-Anchor" href="#2030-년대"></a> 2030 년대</h1><ul><li>가상현실 구현 기술이 발전해 실제와 구분할 수 없음</li><li>마음과 의식을 컴퓨터에 백업할 수 있음</li></ul><h1 id="2040-년대"><a class="markdownIt-Anchor" href="#2040-년대"></a> 2040 년대</h1><ul><li>인공지능이 인간의 지능보다 10 억배 뛰어난 성능을 발휘</li><li>분자 단위로 물질을 조립할 수 있는 기술이 개발되어, 어떠한 물질이든 창조가능</li><li>인간의 뇌와 클라우드 인공지능을 무선으로 연결하게되며, 인간의 지능은 10 억배 증가</li></ul><h1 id="인간"><a class="markdownIt-Anchor" href="#인간"></a> 인간</h1><p>2030 년대부터 뇌의 알고리즘이 컴퓨터로 구현이 완료된다면, 인간에 대한 정의가 달라질 수 있다.</p><blockquote><p>의식은 뇌에 있다.<br>뇌의 모든 알고리즘을 옮겨 기계 뇌를 만들었다.</p><ul><li>기계는 의식이 있는 것인가?</li><li>기계는 살아 있는 것인가?</li><li>기계는 인간인가?</li></ul></blockquote><ul><li>의식은 뇌에서 나오니 의식이 있다고 할 수 있다.</li><li>의식은 살아 있는 것에서부터 나오니 살아있다고 할 수 있다.</li><li>???</li></ul><h1 id="복제"><a class="markdownIt-Anchor" href="#복제"></a> 복제</h1><blockquote><p><strong>나</strong>의 뇌를 스캔해서 의식이 복제된 기계인 <strong>나 2</strong>가 있다.<br><strong>나 2</strong>는 마치 나처럼 내 삶에 대해 이야기하고<br>심지어 &quot;새로운 몸이 참 마음에 드는군&quot;이라며 너스레를 떤다.</p><p><strong>나 2</strong>는 <strong>나</strong>라고 할 수 있을까?</p></blockquote><p><strong>나 2</strong>는 겉보기엔 <strong>나</strong>와 똑같지만 <strong>나</strong>는 여기 존재하니 아니다.</p><blockquote><p><strong>나</strong>는 뇌를 부분부분 기계로 바꾸는 수술을 진행하고 있다.<br>수술은 성공적이여서 수술을 할수록 <strong>나</strong>의 신체 기능은 진화하고 있다.<br>수술이 계속되어 완전한 기계뇌를 가진 내가 되었다.</p><p><strong>나</strong>는 위의 <strong>나 2</strong>와 똑같은 기계가 된 것이다.</p></blockquote><p>결국 <strong>나 2</strong>는 또다른 <strong>나</strong>이다.<br>내가 둘이 된 것이다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><a href="http://scienceon.hani.co.kr/?mid=media&amp;category=386618&amp;page=1&amp;document_srl=397536" target="_blank" rel="external nofollow noopener noreferrer">뇌를 모방하는 인공지능의 약진</a> 기사를 읽어보면 도움이 된다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>550 : smtp auth address is not same to envfrom address (#5.5.0)</title>
      <link href="/2017/01/15/550-smtp-auth-address-is-not-same-to-envfrom-address-5-5-0/"/>
      <url>/2017/01/15/550-smtp-auth-address-is-not-same-to-envfrom-address-5-5-0/</url>
      
        <content type="html"><![CDATA[<h1 id="550-smtp-auth-address-is-not-same-to-envfrom-address"><a class="markdownIt-Anchor" href="#550-smtp-auth-address-is-not-same-to-envfrom-address"></a> 550 : smtp auth address is not same to envfrom address</h1><p>stmp 로 메일 발송시 아래와 같은 오류가 발생하는 경우가 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">550 : smtp auth address is not same to envfrom address (<span class="comment">#5.5.0)</span></span><br><span class="line">The following From address failed: your@email.com : MAIL FROM <span class="built_in">command</span> failed, smtp auth address is not same to envfrom address (<span class="comment">#5.5.0)</span></span><br></pre></td></tr></table></figure><h2 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h2><p>smtp 인증 username 과 보내는 메일주소가 같지 않아서 발생한다.<br>username 과 from email 을 일치시켜주면 해결된다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로컬 웹서버 돌리기 - 5. CURL 설정</title>
      <link href="/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-5-CURL-%EC%84%A4%EC%A0%95/"/>
      <url>/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-5-CURL-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-4-HTTPS-OpenSSL-%EC%84%A4%EC%A0%95/">4. OpenSSL 설정</a>에서 이어집니다.</p><p>리눅스에서는 Curl 모듈을 확장만 하면 사용이 가능하지만 윈도우 로컬 서버에서는 사용이 되지 않는다. 해결해보자.</p><h1 id="모듈-확장"><a class="markdownIt-Anchor" href="#모듈-확장"></a> 모듈 확장</h1><p><strong>php.ini</strong>에서 <strong>php_curl</strong> 모듈의 주석을 해제한다.</p><img data-src="https://i.imgur.com/FY06asi.jpg"><h1 id="dll-복사"><a class="markdownIt-Anchor" href="#dll-복사"></a> dll 복사</h1><p>총 4 개의 dll 파일을 <strong>C:\Windows\system32</strong> 폴더로 복사해야한다.</p><ul><li>php7\ <strong>libeay32.dll</strong></li><li>php7\ <strong>libssh2.dll</strong></li><li>php7\ <strong>ssleay32.dll</strong></li><li>php7\ext\ <strong>php_curl.dll</strong></li></ul><img data-src="https://i.imgur.com/1qE7oyH.jpg"><p>이제 php curl command 를 사용할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로컬 웹서버 돌리기 - 4. HTTPS OpenSSL 설정</title>
      <link href="/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-4-HTTPS-OpenSSL-%EC%84%A4%EC%A0%95/"/>
      <url>/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-4-HTTPS-OpenSSL-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-3-Virtual-Host-%EC%84%A4%EC%A0%95/">3. Virtual Host 설정</a>에서 이어집니다.<br><strong>로컬에서 HTTPS 통신으로 프로젝트에 접근하시고 싶지 않으시다면 3 장으로 웹서버 구동은 완료됩니다.</strong></p><h1 id="apache-ssl-사용-설정"><a class="markdownIt-Anchor" href="#apache-ssl-사용-설정"></a> Apache SSL 사용 설정</h1><h2 id="모듈-활성화"><a class="markdownIt-Anchor" href="#모듈-활성화"></a> 모듈 활성화</h2><p><strong>Apache24\conf\httpd.conf</strong>에서 ssl_module 과 socache_shmcb_module 의 주석을 해제한다.</p><img data-src="https://i.imgur.com/EDVCnSW.jpg"><h2 id="설정-활성화"><a class="markdownIt-Anchor" href="#설정-활성화"></a> 설정 활성화</h2><p><strong>Include conf/extra/httpd-ssl.conf</strong>의 주석을 해제한다.</p><img data-src="https://i.imgur.com/akbjdpP.png"><h1 id="ssl-설정-변경"><a class="markdownIt-Anchor" href="#ssl-설정-변경"></a> SSL 설정 변경</h1><h2 id="디렉토리-생성"><a class="markdownIt-Anchor" href="#디렉토리-생성"></a> 디렉토리 생성</h2><p><strong>Apache24\conf</strong> 경로에서 <strong>ssl</strong>폴더를 만든 뒤 <strong>conf/openssl.cnf</strong> 파일을 ssl 폴더로 복사한다.</p><h2 id="키-생성"><a class="markdownIt-Anchor" href="#키-생성"></a> 키 생성</h2><p>ssl 폴더로 들어와 cmd 창을 연 뒤 키를 생성한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ openssl genrsa -out domain.key 1024</span><br><span class="line">$ openssl req -new -config openssl.cnf -days 365 -key domain.key -out domain.csr</span><br></pre></td></tr></table></figure><blockquote><p>위 명령어를 입력하면 입력 폼 형식이 나오는데, 주제에 맞게 입력하면 된다. (KR, Seoul 등)</p></blockquote><p>생성된 <strong>domain.key</strong>, <strong>domain.csr</strong> 파일을 확인한 뒤 아래 명령어를 입력한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ openssl x509 -<span class="keyword">in</span> domain.csr -out domain.crt -req -signkey domain.key -days 365</span><br></pre></td></tr></table></figure><p><strong>완성된 파일 구조의 형태는 다음과 같아야한다.</strong></p><img data-src="https://i.imgur.com/bwbQsHm.jpg"><h1 id="ssl-연동"><a class="markdownIt-Anchor" href="#ssl-연동"></a> SSL 연동</h1><p><strong>httpd-ssl.conf</strong>를 열어 키 파일을 연동해준다.</p><img data-src="https://i.imgur.com/K2nMCyM.jpg"><p>그 밖에 다른 경로로 연결된 설정이 있다면 바로 잡아주면 된다.</p><h1 id="https-접속"><a class="markdownIt-Anchor" href="#https-접속"></a> HTTPS 접속</h1><p>Apache restart 후 접속해보자.</p><img data-src="https://i.imgur.com/oKKwECF.jpg"><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><h2 id="오류-발생시"><a class="markdownIt-Anchor" href="#오류-발생시"></a> 오류 발생시</h2><p>오류가 발생할 경우 <strong>Apache24\logs\error.log</strong> 파일을 확인해가며 진행하면 된다.</p><h2 id="virtual-host-설정"><a class="markdownIt-Anchor" href="#virtual-host-설정"></a> Virtual Host 설정</h2><p>Virtual Host 에 직접 key 파일을 지정할 수도 있다.</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;VirtualHost *:443&gt;</span></span><br><span class="line">    <span class="attribute">SSLEngine</span> <span class="literal">on</span></span><br><span class="line">    <span class="attribute">SSLCertificateFile</span> <span class="string">"d:/Apache24/conf/ssl/domain.crt"</span></span><br><span class="line">    <span class="attribute">SSLCertificateKeyFile</span> <span class="string">"d:/Apache24/conf/ssl/domain.key"</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute"><span class="nomarkup">DocumentRoot</span></span> <span class="string">"D:/workspace/test"</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">ServerName</span></span> local.test.com</span><br><span class="line"><span class="section">&lt;/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure><p>👏👏👏 이로서 로컬 HTTPS 서버를 가지게 되었습니다.<br>다음 장에서는 서버 통신을 위해 <a href="/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-5-CURL-%EC%84%A4%EC%A0%95/">CURL 설정</a>을 해보겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10에서 hosts 파일 저장이 안될 때</title>
      <link href="/2017/01/13/Windows10%EC%97%90%EC%84%9C-hosts-%ED%8C%8C%EC%9D%BC-%EC%A0%80%EC%9E%A5%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2017/01/13/Windows10%EC%97%90%EC%84%9C-hosts-%ED%8C%8C%EC%9D%BC-%EC%A0%80%EC%9E%A5%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>실컷 hosts 파일을 변경했는데 다시 들어가보니 원래대로거나,<br>권한이 없다고 아예 저장이 안 되는 경우가 있다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="백신"><a class="markdownIt-Anchor" href="#백신"></a> 백신</h2><p>백신에 따라 hosts 파일을 보호하기 때문에 수정을 제한될 수 있다.<br>잠시 백신을 사용안함 상태로 변경하자.</p><h2 id="windows10"><a class="markdownIt-Anchor" href="#windows10"></a> Windows10</h2><p>Windows10 은 기본적으로 hosts 파일의 수정이 제한되어있다.</p><p><strong>바탕화면 우클릭 &gt; 새로만들기 &gt; 바로가기</strong>를 실행한다.</p><img data-src="https://i.imgur.com/hNfy1ui.png"><p><strong>항목 위치 입력</strong>에 host 파일 경로를 입력해 바로가기를 만든다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 아래 내용을 항목 위치 입력에 넣어 바로가기 생성</span></span><br><span class="line">C:\Windows\System32\notepad.exe C:\windows\system32\drivers\etc\hosts</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/vEDRV5f.png"><p><strong>관리자 권한으로 실행</strong>한다.</p><img data-src="https://i.imgur.com/mKWOBBO.png"><p>이제 hosts 파일을 수정하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로컬 웹서버 돌리기 - 3. Virtual Host 설정</title>
      <link href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-3-Virtual-Host-%EC%84%A4%EC%A0%95/"/>
      <url>/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-3-Virtual-Host-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-2-PHP-%EC%84%A4%EC%B9%98/">2. PHP 설치</a>에서 이어집니다.</p><p>Apache와 PHP의 연동은 끝났지만 사용하고 싶은 프로젝트를 연동하는 작업을 해주어야 원하는 폴더를 웹으로 볼 수 있을 것이다.</p><h1 id="virtual-host-사용"><a class="markdownIt-Anchor" href="#virtual-host-사용"></a> Virtual Host 사용</h1><p><strong>httpd.conf</strong>를 열어 맨 아래쪽으로 내리면 있는 <strong>httpd-vhost.conf</strong>의 주석을 해제한다.</p><img data-src="https://i.imgur.com/zWwtfhL.jpg"><h1 id="디렉토리-접근-권한-변경"><a class="markdownIt-Anchor" href="#디렉토리-접근-권한-변경"></a> 디렉토리 접근 권한 변경</h1><p>httpd.conf에서 모든 디렉토리 접근권한은 기본적으로 차단되어있기에 변경해야한다.</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;Directory /&gt;</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">Options</span></span> FollowSymLinks</span><br><span class="line">    <span class="attribute">AllowOverride</span> none</span><br><span class="line">    <span class="attribute"><span class="nomarkup">Order</span></span> allow,deny</span><br><span class="line">    <span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></span><br><span class="line"><span class="section">&lt;/Directory&gt;</span></span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/kMrNR6d.jpg"><h1 id="virtual-host-설정"><a class="markdownIt-Anchor" href="#virtual-host-설정"></a> Virtual Host 설정</h1><p><strong>./conf/extra/httpd-vhosts.conf</strong> 파일을 연다.<br>임시로 있는 VirtualHost를 지워주고 아래처럼 내가 사용할 프로젝트를 입력한다.</p><img data-src="https://i.imgur.com/ipgklju.jpg"><p><strong>DocumentRoot</strong>에는 프로젝트 경로, <strong>ServerName</strong>은 URL로 접근할 경로를 적는다.</p><h1 id="host-파일-수정"><a class="markdownIt-Anchor" href="#host-파일-수정"></a> Host 파일 수정</h1><p>C:\Windows\system32\drivers\etc\hosts 파일을 관리자 권한으로 열고 주소를 추가한다.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 local.test.com</span><br></pre></td></tr></table></figure><h2 id="저장-불가일시"><a class="markdownIt-Anchor" href="#저장-불가일시"></a> 저장 불가일시</h2><p>잠시 <a href="/2017/01/13/Windows10%EC%97%90%EC%84%9C-hosts-%ED%8C%8C%EC%9D%BC-%EC%A0%80%EC%9E%A5%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/">hosts 파일을 수정가능하게</a> 손을 보고 다시 오자.</p><h1 id="연동-확인"><a class="markdownIt-Anchor" href="#연동-확인"></a> 연동 확인</h1><p>Apache restart 후에 확인한다.</p><img data-src="https://i.imgur.com/dq3Qtpo.jpg"><p>👏👏👏 이로서 기본 웹서버 설치는 마무리 됬습니다.<br>다음 장에서는 HTTPS 환경을 위해 <a href="/2017/01/14/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-4-HTTPS-OpenSSL-%EC%84%A4%EC%A0%95/">OpenSSL 설정</a>을 해보겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로컬 웹서버 돌리기 - 2. PHP 설치</title>
      <link href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-2-PHP-%EC%84%A4%EC%B9%98/"/>
      <url>/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-2-PHP-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p><a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-1-Apache-%EC%84%A4%EC%B9%98/">1. Apache 설치</a>에서 이어집니다.</p><h1 id="php-다운로드"><a class="markdownIt-Anchor" href="#php-다운로드"></a> PHP 다운로드</h1><p><a href="https://windows.php.net/download/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 Apache 의 VC 버전에 맞는 Thread Safe 타입의 PHP 를 다운받으면 된다.</p><img data-src="https://i.imgur.com/4BY9Y7E.jpg" class><p>압축을 풀고 Apache 와 같은 폴더에 php7 로 변경해 저장한다. (D:\php7)<br>폴더 안의 <strong>php.ini-development</strong>를 <strong>php.ini</strong>로 변경한다.</p><h1 id="모듈-활성화"><a class="markdownIt-Anchor" href="#모듈-활성화"></a> 모듈 활성화</h1><p>사용할 모듈의 세미콜론을 지워주면 된다.</p><img data-src="https://i.imgur.com/lOKahxa.jpg" class><p><strong>curl, mysqli, gettext, mbstring, openssl, pdomysql</strong>는 기본으로 지워주고, 나머진 나중에 지워도 된다.</p><h1 id="설정-변경"><a class="markdownIt-Anchor" href="#설정-변경"></a> 설정 변경</h1><p><strong>php.ini</strong> 파일의 설정을 변경한다.</p><h2 id="시간대-설정"><a class="markdownIt-Anchor" href="#시간대-설정"></a> 시간대 설정</h2><p>date.timezone 을 추가한다.</p><img data-src="https://i.imgur.com/Q4uTX7J.jpg" class><h2 id="short_open_tag-설정"><a class="markdownIt-Anchor" href="#short_open_tag-설정"></a> short_open_tag 설정</h2><?php 를 <? 로도 사용할 수 있게 해주는 short_open_tag 옵션을 켠다.<img data-src="https://i.imgur.com/P1zVPs6.jpg" class="">## 에러 리포팅 설정에러 발생시 서버에 오류가 노출되기에 에러 노출 단계를 낮춰주자.<img data-src="https://i.imgur.com/BYKY6gP.jpg" class><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">error_reporting</span> = E_ALL &amp; ~E_NOTICE &amp; ~E_DEPRECATED &amp; ~E_USER_DEPRECATED</span><br></pre></td></tr></table></figure>모든오류 & not runtime notice & not deprecated & not user deprecated 의 상태이면 오류를 출력한다.## 확장 모듈 경로 설정C:\\php에 php 설치를 하지 않았을 경우 확장 모듈 경로를 변경해줘야한다.<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">extension_dir</span> = <span class="string">"D:\php7\ext"</span></span><br></pre></td></tr></table></figure># Apache에 PHP 연동**httpd.conf** 파일을 열고 아래 구문을 모두 추가한다.<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 인덱스 파일 설정</span></span><br><span class="line"><span class="attribute">DirectoryIndex</span> index.php index.html index.htm</span><br><span class="line"><span class="comment"># 모듈 연동 (php 설치 경로를 적는다)</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">LoadModule</span></span> php7_module <span class="string">"D:/php7/php7apache2_4.dll"</span></span><br><span class="line"><span class="comment"># 핸들러 및 타입 연동</span></span><br><span class="line"><span class="attribute">AddHandler</span> application/x-httpd-php .php</span><br><span class="line"><span class="attribute">AddType</span> application/x-httpd-php .php .html</span><br><span class="line"><span class="comment"># PHP INI 경로 설정</span></span><br><span class="line"><span class="attribute">PHPIniDir</span> <span class="string">"D:/php7"</span></span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/Fbq28aU.jpg" class># 연동 확인D:\Apache24\htdocs 경로의 index.html 파일을 index.php 로 변경 후 저장한다.<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span></span><br><span class="line">    phpinfo();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/bydLSlO.jpg" class># 여담php5에서 php7로 오는 중 큰 변경점이 몇 가지 있다.1. 속도가 php5보다 2배 향상2. mysql 함수 사용 불가 (Mysqli로 대체)3. 기본값 연산자 사용 가능 (A ?? B ?? C 로 사용가능)👏👏👏 다음 장에서는 실제 프로젝트를 웹서버에 돌리기 위한 [Virtual Host 설정](/2017/01/13/로컬-웹서버-돌리기-3-Virtual-Host-설정/)을 해보겠습니다.```]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>로컬 웹서버 돌리기 - 1. Apache 설치</title>
      <link href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-1-Apache-%EC%84%A4%EC%B9%98/"/>
      <url>/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-1-Apache-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p>APM_setup 은 좋은 선택이지만, PHP 버전업에 있어서 충돌이 너무 심하고<br>Nginx 도 좋은 선택이지만 나중에 정리하기로 하자.</p><h1 id="아파치-다운로드"><a class="markdownIt-Anchor" href="#아파치-다운로드"></a> 아파치 다운로드</h1><p><a href="https://www.apachelounge.com/download/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 운영체제에 맞는 버전을 다운로드 한다.</p><img data-src="https://i.imgur.com/4S3iGn0.jpg"><p>VC14, VC11 은 PHP 버전과도 관련있으니 다운받으면서 확인해 놓는다.<br>압축을 풀면 Apache24 폴더가 생기는데 이 폴더를 원하는 경로로 옮겨준다. (D:\Apache24)</p><h1 id="경로-변경"><a class="markdownIt-Anchor" href="#경로-변경"></a> 경로 변경</h1><p>C:\Apache24 에 압축을 풀었다면 <a href="#httpd-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%93%B1%EB%A1%9D">3 번</a>으로 넘어가자</p><p><strong>Apache24/conf/httpd.conf</strong>를 열어 경로를 변경한다.</p><img data-src="https://i.imgur.com/XCfgmlg.jpg"><p>초기 설치 상태에서 C:\로 검색시 4 개정도 찾아지는데 모두 변경해주면 된다.</p><h1 id="httpd-서비스-등록"><a class="markdownIt-Anchor" href="#httpd-서비스-등록"></a> httpd 서비스 등록</h1><p>cmd 를 관리자 권한으로 실행 후 아래 명령어를 입력해준다.</p><ul><li>Windows10 : 시작메뉴 우클릭 &gt; 명령 프롬프트(관리자) 메뉴</li><li>Windows7 : 시작메뉴 &gt; 모든 프로그램 &gt; 보조 프로그램 &gt; 명령 프롬프트 우클릭 &gt; 관리자 권한으로 실행</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ httpd.exe -k install</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/XLLvKNp.jpg"><h1 id="httpd-구동"><a class="markdownIt-Anchor" href="#httpd-구동"></a> httpd 구동</h1><p><strong>Apache24\bin\ApacheMonitor.exe</strong> 실행한 뒤 <strong>작업표시줄</strong>에서 <strong>Apache</strong> 아이콘 클릭 후 서비스를 시작한다.</p><img data-src="https://i.imgur.com/MqSFUaW.png"><h1 id="localhost-접근"><a class="markdownIt-Anchor" href="#localhost-접근"></a> localhost 접근</h1><img data-src="https://i.imgur.com/BkBSLeL.jpg"><p>👏👏👏 다음 장에서는 <a href="/2017/01/13/%EB%A1%9C%EC%BB%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EB%8F%8C%EB%A6%AC%EA%B8%B0-2-PHP-%EC%84%A4%EC%B9%98/">PHP 를 설치해 Apache 와 연동</a>을 해보겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text custom shortcut</title>
      <link href="/2017/01/13/sublime-text-custom-shortcut/"/>
      <url>/2017/01/13/sublime-text-custom-shortcut/</url>
      
        <content type="html"><![CDATA[<p>서브라임 텍스트에서 단축키를 수정해보자.</p><h1 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h1><p><strong>Preferences &gt; Key Bindings</strong> 메뉴를 들어간다.<br>Default 와 User 로 나눠진 창에서 User 창에 내 단축키를 등록하면 된다.</p><h1 id="단축키"><a class="markdownIt-Anchor" href="#단축키"></a> 단축키</h1><blockquote><p>다른 환경과 호환되는 사용하기 편한 단축키</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  <span class="comment">// ctrl+d 로 줄삭제</span></span><br><span class="line">  &#123;</span><br><span class="line">    keys: [<span class="string">"ctrl+d"</span>],</span><br><span class="line">    command: <span class="string">"run_macro_file"</span>,</span><br><span class="line">    args: &#123; <span class="attr">file</span>: <span class="string">"res://Packages/Default/Delete Line.sublime-macro"</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 기존 ctrl+d의 기능을 옮김</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"ctrl+shift+k"</span>], <span class="attr">command</span>: <span class="string">"find_under_expand"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"ctrl+k"</span>, <span class="string">"ctrl+shift+k"</span>], <span class="attr">command</span>: <span class="string">"find_under_expand_skip"</span> &#125;,</span><br><span class="line">  <span class="comment">// 들여쓰기 활성화</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"f12"</span>], <span class="attr">command</span>: <span class="string">"reindent"</span>, <span class="attr">args</span>: &#123; <span class="attr">single_line</span>: <span class="literal">false</span> &#125; &#125;,</span><br><span class="line">  <span class="comment">// 파일 새로고침</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"f5"</span>], <span class="attr">command</span>: <span class="string">"revert"</span> &#125;,</span><br><span class="line">  <span class="comment">// f1키 누를시 package controller 띄우기 (기존 ctrl+shift+p 기능)</span></span><br><span class="line">  &#123;</span><br><span class="line">    keys: [<span class="string">"f1"</span>],</span><br><span class="line">    command: <span class="string">"show_overlay"</span>,</span><br><span class="line">    args: &#123; <span class="attr">overlay</span>: <span class="string">"command_palette"</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// terminal package가 있을시 현재 프로젝트 터미널 띄우기</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"ctrl+alt+t"</span>], <span class="attr">command</span>: <span class="string">"open_terminal_project_folder"</span> &#125;,</span><br><span class="line">  <span class="comment">// sidebarEnhancement package가 있을시 파일명 변경</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"f2"</span>], <span class="attr">command</span>: <span class="string">"side_bar_rename"</span> &#125;,</span><br><span class="line">  <span class="comment">// sidebarEnhancement package가 있을시 새 파일 생성</span></span><br><span class="line">  &#123; <span class="attr">keys</span>: [<span class="string">"ctrl+n"</span>], <span class="attr">command</span>: <span class="string">"side_bar_new_file2"</span> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redmine Bitnami 플러그인 설치</title>
      <link href="/2017/01/13/Redmine-Bitnami-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98/"/>
      <url>/2017/01/13/Redmine-Bitnami-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p>빛나미로 설치된 레드마인에 플러그인을 추가해보자</p><h1 id="플러그인-폴더-이동"><a class="markdownIt-Anchor" href="#플러그인-폴더-이동"></a> 플러그인 폴더 이동</h1><p>root 권한으로 접근해야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /opt/redmine/apps/redmine/htdocs/plugins</span><br></pre></td></tr></table></figure><h1 id="플러그인-설치"><a class="markdownIt-Anchor" href="#플러그인-설치"></a> 플러그인 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> 플러그인</span><br></pre></td></tr></table></figure><h1 id="레드마인-쉘-접속"><a class="markdownIt-Anchor" href="#레드마인-쉘-접속"></a> 레드마인 쉘 접속</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /opt/redmine</span><br><span class="line">$ ./use_redmine</span><br></pre></td></tr></table></figure><h1 id="레드마인-번들-업데이트"><a class="markdownIt-Anchor" href="#레드마인-번들-업데이트"></a> 레드마인 번들 업데이트</h1><p>번들은 플러그인이라고 생각하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> apps/redmine/htdocs</span><br><span class="line">$ rake redmine:plugins:migrate RAILS_ENV=production</span><br></pre></td></tr></table></figure><p><strong>rake 명령어가 실행이 안될시</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ bundle install --without development <span class="built_in">test</span></span><br><span class="line">$ rake redmine:plugins:migrate RAILS_ENV=production</span><br></pre></td></tr></table></figure><h1 id="레드마인-재시작"><a class="markdownIt-Anchor" href="#레드마인-재시작"></a> 레드마인 재시작</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">exit</span></span><br><span class="line">$ <span class="built_in">cd</span> /opt/redmine</span><br><span class="line">$ ./ctlscript.sh restart</span><br></pre></td></tr></table></figure><p>이제 레드마인 관리자에서 플러그인을 관리할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>sublime text Recommanded Packages</title>
      <link href="/2017/01/13/sublime-text-Recommanded-Packages/"/>
      <url>/2017/01/13/sublime-text-Recommanded-Packages/</url>
      
        <content type="html"><![CDATA[<p>서브라임 텍스트 사용시 쓸만한 패키지를 모아봤다.</p><h1 id="패키지"><a class="markdownIt-Anchor" href="#패키지"></a> 패키지</h1><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>additional PHP Snippets</td><td>PHP 자동완성</td></tr><tr><td>All Autocomplete</td><td>열려있는 모든 문서의 구문을 가져와 자동완성</td></tr><tr><td>Auto Refresh</td><td>N초마다 자동 파일갱신</td></tr><tr><td>AutoFileName</td><td>파일경로 입력시 자동으로 목록을 보여줌</td></tr><tr><td><strong>BracketHighlighter</strong></td><td>괄호 하이라이터</td></tr><tr><td><strong>Color Highlighter</strong></td><td>HEX 및 색상 하이라이터</td></tr><tr><td><strong>ConvertToUTF8</strong></td><td>UTF8 환경 사용가능</td></tr><tr><td><strong>DocBlockr</strong></td><td>괄호 자동생성</td></tr><tr><td>EJS2</td><td>ejs 사용 가능</td></tr><tr><td>Git</td><td>Git 사용 가능</td></tr><tr><td><strong>IMESupport</strong></td><td>한글 및 기타 문자 사용가능</td></tr><tr><td>JavaScript &amp; NodeJS Snippets</td><td>js 및 node 자동완성</td></tr><tr><td>Javascript Beautify</td><td>압축된 js의 아름답게</td></tr><tr><td><strong>Javascript Completions</strong></td><td>js 자동완성</td></tr><tr><td>Javascript Patterns</td><td>ES5이하에서 최적화된 js패턴 사용</td></tr><tr><td><strong>JSHint Gutter</strong></td><td>js hint를 gutter 아이콘으로 표시</td></tr><tr><td>LESS</td><td>less 사용 가능</td></tr><tr><td>MarkdownEditing</td><td>markdown 사용 가능</td></tr><tr><td>Material Theme</td><td>메테리얼 테마</td></tr><tr><td><strong>SFTP</strong></td><td>ftp 사용 가능</td></tr><tr><td><strong>SideBarEnhancements</strong></td><td>기본 우클릭메뉴 강화</td></tr><tr><td><strong>SublimeCodeIntel</strong></td><td>HTML 구문 자동완성</td></tr><tr><td><strong>SublimeLinter</strong></td><td>문법 체크</td></tr><tr><td><strong>SublimeLinter-jshint</strong></td><td>js 문법체크</td></tr><tr><td>SublimeLinter-php</td><td>php 문법체크</td></tr><tr><td>SublimeLinter-xmllint</td><td>xml 문법체크</td></tr><tr><td>SyncedSideBar</td><td>파일 선택시 사이드바의 폴더가 자동으로 열림</td></tr><tr><td><strong>Terminal</strong></td><td>터미널</td></tr><tr><td>TortoiseSVN</td><td>SVN 사용가능</td></tr><tr><td><strong>TrailingSpaces</strong></td><td>빈공간 제거</td></tr><tr><td>TypeScript</td><td>ts 사용 가능</td></tr><tr><td>UMD snippets</td><td>UMD 모듈패턴 자동완성</td></tr></tbody></table><p><strong>진하게</strong> 표시가 된 패키지들은 필수로 설치하는걸 추천한다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10 업데이트 후 80포트를 사용할 수 없을 때</title>
      <link href="/2017/01/13/Windows10-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%9B%84-80%ED%8F%AC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%97%86%EC%9D%84-%EB%95%8C/"/>
      <url>/2017/01/13/Windows10-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%9B%84-80%ED%8F%AC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%97%86%EC%9D%84-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>Windows10 Anniversary 업데이트 후에 갑자기 80 포트 또는 Apache 서비스를 사용할 수 없는 경우가 있다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>WWW Publishing service 가 80 포트를 사용해서 충돌이 발생했다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>services.msc 를 실행해 <strong>*WWW Publishing 서비스</strong>를 <strong>사용안함</strong>으로 체크한 뒤 재부팅해주면 된다.<br>(로컬 웹을 돌릴 정도면 서비스창을 띄울 수 있을 것이라 믿는다)</p><img data-src="https://i.imgur.com/SqPkZ4A.png">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>한글 URL 주소 Ping 확인</title>
      <link href="/2017/01/13/%ED%95%9C%EA%B8%80-URL-%EC%A3%BC%EC%86%8C-Ping-%ED%99%95%EC%9D%B8/"/>
      <url>/2017/01/13/%ED%95%9C%EA%B8%80-URL-%EC%A3%BC%EC%86%8C-Ping-%ED%99%95%EC%9D%B8/</url>
      
        <content type="html"><![CDATA[<h1 id="퓨니코드-확인"><a class="markdownIt-Anchor" href="#퓨니코드-확인"></a> 퓨니코드 확인</h1><p>한글 도메인의 Ping 을 확인하려면 <a href="http://krnic.or.kr/jsp/resources/domainInfo/punyCode.jsp" target="_blank" rel="external nofollow noopener noreferrer">퓨니코드로 변환</a> 후에 쏘면 된다.</p><img data-src="https://i.imgur.com/ihciIqM.png"><h1 id="ping"><a class="markdownIt-Anchor" href="#ping"></a> ping</h1><p><strong>Output</strong>에 들어가 있는 주소를 복사해 사용한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ping xn--bj0bj3i97fq8o5lq.co.kr</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10 Anniversary 업데이트 후 작업표시줄 폰트가 검게 보일 때</title>
      <link href="/2017/01/13/Windows10-Anniversary-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%9B%84-%EC%9E%91%EC%97%85%ED%91%9C%EC%8B%9C%EC%A4%84-%ED%8F%B0%ED%8A%B8%EA%B0%80-%EA%B2%80%EA%B2%8C-%EB%B3%B4%EC%9D%BC-%EB%95%8C/"/>
      <url>/2017/01/13/Windows10-Anniversary-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%9B%84-%EC%9E%91%EC%97%85%ED%91%9C%EC%8B%9C%EC%A4%84-%ED%8F%B0%ED%8A%B8%EA%B0%80-%EA%B2%80%EA%B2%8C-%EB%B3%B4%EC%9D%BC-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>Anniversary 업데이트 후 작업표시줄(taskbar)의 글꼴이 회색? 검정색? 이 되어 보이지가 않는 경우가 있다.</p><img data-src="https://i.imgur.com/xvhCpBN.png"><p>이 부분과 날짜 표시 부분이 검게 변한다. 프로그램 제목이 안보이면 여간 불편한게 아니니 직접 변경해보자.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>업데이트시 theme 파일이 충돌되었다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>바탕화면 우클릭 &gt; 개인설정 &gt; 테마 &gt; 테마설정</strong>에 들어간다.</p><img data-src="https://i.imgur.com/661a9mC.png"><p>테마를 <strong>Windows 기본값 테마</strong>로 바꾼 후 내 테마들을 우클릭 해 삭제해준다.</p><img data-src="https://i.imgur.com/2OzSXwU.png"><p>그리고 다시 내 테마를 커스터마이징 하면 된다!</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EditPlus 테마 설정</title>
      <link href="/2017/01/13/EditPlus-%ED%85%8C%EB%A7%88-%EC%84%A4%EC%A0%95/"/>
      <url>/2017/01/13/EditPlus-%ED%85%8C%EB%A7%88-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p>에디트 플러스를 어쩔 수 없이 써야할 상황이 있다.<br>바로 FTP 에 붙어서 작업해야 될 경우인데, 기본 테마가 메모장이라 아쉽다.</p><p>그럴 때 <a href="http://www.codeigniter-kr.org/bbs/view/file?idx=3525" target="_blank" rel="external nofollow noopener noreferrer">서브라임텍스트 소다테마</a>를 적용하면 된다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="다운로드"><a class="markdownIt-Anchor" href="#다운로드"></a> 다운로드</h2><p><a href="http://blogattach.naver.net/1f8a03b0a4f3fb2709e588bf88601d6dcd946c820b/20161001_37_blogfile/eks020_1475316070829_9az41E_zip/Editplus_sublime_text_theme%28Soda_Light%29.zip" target="_blank" rel="external nofollow noopener noreferrer">파일</a>을 다운받는다.</p><p>EditPlus 폴더 안에 theme 폴더를 만들고 그 안에 압출을 풀어주자.</p><img data-src="https://i.imgur.com/1FY2d16.png"><h2 id="설정"><a class="markdownIt-Anchor" href="#설정"></a> 설정</h2><p><strong>도구 &gt; 기본설정 &gt; 일반 &gt; 색상</strong> 탭에서 <strong>가져오기</strong> 버튼을 클릭하고 ini 파일을 읽어들인다.</p><img data-src="https://i.imgur.com/KjK9unS.png"><p><strong>파일 &gt; 설정 &amp; 구문강조</strong> 탭에 가서 <strong>PHP</strong>를 선택 후 <strong>구문파일</strong>에 다운받은 php.stx 를 등록해준다.</p><img data-src="https://i.imgur.com/nr8uPtM.png"><p>이제 예쁜 에디트플러스를 즐길 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHP - Request와 Session을 Javascript에서 사용</title>
      <link href="/2017/01/13/PHP-Request%EC%99%80-Session%EC%9D%84-Javascript%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/13/PHP-Request%EC%99%80-Session%EC%9D%84-Javascript%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">var request = JSON.parse('<span class="php"><span class="meta">&lt;?</span>=addcslashes(json_encode($_REQUEST), <span class="string">'"\\'</span>)<span class="meta">?&gt;</span></span>');</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> session = <span class="built_in">JSON</span>.parse(<span class="string">'&lt;?=json_encode($_SESSION)?&gt;'</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">Object</span>.freeze(request);</span></span><br><span class="line"><span class="javascript"><span class="built_in">Object</span>.freeze(session);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>addcslashes 로 파싱을 안하면 json text 를 request 로 보낼 때 Unexpected Token <a href="https://stackoverflow.com/questions/5611468/is-there-a-php-function-that-only-adds-slashes-to-double-quotes-not-single-quote" target="_blank" rel="external nofollow noopener noreferrer">오류가 발생하는 경우</a>가 있다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>imageTTFtext 한글 깨짐 해결</title>
      <link href="/2017/01/13/imageTTFtext-%ED%95%9C%EA%B8%80-%EA%B9%A8%EC%A7%90-%ED%95%B4%EA%B2%B0/"/>
      <url>/2017/01/13/imageTTFtext-%ED%95%9C%EA%B8%80-%EA%B9%A8%EC%A7%90-%ED%95%B4%EA%B2%B0/</url>
      
        <content type="html"><![CDATA[<p>텍스트를 이미지로 만드는 경우에 사용하는 imageTTFtext 함수는 한글이 깨지는 문제가 있다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>imageTTFtext 전에 아래 함수로 한글을 컨버팅해준다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> http://php.net/manual/en/function.imagettftext.php#57416</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foxy_utf8_to_nce</span><span class="params">($utf = <span class="string">''</span>)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">empty</span>($utf)) &#123;</span><br><span class="line">    <span class="keyword">return</span>($utf);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $max_count = <span class="number">5</span>; <span class="comment">// flag-bits in $max_mark ( 1111 1000 == 5 times 1)</span></span><br><span class="line">  $max_mark = <span class="number">248</span>; <span class="comment">// marker for a (theoretical ;-)) 5-byte-char and mask for a 4-byte-char;</span></span><br><span class="line"></span><br><span class="line">  $html = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">for</span> ($str_pos = <span class="number">0</span>; $str_pos &lt; strlen($utf); $str_pos++) &#123;</span><br><span class="line">    $old_chr = $utf&#123;$str_pos&#125;;</span><br><span class="line">    $old_val = ord( $utf&#123;$str_pos&#125; );</span><br><span class="line">    $new_val = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    $utf8_marker = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// skip non-utf-8-chars</span></span><br><span class="line">    <span class="keyword">if</span> ( $old_val &gt; <span class="number">127</span> ) &#123;</span><br><span class="line">      $mark = $max_mark;</span><br><span class="line">      <span class="keyword">for</span>($byte_ctr = $max_count; $byte_ctr &gt; <span class="number">2</span>; $byte_ctr--) &#123;</span><br><span class="line">        <span class="comment">// actual byte is utf-8-marker?</span></span><br><span class="line">        <span class="keyword">if</span>( ( $old_val &amp;; $mark  ) == ( ($mark &lt;&lt; <span class="number">1</span>) &amp;; <span class="number">255</span> ) ) &#123;</span><br><span class="line">          $utf8_marker = $byte_ctr - <span class="number">1</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $mark = ($mark &lt;&lt; <span class="number">1</span>) &amp; <span class="number">255</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// marker found: collect following bytes</span></span><br><span class="line">    <span class="keyword">if</span> ($utf8_marker &gt; <span class="number">1</span> &amp;&amp; <span class="keyword">isset</span>( $utf&#123;$str_pos + <span class="number">1</span>&#125; ) ) &#123;</span><br><span class="line">      $str_off = <span class="number">0</span>;</span><br><span class="line">      $new_val = $old_val &amp;; (<span class="number">127</span> &gt;&gt; $utf8_marker);</span><br><span class="line">      <span class="keyword">for</span>($byte_ctr = $utf8_marker; $byte_ctr &gt; <span class="number">1</span>; $byte_ctr--) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// check if following chars are UTF8 additional data blocks</span></span><br><span class="line">        <span class="comment">// UTF8 and ord() &gt; 127</span></span><br><span class="line">        <span class="keyword">if</span>( (ord($utf&#123;$str_pos + <span class="number">1</span>&#125;) &amp; <span class="number">192</span>) == <span class="number">128</span> ) &#123;</span><br><span class="line">          $new_val = $new_val &lt;&lt; <span class="number">6</span>;</span><br><span class="line">          $str_off++;</span><br><span class="line">          <span class="comment">// no need for Addition, bitwise OR is sufficient</span></span><br><span class="line">          <span class="comment">// 63: more UTF8-bytes; 0011 1111</span></span><br><span class="line">          $new_val = $new_val | ( ord( $utf&#123;$str_pos + $str_off&#125; ) &amp; <span class="number">63</span> );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// no UTF8, but ord() &gt; 127</span></span><br><span class="line">        <span class="comment">// nevertheless convert first char to NCE</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          $new_val = $old_val;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// build NCE-Code</span></span><br><span class="line">      $html .= <span class="string">'&amp;#'</span>.$new_val.<span class="string">';'</span>;</span><br><span class="line">      <span class="comment">// Skip additional UTF-8-Bytes</span></span><br><span class="line">      $str_pos = $str_pos + $str_off;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $html .= chr($old_val);</span><br><span class="line">      $new_val = $old_val;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>($html);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>원작자를 못 찾겠다… 이걸 만든 사람은 binary 로 말을 할 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> php </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>카카오 og tag 캐시 제거</title>
      <link href="/2017/01/13/%EC%B9%B4%EC%B9%B4%EC%98%A4-og-tag-%EC%BA%90%EC%8B%9C-%EC%A0%9C%EA%B1%B0/"/>
      <url>/2017/01/13/%EC%B9%B4%EC%B9%B4%EC%98%A4-og-tag-%EC%BA%90%EC%8B%9C-%EC%A0%9C%EA%B1%B0/</url>
      
        <content type="html"><![CDATA[<p>og image 또는 og tag 를 변경하면 페북, 네이버는 시간이 지나면 갱신되나 카카오는 캐싱되어서 바뀌지 않는다.<br>(Description 같은 경우 반영이 되나, Image 는 캐시를 지울 때까지 반영이 안 되는 것 같다)</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><a href="https://developers.kakao.com/" target="_blank" rel="external nofollow noopener noreferrer">Kakao Developers</a>에서 캐시를 삭제하여 해결이 가능하다.</p><h2 id="cache-삭제"><a class="markdownIt-Anchor" href="#cache-삭제"></a> Cache 삭제</h2><p><a href="https://developers.kakao.com/docs/cache" target="_blank" rel="external nofollow noopener noreferrer">Cache Tool</a>에서 URL 을 입력하고 캐시를 삭제한다.</p><img data-src="https://i.imgur.com/vu3jbb5.png"><h2 id="linkinfo-삭제"><a class="markdownIt-Anchor" href="#linkinfo-삭제"></a> linkinfo 삭제</h2><p><a href="https://dev.kakao.com/docs/restapi/tool#story-api#/v1/api/story/linkinfo" target="_blank" rel="external nofollow noopener noreferrer">카카오 스토리 링크 캐시삭제</a>에서 내 앱으로 인증한 뒤 캐시삭제를 요청한다.</p><img data-src="https://i.imgur.com/c4WfaXn.png">]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kakao </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vi, Vim에서 줄번호 표시</title>
      <link href="/2017/01/13/Vi-Vim%EC%97%90%EC%84%9C-%EC%A4%84%EB%B2%88%ED%98%B8-%ED%91%9C%EC%8B%9C/"/>
      <url>/2017/01/13/Vi-Vim%EC%97%90%EC%84%9C-%EC%A4%84%EB%B2%88%ED%98%B8-%ED%91%9C%EC%8B%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="vi-줄번호"><a class="markdownIt-Anchor" href="#vi-줄번호"></a> Vi 줄번호</h1><p>Vi Editor의 줄번호를 표시해보자</p><p>파일을 연 다음 아래 명령어를 입력한다.</p><h2 id="표시하기"><a class="markdownIt-Anchor" href="#표시하기"></a> 표시하기</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="built_in">set</span> number</span><br></pre></td></tr></table></figure><img data-src="https://i.imgur.com/B8J9zVJ.png"><h2 id="추가적으로-라인이동에-필요한-단축키"><a class="markdownIt-Anchor" href="#추가적으로-라인이동에-필요한-단축키"></a> 추가적으로 라인이동에 필요한 단축키</h2><ul><li><strong>G</strong> (shift+g) 문서 맨 끝으로 이동</li><li><strong>gg</strong> (1G) 문서 처음으로 이동</li><li><strong>+ G</strong> number 번째의 라인으로 이동 (예시 : 300G)</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chkconfig run level 설명</title>
      <link href="/2017/01/13/chkconfig-run-level-%EC%84%A4%EB%AA%85/"/>
      <url>/2017/01/13/chkconfig-run-level-%EC%84%A4%EB%AA%85/</url>
      
        <content type="html"><![CDATA[<p>chkconfig 로 부팅시 자동실행 서비스를 등록할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chkconfig service on</span><br></pre></td></tr></table></figure><p>이 명령어를 사용하면 2345 레벨이 활성화 된다.<br>그렇다면 레벨은 뭘까?</p><h1 id="run-level"><a class="markdownIt-Anchor" href="#run-level"></a> Run Level</h1><p>Run Level 은 서비스의 실행을 단계별로 구분하여 적용하는 것을 말한다.</p><ul><li><p><strong>0</strong> - halt (Do NOT set init default to this)</p></li><li><p><strong>1</strong> - Single user mode</p></li><li><p><strong>2</strong> - Multiuser, without NFS (The same as 3, if you do not have networking)</p></li><li><p><strong>3</strong> - Full multiuser mode</p></li><li><p><strong>4</strong> - unused</p></li><li><p><strong>5</strong> - X11</p></li><li><p><strong>6</strong> - reboot (Do NOT set init default to this)</p></li><li><p><strong>0</strong> : 시스템 종료시</p></li><li><p><strong>1</strong> : 싱글 유저 모드 (시스템 복원모드, 기본적으로 관리자 권한의 쉘을 얻게 된다)</p></li><li><p><strong>2</strong> : NFS가 지원되지 않는 다중 사용자 모드 (네트워크를 사용하지 않는 텍스트 유저 모드)</p></li><li><p><strong>3</strong> : 완전 다중 사용자 모드 (일반적인 로그인 시, CLI 환경)</p></li><li><p><strong>4</strong> : 미지정 (사용안함, 임의로 정할 수 있음)</p></li><li><p><strong>5</strong> : 3번과 같으나 GUI (X11) 환경</p></li><li><p><strong>6</strong> : 재부팅</p></li></ul><p>모듈 설치시에는 on 또는 345 설정이 큰 차이가 없다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 버전 및 Bit 확인</title>
      <link href="/2017/01/12/CentOS-%EB%B2%84%EC%A0%84-%EB%B0%8F-Bit-%ED%99%95%EC%9D%B8/"/>
      <url>/2017/01/12/CentOS-%EB%B2%84%EC%A0%84-%EB%B0%8F-Bit-%ED%99%95%EC%9D%B8/</url>
      
        <content type="html"><![CDATA[<p>리눅스에 모듈을 설치할 때 항상 버전과 Bit확인이 필요하다.</p><h1 id="version"><a class="markdownIt-Anchor" href="#version"></a> Version</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/*release*</span><br><span class="line"></span><br><span class="line">CentOS release 6.6 (Final)</span><br></pre></td></tr></table></figure><h1 id="bit"><a class="markdownIt-Anchor" href="#bit"></a> Bit</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ getconf LONG_BIT</span><br><span class="line"></span><br><span class="line">64</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>캐시메모리가 꽉차서 메모리 용량이 부족한 경우</title>
      <link href="/2017/01/12/%EC%BA%90%EC%8B%9C%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B0%80-%EA%BD%89%EC%B0%A8%EC%84%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%9A%A9%EB%9F%89%EC%9D%B4-%EB%B6%80%EC%A1%B1%ED%95%9C-%EA%B2%BD%EC%9A%B0/"/>
      <url>/2017/01/12/%EC%BA%90%EC%8B%9C%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B0%80-%EA%BD%89%EC%B0%A8%EC%84%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%9A%A9%EB%9F%89%EC%9D%B4-%EB%B6%80%EC%A1%B1%ED%95%9C-%EA%B2%BD%EC%9A%B0/</url>
      
        <content type="html"><![CDATA[<p>파일에 접근이 빈번한 시스템에서 메모리 용량을 확인시</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 메모리 용량 확인</span></span><br><span class="line">$ free -m</span><br></pre></td></tr></table></figure><p>캐시메모리의 점유율이 꽉찰 정도로 높게 나타나 메모리 용량이 부족한 걸 확인할 수 있다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>리눅스는 물리적인 저장/통신 장치와 데이터를 주고 받을 때 메모리에 먼저 적재한 후에 데이터를 주고 받는다.<br>이는 동일한 데이터에 대한 접근을 할 경우 메모리에서 바로 가져오도록 하여 I/O 성능을 높이기 위함이다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="vfs_cache_pressure"><a class="markdownIt-Anchor" href="#vfs_cache_pressure"></a> vfs_cache_pressure</h2><p>시스템 설정 파일을 열어 디렉토리와 inode 오브젝트에 대한 캐시로 사용된 메모리를 반환하는 정도를 지정하는 vfs_cache_pressure 파라미터를 수정해준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/sysctl.conf</span><br><span class="line"><span class="comment"># 기본값은 100</span></span><br><span class="line">vm.vfs_cache_pressure = 10000</span><br></pre></td></tr></table></figure><h2 id="cache-memory-drop"><a class="markdownIt-Anchor" href="#cache-memory-drop"></a> cache memory drop</h2><p>캐시메모리를 주기적으로 비워주자</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br><span class="line"><span class="comment"># 매일 새벽 4시에 캐시메모리 강제비우기</span></span><br><span class="line">0 4 * * * sync &amp;&amp; <span class="built_in">echo</span> 3 &gt; /proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure><p>sync 명령어로 캐시메모리에 담긴 데이터를 실제 저장장치에 반영해주고, drop_caches를 실행한다.<br>커맨드로 실행시에 메모리를 반환하면서 서버가 잠시 멈출 수 있으니 새벽에 실행을 걸어놓자</p><ul><li>echo <strong>1</strong> : page cache 해제</li><li>echo <strong>2</strong> : inode, dentry cache 해제</li><li>echo <strong>3</strong> : 모두 해제</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 유저 비밀번호 변경</title>
      <link href="/2017/01/12/Linux-%EC%9C%A0%EC%A0%80-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EB%B3%80%EA%B2%BD/"/>
      <url>/2017/01/12/Linux-%EC%9C%A0%EC%A0%80-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EB%B3%80%EA%B2%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="passwd"><a class="markdownIt-Anchor" href="#passwd"></a> passwd</h1><p>리눅스 유저 비밀번호를 변경해보자.<br>비밀번호를 변경하고 싶은 유저로 로그인을 한 뒤 아래 명령어를 날리면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ passwd</span><br></pre></td></tr></table></figure><p>Root 권한이라면 다른 아이디의 비밀번호도 변경이 가능하다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># passwd 뒤에 유저아이디를 적는다</span></span><br><span class="line">$ passwd userid</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cron 부팅시 프로그램 실행</title>
      <link href="/2017/01/11/cron-%EB%B6%80%ED%8C%85%EC%8B%9C-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89/"/>
      <url>/2017/01/11/cron-%EB%B6%80%ED%8C%85%EC%8B%9C-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89/</url>
      
        <content type="html"><![CDATA[<p>리눅스에서 재부팅시 자동으로 프로그램을 실행해야하는 경우가 있다.<br>init.d에 등록하는 방법이 있지만 스케쥴 작업인 경우 크론에서 관리하는게 깔끔한 것 같다.</p><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br><span class="line"></span><br><span class="line">@reboot /<span class="built_in">test</span>/test.sh start</span><br></pre></td></tr></table></figure><p><strong>@reboot</strong>를 쓴 뒤 부팅시 실행시킬 명령어를 적어주면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>내부 아이피 사용 또는 수동 네트워크 설정시 오류</title>
      <link href="/2017/01/11/%EB%82%B4%EB%B6%80-%EC%95%84%EC%9D%B4%ED%94%BC-%EC%82%AC%EC%9A%A9-%EB%98%90%EB%8A%94-%EC%88%98%EB%8F%99-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%84%A4%EC%A0%95%EC%8B%9C-%EC%98%A4%EB%A5%98/"/>
      <url>/2017/01/11/%EB%82%B4%EB%B6%80-%EC%95%84%EC%9D%B4%ED%94%BC-%EC%82%AC%EC%9A%A9-%EB%98%90%EB%8A%94-%EC%88%98%EB%8F%99-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%84%A4%EC%A0%95%EC%8B%9C-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p>수동으로 내부 아이피 세팅 중 문제가 발생하는 경우 확인해봐야한다.</p><h1 id="networkmanager"><a class="markdownIt-Anchor" href="#networkmanager"></a> NetworkManager</h1><p>네트워크 매니저가 돌아가고 있으면 충돌이 발생할 수 있다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 확인</span></span><br><span class="line">$ service NetworkManager status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 서비스 종료</span></span><br><span class="line">$ service NetworkManager stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 부팅 서비스 삭제</span></span><br><span class="line">$ chkconfig NetworkManager off</span><br></pre></td></tr></table></figure><h1 id="내부-ip-확인"><a class="markdownIt-Anchor" href="#내부-ip-확인"></a> 내부 IP 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /sbin/ifconfig <span class="variable">$1</span> | grep <span class="string">"inet addr"</span> | awk -F: <span class="string">'&#123;print $2&#125;'</span> | awk <span class="string">'&#123;print $1&#125;'</span></span><br></pre></td></tr></table></figure><p>정상적으로 할당될 것이다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql, maria 등의 서비스 포트 변경이 안 될때</title>
      <link href="/2017/01/10/mysql-maria-%EB%93%B1%EC%9D%98-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%8F%AC%ED%8A%B8-%EB%B3%80%EA%B2%BD%EC%9D%B4-%EC%95%88-%EB%90%A0%EB%95%8C/"/>
      <url>/2017/01/10/mysql-maria-%EB%93%B1%EC%9D%98-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%8F%AC%ED%8A%B8-%EB%B3%80%EA%B2%BD%EC%9D%B4-%EC%95%88-%EB%90%A0%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="일반적인-포트-변경"><a class="markdownIt-Anchor" href="#일반적인-포트-변경"></a> 일반적인 포트 변경</h1><h2 id="포트-확인"><a class="markdownIt-Anchor" href="#포트-확인"></a> 포트 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># grep 뒤에 확인할 포트를 적으면 된다.</span></span><br><span class="line">$ netstat -lp | grep 3307</span><br></pre></td></tr></table></figure><h2 id="iptable-수정"><a class="markdownIt-Anchor" href="#iptable-수정"></a> iptable 수정</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/sysconfig/iptables</span><br><span class="line"></span><br><span class="line"><span class="comment"># 해당 포트를 방화벽에서 열어준다.</span></span><br><span class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 3307 -j ACCEPT</span><br></pre></td></tr></table></figure><h2 id="database-포트-변경"><a class="markdownIt-Anchor" href="#database-포트-변경"></a> database 포트 변경</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 포트가 설정되있는 부분을 찾아 변경한다.</span></span><br><span class="line">port = 3307</span><br></pre></td></tr></table></figure><h2 id="서비스-재시작"><a class="markdownIt-Anchor" href="#서비스-재시작"></a> 서비스 재시작</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service mysql restart</span><br></pre></td></tr></table></figure><blockquote><p>잘 했는데 서비스가 올라가지 않는다!!!</p></blockquote><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><h2 id="로그-확인"><a class="markdownIt-Anchor" href="#로그-확인"></a> 로그 확인</h2><p>mysql 설치 경로로 이동하여 로그를 살펴보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /var/lib/mysql/ <span class="comment"># basedir 설정이 되어있다면 해당경로를 덧붙힌다.</span></span><br><span class="line"></span><br><span class="line">$ cat &#123;hostname&#125;.err</span><br><span class="line"></span><br><span class="line">[ERROR] Cant start server: Bind on TCP/IP port. Got error: 13: Permission denied</span><br><span class="line">[ERROR] Do you already have another mysqld server running on port: 3307 ?</span><br><span class="line">[ERROR] Aborting</span><br></pre></td></tr></table></figure><p>해당 포트에 권한이 없다. 해당 포트를 다른 mysqld 서비스가 사용하는가? 라고 로그가 남겨져있다.</p><h2 id="selinux-확인"><a class="markdownIt-Anchor" href="#selinux-확인"></a> SELinux 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sestatus</span><br><span class="line"></span><br><span class="line">SELinux status: enabled</span><br></pre></td></tr></table></figure><p>혹시나 역시나 SELinux가 활성화 되어있다.<br>SELinux에서 포트가 서비스용으로 활성화가 되지 않았기 때문에 계속 거절당한 것이였다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="selinux-설정-확인"><a class="markdownIt-Anchor" href="#selinux-설정-확인"></a> SELinux 설정 확인</h2><p>semanage 명령어를 사용해서 확인하고 변경할 수 있다.<br>명령어 실행이 안될 경우 policycoreutils-python 패키지를 설치해주면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># semanage 설치</span></span><br><span class="line">$ yum install -y policycoreutils-python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 포트 확인</span></span><br><span class="line"><span class="comment"># mysql</span></span><br><span class="line">$ semanage port -l | grep mysqld_port_t</span><br><span class="line"><span class="comment"># http</span></span><br><span class="line">$ semanage port -l | grep http_port_t</span><br><span class="line"></span><br><span class="line">mysqld_port_t tcp 1186, 3306, 63132-63164</span><br></pre></td></tr></table></figure><p>변경하려는 3307 포트는 등록되어 있지 않다.</p><h2 id="selinux에-포트-등록"><a class="markdownIt-Anchor" href="#selinux에-포트-등록"></a> SELinux에 포트 등록</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ semanage port -a -t mysqld_port_t -p tcp 3307</span><br></pre></td></tr></table></figure><p>명령어가 iptables에 등록하는 것과 유사하다.</p><h2 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ semanage port -l | grep mysqld_port_t</span><br><span class="line"></span><br><span class="line">mysqld_port_t tcp 3307, 1186, 3306, 63132-63164</span><br></pre></td></tr></table></figure><p>이제 mysql restart를 하면 정상적으로 구동된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>리눅스에서 정상적으로 진행했는데 뭔가 안된다면 SELinux부터 의심해보자.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> selinux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> mysql </tag>
            
            <tag> maria </tag>
            
            <tag> selinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Temporary failure in name resolution, 일시적인 실패</title>
      <link href="/2017/01/10/Temporary-failure-in-name-resolution-%EC%9D%BC%EC%8B%9C%EC%A0%81%EC%9D%B8-%EC%8B%A4%ED%8C%A8/"/>
      <url>/2017/01/10/Temporary-failure-in-name-resolution-%EC%9D%BC%EC%8B%9C%EC%A0%81%EC%9D%B8-%EC%8B%A4%ED%8C%A8/</url>
      
        <content type="html"><![CDATA[<p>모듈 설치시 domain을 사용하거나, telnet 도메인 포트를 호출해봤는데<br><strong>name resolution에서 일시적인실패</strong> 또는 <strong>Temporary failure</strong> 문구의 에러가 보이는 경우가 있다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>nameserver를 찾지 못해서 발생한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>Root 계정으로 접속 후 nameserver 설정을 추가한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/resolv.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 아래 내용을 추가</span></span><br><span class="line">nameserver 58.227.193.227</span><br><span class="line">nameserver 221.143.20.131</span><br></pre></td></tr></table></figure><p>저장하면 서비스 재시작이 필요없이 바로 적용된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><ul><li>통신사별 <a href="http://letmelove.net/blog/72" target="_blank" rel="external nofollow noopener noreferrer">DNS 정보</a> 페이지를 첨부한다.</li><li>아마존 DNS 오류로 이 페이지의 조회수가 급증했다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selinux 설정시 ftp 접근이 안될 때</title>
      <link href="/2017/01/10/selinux-%EC%84%A4%EC%A0%95%EC%8B%9C-ftp-%EC%A0%91%EA%B7%BC%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2017/01/10/selinux-%EC%84%A4%EC%A0%95%EC%8B%9C-ftp-%EC%A0%91%EA%B7%BC%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>selinux 를 끄는건 보안상 취약하다. 하지만 켜놓으면 ftp 가 접근이 안되거나, 접근이 되어도 패시브모드가 접근이 안 되는 경우가 있다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>아래 세가지 명령어를 실행해서 selinux 의 설정을 바꿔준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ setsebool -P httpd_enable_homedirs 1</span><br><span class="line">$ setsebool -P httpd_can_network_connect 1</span><br><span class="line">$ setsebool -P allow_ftpd_full_acccess 1</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>옵션명이 곧 설명을 대신한다고 믿는다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> selinux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> selinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>lynx 리눅스 브라우저 사용법</title>
      <link href="/2017/01/10/lynx-%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/"/>
      <url>/2017/01/10/lynx-%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>lynx(링스) 브라우저를 설치하고 사용해보자</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 설치 확인</span></span><br><span class="line">$ yum list installed | grep lynx</span><br><span class="line"></span><br><span class="line"><span class="comment"># lynx 설치</span></span><br><span class="line">$ yum install -y lynx</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lynx로 브라우저 호출</span></span><br><span class="line">$ lynx https://gracefullight.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># 브라우저 호출'만' 하고 싶을 때 (결과를 표시하지 않음)</span></span><br><span class="line">$ lynx -dump https://gracefullight.github.io</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>crontab과 병행해서 서버의 API를 주기적으로 동작시킬 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> lynx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS Tomcat 및 Java(JDK) 설치</title>
      <link href="/2017/01/10/CentOS-Tomcat-%EB%B0%8F-Java-JDK-%EC%84%A4%EC%B9%98/"/>
      <url>/2017/01/10/CentOS-Tomcat-%EB%B0%8F-Java-JDK-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p>rpm이 설치되어있지 않은 환경에서의 compile 설치 방법을 다룬다.</p><h1 id="운영체제-확인"><a class="markdownIt-Anchor" href="#운영체제-확인"></a> 운영체제 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/issue</span><br><span class="line"><span class="comment"># bit 확인</span></span><br><span class="line">$ getconf LONG_BIT</span><br></pre></td></tr></table></figure><h1 id="jdk-설치"><a class="markdownIt-Anchor" href="#jdk-설치"></a> JDK 설치</h1><h2 id="다운로드"><a class="markdownIt-Anchor" href="#다운로드"></a> 다운로드</h2><p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 다운로드하면 된다.</p><img data-src="https://i.imgur.com/61lE7iN.jpg"><h2 id="업로드-및-압축-해제"><a class="markdownIt-Anchor" href="#업로드-및-압축-해제"></a> 업로드 및 압축 해제</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf jdk.tar.gz</span><br></pre></td></tr></table></figure><h2 id="경로-설정"><a class="markdownIt-Anchor" href="#경로-설정"></a> 경로 설정</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ vi .profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 추가 내용</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/유저경로/java</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JAVA_HOME</span>/jre/lib/ext:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=/bin:/usr/bin:/usr/<span class="built_in">local</span>/bin:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 저장</span></span><br><span class="line">$ :wq!</span><br></pre></td></tr></table></figure><p>bin 폴더 PATH들은 명령어를 위해 필요하고 $PATH &lt; 기존 PATH를 추가하지 않는 이유는 TOMCAT 실행시 기본 설치 PATH를 먼저 읽어오기 때문이다.</p><h2 id="경로-갱신"><a class="markdownIt-Anchor" href="#경로-갱신"></a> 경로 갱신</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> .profile</span><br></pre></td></tr></table></figure><h2 id="설치-확인"><a class="markdownIt-Anchor" href="#설치-확인"></a> 설치 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ javac -version</span><br></pre></td></tr></table></figure><h1 id="tomcat-설치"><a class="markdownIt-Anchor" href="#tomcat-설치"></a> Tomcat 설치</h1><h2 id="다운로드-2"><a class="markdownIt-Anchor" href="#다운로드-2"></a> 다운로드</h2><p><a href="https://tomcat.apache.org/download-80.cgi" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 다운로드하면 된다.</p><h2 id="업로드-및-압축-해제-2"><a class="markdownIt-Anchor" href="#업로드-및-압축-해제-2"></a> 업로드 및 압축 해제</h2><p>apache-tomcat-…의 이름이 길어 tomcat으로 변경 후 업로드하시면 편합니다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf tomcat.tar.gz</span><br></pre></td></tr></table></figure><h2 id="경로-설정-2"><a class="markdownIt-Anchor" href="#경로-설정-2"></a> 경로 설정</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vi .profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># PATH 뒤에 tomcat/bin 경로를 추가</span></span><br><span class="line"><span class="built_in">export</span> PATH=/bin:/usr/bin:/usr/<span class="built_in">local</span>/bin:<span class="variable">$JAVA_HOME</span>/bin:/home/myuser/tomcat/bin</span><br></pre></td></tr></table></figure><h2 id="경로-확인"><a class="markdownIt-Anchor" href="#경로-확인"></a> 경로 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line">/bin:/usr/bin:/usr/<span class="built_in">local</span>/bin:<span class="variable">$JAVA_HOME</span>/bin:/home/myuser/tomcat/bin</span><br><span class="line"><span class="comment"># 위에 설정한 PATH의 값이 보이면 정상</span></span><br></pre></td></tr></table></figure><h1 id="tomcat-설정-추가"><a class="markdownIt-Anchor" href="#tomcat-설정-추가"></a> Tomcat 설정 추가</h1><p><strong>tomcat\bin\<a href="http://catalina.sh" target="_blank" rel="external nofollow noopener noreferrer">catalina.sh</a></strong>를 열고 Tomcat과 Java의 경로를 추가해준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME=<span class="string">"/where/to/tomcat"</span></span><br><span class="line">CATALINA_BASE=<span class="string">"/where/to/tomcat"</span></span><br><span class="line"></span><br><span class="line">JAVA_HOME=<span class="string">"/where/to/java"</span></span><br></pre></td></tr></table></figure><h2 id="주의"><a class="markdownIt-Anchor" href="#주의"></a> 주의</h2><p>catalina.sh의 주석 표시된 내용을 읽으면 변수를 추가하지 말고 setenv.sh를 만들어서 커스터마이징 옵션을 분리하라고 나온다.</p><p>setenv.sh를 수정하고 싶으면 파일을 열고 아래와 같이 추가해준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CATALINA_HOME=<span class="string">"/where/to/tomcat"</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_BASE=<span class="string">"/where/to/tomcat"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="string">"/where/to/java"</span></span><br></pre></td></tr></table></figure><h1 id="서버-실행"><a class="markdownIt-Anchor" href="#서버-실행"></a> 서버 실행</h1><p><strong>tomcat\webapps</strong>에 war파일을 옮긴 후 서버를 실행한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ startup.sh</span><br><span class="line"></span><br><span class="line">Tomcat started.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vi, Vim 단축키</title>
      <link href="/2017/01/10/Vi-Vim-%EB%8B%A8%EC%B6%95%ED%82%A4/"/>
      <url>/2017/01/10/Vi-Vim-%EB%8B%A8%EC%B6%95%ED%82%A4/</url>
      
        <content type="html"><![CDATA[<p>단축키를 그림으로 정리해놓은 <a href="https://kldp.org/node/102947" target="_blank" rel="external nofollow noopener noreferrer">자료</a>가 있어 공유한다.</p><img data-src="https://i.imgur.com/vgh0qiv.png">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>org.apache.ibatis.exceptions.PersistenceException</title>
      <link href="/2017/01/10/org-apache-ibatis-exceptions-PersistenceException/"/>
      <url>/2017/01/10/org-apache-ibatis-exceptions-PersistenceException/</url>
      
        <content type="html"><![CDATA[<h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>서버 Mysql이 예전 커넥션을 그대로 가지고 있어서 발생한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>Mybatis Config에 아래처럼 커넥션과 관련된 옵션을 추가한다.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- @author http://linuxism.tistory.com/580 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"default"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"default"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClassName&#125;"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.url&#125;"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.username&#125;"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 동시 커넥션 수 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolMaximumActiveConnections"</span> <span class="attr">value</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 유휴상태의 커넥션 수 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolMaximumIdleConnections"</span> <span class="attr">value</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 커넥션 요청 후 획득까지 기다리는 시간 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolMaximumCheckoutTime"</span> <span class="attr">value</span>=<span class="string">"20000"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 커넥션 ping 테스트 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolPingEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 커넥션 확인 쿼리 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolPingQuery"</span> <span class="attr">value</span>=<span class="string">"select 1"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 커넥션이 얼마동안 사용하지 않으면 닫히는지 시간 설정 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolPingConnectionsNotUsedFor"</span> <span class="attr">value</span>=<span class="string">"43200"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 사용불가능한 커넥션을 기다리는 시간 설정 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"poolTimeToWait"</span> <span class="attr">value</span>=<span class="string">"30000"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 인코딩 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver.encoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java localhost HTTPS Connection</title>
      <link href="/2017/01/10/java-localhost-HTTPS-Connection/"/>
      <url>/2017/01/10/java-localhost-HTTPS-Connection/</url>
      
        <content type="html"><![CDATA[<p>localhost 에서 Https 페이지로 httpcon 을 열면 오류가 발생한다.<br>인증을 받아야하기 때문인데 함수하나만 호출하면 연결이 가능해진다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setTrustAllCerts</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    TrustManager[] trustAllCerts = <span class="keyword">new</span> TrustManager[]&#123;</span><br><span class="line">        <span class="keyword">new</span> X509TrustManager() &#123;</span><br><span class="line">            <span class="keyword">public</span> java.security.cert.X509Certificate[] getAcceptedIssuers() &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkClientTrusted</span><span class="params">( java.security.cert.X509Certificate[] certs, String authType )</span> </span>&#123;&#125;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkServerTrusted</span><span class="params">( java.security.cert.X509Certificate[] certs, String authType )</span> </span>&#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Install the all-trusting trust manager</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        SSLContext sc = SSLContext.getInstance( <span class="string">"SSL"</span> );</span><br><span class="line">        sc.init( <span class="keyword">null</span>, trustAllCerts, <span class="keyword">new</span> java.security.SecureRandom() );</span><br><span class="line">        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());</span><br><span class="line">        HttpsURLConnection.setDefaultHostnameVerifier(</span><br><span class="line">            <span class="keyword">new</span> HostnameVerifier() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verify</span><span class="params">(String urlHostName, SSLSession session)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">//We can not recover from this exception.</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/373518/how-do-i-use-a-local-https-url-in-java" target="_blank" rel="external nofollow noopener noreferrer">원본</a>에서 가져왔다.</p><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><p>HTTPCON 전에 호출하면 인증서 없이 HTTPS 연결이 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASP UTF8 세팅</title>
      <link href="/2017/01/10/ASP-UTF8-%EC%84%B8%ED%8C%85/"/>
      <url>/2017/01/10/ASP-UTF8-%EC%84%B8%ED%8C%85/</url>
      
        <content type="html"><![CDATA[<h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>IIS &gt; ASP</strong> 로 이동 후 <strong>코드 페이지</strong>의 값을 65001 로 주면 된다.</p><img data-src="https://i.imgur.com/zTKehxW.jpg">]]></content>
      
      
      <categories>
          
          <category> asp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Cloud Instance 무료 사용</title>
      <link href="/2017/01/10/Google-Cloud-Instance-%EB%AC%B4%EB%A3%8C-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/10/Google-Cloud-Instance-%EB%AC%B4%EB%A3%8C-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<p>구글 클라우드 인스턴스를 생성해 <strong>무료</strong> 서버를 만들어보자.</p><h1 id="프로젝트-생성"><a class="markdownIt-Anchor" href="#프로젝트-생성"></a> 프로젝트 생성</h1><p><a href="https://console.cloud.google.com" target="_blank" rel="external nofollow noopener noreferrer">구글 클라우드 플랫폼</a>에 로그인해 <strong>프로젝트 만들기</strong> 버튼을 클릭해 프로젝트를 생성한다.</p><img data-src="https://i.imgur.com/jf9F2Ak.png"><h1 id="클라우드-서버-생성"><a class="markdownIt-Anchor" href="#클라우드-서버-생성"></a> 클라우드 서버 생성</h1><p><strong>좌측 메뉴 &gt; Compute Engine &gt; VM 인스턴스</strong> 메뉴에서 <strong>인스턴스 만들기</strong> 버튼을 클릭해 인스턴스를 생성한다.</p><img data-src="https://i.imgur.com/3Nd09Nj.png"><h2 id="인스턴스-생성"><a class="markdownIt-Anchor" href="#인스턴스-생성"></a> 인스턴스 생성</h2><p>이름은 하고싶은 이름으로 영역은 한국이니 <strong>아시아 데이터센터</strong>로 설정하고<br>머신 유형은 테스트용이니 <strong>초소형 공유 CPU</strong>를 사용하면 된다.</p><blockquote><p><strong>US 데이터 센터</strong>, <strong>공유 CPU</strong>, <strong>HDD 30GB↓</strong>를 선택한다면 <strong>평생 무료</strong>로 바뀌었다.<br><a href="https://cloud.google.com/free/" target="_blank" rel="external nofollow noopener noreferrer">Free Tier 페이지</a>에서 정책을 확인할 수 있다.</p></blockquote><p>이미지에 원하는 OS 를 선택하면 되는데, CentOS 가 막강하니 선택해주자.<br>액세스 범위 영역에서 <strong>모든 Cloud API 액세스 허용</strong>을 해줘야 구글 내부 API 를 사용할 수 있다.</p><img data-src="https://i.imgur.com/zsZ1Y7f.png"><p>돈이 나간다고 하는데 이미 무료 $300 이 있고, 6 개월간은 무료다.<br>기본 상품을 업그레이드 하지 않으면 <strong>과금이 발생하지 않는다</strong>.</p><h1 id="ssh-key-생성"><a class="markdownIt-Anchor" href="#ssh-key-생성"></a> SSH KEY 생성</h1><h2 id="직접-생성"><a class="markdownIt-Anchor" href="#직접-생성"></a> 직접 생성</h2><p>ssh 접근을 위해 Git-bash 창을 열어 구글 계정으로 키를 생성한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your google id@gmail.com"</span></span><br></pre></td></tr></table></figure><h2 id="putty-로-생성"><a class="markdownIt-Anchor" href="#putty-로-생성"></a> Putty 로 생성</h2><p><a href="https://the.earth.li/~sgtatham/putty/latest/x86/puttygen.exe" target="_blank" rel="external nofollow noopener noreferrer">PuTTY Key Generator</a>를 <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 다운로드 받고 키를 생성한다.</p><img data-src="https://i.imgur.com/avpj2Wk.png"><p><strong>Key Comment</strong>에 구글 계정을 넣어주고 <strong>Generate</strong>한 뒤 Key 를 추출하자</p><h1 id="ssh-public-key-등록"><a class="markdownIt-Anchor" href="#ssh-public-key-등록"></a> SSH Public KEY 등록</h1><h2 id="키-복사"><a class="markdownIt-Anchor" href="#키-복사"></a> 키 복사</h2><p>유저 디렉토리의 .ssh 폴더로 이동해 <strong>공개 키 파일(.pub) 데이터</strong>를 복사하고 등록한다.</p><h2 id="등록"><a class="markdownIt-Anchor" href="#등록"></a> 등록</h2><p><strong>메타데이터</strong> 메뉴에서 등록할 수 있다.</p><img data-src="https://i.imgur.com/XBGZ0CO.png"><h1 id="ssh-private-key-등록"><a class="markdownIt-Anchor" href="#ssh-private-key-등록"></a> SSH Private KEY 등록</h1><p>각자 사용하는 쉘 프로그램에 Private Key 를 저장하는 기능이 있을 것이다.</p><img data-src="https://i.imgur.com/PYo2ERW.png"><p>Token2Shell 을 이용해 등록 후 접속한 화면</p><h1 id="서버-세팅"><a class="markdownIt-Anchor" href="#서버-세팅"></a> 서버 세팅</h1><p>yum 등의 root 명령어를 사용할 때는 sudo 를 붙혀주고 명령어를 입력하면 된다.<br>yum update 를 먼저 실행해보자</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum update</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> google </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
            <tag> cloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>.NET에서 MySQL 사용자 변수 사용</title>
      <link href="/2017/01/10/NET%EC%97%90%EC%84%9C-MySQL-%EC%82%AC%EC%9A%A9%EC%9E%90-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/10/NET%EC%97%90%EC%84%9C-MySQL-%EC%82%AC%EC%9A%A9%EC%9E%90-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<p>@value, @reg 같은 사용자 변수가 들어간 쿼리에서 오류가 발생한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>Connection을 맺을 때 <strong>Allow User Variables=True</strong> 옵션을 추가해줘야한다.</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> conf = <span class="string">"Server=$Server;Port=$port;Database=$DataBase;Uid=$User;Pwd=$Password;Allow User Variables=True"</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> c# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c# </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# String Split</title>
      <link href="/2017/01/10/C-String-Split/"/>
      <url>/2017/01/10/C-String-Split/</url>
      
        <content type="html"><![CDATA[<p>javascript 의 split 을 생각하고 split 을 사용했다간 예상치 못한 오류를 맞게된다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>일반 Split 함수는 Char 로만(한 글자로만) 자를 수 있다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> str = <span class="string">"cat__dog__animal__person"</span>;</span><br><span class="line"><span class="keyword">string</span>[] animals = Regex.Split(str, <span class="string">"__"</span>);</span><br></pre></td></tr></table></figure><p>Regex.Split 을 사용하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> c# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# MySQL Singleton DB Connection</title>
      <link href="/2017/01/10/C-MySQL-Singleton-DB-Connection/"/>
      <url>/2017/01/10/C-MySQL-Singleton-DB-Connection/</url>
      
        <content type="html"><![CDATA[<h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> MySql.Data.MySqlClient;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Threading;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApplication.ClassFolder</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DBConfig</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">string</span> Server = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">string</span> Database = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">string</span> ID = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">string</span> PASS = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">string</span> conf = <span class="string">"Server="</span> + Server + <span class="string">";Database="</span> + Database + <span class="string">";Uid="</span> + ID + <span class="string">";Pwd="</span> + PASS;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> MySqlConnection db;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> MySqlConnection Connection&#123;</span><br><span class="line">            <span class="keyword">get</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (db == <span class="literal">null</span>)&#123;</span><br><span class="line">                    LazyInitializer.EnsureInitialized(<span class="keyword">ref</span> db, CreateConnection);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> db;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> MySqlConnection <span class="title">CreateConnection</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> db = <span class="keyword">new</span> MySqlConnection(conf);</span><br><span class="line"></span><br><span class="line">            db.Open();</span><br><span class="line">            <span class="keyword">return</span> db;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 강제로 커넥션을 끊어야될 경우가 있을 때</span></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CloseConnection</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(db != <span class="literal">null</span>) &#123;</span><br><span class="line">                db.Close();</span><br><span class="line">                db.Dispose();</span><br><span class="line">                db = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get Connection</span></span><br><span class="line"><span class="keyword">var</span> db = DBConfig.Connection;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> c# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c# </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>.NET targetFramework 오류</title>
      <link href="/2017/01/10/NET-targetFramework-%EC%98%A4%EB%A5%98/"/>
      <url>/2017/01/10/NET-targetFramework-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p>targetFramework가 인식할 수 없다고 페이지가 안 띄워지는 경우가 있다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>IIS의 .NET버전과 프로젝트의 .NET버전이 달라 발생한다.</p><img data-src="https://i.imgur.com/RZAuzpC.jpg"><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>IIS &gt; 응용프로그램 풀 &gt; 내 프로젝트 클릭 &gt; 기본설정</strong> 메뉴에서 <strong>.NET Framework 버전</strong> 속성을 변경해준다.</p><img data-src="https://i.imgur.com/5DHb75H.png">]]></content>
      
      
      <categories>
          
          <category> c# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>D3 Word Cloud</title>
      <link href="/2017/01/10/D3-Word-Cloud/"/>
      <url>/2017/01/10/D3-Word-Cloud/</url>
      
        <content type="html"><![CDATA[<p>d3 와 d3-cloud 를 사용해 R 의 Word Cloud 를 javascript 로 구현해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">$ npm install d3</span><br><span class="line">$ npm install d3.layout.cloud</span><br><span class="line"><span class="comment"># bower</span></span><br><span class="line">$ bower install d3</span><br><span class="line">$ bower install d3-cloud</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/d3/d3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/d3-cloud/build/d3.layout.cloud.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> fill = <span class="function"><span class="keyword">function</span><span class="params">(i)</span></span>&#123; <span class="keyword">return</span> d3.schemeCategory20b[i];&#125;;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> layout = d3.layout.cloud()</span></span><br><span class="line">    .size([500, 500])</span><br><span class="line">    .words([</span><br><span class="line"><span class="actionscript">      <span class="string">"텍스트"</span>, <span class="string">"마이닝"</span>, <span class="string">"샘플"</span>, <span class="string">"좋아요"</span>, <span class="string">"R"</span>, <span class="string">"Word"</span>, <span class="string">"Cloud"</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="string">"text"</span>, <span class="string">"mining"</span>].map(<span class="function"><span class="keyword">function</span><span class="params">(d)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;<span class="attr">text</span>: d, <span class="attr">size</span>: <span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">90</span>, <span class="attr">test</span>: <span class="string">"haha"</span>&#125;;</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .padding(5)</span><br><span class="line"><span class="javascript">    .rotate(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> ~~(<span class="built_in">Math</span>.random() * <span class="number">2</span>) * <span class="number">90</span>; &#125;)</span></span><br><span class="line"><span class="actionscript">    .font(<span class="string">"Impact"</span>)</span></span><br><span class="line"><span class="actionscript">    .fontSize(<span class="function"><span class="keyword">function</span><span class="params">(d)</span> </span>&#123; <span class="keyword">return</span> d.size; &#125;)</span></span><br><span class="line"><span class="actionscript">    .on(<span class="string">"end"</span>, draw);</span></span><br><span class="line"></span><br><span class="line">layout.start();</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">draw</span><span class="params">(words)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">  d3.select(<span class="string">"body"</span>).append(<span class="string">"svg"</span>)</span></span><br><span class="line"><span class="actionscript">    .attr(<span class="string">"width"</span>, layout.size()[<span class="number">0</span>])</span></span><br><span class="line"><span class="actionscript">    .attr(<span class="string">"height"</span>, layout.size()[<span class="number">1</span>])</span></span><br><span class="line"><span class="actionscript">    .append(<span class="string">"g"</span>)</span></span><br><span class="line"><span class="actionscript">    .attr(<span class="string">"transform"</span>, <span class="string">"translate("</span> + layout.size()[<span class="number">0</span>] / <span class="number">2</span> + <span class="string">","</span> + layout.size()[<span class="number">1</span>] / <span class="number">2</span> + <span class="string">")"</span>)</span></span><br><span class="line"><span class="actionscript">    .selectAll(<span class="string">"text"</span>)</span></span><br><span class="line">    .data(words)</span><br><span class="line"><span class="actionscript">    .enter().append(<span class="string">"text"</span>)</span></span><br><span class="line"><span class="actionscript">    .style(<span class="string">"font-size"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> </span>&#123; <span class="keyword">return</span> d.size + <span class="string">"px"</span>; &#125;)</span></span><br><span class="line"><span class="actionscript">    .style(<span class="string">"font-family"</span>, <span class="string">"Impact"</span>)</span></span><br><span class="line"><span class="actionscript">    .style(<span class="string">"fill"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d, i)</span> </span>&#123; <span class="keyword">return</span> fill(i); &#125;)</span></span><br><span class="line"><span class="actionscript">    .attr(<span class="string">"text-anchor"</span>, <span class="string">"middle"</span>)</span></span><br><span class="line"><span class="actionscript">    .attr(<span class="string">"transform"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> <span class="string">"translate("</span> + [d.x, d.y] + <span class="string">")rotate("</span> + d.rotate + <span class="string">")"</span>;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    .text(<span class="function"><span class="keyword">function</span><span class="params">(d)</span> </span>&#123; <span class="keyword">return</span> d.text; &#125;);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://github.com/jasondavies/d3-cloud" target="_blank" rel="external nofollow noopener noreferrer">d3-cloud</a>의 예제소스는 nodejs 환경에서만 돌릴 수 있어 모든 웹에서 예제를 사용할 수 있게 수정했다.</p><h2 id="결과"><a class="markdownIt-Anchor" href="#결과"></a> 결과</h2><img data-src="https://i.imgur.com/BnCfjGK.png">]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> d3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> d3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Facebook Graph API를 활용한 Page 글쓰기</title>
      <link href="/2017/01/10/Facebook-Graph-API%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-Page-%EA%B8%80%EC%93%B0%EA%B8%B0/"/>
      <url>/2017/01/10/Facebook-Graph-API%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-Page-%EA%B8%80%EC%93%B0%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="페이스북-모듈-연동"><a class="markdownIt-Anchor" href="#페이스북-모듈-연동"></a> 페이스북 모듈 연동</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.fbAsyncInit = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  FB.init(&#123;</span><br><span class="line">    appId: <span class="string">"앱 키"</span>,</span><br><span class="line">    xfbml: <span class="literal">true</span>,</span><br><span class="line">    version: <span class="string">"v2.8"</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params">d, s, id</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> js,</span><br><span class="line">    fjs = d.getElementsByTagName(s)[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">if</span> (d.getElementById(id)) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  js = d.createElement(s)</span><br><span class="line">  js.id = id</span><br><span class="line">  js.src = <span class="string">"//connect.facebook.net/en_US/sdk.js"</span></span><br><span class="line">  fjs.parentNode.insertBefore(js, fjs)</span><br><span class="line">&#125;)(<span class="built_in">document</span>, <span class="string">"script"</span>, <span class="string">"facebook-jssdk"</span>)</span><br></pre></td></tr></table></figure><h1 id="page-권한-얻기-선택"><a class="markdownIt-Anchor" href="#page-권한-얻기-선택"></a> Page 권한 얻기 (선택)</h1><p>앱공개를 한 뒤 <strong>페이스북 개발자 &gt; 앱 검수</strong> 에서 <strong>publish_pages, manage_pages</strong> 권한을 부여해야한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FB.login(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">login_result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (login_result.status === <span class="string">"connected"</span>) &#123;</span><br><span class="line">      <span class="comment">// 여기에 3번 로직을 넣으면 된다.</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (login_result.status === <span class="string">"not_authorized"</span>) &#123;</span><br><span class="line">      alert(<span class="string">"페이스북 인증에 실패했습니다"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      alert(<span class="string">"페이스북 API 호출에 실패했습니다"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">scope</span>: <span class="string">"publish_pages,manage_pages"</span> &#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 이 두 권한이 꼭 필요하다</span></span><br></pre></td></tr></table></figure><h1 id="해당-page-관리자-권한-얻기"><a class="markdownIt-Anchor" href="#해당-page-관리자-권한-얻기"></a> 해당 Page 관리자 권한 얻기</h1><p>페이지 아이디가 필요한데, 내 페이지로 이동하면 뒤에보이는 주소 번호가 있다.<br>또는 페이지 아이디를 <a href="http://findmyfbid.com/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 주소로 검색해보자</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FB.api(<span class="string">"/나의 페이지 아이디/"</span>, <span class="string">"GET"</span>, &#123; <span class="attr">fields</span>: <span class="string">"access_token"</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  token_result</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// token_result.access_token 이 페이지 관리자로 글을 쓰기 위해 필요하다</span></span><br><span class="line">  <span class="comment">// 여기에 4번 로직을 넣으면 된다.</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="page-feed-작성"><a class="markdownIt-Anchor" href="#page-feed-작성"></a> Page Feed 작성</h1><p>Graph API 를 사용해 피드를 작성한다.<br>자세한 옵션 설정은 <a href="https://developers.facebook.com/docs/graph-api/reference/v2.8/page/feed" target="_blank" rel="external nofollow noopener noreferrer">API 문서</a>를 참조하자.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">FB.api(</span><br><span class="line">  <span class="string">"/my page id/feed"</span>,</span><br><span class="line">  <span class="string">"POST"</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    access_token: token_result.access_token,</span><br><span class="line">    message: <span class="string">"내용"</span>,</span><br><span class="line">    link: <span class="string">"링크 걸 주소"</span>,</span><br><span class="line">    picture: <span class="string">"링크 이미지"</span>,</span><br><span class="line">    name: <span class="string">"링크 제목"</span>,</span><br><span class="line">    description: <span class="string">"링크 설명"</span>,</span><br><span class="line">    caption: <span class="string">"링크 하단 캡션"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">page_result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (page_result &amp;&amp; !page_result.error) &#123;</span><br><span class="line">      <span class="comment">// 여기에 성공시 로직을 넣는다.</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">FB.login(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">login_result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (login_result.status === <span class="string">"connected"</span>) &#123;</span><br><span class="line">      getFbAccessToken()</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (login_result.status === <span class="string">"not_authorized"</span>) &#123;</span><br><span class="line">      alert(<span class="string">"페이스북 인증에 실패했습니다"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      alert(<span class="string">"페이스북 API 호출에 실패했습니다"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">scope</span>: <span class="string">"publish_pages,manage_pages"</span> &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFbAccessToken</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  FB.api(<span class="string">"/나의 페이지 아이디/"</span>, <span class="string">"GET"</span>, &#123; <span class="attr">fields</span>: <span class="string">"access_token"</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    token_result</span></span></span><br><span class="line"><span class="function"><span class="params">  </span>) </span>&#123;</span><br><span class="line">    postFbPage(token_result)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postFbPage</span>(<span class="params">token_result</span>) </span>&#123;</span><br><span class="line">  FB.api(</span><br><span class="line">    <span class="string">"/나의 페이지 아이디/feed"</span>,</span><br><span class="line">    <span class="string">"POST"</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      access_token: token_result.access_token,</span><br><span class="line">      message: <span class="string">"내용"</span>,</span><br><span class="line">      link: <span class="string">"링크 걸 주소"</span>,</span><br><span class="line">      picture: <span class="string">"링크 이미지"</span>,</span><br><span class="line">      name: <span class="string">"링크 제목"</span>,</span><br><span class="line">      description: <span class="string">"링크 설명"</span>,</span><br><span class="line">      caption: <span class="string">"링크 하단 캡션"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">page_result</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (page_result &amp;&amp; !page_result.error) &#123;</span><br><span class="line">        alert(<span class="string">"성공"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>OAuth 및 RESTful 의 개념이 잡혔다면 쉽게 접근할 수 있을듯<br>Graph API 로 모든 페이스북 API 이용이 가능한 것 같다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> facebook </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> facebook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo jsfiddle tag를 호출하지 못하는 현상</title>
      <link href="/2017/01/09/hexo-jsfiddle-tag%EB%A5%BC-%ED%98%B8%EC%B6%9C%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81/"/>
      <url>/2017/01/09/hexo-jsfiddle-tag%EB%A5%BC-%ED%98%B8%EC%B6%9C%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%98%EB%8A%94-%ED%98%84%EC%83%81/</url>
      
        <content type="html"><![CDATA[<p><a href="https://hexo.io/ko/docs/tag-plugins.html#jsFiddle" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a>에 따르면 jsFiddle tag의 사용법은 이렇다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% jsfiddle shorttag [tabs] [skin] [width] [height] %&#125;</span><br></pre></td></tr></table></figure><p>대괄호로 둘러 쌓인 부분은 생략이 가능하다.</p><p>shorttag는 URL 창에서 바로 보여질 수도 있지만 그렇지 않을경우<br><strong>Save</strong> 또는 <strong>Update</strong> 버튼을 누르면 나오는 <strong>Embed</strong> 메뉴에서 확인할 수 있다.</p><img data-src="https://i.imgur.com/FzTXSX3.png"><h1 id="문제점"><a class="markdownIt-Anchor" href="#문제점"></a> 문제점</h1><p>https인 github.io에서 http로 jsfiddle을 호출해서 차단된다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>node_module\hexo\lib\plugins\tag\jsfiddle.js</strong> 파일의 jsfiddle 치환 함수를 변경한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsfiddleTag</span>(<span class="params">args, content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> id = args[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">var</span> tabs = args[<span class="number">1</span>] &amp;&amp; args[<span class="number">1</span>] !== <span class="string">'default'</span> ? args[<span class="number">1</span>] : <span class="string">'js,resources,html,css,result'</span>;</span><br><span class="line">  <span class="keyword">var</span> skin = args[<span class="number">2</span>] &amp;&amp; args[<span class="number">2</span>] !== <span class="string">'default'</span> ? args[<span class="number">2</span>] : <span class="string">'light'</span>;</span><br><span class="line">  <span class="keyword">var</span> width = args[<span class="number">3</span>] &amp;&amp; args[<span class="number">3</span>] !== <span class="string">'default'</span> ? args[<span class="number">3</span>] : <span class="string">'100%'</span>;</span><br><span class="line">  <span class="keyword">var</span> height = args[<span class="number">4</span>] &amp;&amp; args[<span class="number">4</span>] !== <span class="string">'default'</span> ? args[<span class="number">4</span>] : <span class="string">'300'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// http://jsfiddle.net &gt; //jsfiddle.net</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">'&lt;iframe scrolling="no" width="'</span> + width + <span class="string">'" height="'</span> + height + <span class="string">'" src="//jsfiddle.net/'</span> + id + <span class="string">'/embedded/'</span> + tabs + <span class="string">'/'</span> + skin + <span class="string">'" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Highchart 기본 사용법</title>
      <link href="/2017/01/08/Highchart-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9%EB%B2%95/"/>
      <url>/2017/01/08/Highchart-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>D3.js 로 그래프를 만들 수 있지만 더 사용성이 좋은 highchart 로 데이터를 시각화해보자</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">$ npm install highcharts --save</span><br><span class="line"><span class="comment"># yarn</span></span><br><span class="line">$ yarn add highcharts</span><br></pre></td></tr></table></figure><p><strong>highcharts.min.js</strong>와 modules/exporting.js, themes/grid-light.js 를 가져온다.<br>아니면 <a href="https://www.jsdelivr.com/package/npm/highcharts" target="_blank" rel="external nofollow noopener noreferrer">CDN</a>을 사용해도 된다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/highcharts/highcharts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/highcharts/modules/exporting.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/highcharts/themes/grid-light.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="기본-예제"><a class="markdownIt-Anchor" href="#기본-예제"></a> 기본 예제</h1><p>홈페이지에 나와있는 <a href="https://www.highcharts.com/demo/line-basic" target="_blank" rel="external nofollow noopener noreferrer">예제</a>는 다음과 같다.</p><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/h3mprwow/embedded/js,resources,html,css,result/light" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li><strong>title</strong> : 제목</li><li><strong>subtitle</strong> : 소제목</li><li><strong>xAxis</strong> : X 축</li><li><strong>YAxis</strong> : Y 축</li><li><strong>tooltip</strong> : Y 축의 제목</li><li><strong>legend</strong> : X 축의 범례</li><li><strong>series</strong> : 차트 데이터</li></ul><p>기본 예제로도 차트를 만들 수 있지만 업무에 사용하려면 비동기로 데이터가 갱신될 때마다 차트도 다시 그려져야한다.<br>세부 옵션은 <a href="https://api.highcharts.com/highcharts" target="_blank" rel="external nofollow noopener noreferrer">API 문서</a>를 참조하자.</p><h1 id="redraw-예제"><a class="markdownIt-Anchor" href="#redraw-예제"></a> Redraw 예제</h1><p><strong>div#chart</strong>에 차트를 그린다고 가정한다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">Highcharts.setOptions(&#123;</span><br><span class="line">  lang: &#123;</span><br><span class="line">    <span class="comment">// 전체보기 버튼을 한글로 바꾼다</span></span><br><span class="line">    resetZoom: <span class="string">"전체보기"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chartCallback = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> chart = $(<span class="string">"#chart"</span>).highcharts()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (chart) &#123;</span><br><span class="line">    <span class="comment">// 차트가 있을경우 제거한다.</span></span><br><span class="line">    chart.destroy()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (data) &#123;</span><br><span class="line">    <span class="keyword">var</span> categoriesData = [] <span class="comment">// 여기에 x축 데이터를 넣는다.</span></span><br><span class="line">    <span class="keyword">var</span> seriesData = &#123;&#125; <span class="comment">// 여기에 data를 파싱해 y축 구조를 만들어준다.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> options = &#123;</span><br><span class="line">      chart: &#123;</span><br><span class="line">        renderTo: <span class="string">"chart"</span>, <span class="comment">// 다시 그려질 영역 설정</span></span><br><span class="line">        zoomType: <span class="string">"x"</span>, <span class="comment">// X축이 줌인이 가능하게 설정</span></span><br><span class="line">        panning: <span class="literal">true</span>,</span><br><span class="line">        panKey: <span class="string">"shift"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        categories: categoriesData</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;</span><br><span class="line">        min: <span class="number">0</span>, <span class="comment">// 0이상의 값만 표기</span></span><br><span class="line">        allowDecimals: <span class="literal">false</span>, <span class="comment">// 정수로만 표기</span></span><br><span class="line">        title: &#123;</span><br><span class="line">          text: <span class="literal">null</span></span><br><span class="line">        &#125;,</span><br><span class="line">        labels: &#123;&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      credits: &#123;</span><br><span class="line">        text: <span class="string">"Graceful Light"</span>, <span class="comment">// 로고 표시</span></span><br><span class="line">        href: <span class="string">"https://gracefullight.github.io"</span> <span class="comment">// 로고 클릭시 URL</span></span><br><span class="line">      &#125;,</span><br><span class="line">      tooltip: &#123;</span><br><span class="line">        <span class="comment">// hover시 나오는 tooltip</span></span><br><span class="line">        shared: <span class="literal">true</span>, <span class="comment">// 하나의 영역을 공유</span></span><br><span class="line">        pointFormatter: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">this</span>.y &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 표시되는 tooltip을 마음대로 설정</span></span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">              <span class="string">'&lt;span style="color:'</span> +</span><br><span class="line">              <span class="keyword">this</span>.series.color +</span><br><span class="line">              <span class="string">';"&gt;●&lt;/span&gt; '</span> +</span><br><span class="line">              <span class="keyword">this</span>.series.name +</span><br><span class="line">              <span class="string">": "</span> +</span><br><span class="line">              <span class="string">"&lt;b&gt;"</span> +</span><br><span class="line">              Utils.comma(<span class="keyword">this</span>.y) +</span><br><span class="line">              <span class="string">"&lt;/b&gt;&lt;br/&gt;"</span></span><br><span class="line">            )</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      plotOptions: &#123;</span><br><span class="line">        column: &#123;</span><br><span class="line">          pointPadding: <span class="number">0.2</span>,</span><br><span class="line">          borderWidth: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      legend: &#123;</span><br><span class="line">        borderWidth: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      series: seriesData</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    chart = <span class="keyword">new</span> Highcharts.Chart(options)</span><br><span class="line">    chart.redraw()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $(<span class="string">"#chart"</span>).html(<span class="string">"no data"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>redraw 를 이용할 때 <code>new Highcharts.Chart</code>를 사용해야한다.<br>categories 와 series 의 모양을 만들어줄 때는 lodash 를 사용해야 편하다.</p><h2 id="결과"><a class="markdownIt-Anchor" href="#결과"></a> 결과</h2><img data-src="https://i.imgur.com/7v56peZ.png"><h1 id="대안"><a class="markdownIt-Anchor" href="#대안"></a> 대안</h1><ul><li>Chart.js</li><li>E Charts</li><li>tui Chart</li><li>Chartist.js</li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> highchart </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> highchart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10 Onedrive 바로가기 해제</title>
      <link href="/2017/01/08/Windows10-Onedrive-%EB%B0%94%EB%A1%9C%EA%B0%80%EA%B8%B0-%ED%95%B4%EC%A0%9C/"/>
      <url>/2017/01/08/Windows10-Onedrive-%EB%B0%94%EB%A1%9C%EA%B0%80%EA%B8%B0-%ED%95%B4%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<p>Windows10 을 쓰다가 어느순간 보면 탐색기에서 Onedrive 메뉴가 생긴 것을 볼 수 있다.</p><img data-src="https://i.imgur.com/nuEbiHC.png"><p>심지어 Windows10 Anniversary Update 가 되어있다면 모르는 사이에 동기화가 연결되어 있을 수도 있다.</p><p>동기화는 리소스를 잡아먹고 개인컴퓨터가 아닌 곳에서는 접근하면 안되니 여간 거슬리는 게 아니다.</p><p>설정에 들어가도 해제옵션이 없고, MS 도움말에는 기본기능이라 해제가 불가능하다고 나온다.</p><p>없애보자.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><ol><li><a href="https://github.com/tomchappelow/onedrive-uninstaller/archive/master.zip" target="_blank" rel="external nofollow noopener noreferrer">삭제프로그램</a>을 다운받는다.</li><li>압축을 풀고 <strong>uninstaller.cmd</strong>를 <strong>관리자권한으로 실행</strong>한다.</li></ol><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p><a href="https://github.com/tomchappelow/onedrive-uninstaller" target="_blank" rel="external nofollow noopener noreferrer">오픈소스</a>라 믿고 사용해도 된다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> onedrive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text Line Break (Word Wrap) 설정</title>
      <link href="/2017/01/08/sublime-text-Line-Break-Word-Wrap-%EC%84%A4%EC%A0%95/"/>
      <url>/2017/01/08/sublime-text-Line-Break-Word-Wrap-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>Ctrl+Shift+P로 패키지 매니저를 띄운뒤 WW를 입력해 <strong>Word Wrap Toggle</strong> 기능을 활성/비활성화 한다.</p><h2 id="적용전"><a class="markdownIt-Anchor" href="#적용전"></a> 적용전</h2><img data-src="https://i.imgur.com/Vv7Wd9A.png"><h2 id="적용후"><a class="markdownIt-Anchor" href="#적용후"></a> 적용후</h2><img data-src="https://i.imgur.com/cIrEpql.png">]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10 바탕화면 변경 및 사진적용이 안될 때</title>
      <link href="/2017/01/08/Windows10-%EB%B0%94%ED%83%95%ED%99%94%EB%A9%B4-%EB%B3%80%EA%B2%BD-%EB%B0%8F-%EC%82%AC%EC%A7%84%EC%A0%81%EC%9A%A9%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/"/>
      <url>/2017/01/08/Windows10-%EB%B0%94%ED%83%95%ED%99%94%EB%A9%B4-%EB%B3%80%EA%B2%BD-%EB%B0%8F-%EC%82%AC%EC%A7%84%EC%A0%81%EC%9A%A9%EC%9D%B4-%EC%95%88%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>Windows10에서 사진파일로 바탕화면 변경을 해도 적용이 안될 때가 있다.<br>오로지 단색으로만 화면을 변경할 수 있는데 해결해보자</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="제어판-이동"><a class="markdownIt-Anchor" href="#제어판-이동"></a> 제어판 이동</h2><p><strong>시작 &gt; 우클릭 &gt; 제어판</strong></p><img data-src="https://i.imgur.com/WeObewI.jpg"><h2 id="접근성-센터-이동"><a class="markdownIt-Anchor" href="#접근성-센터-이동"></a> 접근성 센터 이동</h2><p><strong>보기 기준</strong>에서 <strong>작은 아이콘 보기</strong>로 변경하면 접근성 센터 메뉴가 보인다.</p><img data-src="https://i.imgur.com/mAFQ6LZ.jpg"><h2 id="컴퓨터를-보기-쉽게-설정"><a class="markdownIt-Anchor" href="#컴퓨터를-보기-쉽게-설정"></a> 컴퓨터를 보기 쉽게 설정</h2><p><strong>컴퓨터를 보기 쉽게 설정</strong> 메뉴로 들어간다.</p><img data-src="https://i.imgur.com/2XeFtFn.jpg"><h2 id="배경-이미지-제거-옵션-해제"><a class="markdownIt-Anchor" href="#배경-이미지-제거-옵션-해제"></a> 배경 이미지 제거 옵션 해제</h2><p><strong>화면의 항목을 읽기 쉽도록 표시</strong> 영역에서 **배경 이미지 제거(사용할 수 있을 경우)**의 옵션을 해제해준다.</p><img data-src="https://i.imgur.com/PIAdKqf.jpg"><h2 id="바탕화면-이미지-변경"><a class="markdownIt-Anchor" href="#바탕화면-이미지-변경"></a> 바탕화면 이미지 변경</h2><p><strong>바탕화면 &gt; 우클릭 &gt; 개인설정</strong>에서 바탕화면을 변경해준다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text ConvertToUTF8 Package 단축키 변경</title>
      <link href="/2017/01/08/sublime-text-ConvertToUTF8-Package-%EB%8B%A8%EC%B6%95%ED%82%A4-%EB%B3%80%EA%B2%BD/"/>
      <url>/2017/01/08/sublime-text-ConvertToUTF8-Package-%EB%8B%A8%EC%B6%95%ED%82%A4-%EB%B3%80%EA%B2%BD/</url>
      
        <content type="html"><![CDATA[<p>실수로라도 Ctrl+Shift+C 키를 누르면 소스가 GBK 중국어 인코딩으로 바뀌어 저장된다.<br>이 단축키의 기본 설정을 UTF-8로 변경해보자.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="패키지-경로-이동"><a class="markdownIt-Anchor" href="#패키지-경로-이동"></a> 패키지 경로 이동</h2><p>C:\Users\사용자 폴더\AppData\Roaming\Sublime Text3\Packages\ConvertToUTF8</p><img data-src="https://i.imgur.com/2OFwgU4.png"><h2 id="기본-설정파일-변경"><a class="markdownIt-Anchor" href="#기본-설정파일-변경"></a> 기본 설정파일 변경</h2><p><strong>Default (Windows).sublime-keymap</strong> 파일을 열고 아래와 같이 수정한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    keys: [<span class="string">"ctrl+shift+c"</span>],</span><br><span class="line">    command: <span class="string">"convert_to_uft8"</span>,</span><br><span class="line">    args: &#123; <span class="attr">encoding</span>: <span class="string">"UTF-8"</span>, <span class="attr">stamp</span>: <span class="number">0</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>또는 파일 내용을 날려버려도 된다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio 콘솔창 유지</title>
      <link href="/2017/01/08/Visual-Studio-%EC%BD%98%EC%86%94%EC%B0%BD-%EC%9C%A0%EC%A7%80/"/>
      <url>/2017/01/08/Visual-Studio-%EC%BD%98%EC%86%94%EC%B0%BD-%EC%9C%A0%EC%A7%80/</url>
      
        <content type="html"><![CDATA[<p>VS에서 코딩 후 빌드를 하면 콘솔창이 결과를 보여주자마자 닫히는 경우가 있다.<br>수동으로 닫을 때까지 콘솔창이 유지되게 해보자.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>프로젝트 &gt; 속성 &gt; 구성 속성 &gt; 링커 &gt; 시스템 메뉴</strong>에 들어가 <strong>하위시스템 옵션</strong>을 <strong>콘솔</strong>로 변경한다.</p><img data-src="https://i.imgur.com/3oalbKH.png">]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> visualstudio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Can&#39;t connect to localhost</title>
      <link href="/2017/01/08/Can-t-connect-to-localhost/"/>
      <url>/2017/01/08/Can-t-connect-to-localhost/</url>
      
        <content type="html"><![CDATA[<p>웹서버를 크롬에서 띄울시 localhost 가 요청되지 않는 경우가 있다.<br>DNS 에 문제가 있어 연결할 수 없다는 에러가 나온다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>Chrome &gt; 설정 &gt; 개인정보</strong> 메뉴에서 <strong>네트워크 활동을 예측하여 페이지 로드 성능 개선</strong> 기능을 해제한다.</p><img data-src="https://i.imgur.com/V8u3jUM.png">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASP woff 404 오류</title>
      <link href="/2017/01/07/ASP-woff-404-%EC%98%A4%EB%A5%98/"/>
      <url>/2017/01/07/ASP-woff-404-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p>Classic asp 에서 .woff 확장자를 가진 글자 파일을 가져오지 못하는 경우가 있다.<br>Console 확인시 404 오류가 난다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>IIS 에서 MIME 형식에 woff 확장자를 추가한다.</p><img data-src="https://i.imgur.com/0wX0c3M.jpg">]]></content>
      
      
      <categories>
          
          <category> asp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASP - Request와 Session을 Javascript에서 사용</title>
      <link href="/2017/01/07/ASP-Request%EC%99%80-Session%EC%9D%84-Javascript%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/07/ASP-Request%EC%99%80-Session%EC%9D%84-Javascript%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="선행"><a class="markdownIt-Anchor" href="#선행"></a> 선행</h1><p>classic asp 는 기본 json 모듈이 없기 때문에 <a href="https://code.google.com/archive/p/aspjson/downloads" target="_blank" rel="external nofollow noopener noreferrer">여기</a>에서 모듈을 다운로드 해야한다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--#include virtual &#x3D; &quot;&#x2F;JSON_2.0.4.asp&quot;--&gt;</span><br><span class="line">&lt;%</span><br><span class="line">&#39;request TO JSON</span><br><span class="line">Dim req:Set req &#x3D; jsObject()</span><br><span class="line"></span><br><span class="line">FOR EACH i IN Request.QueryString</span><br><span class="line">    IF Request.QueryString(i).count &gt; 1 THEN</span><br><span class="line">        i &#x3D; Replace(i,&quot;&amp;&quot;, &quot;&quot;)</span><br><span class="line">        Set req(i) &#x3D; jsArray()</span><br><span class="line">        FOR EACH j IN Request.QueryString(i)</span><br><span class="line">            req(i)(null) &#x3D; j</span><br><span class="line">        NEXT</span><br><span class="line">    ELSE</span><br><span class="line">        req(i) &#x3D; Request.QueryString(i)</span><br><span class="line">    END IF</span><br><span class="line">NEXT</span><br><span class="line"></span><br><span class="line">FOR EACH x IN Request.Form</span><br><span class="line">    IF Request.Form(x).count &gt; 1 THEN</span><br><span class="line">        Set req(x) &#x3D; jsArray()</span><br><span class="line">        FOR EACH y IN Request.Form(x)</span><br><span class="line">            req(x)(null) &#x3D; y</span><br><span class="line">        NEXT</span><br><span class="line">    ELSE</span><br><span class="line">        req(x) &#x3D; Request.Form(y)</span><br><span class="line">    END IF</span><br><span class="line">NEXT</span><br><span class="line">&#39;session TO JSON</span><br><span class="line">Dim sess:Set sess &#x3D; jsObject()</span><br><span class="line">FOR EACH k IN Session.Contents</span><br><span class="line">    sess(k) &#x3D; Session.Contents(k)</span><br><span class="line">NEXT</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge,chrome&#x3D;1&quot;&gt;</span><br><span class="line">&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">    var request &#x3D; JSON.parse(&#39;&lt;%&#x3D;req.flush%&gt;&#39;);</span><br><span class="line">    var session &#x3D; JSON.parse(&#39;&lt;%&#x3D;sess.flush%&gt;&#39;);</span><br><span class="line">    Object.freeze(request);</span><br><span class="line">    Object.freeze(session);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>1 줄에서 JSON 모듈을 include 시켜주고 6~27 줄에서 Get 방식과 Post 방식의 Request 를 모두 파싱한다. 30~33 줄에서 Session 을 파싱한다.<br>40 줄에서 request 와 session 을 javascript 변수로 받고, 클라이언트가 변조하지 못하게 Object.freeze 로 얼려버린다.</p>]]></content>
      
      
      <categories>
          
          <category> asp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asp </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>800a0e7a Provider cannot be found.</title>
      <link href="/2017/01/07/800a0e7a-Provider-cannot-be-found/"/>
      <url>/2017/01/07/800a0e7a-Provider-cannot-be-found/</url>
      
        <content type="html"><![CDATA[<h1 id="800a0e7a-provider-cannot-be-found"><a class="markdownIt-Anchor" href="#800a0e7a-provider-cannot-be-found"></a> 800a0e7a Provider cannot be found</h1><p>ADODB.Connection error ‘800a0e7a’ Provider cannot be found. It may not be properly installed.<br>공급자를 찾을 수 없습니다. 올바르게 설치가 되지 않았을 수 있습니다.</p><h2 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h2><p>64Bit Windows 에서 32Bit ASP 실행시 발생하는 오류이다.</p><h2 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h2><p><strong>IIS 관리자 &gt; 응용프로그래밍 풀 &gt; DefaultAppPool 우클릭 &gt; 고급설정</strong> 메뉴에서<br><strong>32bit 응용프로그래밍 사용</strong> 옵션을 <strong>TURE</strong>로 변경 후 ASP 재시작</p><img data-src="https://i.imgur.com/9mRCLQ7.jpg"><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>구글링시 재설치, 패치 등을 하라고 나오는데 현혹되지 말자.</p>]]></content>
      
      
      <categories>
          
          <category> asp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> asp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git .ssh key 적용 후에도 비밀번호를 물어볼 때</title>
      <link href="/2017/01/07/Git-ssh-key-%EC%A0%81%EC%9A%A9-%ED%9B%84%EC%97%90%EB%8F%84-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8%EB%A5%BC-%EB%AC%BC%EC%96%B4%EB%B3%BC-%EB%95%8C/"/>
      <url>/2017/01/07/Git-ssh-key-%EC%A0%81%EC%9A%A9-%ED%9B%84%EC%97%90%EB%8F%84-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8%EB%A5%BC-%EB%AC%BC%EC%96%B4%EB%B3%BC-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>Git 사용을 위해 ssh key 생성해 서버에 추가했는데도 비밀번호를 물어보는 경우가 있다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>윈도우에서 ~/.ssh 경로를 인식하지 못해 발생한다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>시스템 &gt; 고급 시스템 설정 &gt; 환경변수</strong> 메뉴로 들어가<br>HOME 변수로 <strong>%HOMEDRIVE%%HOMEPATH%</strong> 값을 추가 후 재부팅해주면 된다.</p><img data-src="https://i.imgur.com/JtBqLho.png">]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublime text에서 Git Bash 실행</title>
      <link href="/2017/01/07/sublime-text%EC%97%90%EC%84%9C-Git-Bash-%EC%8B%A4%ED%96%89/"/>
      <url>/2017/01/07/sublime-text%EC%97%90%EC%84%9C-Git-Bash-%EC%8B%A4%ED%96%89/</url>
      
        <content type="html"><![CDATA[<h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="패키지-설치"><a class="markdownIt-Anchor" href="#패키지-설치"></a> 패키지 설치</h2><p><strong>Package Control</strong>을 열어 Terminal 패키지를 설치한다.</p><h2 id="git-bash-와의-연동"><a class="markdownIt-Anchor" href="#git-bash-와의-연동"></a> Git Bash 와의 연동</h2><p><strong>Preferences &gt; Package Settings &gt; Terminal &gt; Settings - User</strong> 메뉴에서 터미널 경로를 수정한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// git-bash가 설치된 경로</span></span><br><span class="line">  <span class="string">"terminal"</span>: <span class="string">"C:\\Program Files\\Git\\git-bash.exe"</span>,</span><br><span class="line">  <span class="string">"parameters"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="단축키-추가"><a class="markdownIt-Anchor" href="#단축키-추가"></a> 단축키 추가</h1><p>기본 단축키는 ctrl+shift+alt+t 라 어려우니 변경해주자.<br><strong>Preferences &gt; Key Bindings</strong> 메뉴에서 단축키를 추가한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="string">"keys"</span>: [<span class="string">"ctrl+alt+t"</span>], <span class="string">"command"</span>: <span class="string">"open_terminal_project_folder"</span> &#125;</span><br></pre></td></tr></table></figure><p>이제 ctrl+alt+t 키로 현재 프로젝트에서 깃 배쉬창을 바로 띄울 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> bash </tag>
            
            <tag> sublimetext </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>따라하면 되는 Git 사용 명령어</title>
      <link href="/2017/01/07/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B4-%EB%90%98%EB%8A%94-Git-%EC%82%AC%EC%9A%A9-%EB%AA%85%EB%A0%B9%EC%96%B4/"/>
      <url>/2017/01/07/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B4-%EB%90%98%EB%8A%94-Git-%EC%82%AC%EC%9A%A9-%EB%AA%85%EB%A0%B9%EC%96%B4/</url>
      
        <content type="html"><![CDATA[<p>Git 은 설치되어 있고, 프로젝트를 clone 했다고 가정합니다.</p><h1 id="작업흐름"><a class="markdownIt-Anchor" href="#작업흐름"></a> 작업흐름</h1><h2 id="프로젝트에서-git-bash-실행"><a class="markdownIt-Anchor" href="#프로젝트에서-git-bash-실행"></a> 프로젝트에서 git bash 실행</h2><h2 id="서버-repository-의-최종-버전을-다운로드"><a class="markdownIt-Anchor" href="#서버-repository-의-최종-버전을-다운로드"></a> 서버 repository 의 최종 버전을 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin master</span><br></pre></td></tr></table></figure><h2 id="오늘-작업-브랜치-설정-또는-선택"><a class="markdownIt-Anchor" href="#오늘-작업-브랜치-설정-또는-선택"></a> 오늘 작업 브랜치 설정 또는 선택</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 작업 브랜치 설정</span></span><br><span class="line">$ git checkout -b 브랜치명</span><br><span class="line"><span class="comment"># 작업 브랜치 선택</span></span><br><span class="line">$ git checkout 브랜치명</span><br></pre></td></tr></table></figure><h2 id="즐거운-코딩"><a class="markdownIt-Anchor" href="#즐거운-코딩"></a> 즐거운 코딩</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"코딩!!!"</span>)</span><br></pre></td></tr></table></figure><h2 id="브랜치-작업내역-저장-및-커밋"><a class="markdownIt-Anchor" href="#브랜치-작업내역-저장-및-커밋"></a> 브랜치 작업내역 저장 및 커밋</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">'커밋 메세지 (필수)'</span></span><br><span class="line"><span class="comment"># 또는 한방에 커밋</span></span><br><span class="line">$ git commit -am <span class="string">'커밋 메세지'</span></span><br></pre></td></tr></table></figure><h2 id="master-브랜치로-이동"><a class="markdownIt-Anchor" href="#master-브랜치로-이동"></a> master 브랜치로 이동</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br></pre></td></tr></table></figure><h2 id="작업한-브랜치-병합-후-테스트"><a class="markdownIt-Anchor" href="#작업한-브랜치-병합-후-테스트"></a> 작업한 브랜치 병합 후 테스트</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge 브랜치명</span><br></pre></td></tr></table></figure><h2 id="서버-repository-변경점-다운로드"><a class="markdownIt-Anchor" href="#서버-repository-변경점-다운로드"></a> 서버 repository 변경점 다운로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin master</span><br></pre></td></tr></table></figure><h2 id="서버-repository-변경점-업로드"><a class="markdownIt-Anchor" href="#서버-repository-변경점-업로드"></a> 서버 repository 변경점 업로드</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure><h2 id="작업-브랜치-제거"><a class="markdownIt-Anchor" href="#작업-브랜치-제거"></a> 작업 브랜치 제거</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -D 브랜치명</span><br></pre></td></tr></table></figure><h1 id="기타-자주쓰는-명령어"><a class="markdownIt-Anchor" href="#기타-자주쓰는-명령어"></a> 기타 자주쓰는 명령어</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 모든 브랜치 확인</span></span><br><span class="line">$ git branch</span><br><span class="line"><span class="comment"># 원격 브랜치 확인</span></span><br><span class="line">$ git branch -r</span><br><span class="line"><span class="comment"># master 브랜치에서 변경된 파일만 보기</span></span><br><span class="line">$ git diff --name-status master</span><br><span class="line"><span class="comment"># 현재 브랜치 변경된 파일 정보 보기</span></span><br><span class="line">$ git status</span><br><span class="line"><span class="comment"># 커밋 로그 한줄 보기</span></span><br><span class="line">$ git <span class="built_in">log</span> --pretty=oneline</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jshint 설정 (Sublime, VSCode)</title>
      <link href="/2017/01/05/sublime-text-jshint-setting/"/>
      <url>/2017/01/05/sublime-text-jshint-setting/</url>
      
        <content type="html"><![CDATA[<p>javascript 에서 linter 의 역활은 중요하다.<br>Sublime Text 나 VSCode 에서 jshint linter 를 설치하고, 기본 설정을 수정해보자.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><h2 id="sublime"><a class="markdownIt-Anchor" href="#sublime"></a> Sublime</h2><h3 id="모듈-설치"><a class="markdownIt-Anchor" href="#모듈-설치"></a> 모듈 설치</h3><p>Sublime Linter 패키지가 선행되어야한다.</p><p><strong>Package Control</strong>을 열어 <a href="https://github.com/SublimeLinter/SublimeLinter-jshint" target="_blank" rel="external nofollow noopener noreferrer">Sublimt-Linter jshint</a>를 설치한다.<br>간단히 jshint 로 검색해도 된다.</p><h3 id="jshint-설치"><a class="markdownIt-Anchor" href="#jshint-설치"></a> jshint 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 전역으로 jshint를 설치한다.</span></span><br><span class="line">$ npm install -g jshint</span><br></pre></td></tr></table></figure><h3 id="설정-경로-변경"><a class="markdownIt-Anchor" href="#설정-경로-변경"></a> 설정 경로 변경</h3><p><strong>Preferences &gt; Package Settings &gt; SublimeLinter &gt; Settings - user</strong> 메뉴로 들어가,<br>&quot;users.linters.jshint.args&quot;에 경로를 수정한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"linters"</span>: &#123;</span><br><span class="line">    <span class="string">"jshint"</span>: &#123;</span><br><span class="line">        <span class="string">"@disable"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">"args"</span>: [</span><br><span class="line">            <span class="comment">// 여기에 경로를 적어준다.</span></span><br><span class="line">            <span class="string">"--config=C:\\Users\\사용자\\npm\\node_modules\\jshint\\jshint_config.json"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">"excludes"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> VSCode</h2><p>내장되어있다.<br><strong>파일 &gt; 기본설정 &gt; 설정</strong>에서 아래 속성을 만져주면 된다.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"jshint.options": &#123;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h1 id="설정-파일"><a class="markdownIt-Anchor" href="#설정-파일"></a> 설정 파일</h1><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"esnext"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"asi"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"boss"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"curly"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"eqeqeq"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"eqnull"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"evil"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"expr"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"forin"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"funcscope"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"jquery"</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="string">"latedef"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"lastsemic"</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="string">"loopfunc"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"maxerr"</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="string">"nocomma"</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="string">"nonbsp"</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="string">"node"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"nonew"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"plusplus"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"regexdash"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"shadow"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"strict"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"supernew"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"trailing"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"undef"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"unused"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"white"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"withstmt"</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="string">"worker"</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><ul><li><strong>esnext</strong> : es6 의 구문을 사용할 수 있음</li><li><strong>asi</strong> : 세미콜론이 없을 수 있음</li><li><strong>boss</strong> : 비교문(lt, gt…)이 올 자리에 할당문(a = 1)이 올 수 있음</li><li><strong>curly</strong> : 중괄호 생략할 수 없음</li><li><strong>eqeqeq</strong> : ==를 사용할 수 없음 (===를 사용)</li><li><strong>eqnull</strong> : null 비교를 사용할 수 있음</li><li><strong>evil</strong> : eval 을 사용할 수 있음</li><li><strong>expr</strong> : 할당이나 함수호출이 아닌 표현식 사용할 수 있음 (<a href="http://stackoverflow.com/questions/6248920/expressions-in-javascript-ternary-operator-and-jslint" target="_blank" rel="external nofollow noopener noreferrer">예제</a> 참조)</li><li><strong>forin</strong> : forin 반복문 사용시 if 으로 필터링을 해줘야함</li><li><strong>funcscope</strong> : 조건문 내의 선언된 변수를 조건문 바깥에서 참조 가능</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  x += <span class="number">1</span> <span class="comment">// Default: 'x' used out of scope.</span></span><br><span class="line">  <span class="comment">// No warning when funcscope:true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>jquery</strong> : jQuery 의 전역변수를 미리 정의</li><li><strong>latedef</strong> : 호출보다 늦게 정의된 변수를 금지 (호이스팅 방지)</li><li><strong>lastsemic</strong> : 한 줄짜리 블록 코드에서 마지막 세미콜론이 없을 경우만 오류</li><li><strong>loopfunc</strong> : 반복문 안에서 함수 정의 가능</li><li><strong>maxerr</strong> : 총 보여줄 오류의 갯수</li><li><strong>nocomma</strong> : comma 연산자 사용 금지</li><li><strong>nonbsp</strong> : non-breaking whitespace 금지</li><li><strong>node</strong> : 노드 환경 사용 가능</li><li><strong>nonew</strong> : new 생성자 사용 불가</li><li><strong>plusplus</strong> : 단항 증감연산자 사용 불가</li><li><strong>regexdash</strong> : 정규식에서 대괄호 안에 escape 처리 되지 않은 대쉬(-) 가능</li><li><strong>shadow</strong> : 변수 재선언 가능 (inner 또는 false, outer, true 로 설정)</li><li><strong>strict</strong> : “use-strict” 선언이 없을시 오류</li><li><strong>supernew</strong> : 잘못 작성한 생성자의 오류 표시 안함</li><li><strong>trailing</strong> : 라인 끝의 불필요한 공백이 있으면 오류</li><li><strong>undef</strong> : 선언되지 않은 변수 사용시 오류</li><li><strong>unused</strong> : 선언이 되었으나 사용되지 않는 변수에 대해 오류</li><li><strong>white</strong> : jshint 가 더글락스 크락포드의 코딩 스타일 가이드에 따라 코드를 검사</li><li><strong>withstmt</strong> : with 구문 사용 가능</li><li><strong>worker</strong> : Web Worker 사용 가능</li></ul>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublimetext </tag>
            
            <tag> jshint </tag>
            
            <tag> jslint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10에서 Telnet 사용</title>
      <link href="/2017/01/05/Windows10%EC%97%90%EC%84%9C-Telnet-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/05/Windows10%EC%97%90%EC%84%9C-Telnet-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<p>특정 포트가 열려있는지 확인하기 위해서 텔넷을 사용해야할 때가 있다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><p>제어판 &gt; 프로그램 추가/제거에 들어간다.</p><img data-src="https://i.imgur.com/y2gGXyr.png"><p><strong>Windows 기능 켜기/끄기</strong> 버튼 클릭 후 아래로 끝까지 내리면 <strong>텔넷 클라이언트</strong>가 보이는데, 체크한 후 <strong>확인</strong> 버튼을 눌러 설치한다.</p><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><p>cmd 창을 연 뒤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># telnet 아이피(호스트) 포트</span></span><br><span class="line">$ telnet 111.222.333.444 3306</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> telnet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Openshift를 이용한 무료 서버 구축</title>
      <link href="/2017/01/04/Openshift%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%AC%B4%EB%A3%8C-%EC%84%9C%EB%B2%84-%EA%B5%AC%EC%B6%95/"/>
      <url>/2017/01/04/Openshift%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%AC%B4%EB%A3%8C-%EC%84%9C%EB%B2%84-%EA%B5%AC%EC%B6%95/</url>
      
        <content type="html"><![CDATA[<h1 id="개요"><a class="markdownIt-Anchor" href="#개요"></a> 개요</h1><p>구글링을 통해 얻은 Openshift 자료들은 최신 버전이 아니라 사용할 수 없다.</p><p>Google Cloud나 Heroku, AWS를 사용하여 테스트용 서버를 만들 수 있지만<br>무료 기간이 모두 정해져 있다. RedHat에서 운영하는 100% 무료 클라우드인 오픈시프트의 최신 버전을 사용해보자.</p><h1 id="가입"><a class="markdownIt-Anchor" href="#가입"></a> 가입</h1><h2 id="github로-로그인"><a class="markdownIt-Anchor" href="#github로-로그인"></a> Github로 로그인</h2><p><a href="https://www.openshift.com/devpreview/register.html" target="_blank" rel="external nofollow noopener noreferrer">openshift</a>의 새로운 버전은 <a href="https://github.com/join?source=header-home" target="_blank" rel="external nofollow noopener noreferrer">Github</a> 아이디로만 가입이 가능하다.<br>Github 아이디를 먼저 생성한 후 <strong>Login With GitHub</strong> 버튼을 클릭한다.</p><h2 id="신청서-작성"><a class="markdownIt-Anchor" href="#신청서-작성"></a> 신청서 작성</h2><img data-src="https://i.imgur.com/VXmkRtI.png"><p>신청서 작성 후 입력한 Email 주소로 오는 승인 메일을 기다려야한다.</p><h2 id="승인-및-로그인"><a class="markdownIt-Anchor" href="#승인-및-로그인"></a> 승인 및 로그인</h2><p>The OpenShift Team에게 <strong>Welcome to the OpenShift Online (Next Gen) Developer Preview</strong> 란 제목으로 메일을 받으면 openshift를 이용할 수 있다.</p><p>상단 메뉴의 My Account를 클릭 후 <strong>(NEXT GEN) WEB CONSOLE</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/KC75ZDi.png"><blockquote><p>다음 단계부터는 OpenShift의 승인이 나야지만 진행할 수 있다.<br>하루정도 안에 승인 메일이 오니 기다려보자.</p></blockquote><h1 id="프로젝트-생성"><a class="markdownIt-Anchor" href="#프로젝트-생성"></a> 프로젝트 생성</h1><p>프로젝트는 하나의 클라우드를 신청한다고 보면 된다.</p><p>로그인 후 <strong>New Project</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/rP3yAxj.png"><p>고민하지 말고 적어도 된다.</p><h1 id="웹서버-생성"><a class="markdownIt-Anchor" href="#웹서버-생성"></a> 웹서버 생성</h1><p>프로젝트 생성이 끝나면 이미지를 선택하는 창이 나온다.<br>검색창에 원하는 이미지를 검색 후 선택한다.</p><img data-src="https://i.imgur.com/A9PhDWz.png"><h2 id="서버-이미지-추가"><a class="markdownIt-Anchor" href="#서버-이미지-추가"></a> 서버 이미지 추가</h2><p>mongodb를 사용시 <strong>nodejs-mongo-persistent</strong> 이미지를 사용하고, nodejs만 필요할 경우 <strong>nodejs:4</strong> 이미지를 사용하면 된다.<br>일단 nodejs 웹서버만 필요하기에 해당 이미지를 선택했다.</p><img data-src="https://i.imgur.com/RllhNcT.png"><p>Git Repository를 입력해야하는데, Github에 가지고 있는 자신의 nodejs application이 있다면 그 주소를 등록하면되고 그렇지 않은 경우 <strong>Try It</strong>버튼을 클릭해 <a href="https://github.com/openshift/nodejs-ex.git" target="_blank" rel="external nofollow noopener noreferrer">Sample Repo</a>를 추가하자.</p><p>샘플 소스는 express와 ejs를 사용하고 있다.</p><p><strong>Show advenced routing…</strong> 버튼을 클릭하면 도메인 세팅, Webhook 등 고급 설정을 할 수 있는데 <strong>Resource Limit</strong>에서 메모리를 늘릴 수 있다. (기본 512MB)</p><blockquote><p>추후 메모리 용량 확인은 가능하나, 확장하는 부분은 아직 못 찾았다. (없을지도)<br>미리 메모리를 1GB로 늘려주고 시작하자</p></blockquote><h2 id="fork-sample-repository"><a class="markdownIt-Anchor" href="#fork-sample-repository"></a> Fork Sample Repository</h2><p>이제 node 서버를 수정할 수 있게 나의 Github로 옮기는 작업이 필요하다.<br><a href="https://github.com/openshift/nodejs-ex.git" target="_blank" rel="external nofollow noopener noreferrer">Sample Repo</a>에 접속해 프로젝트를 Fork한다.</p><img data-src="https://i.imgur.com/xuOtprG.png"><h2 id="change-source-repository"><a class="markdownIt-Anchor" href="#change-source-repository"></a> Change Source Repository</h2><p>Builds &gt; Builds 메뉴로 들어가 내 application을 선택한 뒤 우측 Actions에서 <strong>Edit</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/uO5GtKC.png"><p>Source Repository URL에 위에서 Fork한 Git Repository를 등록한다.</p><img data-src="https://i.imgur.com/CMz9N1X.png"><p>그리고 우측 GitHub Webhooks URL을 복사한 뒤 저장한다.</p><h2 id="webhooks-url-등록"><a class="markdownIt-Anchor" href="#webhooks-url-등록"></a> Webhooks URL 등록</h2><p>fork된 내 Repository로 와서 Settings &gt; Webhooks 메뉴로 들어가 <strong>Add webhook</strong> 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/rcgSVCg.png"><h2 id="rebuild"><a class="markdownIt-Anchor" href="#rebuild"></a> Rebuild</h2><p>Builds &gt; Builds 메뉴로 돌아가 <strong>Start Build</strong> 버튼을 클릭한다.</p><p>빌드가 완료되면 버전이 #2로 보이고, 내 Git Repo와 연결된 버전이 생성된다.</p><h2 id="확인"><a class="markdownIt-Anchor" href="#확인"></a> 확인</h2><p>Overview 메뉴에서 내 링크를 클릭해보자</p><img data-src="https://i.imgur.com/X8qZv0v.png"><p>이 화면이 보인다면 성공이다.</p><img data-src="https://i.imgur.com/XiFBTd4.png"><h1 id="소스-수정"><a class="markdownIt-Anchor" href="#소스-수정"></a> 소스 수정</h1><p>Git Repository를 Clone한 뒤 기존 Github 이용하듯 수정하면 된다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> &lt;git_url&gt; &lt;directory_to_create&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Within your project directory</span></span><br><span class="line"><span class="comment"># Commit your changes and push to OpenShift</span></span><br><span class="line">$ git commit -a -m <span class="string">'Some commit message'</span></span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>잘가 Google Cloud Platform!</p>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> openshift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cloud </tag>
            
            <tag> openshift </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 원격 저장소 생성 및 SSH 인증 - Github 포함</title>
      <link href="/2017/01/03/Git-%EC%9B%90%EA%B2%A9-%EC%A0%80%EC%9E%A5%EC%86%8C-%EC%83%9D%EC%84%B1-%EB%B0%8F-SSH-%EC%9D%B8%EC%A6%9D-Github-%ED%8F%AC%ED%95%A8/"/>
      <url>/2017/01/03/Git-%EC%9B%90%EA%B2%A9-%EC%A0%80%EC%9E%A5%EC%86%8C-%EC%83%9D%EC%84%B1-%EB%B0%8F-SSH-%EC%9D%B8%EC%A6%9D-Github-%ED%8F%AC%ED%95%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="git-원격-저장소-생성"><a class="markdownIt-Anchor" href="#git-원격-저장소-생성"></a> Git 원격 저장소 생성</h1><blockquote><p><strong>서버</strong>에서 실행</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 서버에 로그인 후 원하는 위치에서 폴더를 만든다.</span></span><br><span class="line">$ mkdir [이름].git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 해당 폴더로 이동한다.</span></span><br><span class="line">$ <span class="built_in">cd</span> [이름].git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Git 원격 저장소를 초기화한다.</span></span><br><span class="line">$ git init --bare</span><br></pre></td></tr></table></figure><h1 id="ssh-생성"><a class="markdownIt-Anchor" href="#ssh-생성"></a> SSH 생성</h1><blockquote><p><strong>클라이언트</strong>에서 실행</p></blockquote><h2 id="email-인증-방식"><a class="markdownIt-Anchor" href="#email-인증-방식"></a> Email 인증 방식</h2><p>Github 인증을 하려면 이 방식을 이용해야한다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 키 발급</span></span><br><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your@email.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 클라이언트에 이메일 키 추가</span></span><br><span class="line">$ <span class="built_in">eval</span> <span class="string">"<span class="variable">$(ssh-agent -s)</span>"</span></span><br><span class="line">$ ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><h2 id="사용자-인증-방식"><a class="markdownIt-Anchor" href="#사용자-인증-방식"></a> 사용자 인증 방식</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 키 발급</span></span><br><span class="line">$ ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><h1 id="ssh-폴더로-이동해-인증키-복사"><a class="markdownIt-Anchor" href="#ssh-폴더로-이동해-인증키-복사"></a> SSH 폴더로 이동해 인증키 복사</h1><blockquote><p><strong>클라이언트</strong>에서 실행</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/.ssh</span><br><span class="line">$ vi id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment"># id_rsa.pub의 내용을 복사한다.</span></span><br></pre></td></tr></table></figure><h1 id="인증키-등록"><a class="markdownIt-Anchor" href="#인증키-등록"></a> 인증키 등록</h1><h2 id="일반-서버"><a class="markdownIt-Anchor" href="#일반-서버"></a> 일반 서버</h2><blockquote><p><strong>서버</strong>에서 실행</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ssh 폴더로 이동</span></span><br><span class="line">$ <span class="built_in">cd</span> ~/.ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 인증키 파일을 연다.</span></span><br><span class="line">$ vi authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># id_rsa.pub에서 복사된 인증키를 하단에 추가한다.</span></span><br></pre></td></tr></table></figure><h2 id="github"><a class="markdownIt-Anchor" href="#github"></a> Github</h2><blockquote><p><strong>Github</strong>에서 실행</p></blockquote><p><a href="#Email-%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D">이메일 인증 방식</a>으로 인증키를 생성해야하고 이메일은 github 에 로그인하는 이메일과 같아야한다.</p><h3 id="키-등록"><a class="markdownIt-Anchor" href="#키-등록"></a> 키 등록</h3><p>github 에 로그인 후 설정에 가서 복사한 키를 등록한다.</p><img data-src="https://i.imgur.com/dHzioqG.png"><h3 id="인증여부-확인"><a class="markdownIt-Anchor" href="#인증여부-확인"></a> 인증여부 확인</h3><blockquote><p><strong>클라이언트</strong>에서 실행</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 등록 후 에 클라이언트에서 인증여부를 확인한다.</span></span><br><span class="line">$ ssh -T git@github.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># You've successfully authenticated 가 보이면 인증완료</span></span><br></pre></td></tr></table></figure><h1 id="git-repositiory-초기화"><a class="markdownIt-Anchor" href="#git-repositiory-초기화"></a> Git Repositiory 초기화</h1><blockquote><p><strong>클라이언트</strong>에서 실행</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> 서버유저명@서버아이피:[이름].git</span><br><span class="line"><span class="comment"># ex ) git clone git@1.22.333.444:test.git</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> ssh </tag>
            
            <tag> bash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo image tag의 alt 속성 사용</title>
      <link href="/2017/01/03/hexo-image-tag%EC%9D%98-alt-%EC%86%8D%EC%84%B1-%EC%82%AC%EC%9A%A9/"/>
      <url>/2017/01/03/hexo-image-tag%EC%9D%98-alt-%EC%86%8D%EC%84%B1-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<p><a href="https://hexo.io/ko/docs/tag-plugins.html#Image" target="_blank" rel="external nofollow noopener noreferrer">공식 문서</a>에 따르면 image tag 의 사용법은 이렇다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% img [class names] /path/to/image [width] [height] [title text [alt text]] %&#125;</span><br></pre></td></tr></table></figure><p>대괄호로 둘러 쌓인 부분은 생략이 가능하다.</p><h1 id="문제점"><a class="markdownIt-Anchor" href="#문제점"></a> 문제점</h1><h2 id="input"><a class="markdownIt-Anchor" href="#input"></a> Input</h2><p>test.png 에 test_title, test_alt 속성을 추가하고 싶은 경우 아래처럼 사용하면 되어야한다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% img /test.png test_title test_alt %&#125;</span><br></pre></td></tr></table></figure><h2 id="output"><a class="markdownIt-Anchor" href="#output"></a> Output</h2><p>하지만 결과는 참담하다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/test.png"</span> <span class="attr">title</span>=<span class="string">"test_title test_alt"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="input-2"><a class="markdownIt-Anchor" href="#input-2"></a> Input</h2><p>속성을 quotes 와 double quotes 로 두번 감싸줘야한다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% img /test.png "'test_title'" "'test_alt'" %&#125;</span><br></pre></td></tr></table></figure><h2 id="output-2"><a class="markdownIt-Anchor" href="#output-2"></a> Output</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/test.png"</span> <span class="attr">title</span>=<span class="string">"test_title"</span> <span class="attr">alt</span>=<span class="string">"test_alt"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>공식 문서에 설명이 업데이트되면 좋겠다. 이미지에 캡션다는 법을 찾다가 결국 내 블로그에는 안 달기로 마음먹었다.</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web Server for Chrome - 가장 빨리 웹서버 구동하기</title>
      <link href="/2017/01/03/Web-Server-for-Chrome-%EA%B0%80%EC%9E%A5-%EB%B9%A8%EB%A6%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EA%B5%AC%EB%8F%99%ED%95%98%EA%B8%B0/"/>
      <url>/2017/01/03/Web-Server-for-Chrome-%EA%B0%80%EC%9E%A5-%EB%B9%A8%EB%A6%AC-%EC%9B%B9%EC%84%9C%EB%B2%84-%EA%B5%AC%EB%8F%99%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>github의 예제 프로젝트나 라이브러리를 받을 때, 데모를 실행시키고 싶을 때가 있다.<br>그럴려면 node나 apache, nginx, iis 등의 웹서버에서 해당 폴더를 설정하고, hosts파일에서 열어줘야하는 번거로움이 있다.</p><p>Web Server for Chrome을 사용하면 몇 초 안으로 데모를 띄울 수 있다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><img data-src="https://i.imgur.com/kicCaPZ.png"><ol><li><a href="https://www.google.co.kr/chrome/browser/desktop/" target="_blank" rel="external nofollow noopener noreferrer">크롬</a> 설치 후 <a href="https://chrome.google.com/webstore/category/extensions" target="_blank" rel="external nofollow noopener noreferrer">웹스토어</a> 접속</li><li>검색란에서 <a href="https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb" target="_blank" rel="external nofollow noopener noreferrer">Web Server for Chrome</a> 검색</li><li>설치</li></ol><h1 id="사용법"><a class="markdownIt-Anchor" href="#사용법"></a> 사용법</h1><h2 id="web-server-실행"><a class="markdownIt-Anchor" href="#web-server-실행"></a> Web Server 실행</h2><img data-src="https://i.imgur.com/NEJhjLE.png"><p><code>chrome://apps/</code>에 접속 후 Web Server 아이콘을 클릭한다.</p><h2 id="설정-및-구동"><a class="markdownIt-Anchor" href="#설정-및-구동"></a> 설정 및 구동</h2><img data-src="https://i.imgur.com/ncN1klT.png"><p><strong>Automatically show index.html 설정</strong>을 체크한 후 <strong>CHOOSE FOLDER</strong>로 웹서버를 돌릴 폴더를 선택해주자.<br>그리고 <strong>127.0.0.1:8887</strong> (또는 localhost:8887)로 접속하면 끝!</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>Html과 Javascript로 나만의 UI를 만들고 빠르게 확인하는데 좋을 것 같다.<br>Service Worker 같은 Https가 필요한 기술도 실행이 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> util </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Detecting AdBlock</title>
      <link href="/2016/12/29/Detecting-AdBlock/"/>
      <url>/2016/12/29/Detecting-AdBlock/</url>
      
        <content type="html"><![CDATA[<p>Google Analytics, Facebook Pixel, Naver Analytics 등의 분석 스크립트 및 Google Adsence 를 차단하는 AdBlock 을 감지해보자</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@author </span>https://www.christianheilmann.com/2015/12/25/detecting-adblock-without-an-extra-http-overhead/</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">adBlockEnabled</span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span></span><br><span class="line">  <span class="keyword">var</span> testAd = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>)</span><br><span class="line">  testAd.innerHTML = <span class="string">"&amp;nbsp;"</span></span><br><span class="line">  testAd.className = <span class="string">"adsbox"</span></span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(testAd)</span><br><span class="line"></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (testAd.offsetHeight === <span class="number">0</span>) &#123;</span><br><span class="line">      adBlockEnabled = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    testAd.remove()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (adBlockEnabled) &#123;</span><br><span class="line">      alert(</span><br><span class="line">        <span class="string">"This Blog is made possible by displaying online advertisements\nPlease consider by disabling your ad blocker"</span></span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;)((<span class="built_in">window</span>.adBlockEnabled = <span class="built_in">window</span>.adBlockEnabled || <span class="literal">false</span>))</span><br></pre></td></tr></table></figure><p>출처의 소스를 즉시실행함수로 변경하고, 문구를 추가했다.</p><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>AdBlock 에 의해 차단되는 영역인 .adsbox div 의 생성유무를 확인해 AdBlock 의 adBlockEnabled 변수의 값을 정한다.</p><p>uBlock 도 잘 찾아낸다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> etc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Change Class</title>
      <link href="/2016/12/28/jQuery-Change-Class/"/>
      <url>/2016/12/28/jQuery-Change-Class/</url>
      
        <content type="html"><![CDATA[<p>Toggle Event 사용시 AAA 로 명명된 클래스를 BBB 로 바꾸고 싶을 때가 있다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"#id"</span>).removeClass(<span class="string">"AAA"</span>).addClass(<span class="string">"BBB"</span>)</span><br></pre></td></tr></table></figure><p>보통 이런 방식으로 사용하는데, alterClass 함수를 곁들이면 더 나이스하게 바꿀 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@author </span>https://gist.github.com/peteboere/1517285</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$.fn.alterClass = <span class="function"><span class="keyword">function</span>(<span class="params">removals, additions</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (removals.indexOf(<span class="string">"*"</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="comment">// Use native jQuery methods if there is no wildcard matching</span></span><br><span class="line">    self.removeClass(removals)</span><br><span class="line">    <span class="keyword">return</span> !additions ? self : self.addClass(additions)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> patt = <span class="keyword">new</span> <span class="built_in">RegExp</span>(</span><br><span class="line">    <span class="string">"\\s"</span> +</span><br><span class="line">      removals</span><br><span class="line">        .replace(<span class="regexp">/\*/g</span>, <span class="string">"[A-Za-z0-9-_]+"</span>)</span><br><span class="line">        .split(<span class="string">" "</span>)</span><br><span class="line">        .join(<span class="string">"\\s|\\s"</span>) +</span><br><span class="line">      <span class="string">"\\s"</span>,</span><br><span class="line">    <span class="string">"g"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  self.each(<span class="function"><span class="keyword">function</span>(<span class="params">i, it</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cn = <span class="string">" "</span> + it.className + <span class="string">" "</span></span><br><span class="line">    <span class="keyword">while</span> (patt.test(cn)) &#123;</span><br><span class="line">      cn = cn.replace(patt, <span class="string">" "</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    it.className = $.trim(cn)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> !additions ? self : self.addClass(additions)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AAA to BBB</span></span><br><span class="line">$(<span class="string">"#id"</span>).alterClass(<span class="string">"AAA"</span>, <span class="string">"BBB"</span>)</span><br><span class="line"><span class="comment">// AAA-12, BBB-13 to AAABBB</span></span><br><span class="line">$(<span class="string">"#id"</span>).alterClass(<span class="string">"AAA-* BBB-*"</span>, <span class="string">"AAABBB"</span>)</span><br></pre></td></tr></table></figure><p>**asterisk(*)**를 이용해 여러 개의 클래스를 한꺼번에 원하는 클래스로 변경할 수 있다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>jQuery UI 를 사용 중이라면, <a href="https://api.jqueryui.com/switchclass/" target="_blank" rel="external nofollow noopener noreferrer">.switchClass</a>를 사용하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery serializeObject - form을 json으로 변환</title>
      <link href="/2016/12/28/jQuery-serializeObject-form%EC%9D%84-json%EC%9C%BC%EB%A1%9C-%EB%B3%80%ED%99%98/"/>
      <url>/2016/12/28/jQuery-serializeObject-form%EC%9D%84-json%EC%9C%BC%EB%A1%9C-%EB%B3%80%ED%99%98/</url>
      
        <content type="html"><![CDATA[<p>비동기 submit 을 진행시에 form 값을 확인해보고 json object 로 받아 한 번에 request 를 날리고 싶을 때 유용하다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">@author https://github.com/macek/jquery-serialize-object</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$.fn.serializeObject = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span></span><br><span class="line">  <span class="keyword">var</span> result = &#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> extend = <span class="function"><span class="keyword">function</span>(<span class="params">i, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> node = result[element.name]</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"undefined"</span> !== <span class="keyword">typeof</span> node &amp;&amp; node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> ($.isArray(node)) &#123;</span><br><span class="line">        node.push(element.value)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result[element.name] = [node, element.value]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result[element.name] = element.value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $.each(<span class="keyword">this</span>.serializeArray(), extend)</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formData = $(<span class="string">"#form"</span>).serializeObject()</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>checkbox 같은 경우 여러 개 선택시 하나의 key 에 배열로 반환된다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"arr"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">checked</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"arr"</span> <span class="attr">value</span>=<span class="string">"2"</span> <span class="attr">checked</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> formData = $(<span class="string">'form'</span>).serializeObject();</span></span><br><span class="line"><span class="actionscript"><span class="comment">// =&gt; formData = &#123; arr : [1,2] &#125;;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>사실 이 기능이 제일 매력적이다.</p><p>현재 <a href="https://github.com/macek/jquery-serialize-object" target="_blank" rel="external nofollow noopener noreferrer">serializeObject library</a>는 더 높은 버전이 있다.<br>최신 버전에선 form 의 name 속성에 object 를 직접 관리할 수 있다.<br>최신 버전을 써도 괜찮고, 가볍게 추가해서 쓰고 싶으면 위 버전을 이용하자.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Enter Event</title>
      <link href="/2016/12/28/jQuery-Enter-Event/"/>
      <url>/2016/12/28/jQuery-Enter-Event/</url>
      
        <content type="html"><![CDATA[<p>로그인 폼을 만들 때 tab 과 enter 를 이용해 로그인 할 수 있게 해줘야한다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"#id"</span>).keypress(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.which === <span class="number">13</span>) &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>로그인 폼을 매번 만들지 않기 때문에, e.which 는 매번 헷갈린다…</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git add 안 되는 경우 확인해야될 것</title>
      <link href="/2016/12/27/git-add-%EC%95%88-%EB%90%98%EB%8A%94-%EA%B2%BD%EC%9A%B0-%ED%99%95%EC%9D%B8%ED%95%B4%EC%95%BC%EB%90%A0-%EA%B2%83/"/>
      <url>/2016/12/27/git-add-%EC%95%88-%EB%90%98%EB%8A%94-%EA%B2%BD%EC%9A%B0-%ED%99%95%EC%9D%B8%ED%95%B4%EC%95%BC%EB%90%A0-%EA%B2%83/</url>
      
        <content type="html"><![CDATA[<p>git add . 명령어 실행 후에 commit -m 명령어 실행 시,<br>또는 git commit -am 명령어로 바로 커밋시 add 가 되지 않은 것처럼 빨간 파일이 보일 경우</p><h1 id="add-확인"><a class="markdownIt-Anchor" href="#add-확인"></a> add 확인</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git add path_to_submodule</span><br></pre></td></tr></table></figure><p>두 명령어를 다시 실행해본다.</p><h1 id="diff-확인"><a class="markdownIt-Anchor" href="#diff-확인"></a> diff 확인</h1><p>그래도 add 가 안 되는 경우 diff 를 먼저 실행해본다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br><span class="line">$ git diff path_to_submodule</span><br></pre></td></tr></table></figure><h2 id="dirty-diff-가-있을-경우"><a class="markdownIt-Anchor" href="#dirty-diff-가-있을-경우"></a> dirty diff 가 있을 경우</h2><h3 id="submodule-종속-제거"><a class="markdownIt-Anchor" href="#submodule-종속-제거"></a> submodule 종속 제거</h3><p>내 프로젝트 안에 git clone 으로 가져온 library 가 있는지 확인해보자.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule foreach --recursive git checkout .</span><br></pre></td></tr></table></figure><p><strong>모듈이 없다는 결과가 나올 경우</strong></p><ul><li>git 에서 가져온 library 를 모두 확인하고</li><li><strong>.git 폴더가 생성되어있으면 삭제</strong></li></ul><p><strong>모듈 결과가 있는 경우</strong></p><ul><li>.gitmodule 파일의 해당 모듈 부분 삭제</li><li>git add .gitmodules</li><li>.git/config 파일의 해당 모듈 부분 삭제</li><li>git rm --cached path_to_submodule 캐시 삭제</li><li>rm -rf .git/modules/path_to_submodule 모듈 폴더 삭제</li><li>git commit -m “Removed submodule {name}” 모듈 종속 삭제를 커밋하고</li><li>rm -rf path_to_submodule 모듈 파일 모두 삭제</li></ul><h2 id="없는-경우"><a class="markdownIt-Anchor" href="#없는-경우"></a> 없는 경우</h2><h3 id="cached-파일-제거"><a class="markdownIt-Anchor" href="#cached-파일-제거"></a> cached 파일 제거</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git rm -r --cached .</span><br><span class="line">$ git rm -r --cached path_to_submodule</span><br></pre></td></tr></table></figure><h3 id="untracked-파일-제거"><a class="markdownIt-Anchor" href="#untracked-파일-제거"></a> untracked 파일 제거</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clean -d -x -f</span><br></pre></td></tr></table></figure><p>-d 는 디렉토리 포함, -x 는 ignored 파일 포함, -f === force</p><h3 id="commit-으로-초기화"><a class="markdownIt-Anchor" href="#commit-으로-초기화"></a> commit 으로 초기화</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard</span><br></pre></td></tr></table></figure><p>이 명령어는 마지막 방법이 되어야한다. 작업량을 다 날릴 수 있다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>git 버전이 높아지면서 프로젝트 내에 git 에 종속적인 모듈이 있으면 add 자체가 안 된다.<br>path_to_submodule 은 submodule 의 상대경로, 즉 add 가 안 되는 파일의 경로를 적으면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Opener Document 제어</title>
      <link href="/2016/12/27/jQuery-Opener-Document-%EC%A0%9C%EC%96%B4/"/>
      <url>/2016/12/27/jQuery-Opener-Document-%EC%A0%9C%EC%96%B4/</url>
      
        <content type="html"><![CDATA[<h1 id="pure-javascript"><a class="markdownIt-Anchor" href="#pure-javascript"></a> pure javascript</h1><p>부모창을 제어하는 구문은 아래처럼 사용한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.parent.getElementById(<span class="string">'id'</span>)...</span><br><span class="line"><span class="built_in">window</span>.opener.document.getElementById(<span class="string">'id'</span>)...</span><br></pre></td></tr></table></figure><h1 id="jquery"><a class="markdownIt-Anchor" href="#jquery"></a> jQuery</h1><p>jQuery를 사용하고 있다면 생각보다 쉽게 요소 선택을 할 수 있다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $id = $(<span class="string">"#id"</span>, opener.document) <span class="comment">// parent.document도 가능</span></span><br><span class="line">$id.val(<span class="string">"value"</span>)</span><br></pre></td></tr></table></figure><p>2열처럼 바로 값 변경도 가능하다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>form.reset()의 input hidden 초기화 문제</title>
      <link href="/2016/12/26/form-reset-%EC%9D%98-input-hidden-%EC%B4%88%EA%B8%B0%ED%99%94-%EB%AC%B8%EC%A0%9C/"/>
      <url>/2016/12/26/form-reset-%EC%9D%98-input-hidden-%EC%B4%88%EA%B8%B0%ED%99%94-%EB%AC%B8%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<p>Javascript 의 form 의 reset() 메소드는 hidden field 와 check, radio button 에 대해 초기화를 시켜주지 않는다.</p><p>따라서 form 의 모든 field 를 초기화 시키려면 아래의 메소드가 필요하다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$.fn.clearForm = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> type = <span class="keyword">this</span>.type,</span><br><span class="line">      tag = <span class="keyword">this</span>.tagName.toLowerCase()</span><br><span class="line">    <span class="keyword">if</span> (tag === <span class="string">"form"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> $(<span class="string">":input"</span>, <span class="keyword">this</span>).clearForm()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      type === <span class="string">"text"</span> ||</span><br><span class="line">      type === <span class="string">"password"</span> ||</span><br><span class="line">      type === <span class="string">"hidden"</span> ||</span><br><span class="line">      tag === <span class="string">"textarea"</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">this</span>.value = <span class="string">""</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">"checkbox"</span> || type === <span class="string">"radio"</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.checked = <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tag === <span class="string">"select"</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.selectedIndex = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"#form"</span>).clearForm()</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p><a href="https://www.sitepoint.com/jquery-function-clear-form-data/" target="_blank" rel="external nofollow noopener noreferrer">여기</a>의 clearForm 메소드를 hidden 도 초기화할 수 있게 커스터마이징 했다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> etc </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery3의 큰 변경점</title>
      <link href="/2016/12/26/jQuery3%EC%9D%98-%ED%81%B0-%EB%B3%80%EA%B2%BD%EC%A0%90/"/>
      <url>/2016/12/26/jQuery3%EC%9D%98-%ED%81%B0-%EB%B3%80%EA%B2%BD%EC%A0%90/</url>
      
        <content type="html"><![CDATA[<p>jQuery3이 기존 버전에서 어떻게 달라졌는지 알아보자.</p><h1 id="load-unload-error-삭제"><a class="markdownIt-Anchor" href="#load-unload-error-삭제"></a> load(), unload(), error() 삭제</h1><p>이 함수들은 이제 ajax 기능으로만 사용할 수 있다.<br>다음처럼 url 을 로드하는 데에만 사용할 수 있다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 가능</span></span><br><span class="line">$(div).load(url);</span><br></pre></td></tr></table></figure><p>기존에 사용하던 엘레먼트 로드 시 callback 함수를 받는 구문은 더이상 사용할 수 없지만 <code>on('load')</code> 로 충돌을 피할 수 있다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 불가능</span></span><br><span class="line">$(img).load(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'이미지 로드 완료'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 사용 가능</span></span><br><span class="line">$(img).on(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'이미지 로드 완료'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="document-on-ready-삭제"><a class="markdownIt-Anchor" href="#document-on-ready-삭제"></a> document on Ready 삭제</h1><p>document 로드시에 호출되는 함수들을 정의하기 위한 위의 형태는 더 이상 사용할 수 없다.<br><code>$(document).ready(function(){ });</code> 으로 변경해도 되나</p><p>=&gt; <code>$(function(){ });</code> <strong>로 사용하자, 권장하는 방법이다.</strong></p><h1 id="deferred의-promise-스펙"><a class="markdownIt-Anchor" href="#deferred의-promise-스펙"></a> deferred의 Promise 스펙</h1><p>Promise/A+ 스펙을 지키지 않은 2버전까지는 오류가 있었다고 하는데, then, when 등의 메소드를 사용 중엔 별다른 문제가 없어서<br>체감상 크게 느껴지지 않았다.</p><p>=&gt; <strong>then().then().then().then().catch() 와 같은 구문이 가능하다.</strong></p><h1 id="bind-unbind-delegate-undelegate-삭제"><a class="markdownIt-Anchor" href="#bind-unbind-delegate-undelegate-삭제"></a> bind(), unbind(), delegate() undelegate() 삭제</h1><p>위 구문 사용시 console.warning이 떴기에 바꿔왔더라면 큰 문제는 없다.</p><p>=&gt; <strong>on(), off() 로 대체하면 된다.</strong></p><h1 id="andself-삭제"><a class="markdownIt-Anchor" href="#andself-삭제"></a> andSelf() 삭제</h1><p>이 메소드가 삭제되어 sementic UI 사용시 오류가 발생한다.</p><p>=&gt; <strong>addBack() 으로 대체하면 된다.</strong></p><h1 id="param-이-20-을-기호로-바꾸지-않음"><a class="markdownIt-Anchor" href="#param-이-20-을-기호로-바꾸지-않음"></a> param() 이 %20 을 + 기호로 바꾸지 않음</h1><p><code>$.ajax</code>로 return 받을 때 가끔씩 빈칸이 더하기로 반환되는 문제가 드디어 해결되었다.</p><h1 id="eventprops-eventfixhooks-삭제"><a class="markdownIt-Anchor" href="#eventprops-eventfixhooks-삭제"></a> event.props, event.fixHooks 삭제</h1><p>jquery.onoff 라이브러리 사용시 오류가 난다.</p><p>=&gt; <strong>fixHooks는 fix로 대체 가능하고, props는 빈 배열로 초기화시키면 된다.</strong></p><h1 id="data-attribute-정의시-kebab-case를-사용가능"><a class="markdownIt-Anchor" href="#data-attribute-정의시-kebab-case를-사용가능"></a> data attribute 정의시 kebab-case를 사용가능</h1><p>이 부분은 jQuery 문서의 예제를 참조했다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $div = $(<span class="string">"&lt;div /&gt;"</span>);</span><br><span class="line">$div.data(<span class="string">"clickCount"</span>, <span class="number">2</span>);</span><br><span class="line">$div.data(<span class="string">"clickCount"</span>); <span class="comment">// 2</span></span><br><span class="line">$div.data(<span class="string">"click-count"</span>, <span class="number">3</span>);</span><br><span class="line">$div.data(<span class="string">"clickCount"</span>); <span class="comment">// 3</span></span><br><span class="line">$div.data(<span class="string">"click-count"</span>); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> allData = $div.data();</span><br><span class="line">allData.clickCount; <span class="comment">// 3</span></span><br><span class="line">allData[<span class="string">"click-count"</span>]; <span class="comment">// undefined</span></span><br><span class="line">allData[<span class="string">"click-count"</span>] = <span class="number">14</span>;</span><br><span class="line">$div.data(<span class="string">"click-count"</span>); <span class="comment">// 3, NOT 14 as it would be in jQuery 2.x</span></span><br><span class="line">allData.clickCount; <span class="comment">// 3</span></span><br><span class="line">allData[<span class="string">"click-count"</span>]; <span class="comment">// 14</span></span><br></pre></td></tr></table></figure><p>하지만 헷갈리니 camelCase 로.</p><p>기타 변경점은 <a href="https://jquery.com/upgrade-guide/3.0/#data" target="_blank" rel="external nofollow noopener noreferrer">링크</a> 참조</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>유튜브 국가 차단 우회법</title>
      <link href="/2016/12/26/%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EA%B5%AD%EA%B0%80-%EC%B0%A8%EB%8B%A8-%EC%9A%B0%ED%9A%8C%EB%B2%95/"/>
      <url>/2016/12/26/%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EA%B5%AD%EA%B0%80-%EC%B0%A8%EB%8B%A8-%EC%9A%B0%ED%9A%8C%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<h1 id="크롬-설치"><a class="markdownIt-Anchor" href="#크롬-설치"></a> 크롬 설치</h1><p><a href="https://www.google.co.kr/chrome/browser/desktop/" target="_blank" rel="external nofollow noopener noreferrer">Chrome</a>을 설치한다.</p><h1 id="웹스토어-이동"><a class="markdownIt-Anchor" href="#웹스토어-이동"></a> 웹스토어 이동</h1><p>Chrome 브라우저를 켜서 <a href="https://chrome.google.com/webstore/category/extensions?utm_source=chrome-ntp-icon" target="_blank" rel="external nofollow noopener noreferrer">웹스토어</a>로 접속한다.</p><h1 id="browsec-설치"><a class="markdownIt-Anchor" href="#browsec-설치"></a> Browsec 설치</h1><p>검색 후 설치하기 버튼을 클릭한다.</p><img data-src="https://i.imgur.com/ujBdYQ0.png"><h1 id="browsec-활성화"><a class="markdownIt-Anchor" href="#browsec-활성화"></a> Browsec 활성화</h1><p>주소표시줄 우측의 방패모양 아이콘을 클릭해 기능을 켠다.</p><img data-src="https://i.imgur.com/KWzlOuV.png"><h1 id="감상"><a class="markdownIt-Anchor" href="#감상"></a> 감상</h1><p>새로고침(F5 키)을 한 후 감상한다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>페이지 로딩시에만 국가 체크가 들어가므로 재생을 한 후 속도가 느리다면, Browsec을 꺼주면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> util </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> youtube </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lodash 활용법</title>
      <link href="/2016/12/25/Lodash-%ED%99%9C%EC%9A%A9%EB%B2%95/"/>
      <url>/2016/12/25/Lodash-%ED%99%9C%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>Lodash는 underscore에서 성능을 개선한 라이브러리며<br>IE의 하위 브라우저에서 es5, es6의 메소드를 사용할 수 있게 해줄 뿐만 아니라 통계 사용시에는 필수로 사용할 수 밖에 없다.<br>공식 문서를 봐도 되지만 구체적인 예시가 있어야 이해하기가 편하다 시작해보자.</p><h1 id="collection"><a class="markdownIt-Anchor" href="#collection"></a> Collection</h1><p>배열과 객체 모두 사용가능한 메소드</p><h2 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> filter</h2><p><strong>_.filter</strong>( 콜렉션, 검색할 데이터 또는 콜백함수 )<br>콜렉션에서 해당 데이터 또는 콜백 조건에 맞는 데이터를 포함한 콜렉션을 반환한다.<br>리스트 검색 조건에 유용하다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"barney"</span>, <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">age</span>: <span class="number">40</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">_.filter(users, o =&gt; !o.active)</span><br><span class="line"><span class="comment">// =&gt; [ &#123; 'user': 'fred',   'age': 40, 'active': false &#125; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// _.matches 메소드가 생략된 형태</span></span><br><span class="line">_.filter(users, &#123; <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;)</span><br><span class="line"><span class="comment">// === _.filter(users, _.matches(&#123; 'age': 36, 'active': true &#125;))</span></span><br><span class="line"><span class="comment">// =&gt; [ &#123; 'user': 'barney', 'age': 36, 'active': true &#125; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// _.matchesProperty 메소드가 생략된 형태</span></span><br><span class="line">_.filter(users, [<span class="string">"active"</span>, <span class="literal">false</span>])</span><br><span class="line"><span class="comment">// =&gt; [ &#123; 'user': 'fred',   'age': 40, 'active': false &#125; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// _.property 메소드가 생략된 형태</span></span><br><span class="line">_.filter(users, <span class="string">"active"</span>)</span><br><span class="line"><span class="comment">// =&gt; [ &#123; 'user': 'barney', 'age': 36, 'active': true &#125; ]</span></span><br></pre></td></tr></table></figure><h2 id="reject"><a class="markdownIt-Anchor" href="#reject"></a> reject</h2><p><strong>_.reject</strong>( 콜렉션, 제외시킬 데이터 또는 콜백함수 )<br>콜렉션에서 해당 데이터 또는 콜백 조건에 맞는 데이터를 제외한 콜렉션을 반환한다.<br>Delete API를 호출 한 뒤 삭제된 결과값을 제외해서 리스트를 갱신하고 싶을 때 유용하다.</p><p>AngularJS와의 예시를 보자</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$scope.remove = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  ApiService.delete(</span><br><span class="line">    &#123;</span><br><span class="line">      id: data.id</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 삭제 성공시 해당 데이터를 제외한 리스트로 변경</span></span><br><span class="line">      $scope.list = _.reject($scope.list, data)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="size"><a class="markdownIt-Anchor" href="#size"></a> size</h2><p><strong>_.size</strong>( 콜렉션 )<br>콜렉션의 사이즈를 반환한다. length와 같다고 생각하면 된다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">_.size([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// =&gt; 3</span></span><br><span class="line"></span><br><span class="line">_.size(&#123; <span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span> &#125;)</span><br><span class="line"><span class="comment">// =&gt; 2</span></span><br><span class="line"></span><br><span class="line">_.size(<span class="string">'apple'</span></span><br><span class="line"><span class="comment">// =&gt; 5</span></span><br></pre></td></tr></table></figure><h2 id="samplesize"><a class="markdownIt-Anchor" href="#samplesize"></a> sampleSize</h2><p><strong>_.sampleSize</strong>( 콜렉션, [추출 갯수=1])<br>콜렉션에서 추출 갯수만큼 랜덤 값을 배열로 반환한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.sampleSize(_.range(<span class="number">1</span>, <span class="number">45</span>), <span class="number">7</span>)</span><br><span class="line"><span class="comment">// =&gt; 로또 번호 추출</span></span><br></pre></td></tr></table></figure><h1 id="array"><a class="markdownIt-Anchor" href="#array"></a> Array</h1><p>배열에 사용 가능한 메소드</p><h2 id="compact"><a class="markdownIt-Anchor" href="#compact"></a> compact</h2><p><strong>_.compact</strong>( 배열 )<br>배열에서 false, null, 0, “”(빈값), undefined, NaN의 값을 제외시킨 배열을 반환한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.compact([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">""</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// =&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h2 id="take"><a class="markdownIt-Anchor" href="#take"></a> take</h2><p><strong>_.take</strong>( 배열, [가져올 요소 수=1])<br>배열에서 앞에서부터 n개의 요소를 반환한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.take([<span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">9</span>], <span class="number">3</span>)</span><br><span class="line"><span class="comment">// =&gt; [3, 5, 4]</span></span><br></pre></td></tr></table></figure><h2 id="uniq"><a class="markdownIt-Anchor" href="#uniq"></a> uniq</h2><p><strong>_.uniq</strong>( 배열 )<br>배열의 중복 값을 제거한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.uniq([<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// =&gt; [1, 3]</span></span><br></pre></td></tr></table></figure><h2 id="zip"><a class="markdownIt-Anchor" href="#zip"></a> zip</h2><p><strong>_.zip</strong>( 배열, 배열… )<br>배열의 인덱스에 따라 배열을 다시 만든다.<br>예제를 보는게 이해가 빠르다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.zip([<span class="string">"a"</span>, <span class="string">"b"</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="literal">true</span>, <span class="literal">false</span>])</span><br><span class="line"><span class="comment">// =&gt; [['a', 1, true], ['b', 2, false]]</span></span><br></pre></td></tr></table></figure><h1 id="object"><a class="markdownIt-Anchor" href="#object"></a> Object</h1><p>객체에 사용 가능한 메소드</p><h2 id="get"><a class="markdownIt-Anchor" href="#get"></a> get</h2><p><strong>_.get</strong>( 객체, 가져올 키, 기본값 )<br>객체에서 해당 키 값만을 가져온다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span>, <span class="attr">e</span>: &#123; <span class="attr">f</span>: <span class="number">5</span> &#125; &#125;</span><br><span class="line"></span><br><span class="line">_.get(object, <span class="string">"a"</span>)</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line">_.get(object, <span class="string">"d"</span>)</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">_.get(object, <span class="string">"d"</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">_.get(object, <span class="string">"e.f"</span>)</span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure><h2 id="omit"><a class="markdownIt-Anchor" href="#omit"></a> omit</h2><p><strong>_.omit</strong>( 객체, 제외할 키 배열 )<br>객체에서 해당 키를 제외한 객체를 반환한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="string">"2"</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;</span><br><span class="line"></span><br><span class="line">_.omit(object, [<span class="string">"a"</span>, <span class="string">"c"</span>])</span><br><span class="line"><span class="comment">// =&gt; &#123; 'b': '2' &#125;</span></span><br><span class="line"></span><br><span class="line">_.omit(object, <span class="string">"a"</span>)</span><br><span class="line"><span class="comment">// =&gt; &#123; 'b': '2', 'c': 3 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="values"><a class="markdownIt-Anchor" href="#values"></a> values</h2><p><strong>_.values</strong>( 객체 )<br>객체에서 값만을 추출한 배열을 반환한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_.values(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: [<span class="number">3</span>, <span class="number">4</span>] &#125;)</span><br><span class="line"><span class="comment">// =&gt; [ 1, 2, [3, 4] ]</span></span><br><span class="line"></span><br><span class="line">_.values(<span class="string">"hi"</span>)</span><br><span class="line"><span class="comment">// =&gt; ['h', 'i']</span></span><br></pre></td></tr></table></figure><h1 id="util"><a class="markdownIt-Anchor" href="#util"></a> Util</h1><p>유틸성이 있는 메소드</p><h2 id="constant"><a class="markdownIt-Anchor" href="#constant"></a> constant</h2><p><strong>_.constant</strong>( 반환 값 )<br>반환 값을 반환해주는 함수이다.<br>단독으로는 거의 사용하지 않고, 다른 Lodash 함수들과 같이 사용한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_.constant(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br><span class="line">_.constant(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;)</span><br><span class="line"><span class="comment">// =&gt; &#123; a: 1 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="times"><a class="markdownIt-Anchor" href="#times"></a> times</h2><p><strong>_.times</strong>( 반복횟수, 콜백함수 )<br>콜백함수 조건에 맞게 반복횟수만큼의 데이터를 배열로 반환한다.<br>초기화를 시킬 때 유용하다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.times(<span class="number">3</span>, _.constant(<span class="number">0</span>))</span><br><span class="line"><span class="comment">// =&gt; [0, 0, 0]</span></span><br></pre></td></tr></table></figure><h2 id="range"><a class="markdownIt-Anchor" href="#range"></a> range</h2><p><strong>_.range</strong>( [시작인덱스], 종료인덱스, [증가 폭=1])<br>배열을 초기화 시킬 때 유용하다. 단지 배열을 숫자로 초기화해야된다면 _.range가 속도면에서 _.times(n, <em>constant</em>)보다 <a href="https://jsperf.com/lodash-times-vs-range/1" target="_blank" rel="external nofollow noopener noreferrer">월등히 빠르다</a>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_.range(<span class="number">0</span>, <span class="number">6</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">// =&gt; [0, 0, 0, 0, 0, 0]</span></span><br><span class="line"></span><br><span class="line">_.range(<span class="number">4</span>)</span><br><span class="line"><span class="comment">// =&gt; [0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><h1 id="why"><a class="markdownIt-Anchor" href="#why"></a> Why</h1><p>이런 편리함이 있는데도 왜 안 쓰는지 모르겠지만, 몇 가지 이유가 더 있다</p><h2 id="lazy-evaluation"><a class="markdownIt-Anchor" href="#lazy-evaluation"></a> Lazy Evaluation</h2><p><a href="http://filimanjaro.com/blog/2014/introducing-lazy-evaluation/" target="_blank" rel="external nofollow noopener noreferrer">링크</a>를 참조하자</p><p>코드로 요약하자면</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 이런 구문을</span></span><br><span class="line"><span class="keyword">var</span> result = [],</span><br><span class="line">  temp1 = [],</span><br><span class="line">  temp2 = [],</span><br><span class="line">  temp3 = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; source.length; i++) &#123;</span><br><span class="line">  temp1[i] = func1(source[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; source.length; i++) &#123;</span><br><span class="line">  temp2[i] = func2(temp1[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; source.length; i++) &#123;</span><br><span class="line">  temp3[i] = func3(temp2[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result = temp3</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아래처럼 바꿔 엄청난 속도 향상을 가져올 수 있다</span></span><br><span class="line"><span class="keyword">var</span> result = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; source.length; i++) &#123;</span><br><span class="line">  result[i] = func3(func2(func1(source[i])))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="chaining"><a class="markdownIt-Anchor" href="#chaining"></a> chaining</h2><p>또 다른 큰 이유는 <a href="https://lodash.com/docs#chain" target="_blank" rel="external nofollow noopener noreferrer">chain</a>을 활용해 functional programming이 가능하단 것이다.<br>예를 들어 다음과 같은 데이터가 있다고 보자</p><figure class="highlight js"><figcaption><span>data</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">;[</span><br><span class="line">  &#123;</span><br><span class="line">    tag: &#123;</span><br><span class="line">      name: <span class="string">"tag1"</span>,</span><br><span class="line">      media: &#123;</span><br><span class="line">        nodes: [</span><br><span class="line">          &#123;</span><br><span class="line">            id: <span class="string">"uid1"</span>,</span><br><span class="line">            user: <span class="string">"gracefullight"</span>,</span><br><span class="line">            caption: <span class="string">"caption1"</span>,</span><br><span class="line">            likes: <span class="number">10</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            id: <span class="string">"uid2"</span>,</span><br><span class="line">            user: <span class="string">"gracefullight"</span>,</span><br><span class="line">            caption: <span class="string">"caption2"</span>,</span><br><span class="line">            likes: <span class="number">20</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    tag: &#123;</span><br><span class="line">      name: <span class="string">"tag2"</span>,</span><br><span class="line">      media: &#123;</span><br><span class="line">        nodes: [</span><br><span class="line">          &#123;</span><br><span class="line">            id: <span class="string">"uid3"</span>,</span><br><span class="line">            user: <span class="string">"gracefullight"</span>,</span><br><span class="line">            caption: <span class="string">"caption3"</span>,</span><br><span class="line">            likes: <span class="number">30</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            id: <span class="string">"uid4"</span>,</span><br><span class="line">            user: <span class="string">"gracefullight"</span>,</span><br><span class="line">            caption: <span class="string">"caption4"</span>,</span><br><span class="line">            likes: <span class="number">40</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="js"><a class="markdownIt-Anchor" href="#js"></a> js</h3><p>이 데이터의 nodes 데이터만 가져와서 새로운 data 배열을 만들고 싶다면 어떻게 할까?<br>lodash를 모르는 상태라면 대충 이런식의 로직이 나온다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for문 애호가</span></span><br><span class="line"><span class="keyword">const</span> data = [<span class="string">"위에 데이터 배열"</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = data.length; i &lt; len; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> nodes = data[i].tag.media.nodes</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, len2 = nodes.length; j &lt; len2; j++) &#123;</span><br><span class="line">    <span class="comment">// 머리가 슬슬 아파진다.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 더 나은 방법</span></span><br><span class="line">result = data</span><br><span class="line">  .map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 여기까지의 결과는 [[&#123;&#125;, &#123;&#125;], [&#123;&#125;, &#123;&#125;]] 모양이 될 것이다</span></span><br><span class="line">    <span class="keyword">return</span> item.tag.media.nodes</span><br><span class="line">  &#125;)</span><br><span class="line">  .reduce(<span class="function">(<span class="params">prev, item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 아 여기서 난관이다. 배열을 벗기면서 내부의 오브젝트만 prev array에 push 또는 concat해줘야한다.</span></span><br><span class="line">    <span class="keyword">return</span> prev</span><br><span class="line">  &#125;, [])</span><br></pre></td></tr></table></figure><h3 id="with-lodash"><a class="markdownIt-Anchor" href="#with-lodash"></a> With lodash</h3><p>lodash를 사용하면 다음과 같이 직관적으로 구현이 가능하다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">result = _.chain(data)</span><br><span class="line">          .map(<span class="string">'tag.media.nodes'</span>)</span><br><span class="line">          .flatten()</span><br><span class="line">          .values()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 결과는 다음과 같다</span></span><br><span class="line">[</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'uid1'</span>... &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'uid2'</span>... &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'uid3'</span>... &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'uid4'</span>...&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>Lodash는 jQuery와 중복되는 이름을 가진 메소드가 몇 가지 있는데,<br>차이점은 콜백함수에서 value를 첫번째 인자로 받는다는 것이고 브라우저에서 native method를 사용할 수 있으면 그걸 사용한다는 것이다. (each를 예를들면 array.forEach)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lodash</span></span><br><span class="line">_.each([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>], (value, index, list) =&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// jQuery</span></span><br><span class="line">$.each([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>], (index, value) =&gt; &#123;&#125;)</span><br></pre></td></tr></table></figure><p>따라서 lodash를 사용하는 것을 권한다. (속도도 더 빠르다)</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> lodash </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> lodash </tag>
            
            <tag> underscore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MomentJS 활용법</title>
      <link href="/2016/12/23/MomentJS-%ED%99%9C%EC%9A%A9%EB%B2%95/"/>
      <url>/2016/12/23/MomentJS-%ED%99%9C%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>java에 joda-time이 있듯 javascript에는 moment가 있다.<br>기초적인 moment 사용법은 알고 있다고 가정한다.</p><h1 id="calandar"><a class="markdownIt-Anchor" href="#calandar"></a> calandar</h1><p>현재시각과 비교해 날짜를 <strong>어제 오후 12:31</strong>처럼 표시하고 싶은 경우 사용한다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment(date).calendar(today, &#123; <span class="attr">sameElse</span>: <span class="string">"YYYY-MM-DD HH:mm:ss"</span> &#125;);</span><br></pre></td></tr></table></figure><p>date는 비교할 날짜, today는 현재시각 값이다.<br>일주일 이하일 경우 어제… 그저께… 등으로 반환되고, 이상일 경우 sameElse에 등록된 포맷으로 반환된다.</p><p>global locale 설정을 지정하지 않았을 경우 sameElse가 들어가는 option object 안에 locale을 커스터마이징 할 수 있다.</p><p>기타 옵션은 <a href="https://momentjs.com/docs/#/displaying/calendar-time/" target="_blank" rel="external nofollow noopener noreferrer">API</a> 참조</p><h1 id="diff"><a class="markdownIt-Anchor" href="#diff"></a> diff</h1><p>A에서 B의 차이를 구할 때 쓰는 diff method를 쓰다가, 월 또는 년도의 차이를 계산하는 경우가 생긴다.</p><h2 id="소스-2"><a class="markdownIt-Anchor" href="#소스-2"></a> 소스</h2><h3 id="worst-case"><a class="markdownIt-Anchor" href="#worst-case"></a> worst case</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment(<span class="string">"2016-06"</span>).diff(<span class="string">"2015-01"</span>, <span class="string">"month"</span>);</span><br></pre></td></tr></table></figure><p>이렇게 처리하면 되지 않을까? 동작은 하지만 오류가 날 수 있다고 console.warning 이 찍힌다.</p><h3 id="good-case"><a class="markdownIt-Anchor" href="#good-case"></a> good case</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment([<span class="number">2016</span>, <span class="number">06</span>]).diff([<span class="number">2015</span>, <span class="number">01</span>], <span class="string">"month"</span>);</span><br></pre></td></tr></table></figure><p>실행이 잘되지만, YYYY-MM을 split해서 넣어줘야하는 번거로움이 있다.</p><h3 id="best-case"><a class="markdownIt-Anchor" href="#best-case"></a> best case</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">moment(<span class="string">"2016-06"</span>, <span class="string">"YYYY-MM"</span>).diff(<span class="string">"2015-01"</span>, <span class="string">"month"</span>);</span><br></pre></td></tr></table></figure><p>moment 형식으로 변환시 두번째 파라미터에 포맷을 지정하면 console.warning도 없고 번거로움도 사라진다!</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> moment </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> moment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Materialize pickadate 설정</title>
      <link href="/2016/12/23/Materialize-pickadate-%EC%84%A4%EC%A0%95/"/>
      <url>/2016/12/23/Materialize-pickadate-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p>기본예제는 type=“date” 로만 설정이 되있어서 type=&quot;text&quot;에도 적용 가능하게 onSet callback 을 설정했고,<br>한글로 보이게 수정했다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"date"</span> <span class="attr">class</span>=<span class="string">"date"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// pickadate 옵션 전역설정</span></span></span><br><span class="line"><span class="javascript">  $.extend($.fn.pickadate.defaults, &#123;</span></span><br><span class="line"><span class="actionscript">    monthsFull:[<span class="string">'1월'</span>, <span class="string">'2월'</span>, <span class="string">'3월'</span>, <span class="string">'4월'</span>, <span class="string">'5월'</span>, <span class="string">'6월'</span>, <span class="string">'7월'</span>, <span class="string">'8월'</span>, <span class="string">'9월'</span>, <span class="string">'10월'</span>, <span class="string">'11월'</span>, <span class="string">'12월'</span>],</span></span><br><span class="line"><span class="actionscript">    monthsShort: [<span class="string">'1월'</span>, <span class="string">'2월'</span>, <span class="string">'3월'</span>, <span class="string">'4월'</span>, <span class="string">'5월'</span>, <span class="string">'6월'</span>, <span class="string">'7월'</span>, <span class="string">'8월'</span>, <span class="string">'9월'</span>, <span class="string">'10월'</span>, <span class="string">'11월'</span>, <span class="string">'12월'</span>],</span></span><br><span class="line"><span class="actionscript">    weekdaysFull: [<span class="string">'일'</span>, <span class="string">'월'</span>, <span class="string">'화'</span>, <span class="string">'수'</span>, <span class="string">'목'</span>, <span class="string">'금'</span>, <span class="string">'토'</span>],</span></span><br><span class="line"><span class="actionscript">    weekdaysShort:[<span class="string">'일'</span>, <span class="string">'월'</span>, <span class="string">'화'</span>, <span class="string">'수'</span>, <span class="string">'목'</span>, <span class="string">'금'</span>, <span class="string">'토'</span>],</span></span><br><span class="line"><span class="actionscript">    selectMonths: <span class="literal">true</span>,</span></span><br><span class="line">    selectYears: 140,</span><br><span class="line"><span class="actionscript">    showMonthsShort: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">    showWeekdaysFull: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">    close:<span class="string">'닫기'</span>,</span></span><br><span class="line"><span class="actionscript">    clear:<span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">    today:<span class="string">'오늘'</span>,</span></span><br><span class="line"><span class="actionscript">    format:<span class="string">'yyyy-mm-dd'</span>,</span></span><br><span class="line"><span class="actionscript">    formatSubmit: <span class="string">'yyyy-mm-dd'</span>,</span></span><br><span class="line"><span class="actionscript">    max:<span class="literal">true</span>, <span class="comment">// 이 옵션이 ture면 오늘까지밖에 날짜 선택을 못한다</span></span></span><br><span class="line"><span class="actionscript">    closeOnSelect:<span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">    onSet: <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line">      if (e.select) &#123;</span><br><span class="line"><span class="actionscript">         <span class="keyword">this</span>.close();</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="comment">// 활성화</span></span></span><br><span class="line"><span class="javascript">  $(<span class="string">'.date'</span>).pickadate();</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="결과"><a class="markdownIt-Anchor" href="#결과"></a> 결과</h1><img data-src="https://i.imgur.com/arG9DCJ.png">]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> materialize </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> materialize </tag>
            
            <tag> pickadate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Express 환경에서 node_modules 안의 script 사용</title>
      <link href="/2016/12/23/Express-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-node-modules-%EC%95%88%EC%9D%98-script-%EC%82%AC%EC%9A%A9/"/>
      <url>/2016/12/23/Express-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-node-modules-%EC%95%88%EC%9D%98-script-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<p>앵귤러 또는 다른 브라우저에 필요한 스크립트를 npm 으로 설치하고<br>node_modules 안에 있는 스크립트로 참조하고 싶을 때 다음과 같이 라우팅을 추가한다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// scripts 경로로 접근시 node_modules을 사용할 수 있게 설정</span></span><br><span class="line">app.use(<span class="string">"/scripts"</span>, express.static(path.join(__dirname, <span class="string">"node_modules"</span>)))</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 결과 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/scripts/angular/angular.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
          <category> express </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> express </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10에서 NodeJS MariaSQL 모듈 설치</title>
      <link href="/2016/12/23/Windows10%EC%97%90%EC%84%9C-NodeJS-MariaSQL-%EB%AA%A8%EB%93%88-%EC%84%A4%EC%B9%98/"/>
      <url>/2016/12/23/Windows10%EC%97%90%EC%84%9C-NodeJS-MariaSQL-%EB%AA%A8%EB%93%88-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><p>mariasql package 설치 명령어 실행시<br>오류를 내뿜으며 node-debug.log 를 확인하라고 명령어가 나올 경우 아래와 같이 하면 된다.</p><p>debug log 에는 node-gyp rebuild 를 하라고 나오는데, 이 오류메세지와는 아무 관련이 없다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><h2 id="python-27-설치"><a class="markdownIt-Anchor" href="#python-27-설치"></a> Python 2.7 설치</h2><p>윈도우에 Python 2.7 버전이 설치되어있지 않으면 설치해야한다.<br>파이썬 2 이상 3 미만 버전을 쓰면 되는데, 2.7 을 강조하니 쓰자.</p><p><a href="https://www.python.org/ftp/python/2.7.12/python-2.7.12.msi" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 다운로드 한다.<br><strong>설치시 Window PATH 등록 옵션을 꼭 선택해야한다.</strong></p><h2 id="python-경로를-npm-에-등록"><a class="markdownIt-Anchor" href="#python-경로를-npm-에-등록"></a> Python 경로를 npm 에 등록</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config <span class="built_in">set</span> python <span class="string">"/the/python/path"</span> --global</span><br></pre></td></tr></table></figure><p>the/python/path 에 자신의 python 설치 경로를 넣어주자.</p><h2 id="microsoft-visual-studio-community-2015-설치"><a class="markdownIt-Anchor" href="#microsoft-visual-studio-community-2015-설치"></a> Microsoft Visual Studio Community 2015 설치</h2><p>왜 VS 2015 를 설치해야하지? 라고 생각이 들텐데, **Visual C++**을 사용하기 때문이다.</p><p><a href="https://www.microsoft.com/ko-kr/download/details.aspx?id=48146" target="_blank" rel="external nofollow noopener noreferrer">여기</a>서 다운로드한다.<br><strong>설치시 프로그래밍언어 탭에서 Visual C++을 꼭 선택해서 설치해야한다.</strong></p><p>기존에 VS2015 가 설치되어있는 경우, 프로그램 추가/삭제에서 선택 후 수정 메뉴를 눌러<br>Visual C++ 옵션을 추가한 뒤 업데이트해준다.</p><blockquote><p><strong>2017 년 기준 위 링크가 만료되어 <a href="http://landinghub.visualstudio.com/visual-cpp-build-tools" target="_blank" rel="external nofollow noopener noreferrer">cpp-build-tools</a>를 설치해야한다</strong></p></blockquote><h2 id="visual-studio-버전을-npm-에-등록"><a class="markdownIt-Anchor" href="#visual-studio-버전을-npm-에-등록"></a> Visual Studio 버전을 npm 에 등록</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config <span class="built_in">set</span> msvs_version <span class="string">"2015"</span> --global</span><br></pre></td></tr></table></figure><h2 id="mariasql-package-설치"><a class="markdownIt-Anchor" href="#mariasql-package-설치"></a> MariaSQL Package 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install mariasql --save</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>Windows10 에서 mariasql package 설치시 C++ 컴파일이 필요하니,<br>VS2015 로 C++ 컴파일러를 설치해야된다라는 걸 msdn 이나 npm 에 친절히 남겨줬으면 이렇게까지 시간을 날리지 않았을텐데…</p><h2 id="최근-해결방법"><a class="markdownIt-Anchor" href="#최근-해결방법"></a> 최근 해결방법</h2><p>빠르고 위의 오류가 절대 발생하지 않는 <a href="https://github.com/sidorares/node-mysql2" target="_blank" rel="external nofollow noopener noreferrer">mysql2</a> 패키지를 사용하면 된다.</p><img data-src="https://78.media.tumblr.com/tumblr_lyod8mfp621qm9ue5o2_r2_500.png">]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> maria </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cannot find module &#39;../build/Relase/bson&#39;</title>
      <link href="/2016/12/23/Cannot-find-module-build-Relase-bson/"/>
      <url>/2016/12/23/Cannot-find-module-build-Relase-bson/</url>
      
        <content type="html"><![CDATA[<p>mongoose-post-find 모듈 사용시 bson 라이브러리를 찾지 못해 설치가 안되는 경우가 있다.</p><h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">Error</span>: Cannot find <span class="built_in">module</span> <span class="string">'../build/Release/bson'</span></span><br><span class="line">    at <span class="built_in">Function</span>.Module._resolveFilename (<span class="built_in">module</span>.js:<span class="number">440</span>:<span class="number">15</span>)</span><br><span class="line">    at <span class="built_in">Function</span>.Module._load (<span class="built_in">module</span>.js:<span class="number">388</span>:<span class="number">25</span>)</span><br><span class="line">    at Module.require (<span class="built_in">module</span>.js:<span class="number">468</span>:<span class="number">17</span>)</span><br><span class="line">    at <span class="built_in">require</span> (internal/<span class="built_in">module</span>.js:<span class="number">20</span>:<span class="number">19</span>)</span><br><span class="line">    <span class="comment">// 여기서 오류가 발생한다</span></span><br><span class="line">    at <span class="built_in">Object</span>.&lt;anonymous&gt; (your project\mongoose-post-find\node_modules\bson\ext\index.js:<span class="number">15</span>:<span class="number">10</span>)</span><br><span class="line">    at Module._compile (<span class="built_in">module</span>.js:<span class="number">541</span>:<span class="number">32</span>)</span><br><span class="line">    at <span class="built_in">Object</span>.Module._extensions..js (<span class="built_in">module</span>.js:<span class="number">550</span>:<span class="number">10</span>)</span><br><span class="line">    at Module.load (<span class="built_in">module</span>.js:<span class="number">458</span>:<span class="number">32</span>)</span><br><span class="line">    at tryModuleLoad (<span class="built_in">module</span>.js:<span class="number">417</span>:<span class="number">12</span>)</span><br><span class="line">    at <span class="built_in">Function</span>.Module._load (<span class="built_in">module</span>.js:<span class="number">409</span>:<span class="number">3</span>)</span><br><span class="line">    at Module.require (<span class="built_in">module</span>.js:<span class="number">468</span>:<span class="number">17</span>)</span><br><span class="line">    at <span class="built_in">require</span> (internal/<span class="built_in">module</span>.js:<span class="number">20</span>:<span class="number">19</span>)</span><br><span class="line">    at <span class="built_in">Object</span>.&lt;anonymous&gt; (your project\mongoose-post-find\node_modules\bson\lib\bson\index.js:<span class="number">3</span>:<span class="number">24</span>)</span><br><span class="line">    at Module._compile (<span class="built_in">module</span>.js:<span class="number">541</span>:<span class="number">32</span>)</span><br><span class="line">    at <span class="built_in">Object</span>.Module._extensions..js (<span class="built_in">module</span>.js:<span class="number">550</span>:<span class="number">10</span>)</span><br><span class="line">    at Module.load (<span class="built_in">module</span>.js:<span class="number">458</span>:<span class="number">32</span>) code: <span class="string">'MODULE_NOT_FOUND'</span> &#125;</span><br><span class="line">js-bson: Failed to load c++ bson extension, using pure JS version</span><br></pre></td></tr></table></figure><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p>해당 패키지 경로의 15번째 줄을 따라가보면 bson 패키지의 경로를 지정해주는 부분이 있는데,<br>이 부분을 같은 패키지 내의 bson 경로로 일치시켜주면 된다.</p><figure class="highlight javascript"><figcaption><span>bson/index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bson = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// Load the precompiled win32 binary</span></span><br><span class="line">  <span class="keyword">if</span> (process.platform == <span class="string">"win32"</span> &amp;&amp; process.arch == <span class="string">"x64"</span>) &#123;</span><br><span class="line">    bson = <span class="built_in">require</span>(<span class="string">"./win32/x64/bson"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.platform == <span class="string">"win32"</span> &amp;&amp; process.arch == <span class="string">"ia32"</span>) &#123;</span><br><span class="line">    bson = <span class="built_in">require</span>(<span class="string">"./win32/ia32/bson"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    bson = <span class="built_in">require</span>(<span class="string">"../build/Release/bson"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="comment">// Attempt to load the release bson version</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 여기의 상대경로를 같은 패키지의 bson의 경로로 일치시켜주면 된다.</span></span><br><span class="line">    bson = <span class="built_in">require</span>(<span class="string">"../browser_build/bson"</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.dir(err);</span><br><span class="line">    <span class="built_in">console</span>.error(</span><br><span class="line">      <span class="string">"js-bson: Failed to load c++ bson extension, using pure JS version"</span></span><br><span class="line">    );</span><br><span class="line">    bson = <span class="built_in">require</span>(<span class="string">"../lib/bson/bson"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> nodejs </tag>
            
            <tag> mongoose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React 시작하기</title>
      <link href="/2016/12/23/React-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/"/>
      <url>/2016/12/23/React-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="es6-과-this-binding-에-대한-이해"><a class="markdownIt-Anchor" href="#es6-과-this-binding-에-대한-이해"></a> ES6 과 this binding 에 대한 이해</h1><p>ES5 스타일로 React 를 사용할 수 있지만 JSX 를 사용하기에 한 번은 컴파일이 필요하다.<br>따라서 ES6 의 문법을 사용하는게 낫다. (직관적이기도 하고)<br>그래서 ES6 의 문법이 익숙해져야하고, javascript 에서 this 를 왜 바인딩 하는지에 대한 이해가 필요하다.</p><h1 id="jsx-이란"><a class="markdownIt-Anchor" href="#jsx-이란"></a> JSX 이란</h1><p>React 를 제대로 사용하기 위해서는 JSX 라는 새로운 구문(확장자)로 javascript 를 짜야하는데,<br>JSX 는 <strong>XML 스타일의 자바스크립트 표현식</strong>이라고 생각하면 된다.<br>브라우저에서 돌아가게 하려면 순수한 자바스크립트 형태가 되어야 하기 때문에 컴파일이 필요하다.</p><p>React 구버전은 JSXTransfiler 를 통해 변환을 했는데, 지금은 지원하지 않고<br><a href="https://babeljs.io/" target="_blank" rel="external nofollow noopener noreferrer">Babel</a>을 사용해 컴파일 해야한다.</p><h1 id="babel-이란"><a class="markdownIt-Anchor" href="#babel-이란"></a> Babel 이란</h1><p>Babel 은 ES6 의 구문을 구버전의 브라우저에서 사용할 수 있게 컴파일해주는 자바스크립트 컴파일러라고 생각하면 된다. 추가적으로 JSX 도 컴파일해준다.</p><p>NodeJS 환경에서는 Gulp 를 이용해 자동으로 컴파일이 되게 설정할 수 있지만,<br>브라우저에서 단독으로 사용할 수 있게 해보는 방법을 알아보자.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bower</span></span><br><span class="line">$ bower install babel-standalone --save</span><br><span class="line"><span class="comment"># npm</span></span><br><span class="line">$ npm install babel-standalone --save</span><br></pre></td></tr></table></figure><p>또는 <a href="https://github.com/babel/babel-standalone" target="_blank" rel="external nofollow noopener noreferrer">여기서</a> 직접 받는다.</p><h1 id="react"><a class="markdownIt-Anchor" href="#react"></a> React</h1><h2 id="설치-2"><a class="markdownIt-Anchor" href="#설치-2"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bower</span></span><br><span class="line">$ bower install react --save</span><br><span class="line"><span class="comment"># npm</span></span><br><span class="line">$ npm install react --save</span><br></pre></td></tr></table></figure><p>또는 <a href="https://github.com/facebook/react" target="_blank" rel="external nofollow noopener noreferrer">여기서</a> 직접 받는다.</p><h2 id="실행"><a class="markdownIt-Anchor" href="#실행"></a> 실행</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/babel-standalone/babel.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/react/react.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/react/react-dom.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span> <span class="attr">src</span>=<span class="string">"/react_login_form.jsx"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>babel 과 react, 데이터 바인딩을 위한 react-dom 을 가져온다.</p><p>그리고 react_login_form.jsx 를 <strong>text/babel</strong> 타입으로 가져오면 된다.</p><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 리액트에 넣을 모듈을 선언한다.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginForm</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">id</span>: <span class="string">""</span>, <span class="attr">pw</span>: <span class="string">""</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// input의 데이터가 변할 때 state의 값이 변경할 수 있게한다</span></span><br><span class="line">  handleChange(key, event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.state[key] = event.target.value</span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="keyword">this</span>.state)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.state)</span><br><span class="line">    <span class="comment">// 여기에 ajax 호출을 구현하면 된다</span></span><br><span class="line">    <span class="comment">// $.ajax().then(function()&#123;</span></span><br><span class="line">    <span class="comment">//    this.setState와 같은 상태변경 처리</span></span><br><span class="line">    <span class="comment">// &#125;.bind(this));</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit.bind(<span class="keyword">this</span>)&#125;&gt;</span><br><span class="line">        아이디 :</span><br><span class="line">        &lt;input</span><br><span class="line">          type=<span class="string">"text"</span></span><br><span class="line">          value=&#123;<span class="keyword">this</span>.state.id&#125;</span><br><span class="line">          onChange=&#123;<span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>, <span class="string">"id"</span>)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        비밀번호 :<span class="xml"><span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="xml">          type="password"</span></span><br><span class="line"><span class="xml">          value=&#123;this.state.pw&#125;</span></span><br><span class="line"><span class="xml">          onChange=&#123;this.handleChange.bind(this, "pw")&#125;</span></span><br><span class="line"><span class="xml">        /&gt;</span></span><br><span class="line">        &lt;input type=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</span><br><span class="line">      &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ LoginForm class를 id="login"에 render</span></span><br><span class="line"><span class="regexp">ReactDOM.render(&lt;LoginForm /</span>&gt;, <span class="built_in">document</span>.getElementById(<span class="string">"login"</span>))</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>주관적으론 데이터 바인딩을 위해서만 사용하려면 <a href="https://vuejs.org/" target="_blank" rel="external nofollow noopener noreferrer">Vue</a>를 사용하는게,<br>완벽한 SPA 를 만들고 싶다면 역시 <a href="https://angular.io/docs/ts/latest/" target="_blank" rel="external nofollow noopener noreferrer">Angular2</a>가 답인듯 싶다.</p><p>추가로 <a href="https://sculove.github.io/blog/2016/07/11/react%EB%B3%B4%EB%8B%A4-angular2%EC%97%90-%EB%8D%94-%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0/" target="_blank" rel="external nofollow noopener noreferrer">React 와 Angular2 의 비교</a>를 보길 원한다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS Maria DB 설치</title>
      <link href="/2016/12/22/CentOS-Maria-DB-%EC%84%A4%EC%B9%98/"/>
      <url>/2016/12/22/CentOS-Maria-DB-%EC%84%A4%EC%B9%98/</url>
      
        <content type="html"><![CDATA[<p>Maria DB 를 써야하는 이유는<br>MySQL 이 지원이 끝났기 때문이고, 오라클이 소유하고 있어 언제 유료화가 될지 모르고,<br>Thread Pool, 강화된 스토리지 엔진 (InnoDB -&gt; XtraDB), 새로운 스토리지 엔진 (Aria, Cassandra)과 HandlerSocket, Virtual Column 등의 새로운 기능이 있기 때문이다.</p><p>설치를 시작해보자!</p><h1 id="버전-확인-후-yum-repo-추가"><a class="markdownIt-Anchor" href="#버전-확인-후-yum-repo-추가"></a> 버전 확인 후 yum repo 추가</h1><h2 id="버전-및-bit-확인"><a class="markdownIt-Anchor" href="#버전-및-bit-확인"></a> 버전 및 bit 확인</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get version</span></span><br><span class="line">$ cat /etc/*release*</span><br><span class="line"><span class="comment"># get bit</span></span><br><span class="line">$ getconf LONG_BIT</span><br></pre></td></tr></table></figure><h2 id="yum-repo-복사"><a class="markdownIt-Anchor" href="#yum-repo-복사"></a> yum repo 복사</h2><p><a href="https://downloads.mariadb.org/mariadb/repositories/#mirror=kaist&amp;distro=CentOS&amp;distro_release=centos6-amd64--centos6&amp;version=10.1" target="_blank" rel="external nofollow noopener noreferrer">maria</a>로 이동해 맞는 버전을 추가한다.</p><img data-src="https://i.imgur.com/X3A73UI.png"><h2 id="yum-repo-추가"><a class="markdownIt-Anchor" href="#yum-repo-추가"></a> yum repo 추가</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/yum.repos.d/MariaDB.repo</span><br></pre></td></tr></table></figure><p>명령어로 MariaDB repository 를 생성한 뒤 복사한 내용을 붙히고 저장한다.</p><h1 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y MariaDB-server MariaDB-client</span><br></pre></td></tr></table></figure><p>혹여 설치가 안되면 <a href="https://mariadb.com/kb/en/mariadb/yum/" target="_blank" rel="external nofollow noopener noreferrer">maria</a> 문서를 참고해서 따라해보자 (영어)</p><h1 id="부팅-서비스-등록"><a class="markdownIt-Anchor" href="#부팅-서비스-등록"></a> 부팅 서비스 등록</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ chkconfig mysql on</span><br><span class="line"><span class="comment"># 또는</span></span><br><span class="line">$ chkconfig --add mysql</span><br><span class="line">$ chkconfig --level 345 mysql on</span><br><span class="line"></span><br><span class="line"><span class="comment"># 등록 확인</span></span><br><span class="line">$ chkconfig --list mysql</span><br></pre></td></tr></table></figure><p>※ <a href="https://mariadb.com/kb/en/mariadb/starting-and-stopping-mariadb-automatically/" target="_blank" rel="external nofollow noopener noreferrer">maria</a>에서는 345 레벨을 on 하라고 했는데, chkconfig mysql on 으로 실행시켜 2345 레벨을 모두 on 시켰다.<br>2 레벨은 not networking 이라 DB 의 원격지 접속이 안될테니 off 시켜도 무관하다.</p><h1 id="서비스-실행"><a class="markdownIt-Anchor" href="#서비스-실행"></a> 서비스 실행</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service mysql start</span><br></pre></td></tr></table></figure><p>Starting MySQL… [ <strong>OK</strong> ]</p><p>Maria 의 서비스명은 MySQL 로 뜬다.</p><h1 id="config-파일-수정-및-통합"><a class="markdownIt-Anchor" href="#config-파일-수정-및-통합"></a> Config 파일 수정 및 통합</h1><p>처음 설치시 my.cnf 에서 my-server, my-client 등의 파일을 임포트해 분할 관리하게 되어있는데,<br>하나로 합쳐보자.</p><p>MariaDB 설치 폴더를 들어가면 My innoDB Huge 라는 config 파일이 존재한다.<br>이걸 그대로 사용해도 되고, 사용자 환경에 맞게 커스터마이징해서 사용해도 된다.</p><p>서버의 메모리가 8 GB 이상, innoDB 환경에서 사용가능한 config 파일을 첨부하니 이걸 써도 된다.</p><p>Thread Pool 기능을 사용하기 위해 extra_port 를 3307 로 줬다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight ini"><figcaption><span>my.cnf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"><span class="attr">socket</span> = /var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"><span class="attr">socket</span> = /var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="attr">character-set-server</span> = utf8mb4</span><br><span class="line"><span class="attr">collation_server</span> = utf8mb4_general_ci</span><br><span class="line"></span><br><span class="line"><span class="attr">back_log</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">max_connections</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">max_connect_errors</span> = <span class="number">10</span></span><br><span class="line"><span class="attr">table_open_cache</span> = <span class="number">2048</span></span><br><span class="line"><span class="attr">max_allowed_packet</span> = <span class="number">16</span>M</span><br><span class="line"></span><br><span class="line"><span class="attr">binlog_cache_size</span> = <span class="number">4</span>M</span><br><span class="line"><span class="attr">binlog_format</span> = row</span><br><span class="line"></span><br><span class="line"><span class="attr">max_heap_table_size</span> = <span class="number">16</span>M</span><br><span class="line"></span><br><span class="line"><span class="attr">read_buffer_size</span> = <span class="number">2</span>M</span><br><span class="line"><span class="attr">read_rnd_buffer_size</span> = <span class="number">16</span>M</span><br><span class="line"><span class="attr">sort_buffer_size</span> = <span class="number">8</span>M</span><br><span class="line"><span class="attr">join_buffer_size</span> = <span class="number">8</span>M</span><br><span class="line"></span><br><span class="line"><span class="attr">query_cache_type</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">default-storage-engine</span> = InnoDB</span><br><span class="line"><span class="attr">thread_stack</span> = <span class="number">256</span>K</span><br><span class="line"><span class="attr">tmp_table_size</span> = <span class="number">16</span>M</span><br><span class="line"></span><br><span class="line"><span class="attr">secure_auth</span> =<span class="number">1</span></span><br><span class="line"></span><br><span class="line">skip_external_locking</span><br><span class="line">skip_symbolic_links</span><br><span class="line"></span><br><span class="line"><span class="comment"># Replication related settings</span></span><br><span class="line"><span class="attr">server-id</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">expire_logs_days</span> = <span class="number">3</span></span><br><span class="line">log_slave_updates</span><br><span class="line"></span><br><span class="line"><span class="comment"># MyISAM Specific options</span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="number">32</span>M</span><br><span class="line"><span class="attr">bulk_insert_buffer_size</span> = <span class="number">64</span>M</span><br><span class="line"><span class="attr">myisam_sort_buffer_size</span> = <span class="number">8</span>M</span><br><span class="line"><span class="attr">myisam_max_sort_file_size</span> = <span class="number">16</span>M</span><br><span class="line"><span class="attr">myisam_repair_threads</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">myisam_recover</span> = FORCE,BACKUP</span><br><span class="line"></span><br><span class="line"><span class="comment"># INNODB Specific options</span></span><br><span class="line"><span class="attr">innodb_additional_mem_pool_size</span> = <span class="number">16</span>M</span><br><span class="line"><span class="attr">innodb_buffer_pool_size</span> = <span class="number">2</span>G</span><br><span class="line"><span class="attr">innodb_data_file_path</span> = ibdata1:<span class="number">10</span>M:autoextend</span><br><span class="line"><span class="comment">#innodb_data_home_dir = &lt;directory&gt;</span></span><br><span class="line"><span class="attr">innodb_thread_concurrency</span> = <span class="number">16</span></span><br><span class="line"><span class="attr">innodb_flush_log_at_trx_commit</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">innodb_log_buffer_size</span> = <span class="number">32</span>M</span><br><span class="line"><span class="attr">innodb_log_file_size</span> = <span class="number">1024</span>M</span><br><span class="line"><span class="attr">innodb_log_files_in_group</span> = <span class="number">2</span></span><br><span class="line"><span class="comment">#innodb_log_group_home_dir</span></span><br><span class="line"></span><br><span class="line"><span class="attr">innodb_max_dirty_pages_pct</span> = <span class="number">75</span></span><br><span class="line"></span><br><span class="line"><span class="section">[mysqldump]</span></span><br><span class="line">quick</span><br><span class="line"><span class="attr">max_allowed_packet</span> = <span class="number">16</span>M</span><br><span class="line"><span class="attr">default-character-set</span> = utf8</span><br><span class="line"></span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line">no-auto-rehash</span><br><span class="line"></span><br><span class="line"><span class="section">[myisamchk]</span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="number">512</span>M</span><br><span class="line"><span class="attr">sort_buffer_size</span> = <span class="number">512</span>M</span><br><span class="line"><span class="attr">read_buffer</span> = <span class="number">8</span>M</span><br><span class="line"><span class="attr">write_buffer</span> = <span class="number">8</span>M</span><br><span class="line"></span><br><span class="line"><span class="section">[mysqlhotcopy]</span></span><br><span class="line">interactive-timeout</span><br><span class="line"></span><br><span class="line"><span class="section">[mysqld_safe]</span></span><br><span class="line"><span class="attr">open-files-limit</span> = <span class="number">8192</span></span><br><span class="line"></span><br><span class="line"><span class="section">[mariadb]</span></span><br><span class="line"><span class="comment"># thread pool</span></span><br><span class="line"><span class="attr">thread_handling</span>=pool-of-threads</span><br><span class="line"><span class="attr">thread_pool_idle_timeout</span> = <span class="number">3600</span></span><br><span class="line"><span class="attr">thread_pool_stall_limit</span> = <span class="number">100</span></span><br><span class="line"><span class="attr">extra_port</span> = <span class="number">3307</span></span><br><span class="line"><span class="attr">extra_max_connections</span>=<span class="number">10</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> maria </category>
          
      </categories>
      
      
        <tags>
            
            <tag> database </tag>
            
            <tag> maria </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Dump 명령어</title>
      <link href="/2016/12/22/MySQL-Dump-%EB%AA%85%EB%A0%B9%EC%96%B4/"/>
      <url>/2016/12/22/MySQL-Dump-%EB%AA%85%EB%A0%B9%EC%96%B4/</url>
      
        <content type="html"><![CDATA[<h1 id="mysql-dump-명령어-사용법"><a class="markdownIt-Anchor" href="#mysql-dump-명령어-사용법"></a> MySQL Dump 명령어 사용법</h1><h2 id="스크립트-생성"><a class="markdownIt-Anchor" href="#스크립트-생성"></a> 스크립트 생성</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi dump.sh</span><br></pre></td></tr></table></figure><p><a href="http://dump.sh" target="_blank" rel="external nofollow noopener noreferrer">dump.sh</a> 파일을 만들고 아래 내용을 추가해 준다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u 유저명 -p비밀번호 데이터베이스명&gt; 경로`date+%y%m%d%H`.sql</span><br></pre></td></tr></table></figure><p>스크립트를 원하는 시간대로 cron 에 등록한다.</p><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><p>ID : test, PW: test, DB : test 의 dump 를 생성하고 싶을 때</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u <span class="built_in">test</span>-ptest <span class="built_in">test</span>&gt; /home/<span class="built_in">test</span>/dump/`date+%y%m%d%H`.sql</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database 유저 생성 및 권한 설정</title>
      <link href="/2016/12/22/Database-%EC%9C%A0%EC%A0%80-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95/"/>
      <url>/2016/12/22/Database-%EC%9C%A0%EC%A0%80-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<h1 id="유저-생성"><a class="markdownIt-Anchor" href="#유저-생성"></a> 유저 생성</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'유저명'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'비밀번호'</span>; <span class="comment">-- 모든 아이피 접근</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'유저명'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'비밀번호'</span>; <span class="comment">-- 로컬호스트 접근</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'유저명'</span>@<span class="string">'127.0.0.1'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'비밀번호'</span>; <span class="comment">-- 로컬호스트 접근</span></span><br></pre></td></tr></table></figure><h1 id="데이터베이스에-모든-권한-부여"><a class="markdownIt-Anchor" href="#데이터베이스에-모든-권한-부여"></a> 데이터베이스에 모든 권한 부여</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 해당 디비명의 유저의 모든권한 설정</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> 디비명.* <span class="keyword">TO</span> <span class="string">'유저명'</span>@<span class="string">'%'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br></pre></td></tr></table></figure><h1 id="권한-적용"><a class="markdownIt-Anchor" href="#권한-적용"></a> 권한 적용</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></table></figure><h1 id="권한-확인"><a class="markdownIt-Anchor" href="#권한-확인"></a> 권한 확인</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GRANTS</span> <span class="keyword">FOR</span> <span class="string">'유저명'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>권한 부여는 쉘상에서 접근해야지 오류가 없다.</p><p>부분 권한 또는 부분 테이블로 권한을 제한하고 싶다면, <a href="http://dev.mysql.com/doc/refman/5.7/en/grant.html" target="_blank" rel="external nofollow noopener noreferrer">MySQL Grant Syntax</a>를 참조한다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL에서 MariaDB 이관시 서브쿼리의 정렬이 바뀔 때</title>
      <link href="/2016/12/22/MySQL%EC%97%90%EC%84%9C-MariaDB-%EC%9D%B4%EA%B4%80%EC%8B%9C-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC%EC%9D%98-%EC%A0%95%EB%A0%AC%EC%9D%B4-%EB%B0%94%EB%80%94-%EB%95%8C/"/>
      <url>/2016/12/22/MySQL%EC%97%90%EC%84%9C-MariaDB-%EC%9D%B4%EA%B4%80%EC%8B%9C-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC%EC%9D%98-%EC%A0%95%EB%A0%AC%EC%9D%B4-%EB%B0%94%EB%80%94-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>@Rownum 변수를 사용해 페이징 쿼리를 구현했는데, MySQL 에서는 정상적으로 정렬이 되다가 Maria 로 이관 후에 정렬이 반대로 나오는 경우가 있다.</p><h1 id="오류"><a class="markdownIt-Anchor" href="#오류"></a> 오류</h1><h2 id="쿼리"><a class="markdownIt-Anchor" href="#쿼리"></a> 쿼리</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SQL_CALC_FOUND_ROWS</span> @RNUM:=@RNUM+<span class="number">1</span> <span class="keyword">AS</span> <span class="keyword">ROWNUM</span>, R.* <span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> @RNUM:=<span class="number">0</span>, Q.* <span class="keyword">FROM</span> (</span><br><span class="line"></span><br><span class="line">        <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> TABLE1</span><br><span class="line">        <span class="keyword">WHERE</span> <span class="keyword">ID</span> = <span class="string">'1'</span></span><br><span class="line">        <span class="keyword">ORDER</span> <span class="keyword">BY</span> REG <span class="keyword">DESC</span></span><br><span class="line">    ) Q</span><br><span class="line">) R</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">0</span>,<span class="number">10</span></span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><p>Rownum 변수를 사용해 TABLE1 에서 최신 날짜 순으로 데이터를 가지고 온다.</p><h1 id="해결"><a class="markdownIt-Anchor" href="#해결"></a> 해결</h1><p><strong>LIMIT 2^64-1</strong>를 서브쿼리 내에 추가해준다.</p><p>LIMIT 의 최댓값은 unsigned 64bit-1 이므로 해당 값을 날려준다.</p><h2 id="쿼리-2"><a class="markdownIt-Anchor" href="#쿼리-2"></a> 쿼리</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SQL_CALC_FOUND_ROWS</span> @RNUM:=@RNUM+<span class="number">1</span> <span class="keyword">AS</span> <span class="keyword">ROWNUM</span>, R.* <span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> @RNUM:=<span class="number">0</span>, Q.* <span class="keyword">FROM</span> (</span><br><span class="line"></span><br><span class="line">        <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> TABLE1</span><br><span class="line">        <span class="keyword">WHERE</span> <span class="keyword">ID</span> = <span class="string">'1'</span></span><br><span class="line">        <span class="keyword">ORDER</span> <span class="keyword">BY</span> REG <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">LIMIT</span> <span class="number">18446744073709551615</span></span><br><span class="line">    ) Q</span><br><span class="line">) R</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">0</span>,<span class="number">10</span></span><br></pre></td></tr></table></figure><h2 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h2><p>Optimizer 가 임시테이블을 만든 후 filesort 하기 때문에 발생한다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL 버전 및 설정 확인</title>
      <link href="/2016/12/22/MySQL-%EB%B2%84%EC%A0%84-%EB%B0%8F-%EC%84%A4%EC%A0%95-%ED%99%95%EC%9D%B8/"/>
      <url>/2016/12/22/MySQL-%EB%B2%84%EC%A0%84-%EB%B0%8F-%EC%84%A4%EC%A0%95-%ED%99%95%EC%9D%B8/</url>
      
        <content type="html"><![CDATA[<p>Database Migration 또는 Module 설치시 MySQL 버전을 자주 물어본다.</p><h1 id="쿼리"><a class="markdownIt-Anchor" href="#쿼리"></a> 쿼리</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">version</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">variables</span> <span class="keyword">LIKE</span> <span class="string">'datadir'</span>;</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>첫번째 쿼리 실행시 버전이 나오고, 두번째 쿼리 실행시 설치 경로가 나온다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Lock 해제</title>
      <link href="/2016/12/22/MySQL-Lock-%ED%95%B4%EC%A0%9C/"/>
      <url>/2016/12/22/MySQL-Lock-%ED%95%B4%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<p>잘못된 업데이트 쿼리를 돌리다가 테이블이 잠길 경우 Lock을 해제해줘야 한다.</p><h1 id="쿼리"><a class="markdownIt-Anchor" href="#쿼리"></a> 쿼리</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show processlist</span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span> <span class="variable">$&#123;processid&#125;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>show processlist 쿼리를 날리면 현재 database를 사용 중인 프로세스의 목록이 나온다.<br>목록에서 해당 쿼리를 찾은 뒤 process id를 가지고 kill 쿼리를 실행하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
            <tag> maria </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>connection using old (pre-4.1.1) authentication protocol refused</title>
      <link href="/2016/12/22/connection-using-old-pre-4-1-1-authentication-protocol-refused/"/>
      <url>/2016/12/22/connection-using-old-pre-4-1-1-authentication-protocol-refused/</url>
      
        <content type="html"><![CDATA[<p>MySQL Workbench에서 database 연결 도중 <code>connection using old (pre-4.1.1) authentication protocol refused</code>와 같은 오류가 발생시 다음과 같이 해결하자.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>서버에 설치된 MySQL 버전이 5.1보다 낮아서이다.</p><h1 id="해결방법"><a class="markdownIt-Anchor" href="#해결방법"></a> 해결방법</h1><img data-src="https://i.imgur.com/OliMFVc.jpg"><p>연결시 Advanced 탭에서 Use the old authentification protocol을 체크해주자.</p>]]></content>
      
      
      <categories>
          
          <category> database </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML 태그 모두 제거</title>
      <link href="/2016/12/22/HTML-%ED%83%9C%EA%B7%B8-%EB%AA%A8%EB%91%90-%EC%A0%9C%EA%B1%B0/"/>
      <url>/2016/12/22/HTML-%ED%83%9C%EA%B7%B8-%EB%AA%A8%EB%91%90-%EC%A0%9C%EA%B1%B0/</url>
      
        <content type="html"><![CDATA[<p>스마트 에디터 같은 에디터를 쓸 대 내용을 텍스트로만 받아야할 경우가 있다.</p><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = data.replace(<span class="regexp">/[&lt;][^&gt;]*[&gt;]/g</span>, <span class="string">""</span>)</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>&lt; &gt; 안의 태그들을 모두 빈값으로 치환한다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSON.parse unexpected type Error</title>
      <link href="/2016/12/22/JSON-parse-unexpected-type-Error/"/>
      <url>/2016/12/22/JSON-parse-unexpected-type-Error/</url>
      
        <content type="html"><![CDATA[<p>database 에 이미 json 으로 저장된 데이터를 가져와 JSON.parse 메소드로 JSON 데이터를 파싱하는 중에 값이 string 인데도 오류가 나는 경우가 있다.</p><p>로그를 확인해보면</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"data"</span>:<span class="string">"[&#123;"</span>name<span class="string">":"</span>gracefullight<span class="string">"&#125;,&#123;"</span>name<span class="string">","</span>daniel<span class="string">"&#125;]"</span>&#125;</span><br></pre></td></tr></table></figure><p>[] 배열 기호 앞뒤로 따움표가 들어가 있다.<br>이중 object 가 있다면 선언문 {} 앞뒤로 따움표가 들어가 파싱 오류가 난다.</p><h1 id="원인"><a class="markdownIt-Anchor" href="#원인"></a> 원인</h1><p>jQuery.ajax 의 dataType 을 json 으로 설정해 데이터를 받는데, 이미 json 형태의 string 이 넘어와 두번 치환이 된 것 같다.</p><p>다시 json 을 인식할 수 있게 치환해보자</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonReplace = <span class="function"><span class="keyword">function</span>(<span class="params">j</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (j) &#123;</span><br><span class="line">    j = j</span><br><span class="line">      .replace(<span class="regexp">/\"\[/g</span>, <span class="string">"["</span>)</span><br><span class="line">      .replace(<span class="regexp">/\]\"/g</span>, <span class="string">"]"</span>)</span><br><span class="line">      .replace(<span class="regexp">/\"\&#123;/g</span>, <span class="string">"&#123;"</span>)</span><br><span class="line">      .replace(<span class="regexp">/\&#125;\"/g</span>, <span class="string">"&#125;"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> j</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>해당 함수로 오류가 나는 json string 을 치환 후에 다시 JSON.parse 를 실행하면 된다.</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>정규식을 활용해 replace 중첩을 피하게 짤 수 있을 것 같은데…</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hasOwnProperty vs prototype.hasOwnProperty</title>
      <link href="/2016/12/22/hasOwnProperty-vs-prototype-hasOwnProperty/"/>
      <url>/2016/12/22/hasOwnProperty-vs-prototype-hasOwnProperty/</url>
      
        <content type="html"><![CDATA[<h1 id="hasownproperty"><a class="markdownIt-Anchor" href="#hasownproperty"></a> hasOwnProperty</h1><p>for-in 구문을 쓸 때 상속된 프로퍼티나 this 구문을 방지하기 위하여 보통 hasOwnProperty 로 체크한다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnProperty(prop)) &#123;</span><br><span class="line">    <span class="comment">// code...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="문제점"><a class="markdownIt-Anchor" href="#문제점"></a> 문제점</h2><p>위와 같은 방식은 아래와 같이 hasOwnProperty 가 재정의 된 객체에서 오류를 발생할 수 있다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  hasOwnProperty: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data1: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="comment">// obj.hasOwnproperty(prop) 의 결과는 항상 false</span></span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnproperty(prop)) &#123;</span><br><span class="line">    <span class="comment">// 이 구문은 실행되지 않는다.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="prototypehasownproperty"><a class="markdownIt-Anchor" href="#prototypehasownproperty"></a> prototype.hasOwnProperty</h1><p>따라서 prototype 을 사용해 코딩해야한다.</p><h2 id="소스-2"><a class="markdownIt-Anchor" href="#소스-2"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="comment">// 첫번째 방법</span></span><br><span class="line">  <span class="keyword">if</span> (&#123;&#125;.hasOwnProperty.call(obj, prop)) &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 두번째 방법</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(obj, prop)) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><p>첫번째 방법은 익명 Object 를 생성한 후 obj 와 prop 을 밀어넣는 방식이고<br>두번째 방법은 기본 Object 의 hasOwnProperty 를 가져와 obj 와 prop 을 밀어넣는 방식이다.</p><p>두번째 방법이 새(익명) Object 를 생성하지 않기에 이 방법을 사용하면 된다.</p><p>더 자세하게 알고 싶다면 <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="external nofollow noopener noreferrer">mdn</a>을 참조한다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> object </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Throttle, Debounce Pattern</title>
      <link href="/2016/12/22/Throttle-Debounce-Pattern/"/>
      <url>/2016/12/22/Throttle-Debounce-Pattern/</url>
      
        <content type="html"><![CDATA[<p>javascript throttle 패턴과 debounce 패턴에 대해 알아보자.</p><h1 id="throttle"><a class="markdownIt-Anchor" href="#throttle"></a> Throttle</h1><p>매 ms 마다 한 번만 호출된다.<br>mousemove, scroll 같은 이벤트로 호출되는 함수는 이벤트 발생시 무한정 호출되어 성능 저하를 가지고 오는데, 이를 방지할 수 있다.</p><p>모바일에서 스크롤링 더보기에 사용할 수 있다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> throttleFunction = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> timeWindow = <span class="number">500</span> <span class="comment">// 여기에 시간(ms)을 지정한다</span></span><br><span class="line">  <span class="keyword">var</span> lastExecution = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - timeWindow)</span><br><span class="line">  <span class="comment">// ES6 이하일 경우 ...args에 호출할 parameter 만큼 준다 function(arg1, arg2...)</span></span><br><span class="line">  <span class="keyword">var</span> throttleFunction = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 여기에 로직을 구현한다</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lastExecution.getTime() + timeWindow &lt;= <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()) &#123;</span><br><span class="line">      lastExecution = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">      <span class="keyword">return</span> throttleFunction.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 사용법</span></span><br><span class="line">throttleFunction(param1, param2)</span><br></pre></td></tr></table></figure><h1 id="debounce"><a class="markdownIt-Anchor" href="#debounce"></a> Debounce</h1><p>마지막 호출로부터 ms 후에 함수를 한번 호출한다.<br>지연된 호출을 할 수 있게 해주는데, 호출이 반복되는 동안은 실행을 방지하고, 호출이 멈춘 뒤 지정한 ms 후에 함수를 실행해 성능 저하를 막을 수 있다.</p><p>검색 자동완성 기능에 적합하다.</p><h2 id="소스-2"><a class="markdownIt-Anchor" href="#소스-2"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> debounceFunction = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> timeWindow = <span class="number">500</span> <span class="comment">// 여기에 시간(ms)을 지정한다</span></span><br><span class="line">  <span class="keyword">var</span> timeout</span><br><span class="line">  <span class="comment">// ES6 이하일 경우 ...args에 호출할 parameter 만큼 준다 function(arg1, arg2...)</span></span><br><span class="line">  <span class="keyword">var</span> debounceFunction = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 여기에 로직을 구현한다</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">arguments</span></span><br><span class="line"></span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      debounceFunction.apply(context, args)</span><br><span class="line">    &#125;, timeWindow)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 사용법</span></span><br><span class="line">debounceFunction(param1, param2)</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>즐겨 사용하는 sublime text package 인 <a href="https://packagecontrol.io/packages/JavaScript%20Patterns" target="_blank" rel="external nofollow noopener noreferrer">javascript patterns</a>에서 참조했다.</p><p><a href="https://lodash.com/" target="_blank" rel="external nofollow noopener noreferrer">lodash</a>를 사용한다면 <a href="https://lodash.com/docs/4.17.2#debounce" target="_blank" rel="external nofollow noopener noreferrer">debounce</a>, <a href="https://lodash.com/docs/4.17.2#throttle" target="_blank" rel="external nofollow noopener noreferrer">throttle</a>로 더 쉽게 사용할 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> lodash </tag>
            
            <tag> throttle </tag>
            
            <tag> debounce </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UMD Patterns</title>
      <link href="/2016/12/22/UMD-Patterns/"/>
      <url>/2016/12/22/UMD-Patterns/</url>
      
        <content type="html"><![CDATA[<p>UMD (Universal Module Definition) Pattern 이란<br>AMD (requireJS), CommonJS (node), 일반 browser 환경에서 통합해서 쓸 수 있는 javascript module pattern 이다.</p><p>jQuery, moment, D3 등의 라이브러리에서도 해당 패턴을 사용한다.</p><h1 id="예제-jqeury-종속형"><a class="markdownIt-Anchor" href="#예제-jqeury-종속형"></a> 예제 - jQeury 종속형</h1><p>새로 만들 예제의 모듈명은 module1 이고 jQuery 에 종속적이라고 가정한다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">"function"</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">    <span class="comment">// AMD 환경</span></span><br><span class="line">    define([<span class="string">"exports"</span>, <span class="string">"jquery"</span>], factory)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> exports === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> exports.nodeName !== <span class="string">"string"</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="comment">// CommonJS 환경</span></span><br><span class="line">    factory(exports, <span class="built_in">require</span>(<span class="string">"jquery"</span>))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 일반 브라우저</span></span><br><span class="line">    factory((global.module1 = global.module1 || &#123;&#125;), global.$)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="keyword">this</span>, <span class="function"><span class="keyword">function</span>(<span class="params">exports, $</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// module1의 private 기능 구현</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// exports에 public function을 붙혀주면 된다.</span></span><br><span class="line">  exports.action = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>종속되는 모듈을 추가하려면, AMD 는 배열안에, commonJS 와 일반은 파라미터로 추가한 뒤 12 번째 줄의 콜백함수 안에 원하는 변수로 받으면 된다.</p><h1 id="예제-기본형"><a class="markdownIt-Anchor" href="#예제-기본형"></a> 예제 - 기본형</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">"function"</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">    define([<span class="string">"exports"</span>], factory)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> exports === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> exports.nodeName !== <span class="string">"string"</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    factory(exports)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    factory((global.module1 = global.module1 || &#123;&#125;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="keyword">this</span>, <span class="function"><span class="keyword">function</span>(<span class="params">exports</span>) </span>&#123;</span><br><span class="line">  exports.action = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>즉시실행 함수에 window 객체와 함수를 파라미터로 보내서 전역 객체를 생성하는 방식이다.</p><h1 id="예제-3-항연산자-사용"><a class="markdownIt-Anchor" href="#예제-3-항연산자-사용"></a> 예제 - 3 항연산자 사용</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">typeof</span> exports === <span class="string">'object'</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">'undefined'</span> ? factory(exports) :</span><br><span class="line">    <span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd ? define([<span class="string">'exports'</span>], factory) :</span><br><span class="line">    (factory((global.module1 = global.module1 || &#123;&#125;)));</span><br><span class="line">&#125;(<span class="keyword">this</span>, (<span class="function"><span class="keyword">function</span> (<span class="params">exports</span>) </span>&#123;</span><br><span class="line">    exports.action = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>window 객체 안에 모듈이 선언되므로, module1.action(); 으로 바로 호출해 사용하면 된다.</p><p>더 자세한 설명을 보고싶다면 <a href="https://github.com/umdjs/umd" target="_blank" rel="external nofollow noopener noreferrer">umd</a>를 참조하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> umd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsonp function</title>
      <link href="/2016/12/22/jsonp-function/"/>
      <url>/2016/12/22/jsonp-function/</url>
      
        <content type="html"><![CDATA[<p>jsonp (json with padding)은 다른 서버의 데이터를 내 브라우저에서 호출하기 위해 사용한다.<br>client 에서 callback 함수명과 전송할 값을 같이 보내어 server 에서 callback 함수 안에 data 를 담아 반환하는 방식이다.</p><p>전송할 값을 보낼 때, script 태그를 사용한다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonp</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callbackName = <span class="string">"jsonp_"</span> + <span class="built_in">Math</span>.round(<span class="number">100000</span> * <span class="built_in">Math</span>.random())</span><br><span class="line">  <span class="built_in">window</span>[callbackName] = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">delete</span> <span class="built_in">window</span>[callbackName]</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(script)</span><br><span class="line">    callback(data)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>)</span><br><span class="line">  script.src = url + (url.indexOf(<span class="string">"?"</span>) &gt;= <span class="number">0</span> ? <span class="string">"&amp;"</span> : <span class="string">"?"</span>) + <span class="string">"callback="</span> + callbackName</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>stackoverflow 에서 가져온 소스인데 현재 출처를 찾을 수 없다.</p><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>임의의 함수명으로 callback 함수를 생성한 뒤 script 태그를 생성해 server 와 통신한다.</p><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jsonp(<span class="string">"http://aaa.com?data="</span> + data, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>jQuery 가 있다면 <a href="https://api.jquery.com/jquery.ajax/#jQuery-ajax-settings" target="_blank" rel="external nofollow noopener noreferrer">jQuery ajax</a>의 dataType 을 jsonp 로 설정해주면 되고,<br>요새는 CORS 를 적용해 그냥 호출하는 방식으로 가는 추세다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> jsonp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Object freeze, seal, preventExtensions - 객체 수정 제어</title>
      <link href="/2016/12/22/Object-freeze-seal-preventExtensions-%EA%B0%9D%EC%B2%B4-%EC%88%98%EC%A0%95-%EC%A0%9C%EC%96%B4/"/>
      <url>/2016/12/22/Object-freeze-seal-preventExtensions-%EA%B0%9D%EC%B2%B4-%EC%88%98%EC%A0%95-%EC%A0%9C%EC%96%B4/</url>
      
        <content type="html"><![CDATA[<p>es5 부터 객체의 수정을 제어할 수 있다.<br>ie9 부터 지원하고, ie8 은 <a href="https://github.com/es-shims/es5-shim" target="_blank" rel="external nofollow noopener noreferrer">es5-sham</a>을 추가하면 된다.</p><h1 id="freeze-method"><a class="markdownIt-Anchor" href="#freeze-method"></a> freeze method</h1><p>객체를 불변으로 만든다.</p><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> frozenObject = &#123;</span><br><span class="line">  value1: <span class="number">1</span>,</span><br><span class="line">  value2: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.freeze(frozenObject)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(frozenObject)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 삭제 불가</span></span><br><span class="line"><span class="keyword">delete</span> frozenObject.value1</span><br><span class="line"><span class="built_in">console</span>.log(frozenObject.value1) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 변경 불가</span></span><br><span class="line">frozenObject.value2 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(frozenObject.value2) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 객체 추가 불가</span></span><br><span class="line">frozenObject.value3 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(frozenObject.value3) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h1 id="seal-method"><a class="markdownIt-Anchor" href="#seal-method"></a> seal method</h1><p>확장, 축소는 불가능하지만 writable 쓰기 가능하다.</p><h2 id="예제-2"><a class="markdownIt-Anchor" href="#예제-2"></a> 예제</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sealedObject = &#123;</span><br><span class="line">  value1: <span class="number">1</span>,</span><br><span class="line">  value2: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.seal(sealedObject)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(sealedObject)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 삭제 불가</span></span><br><span class="line"><span class="keyword">delete</span> sealedObject.value1</span><br><span class="line"><span class="built_in">console</span>.log(sealedObject.value1) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 변경 가능</span></span><br><span class="line">sealedObject.value2 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(sealedObject.value2) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 객체 추가 불가</span></span><br><span class="line">sealedObject.value3 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(sealedObject.value3) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h1 id="preventextensions-method"><a class="markdownIt-Anchor" href="#preventextensions-method"></a> preventExtensions method</h1><p>확장만 불가능하다.</p><h2 id="예제-3"><a class="markdownIt-Anchor" href="#예제-3"></a> 예제</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> preventExtensionObject = &#123;</span><br><span class="line">  value1: <span class="number">1</span>,</span><br><span class="line">  value2: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(preventExtensionObject)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isExtensible(preventExtensionObject)) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 삭제 가능</span></span><br><span class="line"><span class="keyword">delete</span> preventExtensionObject.value1</span><br><span class="line"><span class="built_in">console</span>.log(preventExtensionObject.value1) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 변경 가능</span></span><br><span class="line">preventExtensionObject.value2 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(preventExtensionObject.value2) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 객체 추가 불가</span></span><br><span class="line">preventExtensionObject.value3 = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(preventExtensionObject.value3) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>불변하게 하려면 얼리고,<br>수정이 가능하게 하려면 봉인하고<br>추가만 불가능하게 하려면 확장방지하자</p><p>client 에서 객체 변조를 못하게 전역변수를 얼려버리자</p><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>freeze 는 중첩된 object 에 적용이 안 되는데,<br>이 때 deepFreeze 함수를 사용해 재귀적으로 객체를 얼려버리면 된다.</p><h2 id="deepfreeze-method"><a class="markdownIt-Anchor" href="#deepfreeze-method"></a> deepFreeze method</h2><p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" rel="external nofollow noopener noreferrer">mdn</a>을 참조했다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepFreeze</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">Object</span>.isFrozen(obj)) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.freeze(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      &#123;&#125;.hasOwnProperty.call(obj, key) ||</span><br><span class="line">      !(<span class="keyword">typeof</span> obj[key] === <span class="string">"function"</span> || (<span class="keyword">typeof</span> obj[key] === <span class="string">"object"</span> &amp;&amp; !!obj[key]))</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    deepFreeze(obj[key])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> es5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript 기본값 연산자 (축약된 삼항연산자)</title>
      <link href="/2016/12/22/Javascript-%EA%B8%B0%EB%B3%B8%EA%B0%92-%EC%97%B0%EC%82%B0%EC%9E%90-%EC%B6%95%EC%95%BD%EB%90%9C-%EC%82%BC%ED%95%AD%EC%97%B0%EC%82%B0%EC%9E%90/"/>
      <url>/2016/12/22/Javascript-%EA%B8%B0%EB%B3%B8%EA%B0%92-%EC%97%B0%EC%82%B0%EC%9E%90-%EC%B6%95%EC%95%BD%EB%90%9C-%EC%82%BC%ED%95%AD%EC%97%B0%EC%82%B0%EC%9E%90/</url>
      
        <content type="html"><![CDATA[<h1 id="javascript-기본값-연산자-축약된-삼항연산자"><a class="markdownIt-Anchor" href="#javascript-기본값-연산자-축약된-삼항연산자"></a> Javascript 기본값 연산자 (축약된 삼항연산자)</h1><p>한번 쓰면 헤어나올 수 없는 기본값 연산자에 대해 알아보자.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JavaScript syntax to set a default value</span></span><br><span class="line"><span class="keyword">var</span> text = someString || <span class="string">"default text"</span></span><br><span class="line"><span class="keyword">var</span> text2 = someString || someString2 || <span class="string">"default text2"</span></span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><p>someString 이 있으면 someString 을 반환, 아니면 default text 를 반환한다.<br>계속 붙혀나가면서 쓸 수 있다.</p><p>php7 에서는 해당 기능이 추가되었다. <strong>||</strong> 대신에 <strong>??</strong> 를 사용하면 된다.</p><p>lodash 에선 <a href="https://lodash.com/docs/4.17.2#defaultTo" target="_blank" rel="external nofollow noopener noreferrer">defaultTo</a>를 사용하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>링크 클릭시 return false가 페이지에 그대로 출력될 때</title>
      <link href="/2016/12/22/%EB%A7%81%ED%81%AC-%ED%81%B4%EB%A6%AD%EC%8B%9C-return-false%EA%B0%80-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%A0-%EB%95%8C/"/>
      <url>/2016/12/22/%EB%A7%81%ED%81%AC-%ED%81%B4%EB%A6%AD%EC%8B%9C-return-false%EA%B0%80-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EC%B6%9C%EB%A0%A5%EB%90%A0-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<p>링크를 클릭했는데, 페이지에 <code>return false;</code>가 찍혀나오는 경우가 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 페이지에 return false;가 출력됨 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript:test();'</span>&gt;</span>테스트<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 대체 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript://'</span> <span class="attr">onClick</span>=<span class="string">'test();'</span>&gt;</span>테스트<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>a href 속성 안에 javascript 를 사용시 발생한다.<br>javascript 호출문인 onClick 을 이용하자.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>페이징시 Row의 순번(인덱스) 구하기</title>
      <link href="/2016/12/22/%ED%8E%98%EC%9D%B4%EC%A7%95%EC%8B%9C-Row%EC%9D%98-%EC%88%9C%EB%B2%88-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EA%B5%AC%ED%95%98%EA%B8%B0/"/>
      <url>/2016/12/22/%ED%8E%98%EC%9D%B4%EC%A7%95%EC%8B%9C-Row%EC%9D%98-%EC%88%9C%EB%B2%88-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EA%B5%AC%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>전체 레코드 수와 현재 페이지 번호, 페이지에 표시되는 레코드의 수를 안다면 쉽게 구할 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> totalCount</span><br><span class="line"><span class="keyword">var</span> currentPageNum</span><br><span class="line"><span class="keyword">var</span> shownRowNum</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = data.length; i &lt; len; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="built_in">Number</span>(totalCount) - (i + (currentPageNum - <span class="number">1</span>) * shownRowNum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>매번 공식을 알아내는게 귀찮아서 포스팅</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cross Domain Login 중 세션 생성시 IE 오류</title>
      <link href="/2016/12/22/Cross-Domain-Login-%EC%A4%91-%EC%84%B8%EC%85%98-%EC%83%9D%EC%84%B1%EC%8B%9C-IE-%EC%98%A4%EB%A5%98/"/>
      <url>/2016/12/22/Cross-Domain-Login-%EC%A4%91-%EC%84%B8%EC%85%98-%EC%83%9D%EC%84%B1%EC%8B%9C-IE-%EC%98%A4%EB%A5%98/</url>
      
        <content type="html"><![CDATA[<p><a href="http://aaa.com" target="_blank" rel="external nofollow noopener noreferrer">aaa.com</a> 에서 <a href="http://bbb.com" target="_blank" rel="external nofollow noopener noreferrer">bbb.com</a> 의 세션을 jsonp 방식을 활용해서 생성하고 싶을 때,<br>유독 IE 에서만 세션 생성이 안되는 경우가 있다.</p><p>이는 P3P (Platform for Personal Preferences) 규약이 적용되어 세션을 가져오지 않는 것인데, 아래와 같은 방법으로 해결할 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 세션을 만들어줄 서버에서 P3P 헤더를 설정 --&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">'P3P: CP="CAO PSA OUR"'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;!-- 세션을 가지고 오는 클라이언트 요청--&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">'cross domain session create url'</span>,</span><br><span class="line">    type:<span class="string">'post'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        token1 : <span class="string">'token1'</span>,</span><br><span class="line">        token2 : <span class="string">'token2'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    dataType:<span class="string">'jsonp'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> <span class="params">(result)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> javascript </tag>
            
            <tag> session </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>가장 빠른 배열 중복 제거 알고리즘</title>
      <link href="/2016/12/22/%EA%B0%80%EC%9E%A5-%EB%B9%A0%EB%A5%B8-%EB%B0%B0%EC%97%B4-%EC%A4%91%EB%B3%B5-%EC%A0%9C%EA%B1%B0-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/"/>
      <url>/2016/12/22/%EA%B0%80%EC%9E%A5-%EB%B9%A0%EB%A5%B8-%EB%B0%B0%EC%97%B4-%EC%A4%91%EB%B3%B5-%EC%A0%9C%EA%B1%B0-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/</url>
      
        <content type="html"><![CDATA[<h1 id="가장-빠른-배열-중복-제거-알고리즘"><a class="markdownIt-Anchor" href="#가장-빠른-배열-중복-제거-알고리즘"></a> 가장 빠른 배열 중복 제거 알고리즘</h1><p>통계 사용시에 중복을 제거해야하는 경우가 있다.</p><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @author http://www.shamasis.net/2009/09/fast-algorithm-to-find-unique-items-in-javascript-array/</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// prototype</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;&#125;, i, r = [];</span><br><span class="line">    <span class="keyword">var</span> l = <span class="keyword">this</span>.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; l; i++) &#123;</span><br><span class="line">      o[<span class="keyword">this</span>[i]] = <span class="keyword">this</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> o) &#123;</span><br><span class="line">      r.push(o[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function</span></span><br><span class="line"><span class="keyword">var</span> uniqueArray = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;&#125;, i, r=[];</span><br><span class="line">    <span class="keyword">var</span> l = arr.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; l; i++) &#123;</span><br><span class="line">      o[arr[i]] = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> o) &#123;</span><br><span class="line">      r.push(o[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> testArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">testArray = testArray.unique()</span><br><span class="line">testArray = uniqueArray(testArray)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(testArray) <span class="comment">// [ 1, 2, 3 ];</span></span><br></pre></td></tr></table></figure><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>언더스코어를 알게된 후로는 <a href="https://lodash.com/" target="_blank" rel="external nofollow noopener noreferrer">lodash</a>의 <a href="https://lodash.com/docs/4.17.2#uniq" target="_blank" rel="external nofollow noopener noreferrer">uniq</a>나 <a href="https://lodash.com/docs/4.17.2#uniqBy" target="_blank" rel="external nofollow noopener noreferrer">uniqBy</a>를 사용한다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> lodash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript Unix Timestamp</title>
      <link href="/2016/12/22/Javascript-Unix-Timestamp/"/>
      <url>/2016/12/22/Javascript-Unix-Timestamp/</url>
      
        <content type="html"><![CDATA[<p>API 통신시 Unix Timestamp가 필요한 경우가 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// === PHP time();</span></span><br><span class="line"><span class="keyword">var</span> timestamp = <span class="built_in">Math</span>.round(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / <span class="number">1000</span>)</span><br><span class="line"><span class="comment">// 또는</span></span><br><span class="line"><span class="comment">// new Date().getTime() 을 Date.now() 로 바꿀 수 있다.</span></span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>lodash 라이브러리를 사용하면 <strong>_.now()</strong> 함수로 현재 타임스탬프를 가져올 수 있다.<br>소스처럼 1,000으로 나눠줘야한다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> timestamp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>숫자 3자리 단위로 comma 추가 - 정규식 활용</title>
      <link href="/2016/12/21/%EC%88%AB%EC%9E%90-3%EC%9E%90%EB%A6%AC-%EB%8B%A8%EC%9C%84%EB%A1%9C-comma-%EC%B6%94%EA%B0%80-%EC%A0%95%EA%B7%9C%EC%8B%9D-%ED%99%9C%EC%9A%A9/"/>
      <url>/2016/12/21/%EC%88%AB%EC%9E%90-3%EC%9E%90%EB%A6%AC-%EB%8B%A8%EC%9C%84%EB%A1%9C-comma-%EC%B6%94%EA%B0%80-%EC%A0%95%EA%B7%9C%EC%8B%9D-%ED%99%9C%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">comma</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num.toString().replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">","</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// prototype</span></span><br><span class="line"><span class="built_in">Number</span>.prototype.format = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.toString().replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">","</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>첫번째는 함수 호출방식이고, 두번째는 NumberValue.format(); 으로 호출하면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>숫자를 한글 숫자로 변환</title>
      <link href="/2016/12/21/%EC%88%AB%EC%9E%90%EB%A5%BC-%ED%95%9C%EA%B8%80-%EC%88%AB%EC%9E%90%EB%A1%9C-%EB%B3%80%ED%99%98/"/>
      <url>/2016/12/21/%EC%88%AB%EC%9E%90%EB%A5%BC-%ED%95%9C%EA%B8%80-%EC%88%AB%EC%9E%90%EB%A1%9C-%EB%B3%80%ED%99%98/</url>
      
        <content type="html"><![CDATA[<p>가끔 견적서에 한글 숫자를 써야할 때가 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [num2han 숫자를 한글로 변환]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;[integer]&#125;</span> </span>num [숫자]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;[string]&#125;</span>      </span>[한글 숫자]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author </span>http://www.phpschool.com/gnuboard4/bbs/board.php?bo_table=tipntech&amp;wr_id=14981</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> num2han = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i,</span><br><span class="line">    j = <span class="number">0</span>,</span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">  <span class="keyword">var</span> han1 = [<span class="string">""</span>, <span class="string">"일"</span>, <span class="string">"이"</span>, <span class="string">"삼"</span>, <span class="string">"사"</span>, <span class="string">"오"</span>, <span class="string">"육"</span>, <span class="string">"칠"</span>, <span class="string">"팔"</span>, <span class="string">"구"</span>]</span><br><span class="line">  <span class="keyword">var</span> han2 = [<span class="string">""</span>, <span class="string">"만"</span>, <span class="string">"억"</span>, <span class="string">"조"</span>, <span class="string">"경"</span>, <span class="string">"해"</span>, <span class="string">"시"</span>, <span class="string">"양"</span>, <span class="string">"구"</span>, <span class="string">"간"</span>]</span><br><span class="line">  <span class="keyword">var</span> han3 = [<span class="string">""</span>, <span class="string">"십"</span>, <span class="string">"백"</span>, <span class="string">"천"</span>]</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> hangul = <span class="built_in">String</span>(num)</span><br><span class="line">  <span class="keyword">var</span> pm = <span class="string">""</span> <span class="comment">// 부호</span></span><br><span class="line">  <span class="keyword">var</span> str = [],</span><br><span class="line">    str2 = <span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> strTmp = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Number</span>(num) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"영"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hangul.substring(<span class="number">0</span>, <span class="number">1</span>) === <span class="string">"-"</span>) &#123;</span><br><span class="line">    pm = <span class="string">"마이너스 "</span></span><br><span class="line">    hangul = hangul.substring(<span class="number">1</span>, hangul.length)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hangul.length &gt; han2.length * <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"too much number"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = hangul.length; i &gt; <span class="number">0</span>; i = i - <span class="number">4</span>) &#123;</span><br><span class="line">    str[j] = hangul.substring(i - <span class="number">4</span>, i)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (k = str[j].length; k &gt; <span class="number">0</span>; k--) &#123;</span><br><span class="line">      strTmp[k] = str[j].substring(k - <span class="number">1</span>, k) ? str[j].substring(k - <span class="number">1</span>, k) : <span class="string">""</span></span><br><span class="line">      strTmp[k] = han1[<span class="built_in">parseInt</span>(strTmp[k])]</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (strTmp[k]) &#123;</span><br><span class="line">        strTmp[k] += han3[str[j].length - k]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      str2 = strTmp[k] + str2</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    str[j] = str2</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (str[j]) &#123;</span><br><span class="line">      result = str[j] + han2[j] + result</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4자리마다 한칸씩 띄고 보여준다.</span></span><br><span class="line">    <span class="comment">//result = (str[j])? " "+str[j]+han2[j]+result : " " + result;</span></span><br><span class="line">    j++</span><br><span class="line">    str2 = <span class="string">""</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pm + result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>숫자를 파라미터로 보내 사용하면 변환된 한글 숫자가 리턴된다.<br>출처는 소스상에 남겼다. 해당 스크립트를 문법에 맞게 조금 변경했다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Validation Custom Methods</title>
      <link href="/2016/12/21/jQuery-Validation-Custom-Methods/"/>
      <url>/2016/12/21/jQuery-Validation-Custom-Methods/</url>
      
        <content type="html"><![CDATA[<p>기본적으로 사용하는 기능 외에 custom method 를 추가해서 validation 을 해보자.</p><h1 id="목차"><a class="markdownIt-Anchor" href="#목차"></a> 목차</h1><ol><li>사업자등록번호</li><li>법인등록번호</li><li>바이트 제한</li><li>아이디 체크 (alphanumeric, 숫자 첫글자 불가능)</li><li>비밀번호 체크 (alpah &amp;&amp; (number || special char))</li><li>datetime (YYYY-MM-DD HH:mm:ss)</li><li>date (YYYY-MM-DD)</li><li>Kakaotalk Yellow ID</li><li>alphanumeric (hyphen, underscore, space 포함)</li><li>phone (hyphen 포함)</li><li>mobile (hyphen 포함)</li></ol><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"biznum"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">bizID, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> checkID = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>]</span><br><span class="line">      <span class="keyword">var</span> tmpBizID,</span><br><span class="line">        i,</span><br><span class="line">        chkSum = <span class="number">0</span>,</span><br><span class="line">        c2,</span><br><span class="line">        remander</span><br><span class="line">      bizID = bizID.replace(<span class="regexp">/-/gi</span>, <span class="string">""</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= <span class="number">7</span>; i++) &#123;</span><br><span class="line">        chkSum += checkID[i] * bizID.charAt(i)</span><br><span class="line">      &#125;</span><br><span class="line">      c2 = <span class="string">"0"</span> + checkID[<span class="number">8</span>] * bizID.charAt(<span class="number">8</span>)</span><br><span class="line">      c2 = c2.substring(c2.length - <span class="number">2</span>, c2.length)</span><br><span class="line">      chkSum += <span class="built_in">Math</span>.floor(c2.charAt(<span class="number">0</span>)) + <span class="built_in">Math</span>.floor(c2.charAt(<span class="number">1</span>))</span><br><span class="line">      remander = (<span class="number">10</span> - (chkSum % <span class="number">10</span>)) % <span class="number">10</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="built_in">Math</span>.floor(bizID.charAt(<span class="number">9</span>)) === remander</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"사업자등록번호 형식에 맞지 않습니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"corpnum"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">corpID, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> result = <span class="literal">true</span></span><br><span class="line">      <span class="keyword">if</span> (corpID.length === <span class="number">13</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> arr_regno = corpID.split(<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">var</span> arr_wt = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">        <span class="keyword">var</span> iSum_regno = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> iCheck_digit = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">12</span>; i++) &#123;</span><br><span class="line">          iSum_regno += <span class="built_in">Number</span>(arr_regno[i]) * <span class="built_in">Number</span>(arr_wt[i])</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        iCheck_digit = <span class="number">10</span> - (iSum_regno % <span class="number">10</span>)</span><br><span class="line">        iCheck_digit = iCheck_digit % <span class="number">10</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (iCheck_digit !== arr_regno[<span class="number">12</span>]) &#123;</span><br><span class="line">          result = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || result</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"법인등록번호 형식에 맞지 않습니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"byte"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">str, element, param</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> byte = <span class="number">0</span></span><br><span class="line">      <span class="keyword">var</span> result = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = text.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">escape</span>(text.charAt(i)).length &gt; <span class="number">4</span>) &#123;</span><br><span class="line">          byte = byte + <span class="number">2</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          byte = byte + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (byte &gt; param) &#123;</span><br><span class="line">        result = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || result</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"최대 Byte 값을 넘었습니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// id 체크 (alphanumeric, _- 가능, 숫자가 처음에 올수 없음)</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"user"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">id, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="keyword">this</span>.optional(element) ||</span><br><span class="line">        /^([a-zA-Z])[a-zA-Z_-]*[\w_-]*[\S]$|^([a-zA-Z])[<span class="number">0</span><span class="number">-9</span>_-]*[\S]$|^[a-zA-Z]*[\S]$/.test(</span><br><span class="line">          id</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 아이디 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// pw 영문 &amp;&amp; (숫자 || 특수문자)</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"pass"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">pass, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="keyword">this</span>.optional(element) ||</span><br><span class="line">        /^(?=.*[a-zA-Z])((?=.*\d)|(?=.*\W))./.test(pass)</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 비밀번호 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// datetime 형식</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"datetime"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">datetime, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="keyword">this</span>.optional(element) ||</span><br><span class="line">        /^\d&#123;<span class="number">4</span>&#125;-(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-2</span>])-([<span class="number">0</span><span class="number">-2</span>]\d|<span class="number">3</span>[<span class="number">01</span>]) (<span class="number">0</span>\d|<span class="number">1</span>\d|<span class="number">2</span>[<span class="number">0</span><span class="number">-3</span>]):[<span class="number">0</span><span class="number">-5</span>]\d:[<span class="number">0</span><span class="number">-5</span>]\d$/.test(</span><br><span class="line">          datetime</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 날짜, 시간형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// date 형식</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"date"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">dt, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="keyword">this</span>.optional(element) ||</span><br><span class="line">        /^\d&#123;<span class="number">4</span>&#125;-(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-2</span>])-([<span class="number">0</span><span class="number">-2</span>]\d|<span class="number">3</span>[<span class="number">01</span>])$/.test(dt)</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 날짜 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 옐로아이디 형식</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"yellowid"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">yid, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^@[\W|\w]&#123;2,15&#125;/</span>.test(yid)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 옐로아이디가 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// alpahnumeric _ - space</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"alphanumeric"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">v, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^[a-zA-Z\d\-_\s]+$/</span>.test(v)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 하이픈을 포함한 전화번호</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"phone"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">p, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^\d&#123;2,3&#125;-\d&#123;3,4&#125;-\d&#123;4&#125;$/</span>.test(p)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 전화번호 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 하이픈을 포함한 휴대폰 번호</span></span><br><span class="line">  $.validator.addMethod(</span><br><span class="line">    <span class="string">"mobile"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">m, element</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="keyword">this</span>.optional(element) ||</span><br><span class="line">        /^<span class="number">01</span>([<span class="number">0</span>|<span class="number">1</span>|<span class="number">6</span>|<span class="number">7</span>|<span class="number">8</span>|<span class="number">9</span>]?)-(\d&#123;<span class="number">3</span>,<span class="number">4</span>&#125;)-(\d&#123;<span class="number">4</span>&#125;)$/.test(m)</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"올바른 휴대폰 번호 형식이 아닙니다"</span></span><br><span class="line">  )</span><br><span class="line">&#125;)(jQuery)</span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>biznum, byte…와 같은 속성을 추가해 사용하면 된다.<br>필요한 부분만 복사해 가져가도 되고.</p><h1 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'form'</span>).validate(&#123;</span><br><span class="line">    rules:&#123;</span><br><span class="line">        text_field: &#123;<span class="attr">byte</span>:<span class="number">80</span>&#125;,</span><br><span class="line">        date_field: &#123;<span class="attr">date</span>:<span class="literal">true</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    messages:&#123;</span><br><span class="line">        text_field: &#123;<span class="attr">byte</span>:<span class="string">'80자 초과'</span>&#125;</span><br><span class="line">        date_field: &#123;<span class="attr">date</span>:<span class="string">'날짜 형식 아님'</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>byte check 의 함수 로직이 많지만, 한글 및 특수문자를 2byte 로 정확히 체크해주는 것은 위의 함수 뿐이였다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> validation </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> validation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Validation과 Materialize의 연동</title>
      <link href="/2016/12/21/jQuery-Validation%EA%B3%BC-Materialize%EC%9D%98-%EC%97%B0%EB%8F%99/"/>
      <url>/2016/12/21/jQuery-Validation%EA%B3%BC-Materialize%EC%9D%98-%EC%97%B0%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<p><strong>jQuery Validation with Materialize CSS</strong><br>Materialize CSS 와 연동해 사용할 수 있다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// p 태그를 이용하는 방법</span></span><br><span class="line">$.validator.setDefaults(&#123;</span><br><span class="line">  errorClass: <span class="string">"invalid form-error red-text"</span>,</span><br><span class="line">  errorElement: <span class="string">"p"</span>,</span><br><span class="line">  errorPlacement: <span class="function"><span class="keyword">function</span> (<span class="params">error, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> e = element.get(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> (e.type === <span class="string">"radio"</span> || e.type === <span class="string">"checkbox"</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> $a = error.appendTo(element.parent())</span><br><span class="line">      $a.css(&#123; <span class="string">"margin-top"</span>: <span class="string">"10px"</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      error.appendTo(element.parent())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 더 예쁜 방법</span></span><br><span class="line">$.validator.setDefaults(&#123;</span><br><span class="line">  errorClass: <span class="string">"invalid"</span>,</span><br><span class="line">  validClass: <span class="string">"valid"</span>,</span><br><span class="line">  errorPlacement: <span class="function"><span class="keyword">function</span> (<span class="params">error, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $label = $(element)</span><br><span class="line">      .closest(<span class="string">"form"</span>)</span><br><span class="line">      .find(<span class="string">"label[for='"</span> + element.attr(<span class="string">"id"</span>) + <span class="string">"']"</span>)</span><br><span class="line"></span><br><span class="line">    $label.attr(<span class="string">"data-error"</span>, error.text())</span><br><span class="line">    $label.addClass(<span class="string">"active"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h1><p>bootstrap tooltip 을 활용한 validation 처럼 toast 를 활용한 플러그인이 나오면 좋으련만…</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> validation </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> materialize </tag>
            
            <tag> validation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Validation Error Handling 및 focus, target 설정</title>
      <link href="/2016/12/21/jQuery-Validation-Error-Handling-%EB%B0%8F-focus-target-%EC%84%A4%EC%A0%95/"/>
      <url>/2016/12/21/jQuery-Validation-Error-Handling-%EB%B0%8F-focus-target-%EC%84%A4%EC%A0%95/</url>
      
        <content type="html"><![CDATA[<p>기본 기능만으론 checkbox 나 radio 사용시에 첫번째 element 뒤에 글자가 삽입이 되서 위치를 지정해주어야한다.</p><h1 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$.validator.setDefaults(&#123;</span></span><br><span class="line"><span class="actionscript">    onfocusout: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">    invalidHandler: <span class="function"><span class="keyword">function</span> <span class="params">(form, validator)</span> </span>&#123; <span class="comment">// 커스텀 포커스 핸들링</span></span></span><br><span class="line">        if (validator.numberOfInvalids()) &#123;</span><br><span class="line">            validator.errorList[0].element.focus();</span><br><span class="line"><span class="actionscript">            <span class="comment">//alert(validator.errorList[0].message); // 경고창</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="actionscript">    errorClass:<span class="string">'text-danger'</span>, <span class="comment">// 에러 스타일을 입힐 클래스 지정</span></span></span><br><span class="line"><span class="actionscript">    errorPlacement : <span class="function"><span class="keyword">function</span> <span class="params">(error, element)</span></span>&#123; <span class="comment">// data-error 속성으로 해당 위치 삽입</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> placement = $(element).data(<span class="string">'error'</span>);</span></span><br><span class="line">        if (placement) &#123;</span><br><span class="line"><span class="javascript">            $(placement).append(error);</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 없을경우 마지막노드 뒤에 삽입</span></span></span><br><span class="line">            element.parent().children().last().after(error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- data-error 속성 사용 예시 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">data-error</span>=<span class="string">"#id_error"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"id_error"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>data-error attribute 를 통해 원하는 위치에 에러를 띄울 수 있고,<br>그렇지 않을 경우 마지막 노드 뒤에 에러를 출력한다.</p><p>7 줄에 주석을 지우면 첫번째 오류를 alert 으로 띄울 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> validation </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> validation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>비동기 이미지 업로드 - 리사이징 및 이미지 회전을 포함</title>
      <link href="/2016/12/21/%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%EB%A6%AC%EC%82%AC%EC%9D%B4%EC%A7%95-%EB%B0%8F-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%9A%8C%EC%A0%84%EC%9D%84-%ED%8F%AC%ED%95%A8/"/>
      <url>/2016/12/21/%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%EB%A6%AC%EC%82%AC%EC%9D%B4%EC%A7%95-%EB%B0%8F-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%9A%8C%EC%A0%84%EC%9D%84-%ED%8F%AC%ED%95%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="비동기-이미지-업로드"><a class="markdownIt-Anchor" href="#비동기-이미지-업로드"></a> 비동기 이미지 업로드</h1><p>비동기 업로드를 이용하면 멀티 이미지 업로드나 모바일 이미지 업로드를 쉽게 처리할 수 있다.</p><p>모바일 이미지 업로드시에는 <em>exif</em> 속성에 따라 (카메라로 찍은 방향에 따라) 이미지가 회전되어서 올라가게 되고, 비율로 이미지를 표시해야 되기 때문에 리사이징이 필요하다.</p><p>이 부분은 <a href="https://github.com/blueimp/JavaScript-Load-Image" target="_blank" rel="external nofollow noopener noreferrer">load-image</a> 모듈을 사용하면 다 해결된다.<br>아니라면… 사진 값을 바이너리로 읽어 처리해야한다.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bower install https://github.com/blueimp/JavaScript-Load-Image.git --save</span></span><br><span class="line">$ yarn add blueimp-load-image</span><br></pre></td></tr></table></figure><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> imageModule = (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="meta">    'use strict'</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> possible = <span class="built_in">window</span>.File &amp;&amp; <span class="built_in">window</span>.FileReader &amp;&amp; <span class="built_in">window</span>.FormData; <span class="comment">// html5 업로드를 지원하는지의 여부</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> apiPath = <span class="string">'/api/test.php'</span>; <span class="comment">// 업로드 서버 처리 경로</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> folder = <span class="string">'/upload/review/'</span>; <span class="comment">// 기본 이미지 업로드 폴더</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> $input;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> maxWidth = <span class="number">600</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> maxHeight = <span class="number">480</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> imageArray = []; <span class="comment">// callback에 사용할 이미지 파일명 배열</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> callback;</span></span><br><span class="line">    /**</span><br><span class="line">     * [sendImageFile 이미지 비동기 업로드]</span><br><span class="line"><span class="actionscript">     * @scope  &#123;[<span class="keyword">private</span>]&#125;</span></span><br><span class="line">     * @param  &#123;[string]&#125;    imageData     [이미지 binary]</span><br><span class="line">     * @return &#123;[function]&#125;  callback      [업로드 후처리]</span><br><span class="line">     */</span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">sendImageFile</span><span class="params">(imageData)</span> </span>&#123;</span></span><br><span class="line">      if (imageData) &#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> formData = <span class="keyword">new</span> FormData();</span></span><br><span class="line"><span class="actionscript">        formData.append(<span class="string">'type'</span>, <span class="string">'upload'</span>);</span></span><br><span class="line"><span class="actionscript">        formData.append(<span class="string">'folder'</span>, folder);</span></span><br><span class="line"><span class="actionscript">        formData.append(<span class="string">'imageData'</span>, imageData);</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">            type: <span class="string">'post'</span>,</span></span><br><span class="line">            url: apiPath,</span><br><span class="line">            data: formData,</span><br><span class="line"><span class="actionscript">            dataType: <span class="string">'json'</span>,</span></span><br><span class="line"><span class="actionscript">            contentType: <span class="literal">false</span>, <span class="comment">// contentType header 제거</span></span></span><br><span class="line"><span class="actionscript">            processData: <span class="literal">false</span>, <span class="comment">// Dom 객체를 전송하려면 false 처리해야함</span></span></span><br><span class="line">          &#125;)</span><br><span class="line"><span class="actionscript">          .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line">            if (data.data) &#123;</span><br><span class="line"><span class="actionscript">              imageArray.push(data.data.file); <span class="comment">// 이미지 배열에 저장</span></span></span><br><span class="line"><span class="actionscript">              $input.val(<span class="string">''</span>);</span></span><br><span class="line">              if (callback) &#123;</span><br><span class="line">                callback(imageArray);</span><br><span class="line"><span class="actionscript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">'callback function not initialized'</span>);</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line"><span class="actionscript">          .catch(<span class="function"><span class="keyword">function</span> <span class="params">(error)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"upload fail: "</span>, error);</span></span><br><span class="line">          &#125;);</span><br><span class="line"><span class="actionscript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'image data is null'</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line">      /**</span><br><span class="line">       * [init 이미지 모듈 초기화]</span><br><span class="line">       * @param  &#123;[string]&#125; fileId       [변경할 input id]</span><br><span class="line">       * @param  &#123;[function]&#125; callbackFunc [후처리]</span><br><span class="line">       * @param  &#123;[object]&#125; settings     [width, height, folder 설정가능]</span><br><span class="line">       */</span><br><span class="line"><span class="actionscript">      init: <span class="function"><span class="keyword">function</span> <span class="params">(fileId, callbackFunc, settings)</span> </span>&#123;</span></span><br><span class="line">        if (possible) &#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">if</span> (<span class="keyword">typeof</span> settings === <span class="string">'object'</span>) &#123;</span></span><br><span class="line">            if (settings.width) &#123;</span><br><span class="line">              maxWidth = settings.width;</span><br><span class="line">            &#125;</span><br><span class="line">            if (settings.height) &#123;</span><br><span class="line">              maxHeight = settings.height;</span><br><span class="line">            &#125;</span><br><span class="line">            if (settings.folder) &#123;</span><br><span class="line">              folder = settings.folder;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> ($.isFunction(callbackFunc)) &#123;</span></span><br><span class="line">            callback = callbackFunc;</span><br><span class="line"><span class="actionscript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'callback is not defined'</span>);</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="actionscript">            maxWidth: maxWidth, <span class="comment">// resize width 값</span></span></span><br><span class="line"><span class="actionscript">            maxHeight: maxHeight, <span class="comment">// resize height 값</span></span></span><br><span class="line"><span class="actionscript">            canvas: <span class="literal">true</span>, <span class="comment">// 사진을 돌리려면 canvas 객체로 받아야함</span></span></span><br><span class="line"><span class="actionscript">            downsamplingRatio: <span class="number">0.5</span> <span class="comment">// 비율에 맞추어 크기 감소</span></span></span><br><span class="line">          &#125;;</span><br><span class="line"><span class="javascript">          $input = $(<span class="string">'#'</span> + fileId);</span></span><br><span class="line"><span class="actionscript">          $input.on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span> </span>&#123;</span></span><br><span class="line">            e.preventDefault();</span><br><span class="line">            e = e.originalEvent;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> target = e.dataTransfer || e.target;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> file = target &amp;&amp; target.files &amp;&amp; target.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">            loadImage.parseMetaData(file, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123; <span class="comment">// exif js를 사용해 이미지의 tag를 가져옴</span></span></span><br><span class="line">              if (data.exif) &#123;</span><br><span class="line"><span class="actionscript">                options.orientation = data.exif.get(<span class="string">'Orientation'</span>); <span class="comment">// 화면이 돌아간 비율을 지정</span></span></span><br><span class="line"><span class="actionscript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                if (options.orientation) &#123;</span><br><span class="line"><span class="actionscript">                  options.orientation = <span class="literal">null</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line"><span class="actionscript">              <span class="comment">// 캔버스 이미지 리사이징 처리 후 서버호출</span></span></span><br><span class="line"><span class="actionscript">              loadImage(file, <span class="function"><span class="keyword">function</span> <span class="params">(img)</span> </span>&#123;</span></span><br><span class="line">                sendImageFile(img.toDataURL());</span><br><span class="line">              &#125;, options);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">'file upload is not supported'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      /**</span><br><span class="line">       * [getFolder 업로드 경로 호출]</span><br><span class="line"><span class="actionscript">       * @<span class="keyword">return</span> &#123;[string]&#125; [경로]</span></span><br><span class="line">       */</span><br><span class="line"><span class="actionscript">      getFolder: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> folder;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      /**</span><br><span class="line"><span class="actionscript">       * [<span class="keyword">delete</span> 이미지 삭제]</span></span><br><span class="line">       * @param  &#123;[number]&#125;    idx          [이미지 배열의 인덱스]</span><br><span class="line">       * @param &#123;[function]&#125;  callbackFunc  [delete 후처리]</span><br><span class="line">       */</span><br><span class="line"><span class="actionscript">      <span class="keyword">delete</span>: <span class="function"><span class="keyword">function</span> <span class="params">(idx, callbackFunc)</span> </span>&#123;</span></span><br><span class="line">        if (imageArray[idx]) &#123;</span><br><span class="line"><span class="javascript">          $.ajax(&#123;</span></span><br><span class="line">              url: apiPath,</span><br><span class="line"><span class="actionscript">              type: <span class="string">'post'</span>,</span></span><br><span class="line">              data: &#123;</span><br><span class="line"><span class="actionscript">                type: <span class="string">'delete'</span>,</span></span><br><span class="line">                folder: folder,</span><br><span class="line">                filename: imageArray[idx],</span><br><span class="line">              &#125;,</span><br><span class="line"><span class="actionscript">              dataType: <span class="string">'json'</span></span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">'file delete success'</span>);</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">              <span class="keyword">if</span> ($.isFunction(callbackFunc)) &#123;</span></span><br><span class="line">                callbackFunc(data);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            .catch(<span class="function"><span class="keyword">function</span> <span class="params">(error)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(<span class="string">'server file delete failed'</span>);</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(error);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">            .done(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line">              imageArray.splice(idx, 1);</span><br><span class="line"><span class="actionscript">              $input.val(<span class="string">''</span>);</span></span><br><span class="line">              if (callback) &#123;</span><br><span class="line">                callback(imageArray);</span><br><span class="line"><span class="actionscript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">'callback function not initialized'</span>);</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">'delete index not defined'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      clear: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'clear array'</span>);</span></span><br><span class="line">        imageArray = [];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;());</span><br><span class="line"><span class="javascript">  $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    imageModule.init(<span class="string">'fileInput'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> folder = imageModule.getFolder();</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = data.length; i &lt; len; i++) &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        str += '<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"' + folder + data[i] + '"</span> <span class="attr">style</span>=<span class="string">"width:100%;height:100%;"</span>&gt;</span>';</span></span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      $(<span class="string">'#area'</span>).html(str);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">'#fileData'</span>).val(<span class="built_in">JSON</span>.stringify(data));</span></span><br><span class="line">    &#125;, &#123;&#125;);</span><br><span class="line"><span class="actionscript">    <span class="comment">// options, width height folder..</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// &#123;width:500, height:300, folder:'/upload/board/'&#125;</span></span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="actionscript">  <span class="comment">// after insert into database</span></span></span><br><span class="line"><span class="javascript">  $(<span class="string">'#area'</span>).empty();</span></span><br><span class="line"><span class="javascript">  $(<span class="string">'#fileData'</span>).val(<span class="string">''</span>);</span></span><br><span class="line">  imageModule.clear();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"imageFile"</span> <span class="attr">id</span>=<span class="string">"fileInput"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><p>코드양이 되게 긴데, 5-6 줄에서 업로드 서버 처리 경로 및 기본 업로드 폴더를 지정해준다.<br>9-10 줄에서는 최대 가로 세로(px)을 지정해준다. 비율로 줄어들기 때문에 걱정하지말고 지정하자</p><p>사용법은 169 줄 이후를 보면 된다.<br>callback 함수를 통해 올라간 이미지를 바로 보여주게 처리할 수 있다.<br>184 줄부터는 db 와의 통신이 끝난 후 화면을 초기화해주는 부분이다.</p><p>127 줄의 <code>imageModule.delete</code> 함수를 사용해 업로드 된 사진을 삭제할 수 있다.</p><p>현재는 <code>api/test.php</code>로 서버의 업로드 처리 로직을 구현해놨는데,<br>type 을 받아 delete 일 경우 해당 이미지를 삭제,<br>아닐 경우 binary 데이터를 이미지로 변환해주게 로직을 짜면 된다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> html5 </tag>
            
            <tag> loadimage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery DateTimePicker와 Moment JS의 연동</title>
      <link href="/2016/12/21/jQuery-DateTimePicker%EC%99%80-Moment-JS%EC%9D%98-%EC%97%B0%EB%8F%99/"/>
      <url>/2016/12/21/jQuery-DateTimePicker%EC%99%80-Moment-JS%EC%9D%98-%EC%97%B0%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<h1 id="datetimepicker-js-with-moment-js"><a class="markdownIt-Anchor" href="#datetimepicker-js-with-moment-js"></a> Datetimepicker JS with Moment JS</h1><p>개발을 하다보면 datetime 이 같이 필요한 경우가 생긴다.<br>pickadate 를 사용해 date 와 time picker 를 모두 사용해 만들 수도 있지만<br><a href="https://github.com/xdan/datetimepicker" target="_blank" rel="external nofollow noopener noreferrer">datetimepicker</a>가 편하고 쉽다.</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># datetimepicker</span></span><br><span class="line">$ bower install https://github.com/xdan/datetimepicker.git --save</span><br><span class="line"><span class="comment"># moment</span></span><br><span class="line">$ bower install moment --save</span><br></pre></td></tr></table></figure><h2 id="예제"><a class="markdownIt-Anchor" href="#예제"></a> 예제</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"/bower_components/datetimepicker/build/jquery.datetimepicker.min.css"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- php.date.formatter.js 와 jquery.mousewheeel.js 를 포함하는 full.js--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- moment는 이미 선언되어있다고 가정합니다 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/datetimepicker/build/jquery.datetimepicker.full.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// dateTimePicker localization</span></span></span><br><span class="line"><span class="javascript">$.datetimepicker.setLocale(<span class="string">'ko'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// dateTimePicker moment.js와 연동</span></span></span><br><span class="line"><span class="javascript">$.datetimepicker.setDateFormatter(&#123;</span></span><br><span class="line"><span class="actionscript">    parseDate: <span class="function"><span class="keyword">function</span> <span class="params">(date, format)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> d = moment(date, format);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> d.isValid() ? d.toDate() : <span class="literal">false</span>;</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    formatDate: <span class="function"><span class="keyword">function</span> <span class="params">(date, format)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> moment(date).format(format);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// datetimepicker init</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">'.datetimepicker'</span>).datetimepicker(&#123;</span></span><br><span class="line"><span class="actionscript">          format:<span class="string">'YYYY-MM-DD HH:mm:ss'</span>,</span></span><br><span class="line"><span class="actionscript">          formatTime:<span class="string">'HH:mm'</span>,</span></span><br><span class="line"><span class="actionscript">          formatDate:<span class="string">'YYYY-MM-DD'</span></span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"startDate"</span> <span class="attr">class</span>=<span class="string">"datetimepicker"</span>/&gt;</span> ~ <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"endDate"</span> <span class="attr">class</span>=<span class="string">"datetimepicker"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h2 id="여담"><a class="markdownIt-Anchor" href="#여담"></a> 여담</h2><p>pickadate 에서 datetime 을 같이 지원해주는 모듈도 만들어주면 얼마나 좋을까?</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> moment </tag>
            
            <tag> datetimepicker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Clipboard JS 사용법 - 브라우저 텍스트 복사</title>
      <link href="/2016/12/21/Clipboard-JS-%EC%82%AC%EC%9A%A9%EB%B2%95-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%B3%B5%EC%82%AC/"/>
      <url>/2016/12/21/Clipboard-JS-%EC%82%AC%EC%9A%A9%EB%B2%95-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%B3%B5%EC%82%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="clipboard-js"><a class="markdownIt-Anchor" href="#clipboard-js"></a> Clipboard JS</h1><p>텍스트 복사는 zeroclipboard 를 사용하라고 많이 나오는데, flash 를 이용해 복사하는 방법이다.<br>더 쉽고 간편하게 <a href="https://clipboardjs.com" target="_blank" rel="external nofollow noopener noreferrer">ClipboardJS</a> 라이브러리를 사용해보자</p><h2 id="설치"><a class="markdownIt-Anchor" href="#설치"></a> 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">$ npm install clipboard --save</span><br><span class="line"></span><br><span class="line">$ yarn add clipboard</span><br></pre></td></tr></table></figure><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bower_components/clipboard/dist/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 1. URL copy --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"btnCopyUrl"</span> <span class="attr">data-clipboard-action</span>=<span class="string">"copy"</span> &gt;</span>url 복사<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span> (<span class="params">&#123;</span></span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 복사 버튼을 만들시 data-clipboard-text 안에 복사할 문구를 넣어준다</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">'#btnCopyUrl'</span>).attr(<span class="string">'data-clipboard-text'</span>, <span class="built_in">document</span>.location.href);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// callback 설정</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> clipboard = <span class="keyword">new</span> Clipboard(<span class="string">'#btnCopyUrl'</span>);</span></span><br><span class="line"><span class="actionscript">    clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">'복사되었습니다'</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e);</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 2. Text copy --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textBody"</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">"button"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">"btnCopyText"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-clipboard-action</span>=<span class="string">"copy"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-clipboard-target</span>=<span class="string">"#textBody"</span></span></span><br><span class="line"><span class="tag">&gt;</span>텍스트복사</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h1><p>html5 attribute 를 사용해 쉽게 제어가 가능하다.</p><p>신규 브라우저들은 다 지원하지만 (window.clipboard 객체가 있는 브라우저)<br>iPhone 에선 clipboard 액세스가 모두 막혀있어서 복사를 할 수 없다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> clipboardjs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>다음 주소 검색 API, 함수 하나로 설명 끝</title>
      <link href="/2016/12/21/%EB%8B%A4%EC%9D%8C-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%83%89-API-%ED%95%A8%EC%88%98-%ED%95%98%EB%82%98%EB%A1%9C-%EC%84%A4%EB%AA%85-%EB%81%9D/"/>
      <url>/2016/12/21/%EB%8B%A4%EC%9D%8C-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%83%89-API-%ED%95%A8%EC%88%98-%ED%95%98%EB%82%98%EB%A1%9C-%EC%84%A4%EB%AA%85-%EB%81%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="다음-주소검색-api"><a class="markdownIt-Anchor" href="#다음-주소검색-api"></a> 다음 주소검색 API</h1><h2 id="소스"><a class="markdownIt-Anchor" href="#소스"></a> 소스</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [searchAddr 다음주소검색 API]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;[JsonArray]&#125;</span> </span>[주소데이터]</span></span><br><span class="line"><span class="comment"> * &lt;script src="https://ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"&gt; 선행되어야함</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> searchAddr = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> daum.Postcode(&#123;</span><br><span class="line">        oncomplete: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> fullAddr = <span class="string">''</span>; <span class="comment">// 최종 주소 변수</span></span><br><span class="line">            <span class="keyword">var</span> extraAddr = <span class="string">''</span>; <span class="comment">// 조합형 주소 변수</span></span><br><span class="line">            <span class="keyword">var</span> engAddr = <span class="string">''</span>;</span><br><span class="line">            <span class="keyword">var</span> zipcode = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.</span></span><br><span class="line">            <span class="keyword">if</span> (data.userSelectedType === <span class="string">'R'</span>) &#123; <span class="comment">// 사용자가 도로명 주소를 선택했을 경우</span></span><br><span class="line">                fullAddr = data.roadAddress;</span><br><span class="line">                zipcode = data.zonecode;</span><br><span class="line">                engAddr = data.roadAddressEnglish;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//법정동명이 있을 경우 추가한다.</span></span><br><span class="line">                <span class="keyword">if</span> (data.bname !== <span class="string">''</span>) &#123;</span><br><span class="line">                    extraAddr += data.bname;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 건물명이 있을 경우 추가한다.</span></span><br><span class="line">                <span class="keyword">if</span> (data.buildingName !== <span class="string">''</span>) &#123;</span><br><span class="line">                    extraAddr += (extraAddr !== <span class="string">''</span> ? <span class="string">', '</span> + data.buildingName : data.buildingName);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 조합형주소의 유무에 따라 양쪽에 괄호를 추가하여 최종 주소를 만든다.</span></span><br><span class="line">                fullAddr += (extraAddr !== <span class="string">''</span> ? <span class="string">' ('</span>+ extraAddr +<span class="string">')'</span> : <span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// 사용자가 지번 주소를 선택했을 경우(J)</span></span><br><span class="line">                fullAddr = data.jibunAddress;</span><br><span class="line">                zipcode = data.postcode;</span><br><span class="line">                engAddr = data.jibunAddressEnglish;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 구버전일 경우 getElementById 로 변경</span></span><br><span class="line">            <span class="built_in">document</span>.querySelector(<span class="string">'#zip'</span>).value = zipcode;</span><br><span class="line">            <span class="built_in">document</span>.querySelector(<span class="string">'#address'</span>).value = fullAddr;</span><br><span class="line">            <span class="built_in">document</span>.querySelector(<span class="string">'#address_eng'</span>).value = engAddr;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">document</span>.querySelector(<span class="string">'#address_detail'</span>).focus();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).open();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="설명"><a class="markdownIt-Anchor" href="#설명"></a> 설명</h2><p>다음 주소검색 API 를 입맛에 맞게 조금 변경했다.</p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
          <category> etc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
